{"version":3,"file":"vendors-node_modules_theia_filesystem_lib_browser_breadcrumbs_filepath-breadcrumbs-contributi-e72399.js","mappings":"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","sources":["webpack:///../node_modules/@theia/core/src/common/selection-command-handler.ts?","webpack:///../node_modules/@theia/filesystem/src/browser/breadcrumbs/filepath-breadcrumb.ts?","webpack:///../node_modules/@theia/filesystem/src/browser/breadcrumbs/filepath-breadcrumbs-container.ts?","webpack:///../node_modules/@theia/filesystem/src/browser/breadcrumbs/filepath-breadcrumbs-contribution.ts?","webpack:///../node_modules/@theia/filesystem/src/browser/file-selection.ts?","webpack:///../node_modules/@theia/filesystem/src/browser/filesystem-frontend-contribution.ts?","webpack:///../node_modules/@theia/filesystem/src/browser/filesystem-saveable-service.ts?"],"sourcesContent":["// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { CommandHandler } from './command';\nimport { SelectionService } from '../common/selection-service';\n\nexport class SelectionCommandHandler<S extends Object> implements CommandHandler {\n\n    constructor(\n        protected readonly selectionService: SelectionService,\n        protected readonly toSelection: (arg: any) => S | undefined,\n        protected readonly options: SelectionCommandHandler.Options<S>\n    ) { }\n\n    execute(...args: any[]): Object | undefined {\n        const selection = this.getSelection(...args);\n        return selection ? (this.options.execute as any)(selection, ...args) : undefined;\n    }\n\n    isVisible(...args: any[]): boolean {\n        const selection = this.getSelection(...args);\n        return !!selection && (!this.options.isVisible || (this.options.isVisible as any)(selection as any, ...args));\n    }\n\n    isEnabled(...args: any[]): boolean {\n        const selection = this.getSelection(...args);\n        return !!selection && (!this.options.isEnabled || (this.options.isEnabled as any)(selection as any, ...args));\n    }\n\n    protected isMulti(): boolean {\n        return this.options && !!this.options.multi;\n    }\n\n    protected getSelection(...args: any[]): S | S[] | undefined {\n        const givenSelection = args.length && this.toSelection(args[0]);\n        if (givenSelection) {\n            return this.isMulti() ? [givenSelection] : givenSelection;\n        }\n        const globalSelection = this.getSingleSelection(this.selectionService.selection);\n        if (this.isMulti()) {\n            return this.getMultiSelection(globalSelection);\n        }\n        return this.getSingleSelection(globalSelection);\n    }\n\n    protected getSingleSelection(arg: Object | undefined): S | undefined {\n        let selection = this.toSelection(arg);\n        if (selection) {\n            return selection;\n        }\n        if (Array.isArray(arg)) {\n            for (const element of arg) {\n                selection = this.toSelection(element);\n                if (selection) {\n                    return selection;\n                }\n            }\n        }\n        return undefined;\n    }\n\n    protected getMultiSelection(arg: Object | undefined): S[] | undefined {\n        let selection = this.toSelection(arg);\n        if (selection) {\n            return [selection];\n        }\n        const result = [];\n        if (Array.isArray(arg)) {\n            for (const element of arg) {\n                selection = this.toSelection(element);\n                if (selection) {\n                    result.push(selection);\n                }\n            }\n        }\n        return result.length ? result : undefined;\n    }\n}\nexport namespace SelectionCommandHandler {\n    export type Options<S> = SelectionOptions<false, S> | SelectionOptions<true, S[]>;\n    export interface SelectionOptions<Multi extends boolean, T> {\n        multi: Multi;\n        execute(selection: T, ...args: any[]): any;\n        isEnabled?(selection: T, ...args: any[]): boolean;\n        isVisible?(selection: T, ...args: any[]): boolean;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport { Breadcrumb } from '@theia/core/lib/browser/breadcrumbs/breadcrumbs-constants';\nimport { FilepathBreadcrumbType } from './filepath-breadcrumbs-contribution';\n\nexport class FilepathBreadcrumb implements Breadcrumb {\n    constructor(\n        readonly uri: URI,\n        readonly label: string,\n        readonly longLabel: string,\n        readonly iconClass: string,\n        readonly containerClass: string,\n    ) { }\n\n    get id(): string {\n        return this.type.toString() + '_' + this.uri.toString();\n    }\n\n    get type(): symbol {\n        return FilepathBreadcrumbType;\n    }\n}\n\nexport namespace FilepathBreadcrumb {\n    export function is(breadcrumb: Breadcrumb): breadcrumb is FilepathBreadcrumb {\n        return 'uri' in breadcrumb;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Container, interfaces, injectable, inject } from '@theia/core/shared/inversify';\nimport { TreeProps, ContextMenuRenderer, TreeNode, OpenerService, open, NodeProps, defaultTreeProps } from '@theia/core/lib/browser';\nimport { FileTreeModel, FileStatNode, createFileTreeContainer, FileTreeWidget } from '../file-tree';\n\nconst BREADCRUMBS_FILETREE_CLASS = 'theia-FilepathBreadcrumbFileTree';\n\nexport function createFileTreeBreadcrumbsContainer(parent: interfaces.Container): Container {\n    const child = createFileTreeContainer(parent);\n    child.unbind(FileTreeWidget);\n    child.rebind(TreeProps).toConstantValue({ ...defaultTreeProps, virtualized: false });\n    child.bind(BreadcrumbsFileTreeWidget).toSelf();\n    return child;\n}\n\nexport function createFileTreeBreadcrumbsWidget(parent: interfaces.Container): BreadcrumbsFileTreeWidget {\n    return createFileTreeBreadcrumbsContainer(parent).get(BreadcrumbsFileTreeWidget);\n}\n\n@injectable()\nexport class BreadcrumbsFileTreeWidget extends FileTreeWidget {\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    constructor(\n        @inject(TreeProps) props: TreeProps,\n        @inject(FileTreeModel) override readonly model: FileTreeModel,\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer\n    ) {\n        super(props, model, contextMenuRenderer);\n        this.addClass(BREADCRUMBS_FILETREE_CLASS);\n    }\n\n    protected override createNodeAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        const elementAttrs = super.createNodeAttributes(node, props);\n        return {\n            ...elementAttrs,\n            draggable: false\n        };\n    }\n\n    protected override tapNode(node?: TreeNode): void {\n        if (FileStatNode.is(node) && !node.fileStat.isDirectory) {\n            open(this.openerService, node.uri, { preview: true });\n        } else {\n            super.tapNode(node);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable, Emitter, Event } from '@theia/core';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Breadcrumb, BreadcrumbsContribution, CompositeTreeNode, LabelProvider, SelectableTreeNode, Widget } from '@theia/core/lib/browser';\nimport { FilepathBreadcrumb } from './filepath-breadcrumb';\nimport { BreadcrumbsFileTreeWidget } from './filepath-breadcrumbs-container';\nimport { DirNode } from '../file-tree';\nimport { FileService } from '../file-service';\nimport { FileStat } from '../../common/files';\n\nexport const FilepathBreadcrumbType = Symbol('FilepathBreadcrumb');\n\nexport interface FilepathBreadcrumbClassNameFactory {\n    (location: URI, index: number): string;\n}\n\n@injectable()\nexport class FilepathBreadcrumbsContribution implements BreadcrumbsContribution {\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(FileService)\n    protected readonly fileSystem: FileService;\n\n    @inject(BreadcrumbsFileTreeWidget)\n    protected readonly breadcrumbsFileTreeWidget: BreadcrumbsFileTreeWidget;\n\n    protected readonly onDidChangeBreadcrumbsEmitter = new Emitter<URI>();\n    get onDidChangeBreadcrumbs(): Event<URI> {\n        return this.onDidChangeBreadcrumbsEmitter.event;\n    }\n\n    readonly type = FilepathBreadcrumbType;\n    readonly priority: number = 100;\n\n    async computeBreadcrumbs(uri: URI): Promise<Breadcrumb[]> {\n        if (uri.scheme !== 'file') {\n            return [];\n        }\n        const getContainerClass = this.getContainerClassCreator(uri);\n        const getIconClass = this.getIconClassCreator(uri);\n        return uri.allLocations\n            .map((location, index) => {\n                const icon = getIconClass(location, index);\n                const containerClass = getContainerClass(location, index);\n                return new FilepathBreadcrumb(\n                    location,\n                    this.labelProvider.getName(location),\n                    this.labelProvider.getLongName(location),\n                    icon,\n                    containerClass,\n                );\n            })\n            .filter(b => this.filterBreadcrumbs(uri, b))\n            .reverse();\n    }\n\n    protected getContainerClassCreator(fileURI: URI): FilepathBreadcrumbClassNameFactory {\n        return (location, index) => location.isEqual(fileURI) ? 'file' : 'folder';\n    }\n\n    protected getIconClassCreator(fileURI: URI): FilepathBreadcrumbClassNameFactory {\n        return (location, index) => location.isEqual(fileURI) ? this.labelProvider.getIcon(location) + ' file-icon' : '';\n    }\n\n    protected filterBreadcrumbs(_: URI, breadcrumb: FilepathBreadcrumb): boolean {\n        return !breadcrumb.uri.path.isRoot;\n    }\n\n    async attachPopupContent(breadcrumb: Breadcrumb, parent: HTMLElement): Promise<Disposable | undefined> {\n        if (!FilepathBreadcrumb.is(breadcrumb)) {\n            return undefined;\n        }\n        const folderFileStat = await this.fileSystem.resolve(breadcrumb.uri.parent);\n        if (folderFileStat) {\n            const rootNode = await this.createRootNode(folderFileStat);\n            if (rootNode) {\n                const { model } = this.breadcrumbsFileTreeWidget;\n                await model.navigateTo({ ...rootNode, visible: false });\n                Widget.attach(this.breadcrumbsFileTreeWidget, parent);\n                const toDisposeOnTreePopulated = model.onChanged(() => {\n                    if (CompositeTreeNode.is(model.root) && model.root.children.length > 0) {\n                        toDisposeOnTreePopulated.dispose();\n                        const targetNode = model.getNode(breadcrumb.uri.path.toString());\n                        if (targetNode && SelectableTreeNode.is(targetNode)) {\n                            model.selectNode(targetNode);\n                        }\n                        this.breadcrumbsFileTreeWidget.activate();\n                    }\n                });\n                return {\n                    dispose: () => {\n                        // Clear model otherwise the next time a popup is opened the old model is rendered first\n                        // and is shown for a short time period.\n                        toDisposeOnTreePopulated.dispose();\n                        this.breadcrumbsFileTreeWidget.model.root = undefined;\n                        Widget.detach(this.breadcrumbsFileTreeWidget);\n                    }\n                };\n            }\n        }\n    }\n\n    protected async createRootNode(folderToOpen: FileStat): Promise<DirNode | undefined> {\n        const folderUri = folderToOpen.resource;\n        const rootUri = folderToOpen.isDirectory ? folderUri : folderUri.parent;\n        const rootStat = await this.fileSystem.resolve(rootUri);\n        if (rootStat) {\n            return DirNode.createRoot(rootStat);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { SelectionService } from '@theia/core/lib/common/selection-service';\nimport { SelectionCommandHandler } from '@theia/core/lib/common/selection-command-handler';\nimport { isObject } from '@theia/core/lib/common';\nimport { FileStat } from '../common/files';\n\nexport interface FileSelection {\n    fileStat: FileStat\n}\nexport namespace FileSelection {\n    export function is(arg: unknown): arg is FileSelection {\n        return isObject<FileSelection>(arg) && FileStat.is(arg.fileStat);\n    }\n    export class CommandHandler extends SelectionCommandHandler<FileSelection> {\n\n        constructor(\n            protected override readonly selectionService: SelectionService,\n            protected override readonly options: SelectionCommandHandler.Options<FileSelection>\n        ) {\n            super(\n                selectionService,\n                arg => FileSelection.is(arg) ? arg : undefined,\n                options\n            );\n        }\n\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { nls } from '@theia/core';\nimport {\n    ApplicationShell,\n    CommonCommands,\n    CorePreferences,\n    ExpandableTreeNode,\n    FrontendApplication,\n    FrontendApplicationContribution,\n    NavigatableWidget, NavigatableWidgetOptions,\n    OpenerService,\n    Saveable,\n    StatefulWidget,\n    WidgetManager,\n    open\n} from '@theia/core/lib/browser';\nimport { MimeService } from '@theia/core/lib/browser/mime-service';\nimport { TreeWidgetSelection } from '@theia/core/lib/browser/tree/tree-widget-selection';\nimport { Emitter, MaybePromise, SelectionService, isCancelled } from '@theia/core/lib/common';\nimport { Command, CommandContribution, CommandRegistry } from '@theia/core/lib/common/command';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport URI from '@theia/core/lib/common/uri';\nimport { environment } from '@theia/core/shared/@theia/application-package/lib/environment';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { UserWorkingDirectoryProvider } from '@theia/core/lib/browser/user-working-directory-provider';\nimport { FileChangeType, FileChangesEvent, FileOperation } from '../common/files';\nimport { FileDialogService, SaveFileDialogProps } from './file-dialog';\nimport { FileSelection } from './file-selection';\nimport { FileService, UserFileOperationEvent } from './file-service';\nimport { FileUploadResult, FileUploadService } from './file-upload-service';\nimport { FileSystemPreferences } from './filesystem-preferences';\n\nexport namespace FileSystemCommands {\n\n    export const UPLOAD = Command.toLocalizedCommand({\n        id: 'file.upload',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Upload Files...'\n    }, 'theia/filesystem/uploadFiles', CommonCommands.FILE_CATEGORY_KEY);\n\n}\n\nexport interface NavigatableWidgetMoveSnapshot {\n    dirty?: object,\n    view?: object\n}\n\n@injectable()\nexport class FileSystemFrontendContribution implements FrontendApplicationContribution, CommandContribution {\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    @inject(MimeService)\n    protected readonly mimeService: MimeService;\n\n    @inject(FileSystemPreferences)\n    protected readonly preferences: FileSystemPreferences;\n\n    @inject(CorePreferences)\n    protected readonly corePreferences: CorePreferences;\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n\n    @inject(FileUploadService)\n    protected readonly uploadService: FileUploadService;\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(FileDialogService)\n    protected readonly fileDialogService: FileDialogService;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(UserWorkingDirectoryProvider)\n    protected readonly workingDirectory: UserWorkingDirectoryProvider;\n\n    protected onDidChangeEditorFileEmitter = new Emitter<{ editor: NavigatableWidget, type: FileChangeType }>();\n    readonly onDidChangeEditorFile = this.onDidChangeEditorFileEmitter.event;\n\n    protected readonly userOperations = new Map<number, Deferred<void>>();\n    protected queueUserOperation(event: UserFileOperationEvent): void {\n        const moveOperation = new Deferred<void>();\n        this.userOperations.set(event.correlationId, moveOperation);\n        this.run(() => moveOperation.promise);\n    }\n    protected resolveUserOperation(event: UserFileOperationEvent): void {\n        const operation = this.userOperations.get(event.correlationId);\n        if (operation) {\n            this.userOperations.delete(event.correlationId);\n            operation.resolve();\n        }\n    }\n\n    initialize(): void {\n        this.fileService.onDidFilesChange(event => this.run(() => this.updateWidgets(event)));\n        this.fileService.onWillRunUserOperation(event => {\n            this.queueUserOperation(event);\n            event.waitUntil(this.runEach((uri, widget) => this.pushMove(uri, widget, event)));\n        });\n        this.fileService.onDidFailUserOperation(event => event.waitUntil((async () => {\n            await this.runEach((uri, widget) => this.revertMove(uri, widget, event));\n            this.resolveUserOperation(event);\n        })()));\n        this.fileService.onDidRunUserOperation(event => event.waitUntil((async () => {\n            await this.runEach((uri, widget) => this.applyMove(uri, widget, event));\n            this.resolveUserOperation(event);\n        })()));\n        this.uploadService.onDidUpload(files => {\n            this.doHandleUpload(files);\n        });\n    }\n\n    onStart?(app: FrontendApplication): MaybePromise<void> {\n        this.updateAssociations();\n        this.preferences.onPreferenceChanged(e => {\n            if (e.preferenceName === 'files.associations') {\n                this.updateAssociations();\n            }\n        });\n    }\n\n    registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(FileSystemCommands.UPLOAD, {\n            isEnabled: (...args: unknown[]) => {\n                const selection = this.getSelection(...args);\n                return !!selection && !environment.electron.is();\n            },\n            isVisible: () => !environment.electron.is(),\n            execute: (...args: unknown[]) => {\n                const selection = this.getSelection(...args);\n                if (selection) {\n                    return this.upload(selection);\n                }\n            }\n        });\n        commands.registerCommand(CommonCommands.NEW_FILE, {\n            execute: (...args: unknown[]) => {\n                this.handleNewFileCommand(args);\n            }\n        });\n    }\n\n    protected async upload(selection: FileSelection): Promise<FileUploadResult | undefined> {\n        try {\n            const source = TreeWidgetSelection.getSource(this.selectionService.selection);\n            const fileUploadResult = await this.uploadService.upload(selection.fileStat.isDirectory ? selection.fileStat.resource : selection.fileStat.resource.parent);\n            if (ExpandableTreeNode.is(selection) && source) {\n                await source.model.expandNode(selection);\n            }\n            return fileUploadResult;\n        } catch (e) {\n            if (!isCancelled(e)) {\n                console.error(e);\n            }\n        }\n    }\n\n    protected async doHandleUpload(uploads: string[]): Promise<void> {\n        // Only handle single file uploads\n        if (uploads.length === 1) {\n            const uri = new URI(uploads[0]);\n            // Close all existing widgets for this URI\n            const widgets = this.shell.widgets.filter(widget => NavigatableWidget.getUri(widget)?.isEqual(uri));\n            await this.shell.closeMany(widgets, {\n                // Don't ask to save the file if it's dirty\n                // The user has already confirmed the file overwrite\n                save: false\n            });\n            // Open a new editor for this URI\n            open(this.openerService, uri);\n        }\n    }\n\n    /**\n     * Opens a save dialog to create a new file.\n     *\n     * @param args The first argument is the name of the new file. The second argument is the parent directory URI.\n     */\n    protected async handleNewFileCommand(args: unknown[]): Promise<void> {\n        const fileName = (args !== undefined && typeof args[0] === 'string') ? args[0] : undefined;\n        const title = nls.localizeByDefault('Create File');\n        const props: SaveFileDialogProps = { title, saveLabel: title, inputValue: fileName };\n\n        const dirUri = (args[1] instanceof URI) ? args[1] : await this.workingDirectory.getUserWorkingDir();\n        const directory = await this.fileService.resolve(dirUri);\n\n        const filePath = await this.fileDialogService.showSaveDialog(props, directory.isDirectory ? directory : undefined);\n        if (filePath) {\n            const file = await this.fileService.createFile(filePath);\n            open(this.openerService, file.resource);\n        }\n    }\n\n    protected getSelection(...args: unknown[]): FileSelection | undefined {\n        const { selection } = this.selectionService;\n        return this.toSelection(args[0]) ?? (Array.isArray(selection) ? selection.find(FileSelection.is) : this.toSelection(selection));\n    };\n\n    protected toSelection(arg: unknown): FileSelection | undefined {\n        return FileSelection.is(arg) ? arg : undefined;\n    }\n\n    protected pendingOperation = Promise.resolve();\n    protected run(operation: () => MaybePromise<void>): Promise<void> {\n        return this.pendingOperation = this.pendingOperation.then(async () => {\n            try {\n                await operation();\n            } catch (e) {\n                console.error(e);\n            }\n        });\n    }\n\n    protected async runEach(participant: (resourceUri: URI, widget: NavigatableWidget) => Promise<void>): Promise<void> {\n        const promises: Promise<void>[] = [];\n        for (const [resourceUri, widget] of NavigatableWidget.get(this.shell.widgets)) {\n            promises.push(participant(resourceUri, widget));\n        }\n        await Promise.all(promises);\n    }\n\n    protected readonly moveSnapshots = new Map<string, NavigatableWidgetMoveSnapshot>();\n\n    protected popMoveSnapshot(resourceUri: URI): NavigatableWidgetMoveSnapshot | undefined {\n        const snapshotKey = resourceUri.toString();\n        const snapshot = this.moveSnapshots.get(snapshotKey);\n        if (snapshot) {\n            this.moveSnapshots.delete(snapshotKey);\n        }\n        return snapshot;\n    }\n\n    protected applyMoveSnapshot(widget: NavigatableWidget, snapshot: NavigatableWidgetMoveSnapshot | undefined): void {\n        if (!snapshot) {\n            return undefined;\n        }\n        if (snapshot.dirty) {\n            const saveable = Saveable.get(widget);\n            if (saveable && saveable.applySnapshot) {\n                saveable.applySnapshot(snapshot.dirty);\n            }\n        }\n        if (snapshot.view && StatefulWidget.is(widget)) {\n            widget.restoreState(snapshot.view);\n        }\n    }\n\n    protected async pushMove(resourceUri: URI, widget: NavigatableWidget, event: UserFileOperationEvent): Promise<void> {\n        const newResourceUri = this.createMoveToUri(resourceUri, widget, event);\n        if (!newResourceUri) {\n            return;\n        }\n        const snapshot: NavigatableWidgetMoveSnapshot = {};\n        const saveable = Saveable.get(widget);\n        if (StatefulWidget.is(widget)) {\n            snapshot.view = widget.storeState();\n        }\n        if (saveable && saveable.dirty) {\n            if (saveable.createSnapshot) {\n                snapshot.dirty = saveable.createSnapshot();\n            }\n            if (saveable.revert) {\n                await saveable.revert({ soft: true });\n            }\n        }\n        this.moveSnapshots.set(newResourceUri.toString(), snapshot);\n    }\n\n    protected async revertMove(resourceUri: URI, widget: NavigatableWidget, event: UserFileOperationEvent): Promise<void> {\n        const newResourceUri = this.createMoveToUri(resourceUri, widget, event);\n        if (!newResourceUri) {\n            return;\n        }\n        const snapshot = this.popMoveSnapshot(newResourceUri);\n        this.applyMoveSnapshot(widget, snapshot);\n    }\n\n    protected async applyMove(resourceUri: URI, widget: NavigatableWidget, event: UserFileOperationEvent): Promise<void> {\n        const newResourceUri = this.createMoveToUri(resourceUri, widget, event);\n        if (!newResourceUri) {\n            return;\n        }\n\n        const snapshot = this.popMoveSnapshot(newResourceUri);\n\n        const description = this.widgetManager.getDescription(widget);\n        if (!description) {\n            return;\n        }\n        const { factoryId, options } = description;\n        if (!NavigatableWidgetOptions.is(options)) {\n            return;\n        }\n\n        const newWidget = await this.widgetManager.getOrCreateWidget<NavigatableWidget>(factoryId, <NavigatableWidgetOptions>{\n            ...options,\n            uri: newResourceUri.toString()\n        });\n        this.applyMoveSnapshot(newWidget, snapshot);\n        const area = this.shell.getAreaFor(widget) || 'main';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const pending: Promise<any>[] = [this.shell.addWidget(newWidget, {\n            area, ref: widget\n        })];\n        if (this.shell.activeWidget === widget) {\n            pending.push(this.shell.activateWidget(newWidget.id));\n        } else if (widget.isVisible) {\n            pending.push(this.shell.revealWidget(newWidget.id));\n        }\n        pending.push(this.shell.closeWidget(widget.id, { save: false }));\n        await Promise.all(pending);\n    }\n\n    protected createMoveToUri(resourceUri: URI, widget: NavigatableWidget, event: UserFileOperationEvent): URI | undefined {\n        if (event.operation !== FileOperation.MOVE) {\n            return undefined;\n        }\n        const path = event.source?.relative(resourceUri);\n        const targetUri = path && event.target.resolve(path);\n        return targetUri && widget.createMoveToUri(targetUri);\n    }\n\n    protected readonly deletedSuffix = `(${nls.localizeByDefault('Deleted')})`;\n    protected async updateWidgets(event: FileChangesEvent): Promise<void> {\n        if (!event.gotDeleted() && !event.gotAdded()) {\n            return;\n        }\n        const dirty = new Set<string>();\n        const toClose = new Map<string, NavigatableWidget[]>();\n        for (const [uri, widget] of NavigatableWidget.get(this.shell.widgets)) {\n            this.updateWidget(uri, widget, event, { dirty, toClose: toClose });\n        }\n        if (this.corePreferences['workbench.editor.closeOnFileDelete']) {\n            const doClose = [];\n            for (const [uri, widgets] of toClose.entries()) {\n                if (!dirty.has(uri)) {\n                    doClose.push(...widgets);\n                }\n            }\n            await this.shell.closeMany(doClose);\n        }\n    }\n    protected updateWidget(uri: URI, widget: NavigatableWidget, event: FileChangesEvent, { dirty, toClose }: {\n        dirty: Set<string>;\n        toClose: Map<string, NavigatableWidget[]>\n    }): void {\n        const label = widget.title.label;\n        const deleted = label.endsWith(this.deletedSuffix);\n        if (event.contains(uri, FileChangeType.DELETED)) {\n            const uriString = uri.toString();\n            if (Saveable.isDirty(widget)) {\n                dirty.add(uriString);\n            }\n            if (!deleted) {\n                widget.title.label += this.deletedSuffix;\n                this.onDidChangeEditorFileEmitter.fire({ editor: widget, type: FileChangeType.DELETED });\n            }\n            const widgets = toClose.get(uriString) || [];\n            widgets.push(widget);\n            toClose.set(uriString, widgets);\n        } else if (event.contains(uri, FileChangeType.ADDED)) {\n            if (deleted) {\n                widget.title.label = widget.title.label.substring(0, label.length - this.deletedSuffix.length);\n                this.onDidChangeEditorFileEmitter.fire({ editor: widget, type: FileChangeType.ADDED });\n            }\n        }\n    }\n\n    protected updateAssociations(): void {\n        const fileAssociations = this.preferences['files.associations'];\n        const mimeAssociations = Object.keys(fileAssociations).map(filepattern => ({ id: fileAssociations[filepattern], filepattern }));\n        this.mimeService.setAssociations(mimeAssociations);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { environment, MessageService, nls } from '@theia/core';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { Navigatable, Saveable, SaveableSource, SaveOptions, Widget, open, OpenerService, ConfirmDialog, CommonCommands, LabelProvider } from '@theia/core/lib/browser';\nimport { SaveableService } from '@theia/core/lib/browser/saveable-service';\nimport URI from '@theia/core/lib/common/uri';\nimport { FileService } from './file-service';\nimport { FileDialogService } from './file-dialog';\nimport { BinaryBuffer } from '@theia/core/lib/common/buffer';\n\n@injectable()\nexport class FilesystemSaveableService extends SaveableService {\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n    @inject(FileService)\n    protected readonly fileService: FileService;\n    @inject(FileDialogService)\n    protected readonly fileDialogService: FileDialogService;\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    /**\n     * This method ensures a few things about `widget`:\n     * - `widget.getResourceUri()` actually returns a URI.\n     * - `widget.saveable.createSnapshot` or `widget.saveable.serialize` is defined.\n     * - `widget.saveable.revert` is defined.\n     */\n    override canSaveAs(widget: Widget | undefined): widget is Widget & SaveableSource & Navigatable {\n        return widget !== undefined\n            && Saveable.isSource(widget)\n            && (typeof widget.saveable.createSnapshot === 'function' || typeof widget.saveable.serialize === 'function')\n            && typeof widget.saveable.revert === 'function'\n            && Navigatable.is(widget)\n            && widget.getResourceUri() !== undefined;\n    }\n\n    /**\n     * Save `sourceWidget` to a new file picked by the user.\n     */\n    override async saveAs(sourceWidget: Widget & SaveableSource & Navigatable, options?: SaveOptions): Promise<URI | undefined> {\n        let exist: boolean = false;\n        let overwrite: boolean = false;\n        let selected: URI | undefined;\n        const canSave = this.canSaveNotSaveAs(sourceWidget);\n        const uri: URI = sourceWidget.getResourceUri()!;\n        do {\n            selected = await this.fileDialogService.showSaveDialog(\n                {\n                    title: CommonCommands.SAVE_AS.label!,\n                    filters: {},\n                    inputValue: uri.path.base\n                });\n            if (selected) {\n                exist = await this.fileService.exists(selected);\n                if (exist) {\n                    overwrite = await this.confirmOverwrite(selected);\n                }\n            }\n        } while ((selected && exist && !overwrite) || (selected?.isEqual(uri) && !canSave));\n        if (selected && selected.isEqual(uri)) {\n            return this.save(sourceWidget, options);\n        } else if (selected) {\n            try {\n                await this.saveSnapshot(sourceWidget, selected, overwrite);\n                return selected;\n            } catch (e) {\n                console.warn(e);\n            }\n        }\n    }\n\n    /**\n     * Saves the current snapshot of the {@link sourceWidget} to the target file\n     * and replaces the widget with a new one that contains the snapshot content\n     *\n     * @param sourceWidget widget to save as `target`.\n     * @param target The new URI for the widget.\n     * @param overwrite\n     */\n    protected async saveSnapshot(sourceWidget: Widget & SaveableSource & Navigatable, target: URI, overwrite: boolean): Promise<void> {\n        const saveable = sourceWidget.saveable;\n        let buffer: BinaryBuffer;\n        if (saveable.serialize) {\n            buffer = await saveable.serialize();\n        } else if (saveable.createSnapshot) {\n            const snapshot = saveable.createSnapshot();\n            const content = Saveable.Snapshot.read(snapshot) ?? '';\n            buffer = BinaryBuffer.fromString(content);\n        } else {\n            throw new Error('Cannot save the widget as the saveable does not provide a snapshot or a serialize method.');\n        }\n\n        if (await this.fileService.exists(target)) {\n            // Do not fire the `onDidCreate` event as the file already exists.\n            await this.fileService.writeFile(target, buffer);\n        } else {\n            // Ensure to actually call `create` as that fires the `onDidCreate` event.\n            await this.fileService.createFile(target, buffer, { overwrite });\n        }\n        await saveable.revert!();\n        await open(this.openerService, target, { widgetOptions: { ref: sourceWidget, mode: 'tab-replace' } });\n    }\n\n    async confirmOverwrite(uri: URI): Promise<boolean> {\n        // Electron already handles the confirmation so do not prompt again.\n        if (this.isElectron()) {\n            return true;\n        }\n        // Prompt users for confirmation before overwriting.\n        const confirmed = await new ConfirmDialog({\n            title: nls.localizeByDefault('Overwrite'),\n            msg: nls.localizeByDefault('{0} already exists. Are you sure you want to overwrite it?', this.labelProvider.getName(uri))\n        }).open();\n        return !!confirmed;\n    }\n\n    private isElectron(): boolean {\n        return environment.electron.is();\n    }\n}\n"],"names":[],"sourceRoot":""}