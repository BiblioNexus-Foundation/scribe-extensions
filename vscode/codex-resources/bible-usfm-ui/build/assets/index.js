import{r as Et,j as xt,v as Oh,R as Gi,g as D8,c as we,M as h8,a as yB,b as gB}from"./App.js";const m8=Et.createContext({state:{},actions:{}}),AB=({children:e,editable:t=!0})=>{const r={sequenceIds:[],sectionable:!1,blockable:!0,editable:t,preview:!1,verbose:!1,graftSequenceId:null},[n,u]=Et.useState(r),s=Et.useCallback(E=>{u(A=>({...A,sectionable:E}))},[]),o=Et.useCallback(E=>{u(A=>({...A,blockable:E}))},[]),a=Et.useCallback(E=>{u(A=>({...A,editable:E}))},[]),i=Et.useCallback(E=>{u(A=>({...A,preview:E}))},[]),c=Et.useCallback(E=>{u(A=>({...A,...E}))},[]),l=Et.useCallback(E=>{u(A=>({...A,sequenceIds:E}))},[]),p=Et.useCallback(E=>{u(A=>({...A,graftSequenceId:E}))},[]),f=Et.useCallback(E=>{l([...n.sequenceIds,E])},[n.sequenceIds,l]),h={state:n,actions:{setSectionable:s,setBlockable:o,setEditable:a,setPreview:i,setToggles:c,setSequenceIds:l,addSequenceId:f,setGraftSequenceId:p}};return xt.jsx(m8.Provider,{value:h,children:e})};/*!
 * XRegExp 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2007-present MIT License
 */const $t="xregexp",Qs={astral:!1,namespacing:!0},ou={};let ni={},Wo={};const h2=[],ua="default",ev="class",FB={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},CB=/\$(?:\{([^\}]+)\}|<([^>]+)>|(\d\d?|[\s\S]?))/g,bB=/()??/.exec("")[1]===void 0,SB=/x/.flags!==void 0;function Vi(e){let t=!0;try{if(new RegExp("",e),e==="y"){const r="gy";".a".replace(new RegExp("a",r),".")===".."&&(t=!1)}}catch{t=!1}return t}const wB=Vi("d"),kh=Vi("s"),E8=Vi("u"),Ih=Vi("y"),v8={d:wB,g:!0,i:!0,m:!0,s:kh,u:E8,y:Ih},_B=kh?/[^dgimsuy]+/g:/[^dgimuy]+/g;function y8(e,t,r,n,u){if(e[$t]={captureNames:t},u)return e;if(e.__proto__)e.__proto__=ne.prototype;else for(const s in ne.prototype)e[s]=ne.prototype[s];return e[$t].source=r,e[$t].flags=n&&n.split("").sort().join(""),e}function _i(e){return e.replace(/([\s\S])(?=[\s\S]*\1)/g,"")}function co(e,t){if(!ne.isRegExp(e))throw new TypeError("Type RegExp expected");const r=e[$t]||{};let n=BB(e),u="",s="",o=null,a=null;return t=t||{},t.removeG&&(s+="g"),t.removeY&&(s+="y"),s&&(n=n.replace(new RegExp(`[${s}]+`,"g"),"")),t.addG&&(u+="g"),t.addY&&(u+="y"),u&&(n=_i(n+u)),t.isInternalOnly||(r.source!==void 0&&(o=r.source),r.flags!=null&&(a=u?_i(r.flags+u):r.flags)),e=y8(new RegExp(t.source||e.source,n),TB(e)?r.captureNames.slice(0):null,o,a,t.isInternalOnly),e}function g8(e){return parseInt(e,16)}function A8(e,t,r){const n=e.index+e[0].length,u=e.input[e.index-1],s=e.input[n];return/^[()|]$/.test(u)||/^[()|]$/.test(s)||e.index===0||n===e.input.length||/\(\?(?:[:=!]|<[=!])$/.test(e.input.substring(e.index-4,e.index))||$B(e.input,n,r)?"":"(?:)"}function BB(e){return SB?e.flags:/\/([a-z]*)$/i.exec(RegExp.prototype.toString.call(e))[1]}function TB(e){return!!(e[$t]&&e[$t].captureNames)}function Nh(e){return parseInt(e,10).toString(16)}function $B(e,t,r){const n="\\(\\?#[^)]*\\)",u="#[^#\\n]*",s="[?*+]|{\\d+(?:,\\d*)?}";return(r.includes("x")?new RegExp(`^(?:\\s|${u}|${n})*(?:${s})`):new RegExp(`^(?:${n})*(?:${s})`)).test(e.slice(t))}function Nl(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function Sa(e){if(e==null)throw new TypeError("Cannot convert null or undefined to object");return e}function qh(e){for(;e.length<4;)e=`0${e}`;return e}function PB(e,t){if(_i(t)!==t)throw new SyntaxError(`Invalid duplicate regex flag ${t}`);e=e.replace(/^\(\?([\w$]+)\)/,(r,n)=>{if(/[dgy]/.test(n))throw new SyntaxError(`Cannot use flags dgy in mode modifier ${r}`);return t=_i(t+n),""});for(const r of t)if(!v8[r])throw new SyntaxError(`Unknown regex flag ${r}`);return{pattern:e,flags:t}}function F8(e){const t={};return Nl(e,"String")?(ne.forEach(e,/[^\s,]+/,r=>{t[r]=!0}),t):e}function tv(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");v8[e]=!0}function OB(e,t,r,n,u){let s=h2.length;const o=e[r];let a=null,i,c;for(;s--;)if(c=h2[s],!(c.leadChar&&c.leadChar!==o||c.scope!==n&&c.scope!=="all"||c.flag&&!t.includes(c.flag))&&(i=ne.exec(e,c.regex,r,"sticky"),i)){a={matchLength:i[0].length,output:c.handler.call(u,i,n,t),reparse:c.reparse};break}return a}function C8(e){Qs.astral=e}function b8(e){Qs.namespacing=e}function ne(e,t){if(ne.isRegExp(e)){if(t!==void 0)throw new TypeError("Cannot supply flags when copying a RegExp");return co(e)}if(e=e===void 0?"":String(e),t=t===void 0?"":String(t),ne.isInstalled("astral")&&!t.includes("A")&&(t+="A"),Wo[e]||(Wo[e]={}),!Wo[e][t]){const n={hasNamedCapture:!1,captureNames:[]};let u=ua,s="",o=0,a;const i=PB(e,t);let c=i.pattern;const l=i.flags;for(;o<c.length;){do a=OB(c,l,o,u,n),a&&a.reparse&&(c=c.slice(0,o)+a.output+c.slice(o+a.matchLength));while(a&&a.reparse);if(a)s+=a.output,o+=a.matchLength||1;else{const[p]=ne.exec(c,FB[u],o,"sticky");s+=p,o+=p.length,p==="["&&u===ua?u=ev:p==="]"&&u===ev&&(u=ua)}}Wo[e][t]={pattern:s.replace(/(?:\(\?:\))+/g,"(?:)"),flags:l.replace(_B,""),captures:n.hasNamedCapture?n.captureNames:null}}const r=Wo[e][t];return y8(new RegExp(r.pattern,r.flags),r.captures,e,t)}ne.prototype=new RegExp;ne.version="5.1.1";ne._clipDuplicates=_i;ne._hasNativeFlag=Vi;ne._dec=g8;ne._hex=Nh;ne._pad4=qh;ne.addToken=(e,t,r)=>{r=r||{};let{optionalFlags:n}=r;if(r.flag&&tv(r.flag),n){n=n.split("");for(const u of n)tv(u)}h2.push({regex:co(e,{addG:!0,addY:Ih,isInternalOnly:!0}),handler:t,scope:r.scope||ua,flag:r.flag,reparse:r.reparse,leadChar:r.leadChar}),ne.cache.flush("patterns")};ne.cache=(e,t)=>(ni[e]||(ni[e]={}),ni[e][t]||(ni[e][t]=ne(e,t)));ne.cache.flush=e=>{e==="patterns"?Wo={}:ni={}};ne.escape=e=>String(Sa(e)).replace(/[\\\[\]{}()*+?.^$|]/g,"\\$&").replace(/[\s#\-,]/g,t=>`\\u${qh(Nh(t.charCodeAt(0)))}`);ne.exec=(e,t,r,n)=>{let u="g",s=!1,o=!1,a;s=Ih&&!!(n||t.sticky&&n!==!1),s?u+="y":n&&(o=!0,u+="FakeY"),t[$t]=t[$t]||{};const i=t[$t][u]||(t[$t][u]=co(t,{addG:!0,addY:s,source:o?`${t.source}|()`:void 0,removeY:n===!1,isInternalOnly:!0}));return r=r||0,i.lastIndex=r,a=ou.exec.call(i,e),o&&a&&a.pop()===""&&(a=null),t.global&&(t.lastIndex=a?i.lastIndex:0),a};ne.forEach=(e,t,r)=>{let n=0,u=-1,s;for(;s=ne.exec(e,t,n);)r(s,++u,e,t),n=s.index+(s[0].length||1)};ne.globalize=e=>co(e,{addG:!0});ne.install=e=>{e=F8(e),!Qs.astral&&e.astral&&C8(!0),!Qs.namespacing&&e.namespacing&&b8(!0)};ne.isInstalled=e=>!!Qs[e];ne.isRegExp=e=>Object.prototype.toString.call(e)==="[object RegExp]";ne.match=(e,t,r)=>{const n=t.global&&r!=="one"||r==="all",u=(n?"g":"")+(t.sticky?"y":"")||"noGY";t[$t]=t[$t]||{};const s=t[$t][u]||(t[$t][u]=co(t,{addG:!!n,removeG:r==="one",isInternalOnly:!0})),o=String(Sa(e)).match(s);return t.global&&(t.lastIndex=r==="one"&&o?o.index+o[0].length:0),n?o||[]:o&&o[0]};ne.matchChain=(e,t)=>function r(n,u){const s=t[u].regex?t[u]:{regex:t[u]},o=[];function a(i){if(s.backref){const c=`Backreference to undefined group: ${s.backref}`,l=isNaN(s.backref);if(l&&ne.isInstalled("namespacing")){if(!(i.groups&&s.backref in i.groups))throw new ReferenceError(c)}else if(!i.hasOwnProperty(s.backref))throw new ReferenceError(c);const p=l&&ne.isInstalled("namespacing")?i.groups[s.backref]:i[s.backref];o.push(p||"")}else o.push(i[0])}for(const i of n)ne.forEach(i,s.regex,a);return u===t.length-1||!o.length?o:r(o,u+1)}([e],0);ne.replace=(e,t,r,n)=>{const u=ne.isRegExp(t),s=t.global&&n!=="one"||n==="all",o=(s?"g":"")+(t.sticky?"y":"")||"noGY";let a=t;u?(t[$t]=t[$t]||{},a=t[$t][o]||(t[$t][o]=co(t,{addG:!!s,removeG:n==="one",isInternalOnly:!0}))):s&&(a=new RegExp(ne.escape(String(t)),"g"));const i=ou.replace.call(Sa(e),a,r);return u&&t.global&&(t.lastIndex=0),i};ne.replaceEach=(e,t)=>{for(const r of t)e=ne.replace(e,r[0],r[1],r[2]);return e};ne.split=(e,t,r)=>ou.split.call(Sa(e),t,r);ne.test=(e,t,r,n)=>!!ne.exec(e,t,r,n);ne.uninstall=e=>{e=F8(e),Qs.astral&&e.astral&&C8(!1),Qs.namespacing&&e.namespacing&&b8(!1)};ne.union=(e,t,r)=>{r=r||{};const n=r.conjunction||"or";let u=0,s,o;function a(p,f,d){const h=o[u-s];if(f){if(++u,h)return`(?<${h}>`}else if(d)return`\\${+d+s}`;return p}if(!(Nl(e,"Array")&&e.length))throw new TypeError("Must provide a nonempty array of patterns to merge");const i=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,c=[];for(const p of e)ne.isRegExp(p)?(s=u,o=p[$t]&&p[$t].captureNames||[],c.push(ne(p.source).source.replace(i,a))):c.push(ne.escape(p));const l=n==="none"?"":"|";return ne(c.join(l),t)};ou.exec=function(e){const t=this.lastIndex,r=RegExp.prototype.exec.apply(this,arguments);if(r){if(!bB&&r.length>1&&r.includes("")){const n=co(this,{removeG:!0,isInternalOnly:!0});String(e).slice(r.index).replace(n,(...u)=>{const s=u.length;for(let o=1;o<s-2;++o)u[o]===void 0&&(r[o]=void 0)})}if(this[$t]&&this[$t].captureNames){let n=r;ne.isInstalled("namespacing")&&(r.groups=Object.create(null),n=r.groups);for(let u=1;u<r.length;++u){const s=this[$t].captureNames[u-1];s&&(n[s]=r[u])}}else!r.groups&&ne.isInstalled("namespacing")&&(r.groups=void 0);this.global&&!r[0].length&&this.lastIndex>r.index&&(this.lastIndex=r.index)}return this.global||(this.lastIndex=t),r};ou.test=function(e){return!!ou.exec.call(this,e)};ou.match=function(e){if(!ne.isRegExp(e))e=new RegExp(e);else if(e.global){const t=String.prototype.match.apply(this,arguments);return e.lastIndex=0,t}return ou.exec.call(e,Sa(this))};ou.replace=function(e,t){const r=ne.isRegExp(e);let n,u,s;return r?(e[$t]&&({captureNames:u}=e[$t]),n=e.lastIndex):e+="",Nl(t,"Function")?s=String(this).replace(e,(...o)=>{if(u){let a;ne.isInstalled("namespacing")?(a=Object.create(null),o.push(a)):(o[0]=new String(o[0]),[a]=o);for(let i=0;i<u.length;++i)u[i]&&(a[u[i]]=o[i+1])}return t(...o)}):s=String(Sa(this)).replace(e,(...o)=>{return String(t).replace(CB,a);function a(i,c,l,p){c=c||l;const f=Nl(o[o.length-1],"Object")?4:3,d=o.length-f;if(c){if(/^\d+$/.test(c)){const E=+c;if(E<=d)return o[E]||""}const h=u?u.indexOf(c):-1;if(h<0)throw new SyntaxError(`Backreference to undefined group ${i}`);return o[h+1]||""}if(p===""||p===" ")throw new SyntaxError(`Invalid token ${i}`);if(p==="&"||+p==0)return o[0];if(p==="$")return"$";if(p==="`")return o[o.length-1].slice(0,o[o.length-2]);if(p==="'")return o[o.length-1].slice(o[o.length-2]+o[0].length);if(p=+p,!isNaN(p)){if(p>d)throw new SyntaxError(`Backreference to undefined group ${i}`);return o[p]||""}throw new SyntaxError(`Invalid token ${i}`)}}),r&&(e.global?e.lastIndex=0:e.lastIndex=n),s};ou.split=function(e,t){if(!ne.isRegExp(e))return String.prototype.split.apply(this,arguments);const r=String(this),n=[],u=e.lastIndex;let s=0,o;return t=(t===void 0?-1:t)>>>0,ne.forEach(r,e,a=>{a.index+a[0].length>s&&(n.push(r.slice(s,a.index)),a.length>1&&a.index<r.length&&Array.prototype.push.apply(n,a.slice(1)),o=a[0].length,s=a.index+o)}),s===r.length?(!e.test("")||o)&&n.push(""):n.push(r.slice(s)),e.lastIndex=u,n.length>t?n.slice(0,t):n};ne.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(e,t)=>{if(e[1]==="B"&&t===ua)return e[0];throw new SyntaxError(`Invalid escape ${e[0]}`)},{scope:"all",leadChar:"\\"});ne.addToken(/\\u{([\dA-Fa-f]+)}/,(e,t,r)=>{const n=g8(e[1]);if(n>1114111)throw new SyntaxError(`Invalid Unicode code point ${e[0]}`);if(n<=65535)return`\\u${qh(Nh(n))}`;if(E8&&r.includes("u"))return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"});ne.addToken(/\(\?#[^)]*\)/,A8,{leadChar:"("});ne.addToken(/\s+|#[^\n]*\n?/,A8,{flag:"x"});kh||ne.addToken(/\./,()=>"[\\s\\S]",{flag:"s",leadChar:"."});ne.addToken(/\\k<([^>]+)>/,function(e){const t=isNaN(e[1])?this.captureNames.indexOf(e[1])+1:+e[1],r=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError(`Backreference to undefined group ${e[0]}`);return`\\${t}${r===e.input.length||isNaN(e.input[r])?"":"(?:)"}`},{leadChar:"\\"});ne.addToken(/\\(\d+)/,function(e,t){if(!(t===ua&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&e[1]!=="0")throw new SyntaxError(`Cannot use octal escape or backreference to undefined group ${e[0]}`);return e[0]},{scope:"all",leadChar:"\\"});ne.addToken(/\(\?P?<([\p{ID_Start}$_][\p{ID_Continue}$_\u200C\u200D]*)>/u,function(e){if(!ne.isInstalled("namespacing")&&(e[1]==="length"||e[1]==="__proto__"))throw new SyntaxError(`Cannot use reserved word as capture name ${e[0]}`);if(this.captureNames.includes(e[1]))throw new SyntaxError(`Cannot use same name for multiple groups ${e[0]}`);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("},{leadChar:"("});ne.addToken(/\((?!\?)/,function(e,t,r){return r.includes("n")?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("});/*!
 * XRegExp.build 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 */const kB=e=>{const t="xregexp",r=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,n=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,r],"g",{conjunction:"or"});function u(c){const l=/^(?:\(\?:\))*\^/,p=/\$(?:\(\?:\))*$/;return l.test(c)&&p.test(c)&&p.test(c.replace(/\\[\s\S]/g,""))?c.replace(l,"").replace(p,""):c}function s(c,l){const p=l?"x":"";return e.isRegExp(c)?c[t]&&c[t].captureNames?c:e(c.source,p):e(c,p)}function o(c){return c instanceof RegExp?c:e.escape(c)}function a(c,l,p){return c[`subpattern${p}`]=l,c}function i(c,l,p){const f=l<p.length-1;return c+(f?`{{subpattern${l}}}`:"")}e.tag=c=>(l,...p)=>{const f=p.map(o).reduce(a,{}),d=l.raw.map(i).join("");return e.build(d,f,c)},e.build=(c,l,p)=>{p=p||"";const f=p.includes("x"),d=/^\(\?([\w$]+)\)/.exec(c);d&&(p=e._clipDuplicates(p+d[1]));const h={};for(const $ in l)if(l.hasOwnProperty($)){const I=s(l[$],f);h[$]={pattern:u(I.source),names:I[t].captureNames||[]}}const E=s(c,f);let A=0,m,y=0;const F=[0],B=E[t].captureNames||[],P=E.source.replace(n,($,I,U,j,W)=>{const te=I||U;let Y,oe,ie;if(te){if(!h.hasOwnProperty(te))throw new ReferenceError(`Undefined property ${$}`);I?(Y=B[y],F[++y]=++A,oe=`(?<${Y||te}>`):oe="(?:",m=A;const fe=h[te].pattern.replace(r,(De,de,Ce)=>{if(de){if(Y=h[te].names[A-m],++A,Y)return`(?<${Y}>`}else if(Ce)return ie=+Ce-1,h[te].names[ie]?`\\k<${h[te].names[ie]}>`:`\\${+Ce+m}`;return De});return`${oe}${fe})`}if(j){if(Y=B[y],F[++y]=++A,Y)return`(?<${Y}>`}else if(W)return ie=+W-1,B[ie]?`\\k<${B[ie]}>`:`\\${F[+W]}`;return $});return e(P,p)}};/*!
 * XRegExp.matchRecursive 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2009-present MIT License
 */const IB=e=>{function t(r,n,u,s){return{name:r,value:n,start:u,end:s}}e.matchRecursive=(r,n,u,s,o)=>{s=s||"",o=o||{};const a=s.includes("g"),i=s.includes("y"),c=s.replace(/y/g,"");n=e(n,c),u=e(u,c);let l,{escapeChar:p}=o;if(p){if(p.length>1)throw new Error("Cannot use more than one escape character");p=e.escape(p),l=new RegExp(`(?:${p}[\\S\\s]|(?:(?!${e.union([n,u],"",{conjunction:"or"}).source})[^${p}])+)+`,s.replace(e._hasNativeFlag("s")?/[^imsu]/g:/[^imu]/g,""))}let f=0,d=0,h=0,E=0,A,m,y,F;const B=o.valueNames,P=[];for(;;){if(p&&(h+=(e.exec(r,l,h,"sticky")||[""])[0].length),y=e.exec(r,n,h),F=e.exec(r,u,h),y&&F&&(y.index<=F.index?F=null:y=null),y||F)d=(y||F).index,h=d+(y||F)[0].length;else if(!f)break;if(i&&!f&&d>E)break;if(y)f||(A=d,m=h),f+=1;else if(F&&f){if(f-=1,!f&&(B?(B[0]&&A>E&&P.push(t(B[0],r.slice(E,A),E,A)),B[1]&&P.push(t(B[1],r.slice(A,m),A,m)),B[2]&&P.push(t(B[2],r.slice(m,d),m,d)),B[3]&&P.push(t(B[3],r.slice(d,h),d,h))):P.push(r.slice(m,d)),E=h,!a))break}else{const $=o.unbalanced||"error";if($==="skip"||$==="skip-lazy")if(F)F=null;else{if($==="skip"){const I=e.exec(r,n,A,"sticky")[0].length;h=A+(I||1)}else h=A+1;f=0}else if($==="error"){const I=F?"right":"left",U=F?d:A;throw new Error(`Unbalanced ${I} delimiter found in string at position ${U}`)}else throw new Error(`Unsupported value for unbalanced: ${$}`)}d===h&&(h+=1)}return a&&P.length>0&&!i&&B&&B[0]&&r.length>E&&P.push(t(B[0],r.slice(E),E,r.length)),P}};/*!
 * XRegExp Unicode Base 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2008-present MIT License
 */const NB=e=>{const t={},r={},n=e._dec,u=e._hex,s=e._pad4;function o(f){return f.replace(/[- _]+/g,"").toLowerCase()}function a(f){const d=/^\\[xu](.+)/.exec(f);return d?n(d[1]):f.charCodeAt(f[0]==="\\"?1:0)}function i(f){let d="",h=-1;return e.forEach(f,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,E=>{const A=a(E[1]);A>h+1&&(d+=`\\u${s(u(h+1))}`,A>h+2&&(d+=`-\\u${s(u(A-1))}`)),h=a(E[2]||E[1])}),h<65535&&(d+=`\\u${s(u(h+1))}`,h<65534&&(d+="-\\uFFFF")),d}function c(f){const d="b!";return t[f][d]||(t[f][d]=i(t[f].bmp))}function l(f,d){const h=t[f];let E="";return h.bmp&&!h.isBmpLast&&(E=`[${h.bmp}]${h.astral?"|":""}`),h.astral&&(E+=h.astral),h.isBmpLast&&h.bmp&&(E+=`${h.astral?"|":""}[${h.bmp}]`),d?`(?:(?!${E})(?:[\uD800-\uDBFF][\uDC00-\uDFFF]|[\0-￿]))`:`(?:${E})`}function p(f,d){const h=d?"a!":"a=";return t[f][h]||(t[f][h]=l(f,d))}e.addToken(/\\([pP])(?:{(\^?)(?:(\w+)=)?([^}]*)}|([A-Za-z]))/,(f,d,h)=>{const E="Invalid double negation ",A="Unknown Unicode token ",m="Unicode token missing data ",y="Astral mode required for Unicode token ",F="Astral mode does not support Unicode tokens within character classes",[B,P,$,I,U,j]=f;let W=P==="P"||!!$;const te=h.includes("A");let Y=o(j||U),oe=t[Y];if(P==="P"&&$)throw new SyntaxError(E+B);if(!t.hasOwnProperty(Y))throw new SyntaxError(A+B);if(I&&!(r[I]&&r[I][Y]))throw new SyntaxError(A+B);if(oe.inverseOf){if(Y=o(oe.inverseOf),!t.hasOwnProperty(Y))throw new ReferenceError(`${m+B} -> ${oe.inverseOf}`);oe=t[Y],W=!W}if(!(oe.bmp||te))throw new SyntaxError(y+B);if(te){if(d==="class")throw new SyntaxError(F);return p(Y,W)}return d==="class"?W?c(Y):oe.bmp:`${(W?"[^":"[")+oe.bmp}]`},{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=(f,d)=>{const h="Unicode token requires name",E="Unicode token has no character data ";d&&(r[d]={});for(const A of f){if(!A.name)throw new Error(h);if(!(A.inverseOf||A.bmp||A.astral))throw new Error(E+A.name);const m=o(A.name);if(t[m]=A,d&&(r[d][m]=!0),A.alias){const y=o(A.alias);t[y]=A,d&&(r[d][y]=!0)}}e.cache.flush("patterns")},e._getUnicodeProperty=f=>{const d=o(f);return t[d]}};var Ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var u=[null];u.push.apply(u,arguments);var s=Function.bind.apply(t,u);return new s}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),r}var xB=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-؅؜۝܎܏݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࡯࢏-ࢗ࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୔୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺఻౅౉౎-౔౗౛౜౞౟౤౥౰-౶಍಑಩಴಺಻೅೉೎-೔೗-೜೟೤೥೰ೳ-೿഍഑൅൉൐-൓൤൥඀඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅຋຤຦຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿᜖-᜞᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯᫏-᫿᭍-᭏᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏᳻-᳿἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟⃁-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹞-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏㇤-㇯㈟꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ɤ-꟏꟒꟔Ꟛ-꟱꠭-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯꭬-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯃-﯒﶐﶑﷈-﷎﷐-﷯︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA\uDEAE\uDEAF\uDEB2-\uDEFF\uDF28-\uDF2F\uDF5A-\uDF6F\uDF8A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC76-\uDC7E\uDCBD\uDCC3-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD48-\uDD4F\uDD77-\uDD7F\uDDE0\uDDF5-\uDDFF\uDE12\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC5C\uDC62-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDDE-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEBA-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF47-\uDFFF]|\uD806[\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE5-\uDDFF\uDE48-\uDE4F\uDEA3-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF9-\uDFAF\uDFB1-\uDFBF\uDFF2-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF3-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDEBF\uDECA-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE9B-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA0-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD73-\uDD7A\uDDEB-\uDDFF\uDE46-\uDEDF\uDEF4-\uDEFF\uDF57-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD836[\uDE8C-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD50-\uDE8F\uDEAF-\uDEBF\uDEFA-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCB5-\uDD00\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDC\uDEED-\uDEEF\uDEFD-\uDEFF\uDF74-\uDF7F\uDFD9-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE75-\uDE77\uDE7D-\uDE7F\uDE87-\uDE8F\uDEAD-\uDEAF\uDEBB-\uDEBF\uDEC6-\uDECF\uDEDA-\uDEDF\uDEE8-\uDEEF\uDEF7-\uDEFF\uDF93\uDFCB-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF39-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏࢐࢑࣢᠎​-‏‪-‮⁠-⁤⁦-⁯\uFEFF￹-￻",astral:"\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC38]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-׿܎݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࡯࢏࢒-ࢗ঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୔୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺఻౅౉౎-౔౗౛౜౞౟౤౥౰-౶಍಑಩಴಺಻೅೉೎-೔೗-೜೟೤೥೰ೳ-೿഍഑൅൉൐-൓൤൥඀඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅຋຤຦຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿᜖-᜞᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯᫏-᫿᭍-᭏᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏᳻-᳿἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟⃁-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹞-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏㇤-㇯㈟꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ɤ-꟏꟒꟔Ꟛ-꟱꠭-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯꭬-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯃-﯒﶐﶑﷈-﷎﷐-﷯︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA\uDEAE\uDEAF\uDEB2-\uDEFF\uDF28-\uDF2F\uDF5A-\uDF6F\uDF8A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC76-\uDC7E\uDCC3-\uDCCC\uDCCE\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD48-\uDD4F\uDD77-\uDD7F\uDDE0\uDDF5-\uDDFF\uDE12\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC5C\uDC62-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDDE-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEBA-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF47-\uDFFF]|\uD806[\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE5-\uDDFF\uDE48-\uDE4F\uDEA3-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF9-\uDFAF\uDFB1-\uDFBF\uDFF2-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDB7F][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF3-\uDFFF]|\uD80D[\uDC2F\uDC39-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDEBF\uDECA-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE9B-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA4-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDDEB-\uDDFF\uDE46-\uDEDF\uDEF4-\uDEFF\uDF57-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD836[\uDE8C-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD50-\uDE8F\uDEAF-\uDEBF\uDEFA-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCB5-\uDD00\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDC\uDEED-\uDEEF\uDEFD-\uDEFF\uDF74-\uDF7F\uDFD9-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE75-\uDE77\uDE7D-\uDE7F\uDE87-\uDE8F\uDEAD-\uDEAF\uDEBB-\uDEBF\uDEC6-\uDECF\uDEDA-\uDEDF\uDEE8-\uDEEF\uDEF7-\uDEFF\uDF93\uDFCB-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF39-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00\uDC02-\uDC1F\uDC80-\uDCFF\uDDF0-\uDFFF]|[\uDBBF\uDBFF][\uDFFE\uDFFF]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uDBBF\uDBFF][\uDC00-\uDFFD]"},{name:"Cs",alias:"Surrogate",bmp:"\uD800-\uDFFF"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-zµÀ-ÖØ-öø-ƺƼ-ƿǄ-ʓʕ-ʯͰ-ͳͶͷͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՠ-ֈႠ-ჅჇჍა-ჺჽ-ჿᎠ-Ᏽᏸ-ᏽᲀ-ᲈᲐ-ᲺᲽ-Ჿᴀ-ᴫᵫ-ᵷᵹ-ᶚḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-ⱻⱾ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭꙀ-ꙭꚀ-ꚛꜢ-ꝯꝱ-ꞇꞋ-ꞎꞐ-ꟊꟐꟑꟓꟕ-ꟙꟵꟶꟺꬰ-ꭚꭠ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚ",astral:"\uD801[\uDC00-\uDC4F\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD806[\uDCA0-\uDCDF]|\uD81B[\uDE40-\uDE7F]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD00-\uDD43]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱟⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꞻꞽꞿꟁꟃꟈꟊꟑꟓꟕꟗꟙꟶꟺꬰ-ꭚꭠ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD22-\uDD43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨࣉॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟲ-ꟴꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟꭩｰﾞﾟ",astral:"\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD81A[\uDF40-\uDF43]|\uD81B[\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD838[\uDD37-\uDD3D]|𞥋"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תׯ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣈऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳳᳵᳶᳺℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC50-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF4A\uDF50]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|𝼊|\uD838[\uDD00-\uDD2C\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰯⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸꞺꞼꞾꟀꟂꟄ-ꟇꟉꟐꟖꟘꟵＡ-Ｚ",astral:"\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣ৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣඁ-ඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍᠏ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-ᫎᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜ᜕᜴ាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡᳷〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦾ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3E\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB0-\uDCB2\uDCB9\uDCBB-\uDCBE\uDCC1\uDDAF-\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF20\uDF21\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD30-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD65\uDD66\uDD6D-\uDD72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍୕ୖୢୣஂீ்ఀఄ఼ా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣඁ්ි-ුූัิ-ฺ็-๎ັິ-ຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲᜳᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍᠏ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᪿ-ᫎᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꠬꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꦽꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\uD801[\uDCA0-\uDCA9]|\uD803[\uDD30-\uDD39]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCE0-\uDCE9\uDD50-\uDD59]|\uD807[\uDC50-\uDC59\uDD50-\uDD59\uDDA0-\uDDA9]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDD50-\uDD59]|\uD83E[\uDFF0-\uDFF9]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",astral:"\uD800[\uDD40-\uDD74\uDF41\uDF4A\uDFD1-\uDFD5]|\uD809[\uDC00-\uDC6E]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൘-൞൰-൸༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"\uD800[\uDD07-\uDD33\uDD75-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC65\uDDE1-\uDDF4]|\uD805[\uDF3A\uDF3B]|\uD806[\uDCEA-\uDCF2]|\uD807[\uDC5A-\uDC6C\uDFC0-\uDFD4]|\uD81A[\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD83A[\uDCC7-\uDCCF]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹏⹒-⹝、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|𐕯|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|𛲟|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\-֊־᐀᠆‐-―⸗⸚⸺⸻⹀⹝〜〰゠︱︲﹘﹣－",astral:"𐺭"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩⹖⹘⹚⹜〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁⹃-⹏⹒-⹔、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|𐕯|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|𛲟|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂⹕⹗⹙⹛〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶߾߿࢈৲৳৺৻૱୰௳-௺౿൏൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᙭៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-⃀℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮗-⯿⳥-⳪⹐⹑⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛꭪꭫﬩﮲-﯂﵀-﵏﷏﷼-﷿﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|𑜿|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|𛲜|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$¢-¥֏؋߾߿৲৳৻૱௹฿៛₠-⃀꠸﷼﹩＄￠￡￥￦",astral:"\uD807[\uDFDD-\uDFE0]|𞋿|𞲰"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅࢈᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛꭪꭫﮲-﯂＾｀￣",astral:"\uD83C[\uDFFB-\uDFFF]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD83B[\uDEF0\uDEF1]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൏൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᙭᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮗-⯿⳥-⳪⹐⹑⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﵀-﵏﷏﷽-﷿￤￨￭￮￼�",astral:"\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|𑜿|\uD807[\uDFD5-\uDFDC\uDFE1-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|𛲜|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|𞅏|\uD83B[\uDCAC\uDD2E]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFA]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}];/*!
 * XRegExp Unicode Categories 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */const RB=e=>{if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData(xB)};var jB=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈְ-ׇֽֿׁׂׅׄא-תׯ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉࣔ-ࣣࣟ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱৼਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹ-ૼଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౝౠ-ౣಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೝೞೠ-ೣೱೲഀ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൔ-ൗൟ-ൣൺ-ൿඁ-ඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄຆ-ຊຌ-ຣລວ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ႏႚ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜓᜟ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡸᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᪿᫀᫌ-ᫎᬀ-ᬳᬵ-ᭃᭅ-ᭌᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰶᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠅꠇ-ꠧꡀ-ꡳꢀ-ꣃꣅꣲ-ꣷꣻꣽ-ꣿꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC71-\uDC75\uDC82-\uDCB8\uDCC2\uDCD0-\uDCE8\uDD00-\uDD32\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE\uDDCF\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE80-\uDEB5\uDEB8\uDF00-\uDF1A\uDF1D-\uDF2A\uDF40-\uDF46]|\uD806[\uDC00-\uDC38\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDEE0-\uDEF6\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD47\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[\uD800-\uDBFF][\uDC00-\uDFFF]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠏​-‏‪-‮⁠-⁯ㅤ︀-️\uFEFFﾠ￰-￸",astral:"\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|[\uDB40-\uDB43][\uDC00-\uDFFF]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱟⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꞻꞽꞿꟁꟃꟈꟊꟑꟓꟕꟗꟙꟶꟸ-ꟺꬰ-ꭚꭜ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDF80\uDF83-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD22-\uDD43]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰯⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸꞺꞼꞾꟀꟂꟄ-ꟇꟉꟐꟖꟘꟵＡ-Ｚ",astral:"\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]"},{name:"White_Space",bmp:"	-\r    - \u2028\u2029  　"}];/*!
 * XRegExp Unicode Properties 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */const MB=e=>{if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");const t=jB;t.push({name:"Assigned",inverseOf:"Cn"}),e.addUnicodeData(t)};var LB=[{name:"Adlam",astral:"\uD83A[\uDD00-\uDD4B\uDD50-\uDD59\uDD5E\uDD5F]"},{name:"Ahom",astral:"\uD805[\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF46]"},{name:"Anatolian_Hieroglyphs",astral:"\uD811[\uDC00-\uDE46]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؜-؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࡰ-ࢎ࢐࢑࢘-ࣣ࣡-ࣿﭐ-﯂ﯓ-ﴽ﵀-ﶏﶒ-ﷇ﷏ﷰ-﷿ﹰ-ﹴﹶ-ﻼ",astral:"\uD803[\uDE60-\uDE7E]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB\uDEF0\uDEF1]"},{name:"Armenian",bmp:"Ա-Ֆՙ-֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"\uD802[\uDF00-\uDF35\uDF39-\uDF3F]"},{name:"Balinese",bmp:"ᬀ-ᭌ᭐-᭾"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"\uD81A[\uDC00-\uDE38]"},{name:"Bassa_Vah",astral:"\uD81A[\uDED0-\uDEED\uDEF0-\uDEF5]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৾"},{name:"Bhaiksuki",astral:"\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC45\uDC50-\uDC6C]"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄯㆠ-ㆿ"},{name:"Brahmi",astral:"\uD804[\uDC00-\uDC4D\uDC52-\uDC75\uDC7F]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ",astral:"\uD806[\uDEB0-\uDEBF]"},{name:"Carian",astral:"\uD800[\uDEA0-\uDED0]"},{name:"Caucasian_Albanian",astral:"\uD801[\uDD30-\uDD63\uDD6F]"},{name:"Chakma",astral:"\uD804[\uDD00-\uDD34\uDD36-\uDD47]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Chorasmian",astral:"\uD803[\uDFB0-\uDFCB]"},{name:"Common",bmp:"\0-@\\[-`\\{-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·؅،؛؟ـ۝࣢।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵ-᳷ᳺ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-⃀℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮗-⯿⸀-⹝⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㋿㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛꭪꭫﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\uFEFF！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"\uD800[\uDD00-\uDD02\uDD07-\uDD33\uDD37-\uDD3F\uDD90-\uDD9C\uDDD0-\uDDFC\uDEE1-\uDEFB]|\uD82F[\uDCA0-\uDCA3]|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD66\uDD6A-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDEE0-\uDEF3\uDF00-\uDF56\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDFCB\uDFCE-\uDFFF]|\uD83B[\uDC71-\uDCB4\uDD01-\uDD3D]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD00-\uDDAD\uDDE6-\uDDFF\uDE01\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA\uDFF0-\uDFF9]|\uDB40[\uDC01\uDC20-\uDC7F]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC70-\uDC74\uDC80-\uDD43]"},{name:"Cypriot",astral:"\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F]"},{name:"Cypro_Minoan",astral:"\uD80B[\uDF90-\uDFF2]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᲀ-ᲈᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"\uD801[\uDC00-\uDC4F]"},{name:"Devanagari",bmp:"ऀ-ॐॕ-ॣ०-ॿ꣠-ꣿ"},{name:"Dives_Akuru",astral:"\uD806[\uDD00-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD46\uDD50-\uDD59]"},{name:"Dogra",astral:"\uD806[\uDC00-\uDC3B]"},{name:"Duployan",astral:"\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9C-\uDC9F]"},{name:"Egyptian_Hieroglyphs",astral:"\uD80C[\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E\uDC30-\uDC38]"},{name:"Elbasan",astral:"\uD801[\uDD00-\uDD27]"},{name:"Elymaic",astral:"\uD803[\uDFE0-\uDFF6]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ",astral:"\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿᲐ-ᲺᲽ-Ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-ⱟ",astral:"\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]"},{name:"Gothic",astral:"\uD800[\uDF30-\uDF4A]"},{name:"Grantha",astral:"\uD804[\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"\uD800[\uDD40-\uDD8E\uDDA0]|\uD834[\uDE00-\uDE45]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ-૿"},{name:"Gunjala_Gondi",astral:"\uD807[\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9]"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-੶"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶿一-鿿豈-舘並-龎",astral:"\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanifi_Rohingya",astral:"\uD803[\uDD00-\uDD27\uDD30-\uDD39]"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"\uD802[\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDCFF]"},{name:"Hebrew",bmp:"֑-ׇא-תׯ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"\uD82C[\uDC01-\uDD1F\uDD50-\uDD52]|🈀"},{name:"Imperial_Aramaic",astral:"\uD802[\uDC40-\uDC55\uDC57-\uDC5F]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॑-॔᪰-ᫎ᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"\uD800[\uDDFD\uDEE0]|𑌻|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uDB40[\uDD00-\uDDEF]"},{name:"Inscriptional_Pahlavi",astral:"\uD802[\uDF60-\uDF72\uDF78-\uDF7F]"},{name:"Inscriptional_Parthian",astral:"\uD802[\uDF40-\uDF55\uDF58-\uDF5F]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"\uD804[\uDC80-\uDCC2\uDCCD]"},{name:"Kannada",bmp:"ಀ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೝೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00\uDD20-\uDD22\uDD64-\uDD67]"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"\uD802[\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F-\uDE48\uDE50-\uDE58]"},{name:"Khitan_Small_Script",astral:"𖿤|\uD822[\uDF00-\uDFFF]|\uD823[\uDC00-\uDCD5]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"\uD804[\uDE00-\uDE11\uDE13-\uDE3E]"},{name:"Khudawadi",astral:"\uD804[\uDEB0-\uDEEA\uDEF0-\uDEF9]"},{name:"Lao",bmp:"ກຂຄຆ-ຊຌ-ຣລວ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꟿꬰ-ꭚꭜ-ꭤꭦ-ꭩﬀ-ﬆＡ-Ｚａ-ｚ",astral:"\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD837[\uDF00-\uDF1E]"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"\uD801[\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]"},{name:"Linear_B",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA]"},{name:"Lisu",bmp:"ꓐ-꓿",astral:"𑾰"},{name:"Lycian",astral:"\uD800[\uDE80-\uDE9C]"},{name:"Lydian",astral:"\uD802[\uDD20-\uDD39\uDD3F]"},{name:"Mahajani",astral:"\uD804[\uDD50-\uDD76]"},{name:"Makasar",astral:"\uD807[\uDEE0-\uDEF8]"},{name:"Malayalam",bmp:"ഀ-ഌഎ-ഐഒ-ൄെ-ൈൊ-൏ൔ-ൣ൦-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"\uD802[\uDEC0-\uDEE6\uDEEB-\uDEF6]"},{name:"Marchen",astral:"\uD807[\uDC70-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]"},{name:"Masaram_Gondi",astral:"\uD807[\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]"},{name:"Medefaidrin",astral:"\uD81B[\uDE40-\uDE9A]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6]"},{name:"Meroitic_Cursive",astral:"\uD802[\uDDA0-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDDFF]"},{name:"Meroitic_Hieroglyphs",astral:"\uD802[\uDD80-\uDD9F]"},{name:"Miao",astral:"\uD81B[\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F]"},{name:"Modi",astral:"\uD805[\uDE00-\uDE44\uDE50-\uDE59]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠙ᠠ-ᡸᢀ-ᢪ",astral:"\uD805[\uDE60-\uDE6C]"},{name:"Mro",astral:"\uD81A[\uDE40-\uDE5E\uDE60-\uDE69\uDE6E\uDE6F]"},{name:"Multani",astral:"\uD804[\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA9]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"\uD802[\uDC80-\uDC9E\uDCA7-\uDCAF]"},{name:"Nandinagari",astral:"\uD806[\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE4]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Newa",astral:"\uD805[\uDC00-\uDC5B\uDC5D-\uDC61]"},{name:"Nko",bmp:"߀-ߺ߽-߿"},{name:"Nushu",astral:"𖿡|\uD82C[\uDD70-\uDEFB]"},{name:"Nyiakeng_Puachue_Hmong",astral:"\uD838[\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDD4F]"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"\uD803[\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF]"},{name:"Old_Italic",astral:"\uD800[\uDF00-\uDF23\uDF2D-\uDF2F]"},{name:"Old_North_Arabian",astral:"\uD802[\uDE80-\uDE9F]"},{name:"Old_Permic",astral:"\uD800[\uDF50-\uDF7A]"},{name:"Old_Persian",astral:"\uD800[\uDFA0-\uDFC3\uDFC8-\uDFD5]"},{name:"Old_Sogdian",astral:"\uD803[\uDF00-\uDF27]"},{name:"Old_South_Arabian",astral:"\uD802[\uDE60-\uDE7F]"},{name:"Old_Turkic",astral:"\uD803[\uDC00-\uDC48]"},{name:"Old_Uyghur",astral:"\uD803[\uDF70-\uDF89]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍୕-ୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osage",astral:"\uD801[\uDCB0-\uDCD3\uDCD8-\uDCFB]"},{name:"Osmanya",astral:"\uD801[\uDC80-\uDC9D\uDCA0-\uDCA9]"},{name:"Pahawh_Hmong",astral:"\uD81A[\uDF00-\uDF45\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]"},{name:"Palmyrene",astral:"\uD802[\uDC60-\uDC7F]"},{name:"Pau_Cin_Hau",astral:"\uD806[\uDEC0-\uDEF8]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"\uD802[\uDD00-\uDD1B\uDD1F]"},{name:"Psalter_Pahlavi",astral:"\uD802[\uDF80-\uDF91\uDF99-\uDF9C\uDFA9-\uDFAF]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-ꣅ꣎-꣙"},{name:"Sharada",astral:"\uD804[\uDD80-\uDDDF]"},{name:"Shavian",astral:"\uD801[\uDC50-\uDC7F]"},{name:"Siddham",astral:"\uD805[\uDD80-\uDDB5\uDDB8-\uDDDD]"},{name:"SignWriting",astral:"\uD836[\uDC00-\uDE8B\uDE9B-\uDE9F\uDEA1-\uDEAF]"},{name:"Sinhala",bmp:"ඁ-ඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"\uD804[\uDDE1-\uDDF4]"},{name:"Sogdian",astral:"\uD803[\uDF30-\uDF59]"},{name:"Sora_Sompeng",astral:"\uD804[\uDCD0-\uDCE8\uDCF0-\uDCF9]"},{name:"Soyombo",astral:"\uD806[\uDE50-\uDEA2]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠬"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏࡠ-ࡪ"},{name:"Tagalog",bmp:"ᜀ-᜕ᜟ"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"\uD805[\uDE80-\uDEB9\uDEC0-\uDEC9]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺",astral:"\uD807[\uDFC0-\uDFF1\uDFFF]"},{name:"Tangsa",astral:"\uD81A[\uDE70-\uDEBE\uDEC0-\uDEC9]"},{name:"Tangut",astral:"𖿠|[\uD81C-\uD820][\uDC00-\uDFFF]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEFF]|\uD823[\uDD00-\uDD08]"},{name:"Telugu",bmp:"ఀ-ఌఎ-ఐఒ-నప-హ఼-ౄె-ైొ-్ౕౖౘ-ౚౝౠ-ౣ౦-౯౷-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"\uD805[\uDC80-\uDCC7\uDCD0-\uDCD9]"},{name:"Toto",astral:"\uD838[\uDE90-\uDEAE]"},{name:"Ugaritic",astral:"\uD800[\uDF80-\uDF9D\uDF9F]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Vithkuqi",astral:"\uD801[\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]"},{name:"Wancho",astral:"\uD838[\uDEC0-\uDEF9\uDEFF]"},{name:"Warang_Citi",astral:"\uD806[\uDCA0-\uDCF2\uDCFF]"},{name:"Yezidi",astral:"\uD803[\uDE80-\uDEA9\uDEAB-\uDEAD\uDEB0\uDEB1]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"},{name:"Zanabazar_Square",astral:"\uD806[\uDE00-\uDE47]"}];/*!
 * XRegExp Unicode Scripts 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */const UB=e=>{if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.addUnicodeData(LB,"Script")};kB(ne);IB(ne);NB(ne);RB(ne);MB(ne);UB(ne);const GB=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));function dt(e,t){if(!!!e)throw new Error(t)}function dn(e){return typeof(e==null?void 0:e.then)=="function"}function Mn(e){return typeof e=="object"&&e!==null}function tn(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const VB=/\r\n|[\n\r]/g;function m2(e,t){let r=0,n=1;for(const u of e.body.matchAll(VB)){if(typeof u.index=="number"||tn(!1),u.index>=t)break;r=u.index+u[0].length,n+=1}return{line:n,column:t+1-r}}function HB(e){return w8(e.source,m2(e.source,e.start))}function w8(e,t){const r=e.locationOffset.column-1,n="".padStart(r)+e.body,u=t.line-1,s=e.locationOffset.line-1,o=t.line+s,a=t.line===1?r:0,i=t.column+a,c=`${e.name}:${o}:${i}
`,l=n.split(/\r\n|[\n\r]/g),p=l[u];if(p.length>120){const f=Math.floor(i/80),d=i%80,h=[];for(let E=0;E<p.length;E+=80)h.push(p.slice(E,E+80));return c+rv([[`${o} |`,h[0]],...h.slice(1,f+1).map(E=>["|",E]),["|","^".padStart(d)],["|",h[f+1]]])}return c+rv([[`${o-1} |`,l[u-1]],[`${o} |`,p],["|","^".padStart(i)],[`${o+1} |`,l[u+1]]])}function rv(e){const t=e.filter(([n,u])=>u!==void 0),r=Math.max(...t.map(([n])=>n.length));return t.map(([n,u])=>n.padStart(r)+(u?" "+u:"")).join(`
`)}function WB(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class he extends Error{constructor(t,...r){var n,u,s;const{nodes:o,source:a,positions:i,path:c,originalError:l,extensions:p}=WB(r);super(t),this.name="GraphQLError",this.path=c??void 0,this.originalError=l??void 0,this.nodes=nv(Array.isArray(o)?o:o?[o]:void 0);const f=nv((n=this.nodes)===null||n===void 0?void 0:n.map(h=>h.loc).filter(h=>h!=null));this.source=a??(f==null||(u=f[0])===null||u===void 0?void 0:u.source),this.positions=i??(f==null?void 0:f.map(h=>h.start)),this.locations=i&&a?i.map(h=>m2(a,h)):f==null?void 0:f.map(h=>m2(h.source,h.start));const d=Mn(l==null?void 0:l.extensions)?l==null?void 0:l.extensions:void 0;this.extensions=(s=p??d)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,he):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const r of this.nodes)r.loc&&(t+=`

`+HB(r.loc));else if(this.source&&this.locations)for(const r of this.locations)t+=`

`+w8(this.source,r);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function nv(e){return e===void 0||e.length===0?void 0:e}function or(e,t,r){return new he(`Syntax Error: ${r}`,{source:e,positions:[t]})}class JB{constructor(t,r,n){this.start=t.start,this.end=r.end,this.startToken=t,this.endToken=r,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class _8{constructor(t,r,n,u,s,o){this.kind=t,this.start=r,this.end=n,this.line=u,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const B8={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},zB=new Set(Object.keys(B8));function E2(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&zB.has(t)}var ar;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(ar||(ar={}));var ze;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(ze||(ze={}));var V;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(V||(V={}));function v2(e){return e===9||e===32}function Bi(e){return e>=48&&e<=57}function T8(e){return e>=97&&e<=122||e>=65&&e<=90}function xh(e){return T8(e)||e===95}function $8(e){return T8(e)||Bi(e)||e===95}function KB(e){var t;let r=Number.MAX_SAFE_INTEGER,n=null,u=-1;for(let o=0;o<e.length;++o){var s;const a=e[o],i=XB(a);i!==a.length&&(n=(s=n)!==null&&s!==void 0?s:o,u=o,o!==0&&i<r&&(r=i))}return e.map((o,a)=>a===0?o:o.slice(r)).slice((t=n)!==null&&t!==void 0?t:0,u+1)}function XB(e){let t=0;for(;t<e.length&&v2(e.charCodeAt(t));)++t;return t}function YB(e,t){const r=e.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),u=n.length===1,s=n.length>1&&n.slice(1).every(d=>d.length===0||v2(d.charCodeAt(0))),o=r.endsWith('\\"""'),a=e.endsWith('"')&&!o,i=e.endsWith("\\"),c=a||i,l=!(t!=null&&t.minimize)&&(!u||e.length>70||c||s||o);let p="";const f=u&&v2(e.charCodeAt(0));return(l&&!f||s)&&(p+=`
`),p+=r,(l||c)&&(p+=`
`),'"""'+p+'"""'}var Ee;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(Ee||(Ee={}));class ZB{constructor(t){const r=new _8(Ee.SOF,0,0,0,0);this.source=t,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==Ee.EOF)do if(t.next)t=t.next;else{const r=eT(this,t.end);t.next=r,r.prev=t,t=r}while(t.kind===Ee.COMMENT);return t}}function QB(e){return e===Ee.BANG||e===Ee.DOLLAR||e===Ee.AMP||e===Ee.PAREN_L||e===Ee.PAREN_R||e===Ee.SPREAD||e===Ee.COLON||e===Ee.EQUALS||e===Ee.AT||e===Ee.BRACKET_L||e===Ee.BRACKET_R||e===Ee.BRACE_L||e===Ee.PIPE||e===Ee.BRACE_R}function wa(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function _p(e,t){return P8(e.charCodeAt(t))&&O8(e.charCodeAt(t+1))}function P8(e){return e>=55296&&e<=56319}function O8(e){return e>=56320&&e<=57343}function eo(e,t){const r=e.source.body.codePointAt(t);if(r===void 0)return Ee.EOF;if(r>=32&&r<=126){const n=String.fromCodePoint(r);return n==='"'?`'"'`:`"${n}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function Yt(e,t,r,n,u){const s=e.line,o=1+r-e.lineStart;return new _8(t,r,n,s,o,u)}function eT(e,t){const r=e.source.body,n=r.length;let u=t;for(;u<n;){const s=r.charCodeAt(u);switch(s){case 65279:case 9:case 32:case 44:++u;continue;case 10:++u,++e.line,e.lineStart=u;continue;case 13:r.charCodeAt(u+1)===10?u+=2:++u,++e.line,e.lineStart=u;continue;case 35:return tT(e,u);case 33:return Yt(e,Ee.BANG,u,u+1);case 36:return Yt(e,Ee.DOLLAR,u,u+1);case 38:return Yt(e,Ee.AMP,u,u+1);case 40:return Yt(e,Ee.PAREN_L,u,u+1);case 41:return Yt(e,Ee.PAREN_R,u,u+1);case 46:if(r.charCodeAt(u+1)===46&&r.charCodeAt(u+2)===46)return Yt(e,Ee.SPREAD,u,u+3);break;case 58:return Yt(e,Ee.COLON,u,u+1);case 61:return Yt(e,Ee.EQUALS,u,u+1);case 64:return Yt(e,Ee.AT,u,u+1);case 91:return Yt(e,Ee.BRACKET_L,u,u+1);case 93:return Yt(e,Ee.BRACKET_R,u,u+1);case 123:return Yt(e,Ee.BRACE_L,u,u+1);case 124:return Yt(e,Ee.PIPE,u,u+1);case 125:return Yt(e,Ee.BRACE_R,u,u+1);case 34:return r.charCodeAt(u+1)===34&&r.charCodeAt(u+2)===34?aT(e,u):nT(e,u)}if(Bi(s)||s===45)return rT(e,u,s);if(xh(s))return iT(e,u);throw or(e.source,u,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:wa(s)||_p(r,u)?`Unexpected character: ${eo(e,u)}.`:`Invalid character: ${eo(e,u)}.`)}return Yt(e,Ee.EOF,n,n)}function tT(e,t){const r=e.source.body,n=r.length;let u=t+1;for(;u<n;){const s=r.charCodeAt(u);if(s===10||s===13)break;if(wa(s))++u;else if(_p(r,u))u+=2;else break}return Yt(e,Ee.COMMENT,t,u,r.slice(t+1,u))}function rT(e,t,r){const n=e.source.body;let u=t,s=r,o=!1;if(s===45&&(s=n.charCodeAt(++u)),s===48){if(s=n.charCodeAt(++u),Bi(s))throw or(e.source,u,`Invalid number, unexpected digit after 0: ${eo(e,u)}.`)}else u=Gf(e,u,s),s=n.charCodeAt(u);if(s===46&&(o=!0,s=n.charCodeAt(++u),u=Gf(e,u,s),s=n.charCodeAt(u)),(s===69||s===101)&&(o=!0,s=n.charCodeAt(++u),(s===43||s===45)&&(s=n.charCodeAt(++u)),u=Gf(e,u,s),s=n.charCodeAt(u)),s===46||xh(s))throw or(e.source,u,`Invalid number, expected digit but got: ${eo(e,u)}.`);return Yt(e,o?Ee.FLOAT:Ee.INT,t,u,n.slice(t,u))}function Gf(e,t,r){if(!Bi(r))throw or(e.source,t,`Invalid number, expected digit but got: ${eo(e,t)}.`);const n=e.source.body;let u=t+1;for(;Bi(n.charCodeAt(u));)++u;return u}function nT(e,t){const r=e.source.body,n=r.length;let u=t+1,s=u,o="";for(;u<n;){const a=r.charCodeAt(u);if(a===34)return o+=r.slice(s,u),Yt(e,Ee.STRING,t,u+1,o);if(a===92){o+=r.slice(s,u);const i=r.charCodeAt(u+1)===117?r.charCodeAt(u+2)===123?uT(e,u):sT(e,u):oT(e,u);o+=i.value,u+=i.size,s=u;continue}if(a===10||a===13)break;if(wa(a))++u;else if(_p(r,u))u+=2;else throw or(e.source,u,`Invalid character within String: ${eo(e,u)}.`)}throw or(e.source,u,"Unterminated string.")}function uT(e,t){const r=e.source.body;let n=0,u=3;for(;u<12;){const s=r.charCodeAt(t+u++);if(s===125){if(u<5||!wa(n))break;return{value:String.fromCodePoint(n),size:u}}if(n=n<<4|ui(s),n<0)break}throw or(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+u)}".`)}function sT(e,t){const r=e.source.body,n=uv(r,t+2);if(wa(n))return{value:String.fromCodePoint(n),size:6};if(P8(n)&&r.charCodeAt(t+6)===92&&r.charCodeAt(t+7)===117){const u=uv(r,t+8);if(O8(u))return{value:String.fromCodePoint(n,u),size:12}}throw or(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+6)}".`)}function uv(e,t){return ui(e.charCodeAt(t))<<12|ui(e.charCodeAt(t+1))<<8|ui(e.charCodeAt(t+2))<<4|ui(e.charCodeAt(t+3))}function ui(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function oT(e,t){const r=e.source.body;switch(r.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw or(e.source,t,`Invalid character escape sequence: "${r.slice(t,t+2)}".`)}function aT(e,t){const r=e.source.body,n=r.length;let u=e.lineStart,s=t+3,o=s,a="";const i=[];for(;s<n;){const c=r.charCodeAt(s);if(c===34&&r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34){a+=r.slice(o,s),i.push(a);const l=Yt(e,Ee.BLOCK_STRING,t,s+3,KB(i).join(`
`));return e.line+=i.length-1,e.lineStart=u,l}if(c===92&&r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34&&r.charCodeAt(s+3)===34){a+=r.slice(o,s),o=s+1,s+=4;continue}if(c===10||c===13){a+=r.slice(o,s),i.push(a),c===13&&r.charCodeAt(s+1)===10?s+=2:++s,a="",o=s,u=s;continue}if(wa(c))++s;else if(_p(r,s))s+=2;else throw or(e.source,s,`Invalid character within String: ${eo(e,s)}.`)}throw or(e.source,s,"Unterminated string.")}function iT(e,t){const r=e.source.body,n=r.length;let u=t+1;for(;u<n;){const s=r.charCodeAt(u);if($8(s))++u;else break}return Yt(e,Ee.NAME,t,u,r.slice(t,u))}const cT=10,k8=2;function Se(e){return Bp(e,[])}function Bp(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return lT(e,t);default:return String(e)}}function lT(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const r=[...t,e];if(pT(e)){const n=e.toJSON();if(n!==e)return typeof n=="string"?n:Bp(n,r)}else if(Array.isArray(e))return dT(e,r);return fT(e,r)}function pT(e){return typeof e.toJSON=="function"}function fT(e,t){const r=Object.entries(e);return r.length===0?"{}":t.length>k8?"["+DT(e)+"]":"{ "+r.map(([u,s])=>u+": "+Bp(s,t)).join(", ")+" }"}function dT(e,t){if(e.length===0)return"[]";if(t.length>k8)return"[Array]";const r=Math.min(cT,e.length),n=e.length-r,u=[];for(let s=0;s<r;++s)u.push(Bp(e[s],t));return n===1?u.push("... 1 more item"):n>1&&u.push(`... ${n} more items`),"["+u.join(", ")+"]"}function DT(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}const Ln=function(t,r){return t instanceof r};class Rh{constructor(t,r="GraphQL request",n={line:1,column:1}){typeof t=="string"||dt(!1,`Body must be a string. Received: ${Se(t)}.`),this.body=t,this.name=r,this.locationOffset=n,this.locationOffset.line>0||dt(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||dt(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function hT(e){return Ln(e,Rh)}function jh(e,t){return new mT(e,t).parseDocument()}let mT=class{constructor(t,r={}){const n=hT(t)?t:new Rh(t);this._lexer=new ZB(n),this._options=r,this._tokenCounter=0}parseName(){const t=this.expectToken(Ee.NAME);return this.node(t,{kind:V.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:V.DOCUMENT,definitions:this.many(Ee.SOF,this.parseDefinition,Ee.EOF)})}parseDefinition(){if(this.peek(Ee.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),r=t?this._lexer.lookahead():this._lexer.token;if(r.kind===Ee.NAME){switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw or(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(r.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(r)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(Ee.BRACE_L))return this.node(t,{kind:V.OPERATION_DEFINITION,operation:ar.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const r=this.parseOperationType();let n;return this.peek(Ee.NAME)&&(n=this.parseName()),this.node(t,{kind:V.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(Ee.NAME);switch(t.value){case"query":return ar.QUERY;case"mutation":return ar.MUTATION;case"subscription":return ar.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(Ee.PAREN_L,this.parseVariableDefinition,Ee.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:V.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ee.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ee.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(Ee.DOLLAR),this.node(t,{kind:V.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:V.SELECTION_SET,selections:this.many(Ee.BRACE_L,this.parseSelection,Ee.BRACE_R)})}parseSelection(){return this.peek(Ee.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,r=this.parseName();let n,u;return this.expectOptionalToken(Ee.COLON)?(n=r,u=this.parseName()):u=r,this.node(t,{kind:V.FIELD,alias:n,name:u,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ee.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const r=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ee.PAREN_L,r,Ee.PAREN_R)}parseArgument(t=!1){const r=this._lexer.token,n=this.parseName();return this.expectToken(Ee.COLON),this.node(r,{kind:V.ARGUMENT,name:n,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(Ee.SPREAD);const r=this.expectOptionalKeyword("on");return!r&&this.peek(Ee.NAME)?this.node(t,{kind:V.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:V.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:V.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:V.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const r=this._lexer.token;switch(r.kind){case Ee.BRACKET_L:return this.parseList(t);case Ee.BRACE_L:return this.parseObject(t);case Ee.INT:return this.advanceLexer(),this.node(r,{kind:V.INT,value:r.value});case Ee.FLOAT:return this.advanceLexer(),this.node(r,{kind:V.FLOAT,value:r.value});case Ee.STRING:case Ee.BLOCK_STRING:return this.parseStringLiteral();case Ee.NAME:switch(this.advanceLexer(),r.value){case"true":return this.node(r,{kind:V.BOOLEAN,value:!0});case"false":return this.node(r,{kind:V.BOOLEAN,value:!1});case"null":return this.node(r,{kind:V.NULL});default:return this.node(r,{kind:V.ENUM,value:r.value})}case Ee.DOLLAR:if(t)if(this.expectToken(Ee.DOLLAR),this._lexer.token.kind===Ee.NAME){const n=this._lexer.token.value;throw or(this._lexer.source,r.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(r);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:V.STRING,value:t.value,block:t.kind===Ee.BLOCK_STRING})}parseList(t){const r=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:V.LIST,values:this.any(Ee.BRACKET_L,r,Ee.BRACKET_R)})}parseObject(t){const r=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:V.OBJECT,fields:this.any(Ee.BRACE_L,r,Ee.BRACE_R)})}parseObjectField(t){const r=this._lexer.token,n=this.parseName();return this.expectToken(Ee.COLON),this.node(r,{kind:V.OBJECT_FIELD,name:n,value:this.parseValueLiteral(t)})}parseDirectives(t){const r=[];for(;this.peek(Ee.AT);)r.push(this.parseDirective(t));return r}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const r=this._lexer.token;return this.expectToken(Ee.AT),this.node(r,{kind:V.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let r;if(this.expectOptionalToken(Ee.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(Ee.BRACKET_R),r=this.node(t,{kind:V.LIST_TYPE,type:n})}else r=this.parseNamedType();return this.expectOptionalToken(Ee.BANG)?this.node(t,{kind:V.NON_NULL_TYPE,type:r}):r}parseNamedType(){return this.node(this._lexer.token,{kind:V.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Ee.STRING)||this.peek(Ee.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),u=this.many(Ee.BRACE_L,this.parseOperationTypeDefinition,Ee.BRACE_R);return this.node(t,{kind:V.SCHEMA_DEFINITION,description:r,directives:n,operationTypes:u})}parseOperationTypeDefinition(){const t=this._lexer.token,r=this.parseOperationType();this.expectToken(Ee.COLON);const n=this.parseNamedType();return this.node(t,{kind:V.OPERATION_TYPE_DEFINITION,operation:r,type:n})}parseScalarTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),u=this.parseConstDirectives();return this.node(t,{kind:V.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:u})}parseObjectTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),u=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:V.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:u,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Ee.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Ee.BRACE_L,this.parseFieldDefinition,Ee.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,r=this.parseDescription(),n=this.parseName(),u=this.parseArgumentDefs();this.expectToken(Ee.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(t,{kind:V.FIELD_DEFINITION,description:r,name:n,arguments:u,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(Ee.PAREN_L,this.parseInputValueDef,Ee.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(Ee.COLON);const u=this.parseTypeReference();let s;this.expectOptionalToken(Ee.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(t,{kind:V.INPUT_VALUE_DEFINITION,description:r,name:n,type:u,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),u=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:V.INTERFACE_TYPE_DEFINITION,description:r,name:n,interfaces:u,directives:s,fields:o})}parseUnionTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),u=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(t,{kind:V.UNION_TYPE_DEFINITION,description:r,name:n,directives:u,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(Ee.EQUALS)?this.delimitedMany(Ee.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),u=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(t,{kind:V.ENUM_TYPE_DEFINITION,description:r,name:n,directives:u,values:s})}parseEnumValuesDefinition(){return this.optionalMany(Ee.BRACE_L,this.parseEnumValueDefinition,Ee.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,r=this.parseDescription(),n=this.parseEnumValueName(),u=this.parseConstDirectives();return this.node(t,{kind:V.ENUM_VALUE_DEFINITION,description:r,name:n,directives:u})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw or(this._lexer.source,this._lexer.token.start,`${kc(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),u=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(t,{kind:V.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:u,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(Ee.BRACE_L,this.parseInputValueDef,Ee.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===Ee.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const r=this.parseConstDirectives(),n=this.optionalMany(Ee.BRACE_L,this.parseOperationTypeDefinition,Ee.BRACE_R);if(r.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:V.SCHEMA_EXTENSION,directives:r,operationTypes:n})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const r=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(t,{kind:V.SCALAR_TYPE_EXTENSION,name:r,directives:n})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const r=this.parseName(),n=this.parseImplementsInterfaces(),u=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&u.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:V.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:u,fields:s})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const r=this.parseName(),n=this.parseImplementsInterfaces(),u=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&u.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:V.INTERFACE_TYPE_EXTENSION,name:r,interfaces:n,directives:u,fields:s})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const r=this.parseName(),n=this.parseConstDirectives(),u=this.parseUnionMemberTypes();if(n.length===0&&u.length===0)throw this.unexpected();return this.node(t,{kind:V.UNION_TYPE_EXTENSION,name:r,directives:n,types:u})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const r=this.parseName(),n=this.parseConstDirectives(),u=this.parseEnumValuesDefinition();if(n.length===0&&u.length===0)throw this.unexpected();return this.node(t,{kind:V.ENUM_TYPE_EXTENSION,name:r,directives:n,values:u})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const r=this.parseName(),n=this.parseConstDirectives(),u=this.parseInputFieldsDefinition();if(n.length===0&&u.length===0)throw this.unexpected();return this.node(t,{kind:V.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:u})}parseDirectiveDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ee.AT);const n=this.parseName(),u=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(t,{kind:V.DIRECTIVE_DEFINITION,description:r,name:n,arguments:u,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(Ee.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,r=this.parseName();if(Object.prototype.hasOwnProperty.call(ze,r.value))return r;throw this.unexpected(t)}node(t,r){return this._options.noLocation!==!0&&(r.loc=new JB(t,this._lexer.lastToken,this._lexer.source)),r}peek(t){return this._lexer.token.kind===t}expectToken(t){const r=this._lexer.token;if(r.kind===t)return this.advanceLexer(),r;throw or(this._lexer.source,r.start,`Expected ${I8(t)}, found ${kc(r)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const r=this._lexer.token;if(r.kind===Ee.NAME&&r.value===t)this.advanceLexer();else throw or(this._lexer.source,r.start,`Expected "${t}", found ${kc(r)}.`)}expectOptionalKeyword(t){const r=this._lexer.token;return r.kind===Ee.NAME&&r.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const r=t??this._lexer.token;return or(this._lexer.source,r.start,`Unexpected ${kc(r)}.`)}any(t,r,n){this.expectToken(t);const u=[];for(;!this.expectOptionalToken(n);)u.push(r.call(this));return u}optionalMany(t,r,n){if(this.expectOptionalToken(t)){const u=[];do u.push(r.call(this));while(!this.expectOptionalToken(n));return u}return[]}many(t,r,n){this.expectToken(t);const u=[];do u.push(r.call(this));while(!this.expectOptionalToken(n));return u}delimitedMany(t,r){this.expectOptionalToken(t);const n=[];do n.push(r.call(this));while(this.expectOptionalToken(t));return n}advanceLexer(){const{maxTokens:t}=this._options,r=this._lexer.advance();if(t!==void 0&&r.kind!==Ee.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw or(this._lexer.source,r.start,`Document contains more that ${t} tokens. Parsing aborted.`)}};function kc(e){const t=e.value;return I8(e.kind)+(t!=null?` "${t}"`:"")}function I8(e){return QB(e)?`"${e}"`:e}const ET=5;function Tu(e,t){const[r,n]=t?[e,t]:[void 0,e];let u=" Did you mean ";r&&(u+=r+" ");const s=n.map(i=>`"${i}"`);switch(s.length){case 0:return"";case 1:return u+s[0]+"?";case 2:return u+s[0]+" or "+s[1]+"?"}const o=s.slice(0,ET),a=o.pop();return u+o.join(", ")+", or "+a+"?"}function sv(e){return e}function to(e,t){const r=Object.create(null);for(const n of e)r[t(n)]=n;return r}function Mh(e,t,r){const n=Object.create(null);for(const u of e)n[t(u)]=r(u);return n}function Au(e,t){const r=Object.create(null);for(const n of Object.keys(e))r[n]=t(e[n],n);return r}function Lh(e,t){let r=0,n=0;for(;r<e.length&&n<t.length;){let u=e.charCodeAt(r),s=t.charCodeAt(n);if(Ic(u)&&Ic(s)){let o=0;do++r,o=o*10+u-y2,u=e.charCodeAt(r);while(Ic(u)&&o>0);let a=0;do++n,a=a*10+s-y2,s=t.charCodeAt(n);while(Ic(s)&&a>0);if(o<a)return-1;if(o>a)return 1}else{if(u<s)return-1;if(u>s)return 1;++r,++n}}return e.length-t.length}const y2=48,vT=57;function Ic(e){return!isNaN(e)&&y2<=e&&e<=vT}function ps(e,t){const r=Object.create(null),n=new yT(e),u=Math.floor(e.length*.4)+1;for(const s of t){const o=n.measure(s,u);o!==void 0&&(r[s]=o)}return Object.keys(r).sort((s,o)=>{const a=r[s]-r[o];return a!==0?a:Lh(s,o)})}class yT{constructor(t){this._input=t,this._inputLowerCase=t.toLowerCase(),this._inputArray=ov(this._inputLowerCase),this._rows=[new Array(t.length+1).fill(0),new Array(t.length+1).fill(0),new Array(t.length+1).fill(0)]}measure(t,r){if(this._input===t)return 0;const n=t.toLowerCase();if(this._inputLowerCase===n)return 1;let u=ov(n),s=this._inputArray;if(u.length<s.length){const l=u;u=s,s=l}const o=u.length,a=s.length;if(o-a>r)return;const i=this._rows;for(let l=0;l<=a;l++)i[0][l]=l;for(let l=1;l<=o;l++){const p=i[(l-1)%3],f=i[l%3];let d=f[0]=l;for(let h=1;h<=a;h++){const E=u[l-1]===s[h-1]?0:1;let A=Math.min(p[h]+1,f[h-1]+1,p[h-1]+E);if(l>1&&h>1&&u[l-1]===s[h-2]&&u[l-2]===s[h-1]){const m=i[(l-2)%3][h-2];A=Math.min(A,m+1)}A<d&&(d=A),f[h]=A}if(d>r)return}const c=i[o%3][a];return c<=r?c:void 0}}function ov(e){const t=e.length,r=new Array(t);for(let n=0;n<t;++n)r[n]=e.charCodeAt(n);return r}function hn(e){if(e==null)return Object.create(null);if(Object.getPrototypeOf(e)===null)return e;const t=Object.create(null);for(const[r,n]of Object.entries(e))t[r]=n;return t}function gT(e){return`"${e.replace(AT,FT)}"`}const AT=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function FT(e){return CT[e.charCodeAt(0)]}const CT=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],si=Object.freeze({});function Hi(e,t,r=B8){const n=new Map;for(const m of Object.values(V))n.set(m,ql(t,m));let u,s=Array.isArray(e),o=[e],a=-1,i=[],c=e,l,p;const f=[],d=[];do{a++;const m=a===o.length,y=m&&i.length!==0;if(m){if(l=d.length===0?void 0:f[f.length-1],c=p,p=d.pop(),y)if(s){c=c.slice();let B=0;for(const[P,$]of i){const I=P-B;$===null?(c.splice(I,1),B++):c[I]=$}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[B,P]of i)c[B]=P}a=u.index,o=u.keys,i=u.edits,s=u.inArray,u=u.prev}else if(p){if(l=s?a:o[a],c=p[l],c==null)continue;f.push(l)}let F;if(!Array.isArray(c)){var h,E;E2(c)||dt(!1,`Invalid AST Node: ${Se(c)}.`);const B=m?(h=n.get(c.kind))===null||h===void 0?void 0:h.leave:(E=n.get(c.kind))===null||E===void 0?void 0:E.enter;if(F=B==null?void 0:B.call(t,c,l,p,f,d),F===si)break;if(F===!1){if(!m){f.pop();continue}}else if(F!==void 0&&(i.push([l,F]),!m))if(E2(F))c=F;else{f.pop();continue}}if(F===void 0&&y&&i.push([l,c]),m)f.pop();else{var A;u={inArray:s,index:a,keys:o,edits:i,prev:u},s=Array.isArray(c),o=s?c:(A=r[c.kind])!==null&&A!==void 0?A:[],a=-1,i=[],p&&d.push(p),p=c}}while(u!==void 0);return i.length!==0?i[i.length-1][1]:e}function N8(e){const t=new Array(e.length).fill(null),r=Object.create(null);for(const n of Object.values(V)){let u=!1;const s=new Array(e.length).fill(void 0),o=new Array(e.length).fill(void 0);for(let i=0;i<e.length;++i){const{enter:c,leave:l}=ql(e[i],n);u||(u=c!=null||l!=null),s[i]=c,o[i]=l}if(!u)continue;const a={enter(...i){const c=i[0];for(let p=0;p<e.length;p++)if(t[p]===null){var l;const f=(l=s[p])===null||l===void 0?void 0:l.apply(e[p],i);if(f===!1)t[p]=c;else if(f===si)t[p]=si;else if(f!==void 0)return f}},leave(...i){const c=i[0];for(let p=0;p<e.length;p++)if(t[p]===null){var l;const f=(l=o[p])===null||l===void 0?void 0:l.apply(e[p],i);if(f===si)t[p]=si;else if(f!==void 0&&f!==!1)return f}else t[p]===c&&(t[p]=null)}};r[n]=a}return r}function ql(e,t){const r=e[t];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}function Kt(e){return Hi(e,ST)}const bT=80,ST={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Re(e.definitions,`

`)},OperationDefinition:{leave(e){const t=ft("(",Re(e.variableDefinitions,", "),")"),r=Re([e.operation,Re([e.name,t]),Re(e.directives," ")]," ");return(r==="query"?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+ft(" = ",r)+ft(" ",Re(n," "))},SelectionSet:{leave:({selections:e})=>Fn(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:u}){const s=ft("",e,": ")+t;let o=s+ft("(",Re(r,", "),")");return o.length>bT&&(o=s+ft(`(
`,Al(Re(r,`
`)),`
)`)),Re([o,Re(n," "),u]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+ft(" ",Re(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>Re(["...",ft("on ",e),Re(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:u})=>`fragment ${e}${ft("(",Re(r,", "),")")} on ${t} ${ft("",Re(n," ")," ")}`+u},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?YB(e):gT(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Re(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Re(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+ft("(",Re(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>ft("",e,`
`)+Re(["schema",Re(t," "),Fn(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>ft("",e,`
`)+Re(["scalar",t,Re(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:u})=>ft("",e,`
`)+Re(["type",t,ft("implements ",Re(r," & ")),Re(n," "),Fn(u)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:u})=>ft("",e,`
`)+t+(av(r)?ft(`(
`,Al(Re(r,`
`)),`
)`):ft("(",Re(r,", "),")"))+": "+n+ft(" ",Re(u," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:u})=>ft("",e,`
`)+Re([t+": "+r,ft("= ",n),Re(u," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:u})=>ft("",e,`
`)+Re(["interface",t,ft("implements ",Re(r," & ")),Re(n," "),Fn(u)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>ft("",e,`
`)+Re(["union",t,Re(r," "),ft("= ",Re(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>ft("",e,`
`)+Re(["enum",t,Re(r," "),Fn(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>ft("",e,`
`)+Re([t,Re(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>ft("",e,`
`)+Re(["input",t,Re(r," "),Fn(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:u})=>ft("",e,`
`)+"directive @"+t+(av(r)?ft(`(
`,Al(Re(r,`
`)),`
)`):ft("(",Re(r,", "),")"))+(n?" repeatable":"")+" on "+Re(u," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Re(["extend schema",Re(e," "),Fn(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Re(["extend scalar",e,Re(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>Re(["extend type",e,ft("implements ",Re(t," & ")),Re(r," "),Fn(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>Re(["extend interface",e,ft("implements ",Re(t," & ")),Re(r," "),Fn(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>Re(["extend union",e,Re(t," "),ft("= ",Re(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>Re(["extend enum",e,Re(t," "),Fn(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>Re(["extend input",e,Re(t," "),Fn(r)]," ")}};function Re(e,t=""){var r;return(r=e==null?void 0:e.filter(n=>n).join(t))!==null&&r!==void 0?r:""}function Fn(e){return ft(`{
`,Al(Re(e,`
`)),`
}`)}function ft(e,t,r=""){return t!=null&&t!==""?e+t+r:""}function Al(e){return ft("  ",e.replace(/\n/g,`
  `))}function av(e){var t;return(t=e==null?void 0:e.some(r=>r.includes(`
`)))!==null&&t!==void 0?t:!1}function g2(e,t){switch(e.kind){case V.NULL:return null;case V.INT:return parseInt(e.value,10);case V.FLOAT:return parseFloat(e.value);case V.STRING:case V.ENUM:case V.BOOLEAN:return e.value;case V.LIST:return e.values.map(r=>g2(r,t));case V.OBJECT:return Mh(e.fields,r=>r.name.value,r=>g2(r.value,t));case V.VARIABLE:return t==null?void 0:t[e.name.value]}}function Un(e){if(e!=null||dt(!1,"Must provide name."),typeof e=="string"||dt(!1,"Expected name to be a string."),e.length===0)throw new he("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!$8(e.charCodeAt(t)))throw new he(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!xh(e.charCodeAt(0)))throw new he(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function wT(e){if(e==="true"||e==="false"||e==="null")throw new he(`Enum values cannot be named: ${e}`);return Un(e)}function Uh(e){return nn(e)||ut(e)||mt(e)||lr(e)||Zt(e)||bt(e)||jt(e)||ct(e)}function nn(e){return Ln(e,au)}function ut(e){return Ln(e,Wr)}function mt(e){return Ln(e,cs)}function lr(e){return Ln(e,Ti)}function Zt(e){return Ln(e,iu)}function bt(e){return Ln(e,ro)}function jt(e){return Ln(e,gr)}function ct(e){return Ln(e,ot)}function In(e){return nn(e)||Zt(e)||bt(e)||Gh(e)&&In(e.ofType)}function fi(e){return nn(e)||ut(e)||mt(e)||lr(e)||Zt(e)||Gh(e)&&fi(e.ofType)}function Dn(e){return nn(e)||Zt(e)}function is(e){return ut(e)||mt(e)||lr(e)}function rs(e){return mt(e)||lr(e)}class gr{constructor(t){Uh(t)||dt(!1,`Expected ${Se(t)} to be a GraphQL type.`),this.ofType=t}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class ot{constructor(t){_T(t)||dt(!1,`Expected ${Se(t)} to be a GraphQL nullable type.`),this.ofType=t}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function Gh(e){return jt(e)||ct(e)}function _T(e){return Uh(e)&&!ct(e)}function Vh(e){if(e)return ct(e)?e.ofType:e}function Tp(e){return nn(e)||ut(e)||mt(e)||lr(e)||Zt(e)||bt(e)}function Vr(e){if(e){let t=e;for(;Gh(t);)t=t.ofType;return t}}function q8(e){return typeof e=="function"?e():e}function x8(e){return typeof e=="function"?e():e}class au{constructor(t){var r,n,u,s;const o=(r=t.parseValue)!==null&&r!==void 0?r:sv;this.name=Un(t.name),this.description=t.description,this.specifiedByURL=t.specifiedByURL,this.serialize=(n=t.serialize)!==null&&n!==void 0?n:sv,this.parseValue=o,this.parseLiteral=(u=t.parseLiteral)!==null&&u!==void 0?u:(a,i)=>o(g2(a,i)),this.extensions=hn(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(s=t.extensionASTNodes)!==null&&s!==void 0?s:[],t.specifiedByURL==null||typeof t.specifiedByURL=="string"||dt(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${Se(t.specifiedByURL)}.`),t.serialize==null||typeof t.serialize=="function"||dt(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),t.parseLiteral&&(typeof t.parseValue=="function"&&typeof t.parseLiteral=="function"||dt(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Wr{constructor(t){var r;this.name=Un(t.name),this.description=t.description,this.isTypeOf=t.isTypeOf,this.extensions=hn(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(r=t.extensionASTNodes)!==null&&r!==void 0?r:[],this._fields=()=>j8(t),this._interfaces=()=>R8(t),t.isTypeOf==null||typeof t.isTypeOf=="function"||dt(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${Se(t.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:L8(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function R8(e){var t;const r=q8((t=e.interfaces)!==null&&t!==void 0?t:[]);return Array.isArray(r)||dt(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),r}function j8(e){const t=x8(e.fields);return sa(t)||dt(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),Au(t,(r,n)=>{var u;sa(r)||dt(!1,`${e.name}.${n} field config must be an object.`),r.resolve==null||typeof r.resolve=="function"||dt(!1,`${e.name}.${n} field resolver must be a function if provided, but got: ${Se(r.resolve)}.`);const s=(u=r.args)!==null&&u!==void 0?u:{};return sa(s)||dt(!1,`${e.name}.${n} args must be an object with argument names as keys.`),{name:Un(n),description:r.description,type:r.type,args:M8(s),resolve:r.resolve,subscribe:r.subscribe,deprecationReason:r.deprecationReason,extensions:hn(r.extensions),astNode:r.astNode}})}function M8(e){return Object.entries(e).map(([t,r])=>({name:Un(t),description:r.description,type:r.type,defaultValue:r.defaultValue,deprecationReason:r.deprecationReason,extensions:hn(r.extensions),astNode:r.astNode}))}function sa(e){return Mn(e)&&!Array.isArray(e)}function L8(e){return Au(e,t=>({description:t.description,type:t.type,args:U8(t.args),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}function U8(e){return Mh(e,t=>t.name,t=>({description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}function Wi(e){return ct(e.type)&&e.defaultValue===void 0}class cs{constructor(t){var r;this.name=Un(t.name),this.description=t.description,this.resolveType=t.resolveType,this.extensions=hn(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(r=t.extensionASTNodes)!==null&&r!==void 0?r:[],this._fields=j8.bind(void 0,t),this._interfaces=R8.bind(void 0,t),t.resolveType==null||typeof t.resolveType=="function"||dt(!1,`${this.name} must provide "resolveType" as a function, but got: ${Se(t.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:L8(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Ti{constructor(t){var r;this.name=Un(t.name),this.description=t.description,this.resolveType=t.resolveType,this.extensions=hn(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(r=t.extensionASTNodes)!==null&&r!==void 0?r:[],this._types=BT.bind(void 0,t),t.resolveType==null||typeof t.resolveType=="function"||dt(!1,`${this.name} must provide "resolveType" as a function, but got: ${Se(t.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function BT(e){const t=q8(e.types);return Array.isArray(t)||dt(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}class iu{constructor(t){var r;this.name=Un(t.name),this.description=t.description,this.extensions=hn(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(r=t.extensionASTNodes)!==null&&r!==void 0?r:[],this._values=TT(this.name,t.values),this._valueLookup=new Map(this._values.map(n=>[n.value,n])),this._nameLookup=to(this._values,n=>n.name)}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(t){return this._nameLookup[t]}serialize(t){const r=this._valueLookup.get(t);if(r===void 0)throw new he(`Enum "${this.name}" cannot represent value: ${Se(t)}`);return r.name}parseValue(t){if(typeof t!="string"){const n=Se(t);throw new he(`Enum "${this.name}" cannot represent non-string value: ${n}.`+Nc(this,n))}const r=this.getValue(t);if(r==null)throw new he(`Value "${t}" does not exist in "${this.name}" enum.`+Nc(this,t));return r.value}parseLiteral(t,r){if(t.kind!==V.ENUM){const u=Kt(t);throw new he(`Enum "${this.name}" cannot represent non-enum value: ${u}.`+Nc(this,u),{nodes:t})}const n=this.getValue(t.value);if(n==null){const u=Kt(t);throw new he(`Value "${u}" does not exist in "${this.name}" enum.`+Nc(this,u),{nodes:t})}return n.value}toConfig(){const t=Mh(this.getValues(),r=>r.name,r=>({description:r.description,value:r.value,deprecationReason:r.deprecationReason,extensions:r.extensions,astNode:r.astNode}));return{name:this.name,description:this.description,values:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Nc(e,t){const r=e.getValues().map(u=>u.name),n=ps(t,r);return Tu("the enum value",n)}function TT(e,t){return sa(t)||dt(!1,`${e} values must be an object with value names as keys.`),Object.entries(t).map(([r,n])=>(sa(n)||dt(!1,`${e}.${r} must refer to an object with a "value" key representing an internal value but got: ${Se(n)}.`),{name:wT(r),description:n.description,value:n.value!==void 0?n.value:r,deprecationReason:n.deprecationReason,extensions:hn(n.extensions),astNode:n.astNode}))}class ro{constructor(t){var r;this.name=Un(t.name),this.description=t.description,this.extensions=hn(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(r=t.extensionASTNodes)!==null&&r!==void 0?r:[],this._fields=$T.bind(void 0,t)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){const t=Au(this.getFields(),r=>({description:r.description,type:r.type,defaultValue:r.defaultValue,deprecationReason:r.deprecationReason,extensions:r.extensions,astNode:r.astNode}));return{name:this.name,description:this.description,fields:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function $T(e){const t=x8(e.fields);return sa(t)||dt(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),Au(t,(r,n)=>(!("resolve"in r)||dt(!1,`${e.name}.${n} field has a resolve property, but Input Types cannot define resolvers.`),{name:Un(n),description:r.description,type:r.type,defaultValue:r.defaultValue,deprecationReason:r.deprecationReason,extensions:hn(r.extensions),astNode:r.astNode}))}function G8(e){return ct(e.type)&&e.defaultValue===void 0}function A2(e,t){return e===t?!0:ct(e)&&ct(t)||jt(e)&&jt(t)?A2(e.ofType,t.ofType):!1}function oa(e,t,r){return t===r?!0:ct(r)?ct(t)?oa(e,t.ofType,r.ofType):!1:ct(t)?oa(e,t.ofType,r):jt(r)?jt(t)?oa(e,t.ofType,r.ofType):!1:jt(t)?!1:rs(r)&&(mt(t)||ut(t))&&e.isSubType(r,t)}function iv(e,t,r){return t===r?!0:rs(t)?rs(r)?e.getPossibleTypes(t).some(n=>e.isSubType(r,n)):e.isSubType(t,r):rs(r)?e.isSubType(r,t):!1}const Vf=2147483647,Hf=-2147483648,F2=new au({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){const t=zi(e);if(typeof t=="boolean")return t?1:0;let r=t;if(typeof t=="string"&&t!==""&&(r=Number(t)),typeof r!="number"||!Number.isInteger(r))throw new he(`Int cannot represent non-integer value: ${Se(t)}`);if(r>Vf||r<Hf)throw new he("Int cannot represent non 32-bit signed integer value: "+Se(t));return r},parseValue(e){if(typeof e!="number"||!Number.isInteger(e))throw new he(`Int cannot represent non-integer value: ${Se(e)}`);if(e>Vf||e<Hf)throw new he(`Int cannot represent non 32-bit signed integer value: ${e}`);return e},parseLiteral(e){if(e.kind!==V.INT)throw new he(`Int cannot represent non-integer value: ${Kt(e)}`,{nodes:e});const t=parseInt(e.value,10);if(t>Vf||t<Hf)throw new he(`Int cannot represent non 32-bit signed integer value: ${e.value}`,{nodes:e});return t}}),C2=new au({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){const t=zi(e);if(typeof t=="boolean")return t?1:0;let r=t;if(typeof t=="string"&&t!==""&&(r=Number(t)),typeof r!="number"||!Number.isFinite(r))throw new he(`Float cannot represent non numeric value: ${Se(t)}`);return r},parseValue(e){if(typeof e!="number"||!Number.isFinite(e))throw new he(`Float cannot represent non numeric value: ${Se(e)}`);return e},parseLiteral(e){if(e.kind!==V.FLOAT&&e.kind!==V.INT)throw new he(`Float cannot represent non numeric value: ${Kt(e)}`,e);return parseFloat(e.value)}}),Rt=new au({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){const t=zi(e);if(typeof t=="string")return t;if(typeof t=="boolean")return t?"true":"false";if(typeof t=="number"&&Number.isFinite(t))return t.toString();throw new he(`String cannot represent value: ${Se(e)}`)},parseValue(e){if(typeof e!="string")throw new he(`String cannot represent a non string value: ${Se(e)}`);return e},parseLiteral(e){if(e.kind!==V.STRING)throw new he(`String cannot represent a non string value: ${Kt(e)}`,{nodes:e});return e.value}}),Hr=new au({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){const t=zi(e);if(typeof t=="boolean")return t;if(Number.isFinite(t))return t!==0;throw new he(`Boolean cannot represent a non boolean value: ${Se(t)}`)},parseValue(e){if(typeof e!="boolean")throw new he(`Boolean cannot represent a non boolean value: ${Se(e)}`);return e},parseLiteral(e){if(e.kind!==V.BOOLEAN)throw new he(`Boolean cannot represent a non boolean value: ${Kt(e)}`,{nodes:e});return e.value}}),xl=new au({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){const t=zi(e);if(typeof t=="string")return t;if(Number.isInteger(t))return String(t);throw new he(`ID cannot represent value: ${Se(e)}`)},parseValue(e){if(typeof e=="string")return e;if(typeof e=="number"&&Number.isInteger(e))return e.toString();throw new he(`ID cannot represent value: ${Se(e)}`)},parseLiteral(e){if(e.kind!==V.STRING&&e.kind!==V.INT)throw new he("ID cannot represent a non-string and non-integer value: "+Kt(e),{nodes:e});return e.value}}),Hh=Object.freeze([Rt,F2,C2,Hr,xl]);function Ji(e){return Hh.some(({name:t})=>e.name===t)}function zi(e){if(Mn(e)){if(typeof e.valueOf=="function"){const t=e.valueOf();if(!Mn(t))return t}if(typeof e.toJSON=="function")return e.toJSON()}return e}function V8(e){return Ln(e,ls)}class ls{constructor(t){var r,n;this.name=Un(t.name),this.description=t.description,this.locations=t.locations,this.isRepeatable=(r=t.isRepeatable)!==null&&r!==void 0?r:!1,this.extensions=hn(t.extensions),this.astNode=t.astNode,Array.isArray(t.locations)||dt(!1,`@${t.name} locations must be an Array.`);const u=(n=t.args)!==null&&n!==void 0?n:{};Mn(u)&&!Array.isArray(u)||dt(!1,`@${t.name} args must be an object with argument names as keys.`),this.args=M8(u)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:U8(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const H8=new ls({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[ze.FIELD,ze.FRAGMENT_SPREAD,ze.INLINE_FRAGMENT],args:{if:{type:new ot(Hr),description:"Included when true."}}}),W8=new ls({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[ze.FIELD,ze.FRAGMENT_SPREAD,ze.INLINE_FRAGMENT],args:{if:{type:new ot(Hr),description:"Skipped when true."}}}),PT="No longer supported",$p=new ls({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[ze.FIELD_DEFINITION,ze.ARGUMENT_DEFINITION,ze.INPUT_FIELD_DEFINITION,ze.ENUM_VALUE],args:{reason:{type:Rt,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:PT}}}),J8=new ls({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[ze.SCALAR],args:{url:{type:new ot(Rt),description:"The URL that specifies the behavior of this scalar."}}}),lo=Object.freeze([H8,W8,$p,J8]);function z8(e){return lo.some(({name:t})=>t===e.name)}function Wh(e){return typeof e=="object"&&typeof(e==null?void 0:e[Symbol.iterator])=="function"}function Yu(e,t){if(ct(t)){const r=Yu(e,t.ofType);return(r==null?void 0:r.kind)===V.NULL?null:r}if(e===null)return{kind:V.NULL};if(e===void 0)return null;if(jt(t)){const r=t.ofType;if(Wh(e)){const n=[];for(const u of e){const s=Yu(u,r);s!=null&&n.push(s)}return{kind:V.LIST,values:n}}return Yu(e,r)}if(bt(t)){if(!Mn(e))return null;const r=[];for(const n of Object.values(t.getFields())){const u=Yu(e[n.name],n.type);u&&r.push({kind:V.OBJECT_FIELD,name:{kind:V.NAME,value:n.name},value:u})}return{kind:V.OBJECT,fields:r}}if(Dn(t)){const r=t.serialize(e);if(r==null)return null;if(typeof r=="boolean")return{kind:V.BOOLEAN,value:r};if(typeof r=="number"&&Number.isFinite(r)){const n=String(r);return cv.test(n)?{kind:V.INT,value:n}:{kind:V.FLOAT,value:n}}if(typeof r=="string")return Zt(t)?{kind:V.ENUM,value:r}:t===xl&&cv.test(r)?{kind:V.INT,value:r}:{kind:V.STRING,value:r};throw new TypeError(`Cannot convert value to AST: ${Se(r)}.`)}tn(!1,"Unexpected input type: "+Se(t))}const cv=/^-?(?:0|[1-9][0-9]*)$/,Jh=new Wr({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:Rt,resolve:e=>e.description},types:{description:"A list of all types supported by this server.",type:new ot(new gr(new ot(xn))),resolve(e){return Object.values(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new ot(xn),resolve:e=>e.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:xn,resolve:e=>e.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:xn,resolve:e=>e.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new ot(new gr(new ot(K8))),resolve:e=>e.getDirectives()}})}),K8=new Wr({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new ot(Rt),resolve:e=>e.name},description:{type:Rt,resolve:e=>e.description},isRepeatable:{type:new ot(Hr),resolve:e=>e.isRepeatable},locations:{type:new ot(new gr(new ot(X8))),resolve:e=>e.locations},args:{type:new ot(new gr(new ot(Pp))),args:{includeDeprecated:{type:Hr,defaultValue:!1}},resolve(e,{includeDeprecated:t}){return t?e.args:e.args.filter(r=>r.deprecationReason==null)}}})}),X8=new iu({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:ze.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:ze.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:ze.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:ze.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:ze.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:ze.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:ze.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:ze.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:ze.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:ze.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:ze.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:ze.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:ze.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:ze.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:ze.UNION,description:"Location adjacent to a union definition."},ENUM:{value:ze.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:ze.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:ze.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:ze.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),xn=new Wr({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new ot(Q8),resolve(e){if(nn(e))return ur.SCALAR;if(ut(e))return ur.OBJECT;if(mt(e))return ur.INTERFACE;if(lr(e))return ur.UNION;if(Zt(e))return ur.ENUM;if(bt(e))return ur.INPUT_OBJECT;if(jt(e))return ur.LIST;if(ct(e))return ur.NON_NULL;tn(!1,`Unexpected type: "${Se(e)}".`)}},name:{type:Rt,resolve:e=>"name"in e?e.name:void 0},description:{type:Rt,resolve:e=>"description"in e?e.description:void 0},specifiedByURL:{type:Rt,resolve:e=>"specifiedByURL"in e?e.specifiedByURL:void 0},fields:{type:new gr(new ot(Y8)),args:{includeDeprecated:{type:Hr,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(ut(e)||mt(e)){const r=Object.values(e.getFields());return t?r:r.filter(n=>n.deprecationReason==null)}}},interfaces:{type:new gr(new ot(xn)),resolve(e){if(ut(e)||mt(e))return e.getInterfaces()}},possibleTypes:{type:new gr(new ot(xn)),resolve(e,t,r,{schema:n}){if(rs(e))return n.getPossibleTypes(e)}},enumValues:{type:new gr(new ot(Z8)),args:{includeDeprecated:{type:Hr,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(Zt(e)){const r=e.getValues();return t?r:r.filter(n=>n.deprecationReason==null)}}},inputFields:{type:new gr(new ot(Pp)),args:{includeDeprecated:{type:Hr,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(bt(e)){const r=Object.values(e.getFields());return t?r:r.filter(n=>n.deprecationReason==null)}}},ofType:{type:xn,resolve:e=>"ofType"in e?e.ofType:void 0}})}),Y8=new Wr({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new ot(Rt),resolve:e=>e.name},description:{type:Rt,resolve:e=>e.description},args:{type:new ot(new gr(new ot(Pp))),args:{includeDeprecated:{type:Hr,defaultValue:!1}},resolve(e,{includeDeprecated:t}){return t?e.args:e.args.filter(r=>r.deprecationReason==null)}},type:{type:new ot(xn),resolve:e=>e.type},isDeprecated:{type:new ot(Hr),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:Rt,resolve:e=>e.deprecationReason}})}),Pp=new Wr({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new ot(Rt),resolve:e=>e.name},description:{type:Rt,resolve:e=>e.description},type:{type:new ot(xn),resolve:e=>e.type},defaultValue:{type:Rt,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(e){const{type:t,defaultValue:r}=e,n=Yu(r,t);return n?Kt(n):null}},isDeprecated:{type:new ot(Hr),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:Rt,resolve:e=>e.deprecationReason}})}),Z8=new Wr({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new ot(Rt),resolve:e=>e.name},description:{type:Rt,resolve:e=>e.description},isDeprecated:{type:new ot(Hr),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:Rt,resolve:e=>e.deprecationReason}})});var ur;(function(e){e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.INPUT_OBJECT="INPUT_OBJECT",e.LIST="LIST",e.NON_NULL="NON_NULL"})(ur||(ur={}));const Q8=new iu({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:ur.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:ur.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:ur.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:ur.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:ur.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:ur.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:ur.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:ur.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),Rl={name:"__schema",type:new ot(Jh),description:"Access the current type schema of this server.",args:[],resolve:(e,t,r,{schema:n})=>n,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},jl={name:"__type",type:xn,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new ot(Rt),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(e,{name:t},r,{schema:n})=>n.getType(t),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Ml={name:"__typename",type:new ot(Rt),description:"The name of the current Object type at runtime.",args:[],resolve:(e,t,r,{parentType:n})=>n.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},zh=Object.freeze([Jh,K8,X8,xn,Y8,Pp,Z8,Q8]);function Kh(e){return zh.some(({name:t})=>e.name===t)}function Xh(e){return Ln(e,Yh)}function OT(e){if(!Xh(e))throw new Error(`Expected ${Se(e)} to be a GraphQL schema.`);return e}class Yh{constructor(t){var r,n;this.__validationErrors=t.assumeValid===!0?[]:void 0,Mn(t)||dt(!1,"Must provide configuration object."),!t.types||Array.isArray(t.types)||dt(!1,`"types" must be Array if provided but got: ${Se(t.types)}.`),!t.directives||Array.isArray(t.directives)||dt(!1,`"directives" must be Array if provided but got: ${Se(t.directives)}.`),this.description=t.description,this.extensions=hn(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(r=t.extensionASTNodes)!==null&&r!==void 0?r:[],this._queryType=t.query,this._mutationType=t.mutation,this._subscriptionType=t.subscription,this._directives=(n=t.directives)!==null&&n!==void 0?n:lo;const u=new Set(t.types);if(t.types!=null)for(const s of t.types)u.delete(s),kn(s,u);this._queryType!=null&&kn(this._queryType,u),this._mutationType!=null&&kn(this._mutationType,u),this._subscriptionType!=null&&kn(this._subscriptionType,u);for(const s of this._directives)if(V8(s))for(const o of s.args)kn(o.type,u);kn(Jh,u),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const s of u){if(s==null)continue;const o=s.name;if(o||dt(!1,"One of the provided types for building the Schema is missing a name."),this._typeMap[o]!==void 0)throw new Error(`Schema must contain uniquely named types but contains multiple types named "${o}".`);if(this._typeMap[o]=s,mt(s)){for(const a of s.getInterfaces())if(mt(a)){let i=this._implementationsMap[a.name];i===void 0&&(i=this._implementationsMap[a.name]={objects:[],interfaces:[]}),i.interfaces.push(s)}}else if(ut(s)){for(const a of s.getInterfaces())if(mt(a)){let i=this._implementationsMap[a.name];i===void 0&&(i=this._implementationsMap[a.name]={objects:[],interfaces:[]}),i.objects.push(s)}}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(t){switch(t){case ar.QUERY:return this.getQueryType();case ar.MUTATION:return this.getMutationType();case ar.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(t){return this.getTypeMap()[t]}getPossibleTypes(t){return lr(t)?t.getTypes():this.getImplementations(t).objects}getImplementations(t){const r=this._implementationsMap[t.name];return r??{objects:[],interfaces:[]}}isSubType(t,r){let n=this._subTypeMap[t.name];if(n===void 0){if(n=Object.create(null),lr(t))for(const u of t.getTypes())n[u.name]=!0;else{const u=this.getImplementations(t);for(const s of u.objects)n[s.name]=!0;for(const s of u.interfaces)n[s.name]=!0}this._subTypeMap[t.name]=n}return n[r.name]!==void 0}getDirectives(){return this._directives}getDirective(t){return this.getDirectives().find(r=>r.name===t)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:this.__validationErrors!==void 0}}}function kn(e,t){const r=Vr(e);if(!t.has(r)){if(t.add(r),lr(r))for(const n of r.getTypes())kn(n,t);else if(ut(r)||mt(r)){for(const n of r.getInterfaces())kn(n,t);for(const n of Object.values(r.getFields())){kn(n.type,t);for(const u of n.args)kn(u.type,t)}}else if(bt(r))for(const n of Object.values(r.getFields()))kn(n.type,t)}return t}function e5(e){if(OT(e),e.__validationErrors)return e.__validationErrors;const t=new kT(e);IT(t),NT(t),qT(t);const r=t.getErrors();return e.__validationErrors=r,r}function t5(e){const t=e5(e);if(t.length!==0)throw new Error(t.map(r=>r.message).join(`

`))}class kT{constructor(t){this._errors=[],this.schema=t}reportError(t,r){const n=Array.isArray(r)?r.filter(Boolean):r;this._errors.push(new he(t,{nodes:n}))}getErrors(){return this._errors}}function IT(e){const t=e.schema,r=t.getQueryType();if(!r)e.reportError("Query root type must be provided.",t.astNode);else if(!ut(r)){var n;e.reportError(`Query root type must be Object type, it cannot be ${Se(r)}.`,(n=Wf(t,ar.QUERY))!==null&&n!==void 0?n:r.astNode)}const u=t.getMutationType();if(u&&!ut(u)){var s;e.reportError(`Mutation root type must be Object type if provided, it cannot be ${Se(u)}.`,(s=Wf(t,ar.MUTATION))!==null&&s!==void 0?s:u.astNode)}const o=t.getSubscriptionType();if(o&&!ut(o)){var a;e.reportError(`Subscription root type must be Object type if provided, it cannot be ${Se(o)}.`,(a=Wf(t,ar.SUBSCRIPTION))!==null&&a!==void 0?a:o.astNode)}}function Wf(e,t){var r;return(r=[e.astNode,...e.extensionASTNodes].flatMap(n=>{var u;return(u=n==null?void 0:n.operationTypes)!==null&&u!==void 0?u:[]}).find(n=>n.operation===t))===null||r===void 0?void 0:r.type}function NT(e){for(const r of e.schema.getDirectives()){if(!V8(r)){e.reportError(`Expected directive but got: ${Se(r)}.`,r==null?void 0:r.astNode);continue}no(e,r);for(const n of r.args)if(no(e,n),In(n.type)||e.reportError(`The type of @${r.name}(${n.name}:) must be Input Type but got: ${Se(n.type)}.`,n.astNode),Wi(n)&&n.deprecationReason!=null){var t;e.reportError(`Required argument @${r.name}(${n.name}:) cannot be deprecated.`,[Zh(n.astNode),(t=n.astNode)===null||t===void 0?void 0:t.type])}}}function no(e,t){t.name.startsWith("__")&&e.reportError(`Name "${t.name}" must not begin with "__", which is reserved by GraphQL introspection.`,t.astNode)}function qT(e){const t=UT(e),r=e.schema.getTypeMap();for(const n of Object.values(r)){if(!Tp(n)){e.reportError(`Expected GraphQL named type but got: ${Se(n)}.`,n.astNode);continue}Kh(n)||no(e,n),ut(n)||mt(n)?(lv(e,n),pv(e,n)):lr(n)?jT(e,n):Zt(n)?MT(e,n):bt(n)&&(LT(e,n),t(n))}}function lv(e,t){const r=Object.values(t.getFields());r.length===0&&e.reportError(`Type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const o of r){if(no(e,o),!fi(o.type)){var n;e.reportError(`The type of ${t.name}.${o.name} must be Output Type but got: ${Se(o.type)}.`,(n=o.astNode)===null||n===void 0?void 0:n.type)}for(const a of o.args){const i=a.name;if(no(e,a),!In(a.type)){var u;e.reportError(`The type of ${t.name}.${o.name}(${i}:) must be Input Type but got: ${Se(a.type)}.`,(u=a.astNode)===null||u===void 0?void 0:u.type)}if(Wi(a)&&a.deprecationReason!=null){var s;e.reportError(`Required argument ${t.name}.${o.name}(${i}:) cannot be deprecated.`,[Zh(a.astNode),(s=a.astNode)===null||s===void 0?void 0:s.type])}}}}function pv(e,t){const r=Object.create(null);for(const n of t.getInterfaces()){if(!mt(n)){e.reportError(`Type ${Se(t)} must only implement Interface types, it cannot implement ${Se(n)}.`,di(t,n));continue}if(t===n){e.reportError(`Type ${t.name} cannot implement itself because it would create a circular reference.`,di(t,n));continue}if(r[n.name]){e.reportError(`Type ${t.name} can only implement ${n.name} once.`,di(t,n));continue}r[n.name]=!0,RT(e,t,n),xT(e,t,n)}}function xT(e,t,r){const n=t.getFields();for(const i of Object.values(r.getFields())){const c=i.name,l=n[c];if(!l){e.reportError(`Interface field ${r.name}.${c} expected but ${t.name} does not provide it.`,[i.astNode,t.astNode,...t.extensionASTNodes]);continue}if(!oa(e.schema,l.type,i.type)){var u,s;e.reportError(`Interface field ${r.name}.${c} expects type ${Se(i.type)} but ${t.name}.${c} is type ${Se(l.type)}.`,[(u=i.astNode)===null||u===void 0?void 0:u.type,(s=l.astNode)===null||s===void 0?void 0:s.type])}for(const p of i.args){const f=p.name,d=l.args.find(h=>h.name===f);if(!d){e.reportError(`Interface field argument ${r.name}.${c}(${f}:) expected but ${t.name}.${c} does not provide it.`,[p.astNode,l.astNode]);continue}if(!A2(p.type,d.type)){var o,a;e.reportError(`Interface field argument ${r.name}.${c}(${f}:) expects type ${Se(p.type)} but ${t.name}.${c}(${f}:) is type ${Se(d.type)}.`,[(o=p.astNode)===null||o===void 0?void 0:o.type,(a=d.astNode)===null||a===void 0?void 0:a.type])}}for(const p of l.args){const f=p.name;!i.args.find(h=>h.name===f)&&Wi(p)&&e.reportError(`Object field ${t.name}.${c} includes required argument ${f} that is missing from the Interface field ${r.name}.${c}.`,[p.astNode,i.astNode])}}}function RT(e,t,r){const n=t.getInterfaces();for(const u of r.getInterfaces())n.includes(u)||e.reportError(u===t?`Type ${t.name} cannot implement ${r.name} because it would create a circular reference.`:`Type ${t.name} must implement ${u.name} because it is implemented by ${r.name}.`,[...di(r,u),...di(t,r)])}function jT(e,t){const r=t.getTypes();r.length===0&&e.reportError(`Union type ${t.name} must define one or more member types.`,[t.astNode,...t.extensionASTNodes]);const n=Object.create(null);for(const u of r){if(n[u.name]){e.reportError(`Union type ${t.name} can only include type ${u.name} once.`,fv(t,u.name));continue}n[u.name]=!0,ut(u)||e.reportError(`Union type ${t.name} can only include Object types, it cannot include ${Se(u)}.`,fv(t,String(u)))}}function MT(e,t){const r=t.getValues();r.length===0&&e.reportError(`Enum type ${t.name} must define one or more values.`,[t.astNode,...t.extensionASTNodes]);for(const n of r)no(e,n)}function LT(e,t){const r=Object.values(t.getFields());r.length===0&&e.reportError(`Input Object type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const s of r){if(no(e,s),!In(s.type)){var n;e.reportError(`The type of ${t.name}.${s.name} must be Input Type but got: ${Se(s.type)}.`,(n=s.astNode)===null||n===void 0?void 0:n.type)}if(G8(s)&&s.deprecationReason!=null){var u;e.reportError(`Required input field ${t.name}.${s.name} cannot be deprecated.`,[Zh(s.astNode),(u=s.astNode)===null||u===void 0?void 0:u.type])}}}function UT(e){const t=Object.create(null),r=[],n=Object.create(null);return u;function u(s){if(t[s.name])return;t[s.name]=!0,n[s.name]=r.length;const o=Object.values(s.getFields());for(const a of o)if(ct(a.type)&&bt(a.type.ofType)){const i=a.type.ofType,c=n[i.name];if(r.push(a),c===void 0)u(i);else{const l=r.slice(c),p=l.map(f=>f.name).join(".");e.reportError(`Cannot reference Input Object "${i.name}" within itself through a series of non-null fields: "${p}".`,l.map(f=>f.astNode))}r.pop()}n[s.name]=void 0}}function di(e,t){const{astNode:r,extensionASTNodes:n}=e;return(r!=null?[r,...n]:n).flatMap(s=>{var o;return(o=s.interfaces)!==null&&o!==void 0?o:[]}).filter(s=>s.name.value===t.name)}function fv(e,t){const{astNode:r,extensionASTNodes:n}=e;return(r!=null?[r,...n]:n).flatMap(s=>{var o;return(o=s.types)!==null&&o!==void 0?o:[]}).filter(s=>s.name.value===t)}function Zh(e){var t;return e==null||(t=e.directives)===null||t===void 0?void 0:t.find(r=>r.name.value===$p.name)}function rn(e,t){switch(t.kind){case V.LIST_TYPE:{const r=rn(e,t.type);return r&&new gr(r)}case V.NON_NULL_TYPE:{const r=rn(e,t.type);return r&&new ot(r)}case V.NAMED_TYPE:return e.getType(t.name.value)}}class r5{constructor(t,r,n){this._schema=t,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=n??GT,r&&(In(r)&&this._inputTypeStack.push(r),is(r)&&this._parentTypeStack.push(r),fi(r)&&this._typeStack.push(r))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(t){const r=this._schema;switch(t.kind){case V.SELECTION_SET:{const u=Vr(this.getType());this._parentTypeStack.push(is(u)?u:void 0);break}case V.FIELD:{const u=this.getParentType();let s,o;u&&(s=this._getFieldDef(r,u,t),s&&(o=s.type)),this._fieldDefStack.push(s),this._typeStack.push(fi(o)?o:void 0);break}case V.DIRECTIVE:this._directive=r.getDirective(t.name.value);break;case V.OPERATION_DEFINITION:{const u=r.getRootType(t.operation);this._typeStack.push(ut(u)?u:void 0);break}case V.INLINE_FRAGMENT:case V.FRAGMENT_DEFINITION:{const u=t.typeCondition,s=u?rn(r,u):Vr(this.getType());this._typeStack.push(fi(s)?s:void 0);break}case V.VARIABLE_DEFINITION:{const u=rn(r,t.type);this._inputTypeStack.push(In(u)?u:void 0);break}case V.ARGUMENT:{var n;let u,s;const o=(n=this.getDirective())!==null&&n!==void 0?n:this.getFieldDef();o&&(u=o.args.find(a=>a.name===t.name.value),u&&(s=u.type)),this._argument=u,this._defaultValueStack.push(u?u.defaultValue:void 0),this._inputTypeStack.push(In(s)?s:void 0);break}case V.LIST:{const u=Vh(this.getInputType()),s=jt(u)?u.ofType:u;this._defaultValueStack.push(void 0),this._inputTypeStack.push(In(s)?s:void 0);break}case V.OBJECT_FIELD:{const u=Vr(this.getInputType());let s,o;bt(u)&&(o=u.getFields()[t.name.value],o&&(s=o.type)),this._defaultValueStack.push(o?o.defaultValue:void 0),this._inputTypeStack.push(In(s)?s:void 0);break}case V.ENUM:{const u=Vr(this.getInputType());let s;Zt(u)&&(s=u.getValue(t.value)),this._enumValue=s;break}}}leave(t){switch(t.kind){case V.SELECTION_SET:this._parentTypeStack.pop();break;case V.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case V.DIRECTIVE:this._directive=null;break;case V.OPERATION_DEFINITION:case V.INLINE_FRAGMENT:case V.FRAGMENT_DEFINITION:this._typeStack.pop();break;case V.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case V.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case V.LIST:case V.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case V.ENUM:this._enumValue=null;break}}}function GT(e,t,r){const n=r.name.value;if(n===Rl.name&&e.getQueryType()===t)return Rl;if(n===jl.name&&e.getQueryType()===t)return jl;if(n===Ml.name&&is(t))return Ml;if(ut(t)||mt(t))return t.getFields()[n]}function n5(e,t){return{enter(...r){const n=r[0];e.enter(n);const u=ql(t,n.kind).enter;if(u){const s=u.apply(t,r);return s!==void 0&&(e.leave(n),E2(s)&&e.enter(s)),s}},leave(...r){const n=r[0],u=ql(t,n.kind).leave;let s;return u&&(s=u.apply(t,r)),e.leave(n),s}}}function VT(e){return u5(e)||s5(e)||o5(e)}function u5(e){return e.kind===V.OPERATION_DEFINITION||e.kind===V.FRAGMENT_DEFINITION}function s5(e){return e.kind===V.SCHEMA_DEFINITION||Ki(e)||e.kind===V.DIRECTIVE_DEFINITION}function Ki(e){return e.kind===V.SCALAR_TYPE_DEFINITION||e.kind===V.OBJECT_TYPE_DEFINITION||e.kind===V.INTERFACE_TYPE_DEFINITION||e.kind===V.UNION_TYPE_DEFINITION||e.kind===V.ENUM_TYPE_DEFINITION||e.kind===V.INPUT_OBJECT_TYPE_DEFINITION}function o5(e){return e.kind===V.SCHEMA_EXTENSION||Qh(e)}function Qh(e){return e.kind===V.SCALAR_TYPE_EXTENSION||e.kind===V.OBJECT_TYPE_EXTENSION||e.kind===V.INTERFACE_TYPE_EXTENSION||e.kind===V.UNION_TYPE_EXTENSION||e.kind===V.ENUM_TYPE_EXTENSION||e.kind===V.INPUT_OBJECT_TYPE_EXTENSION}function HT(e){return{Document(t){for(const r of t.definitions)if(!u5(r)){const n=r.kind===V.SCHEMA_DEFINITION||r.kind===V.SCHEMA_EXTENSION?"schema":'"'+r.name.value+'"';e.reportError(new he(`The ${n} definition is not executable.`,{nodes:r}))}return!1}}}function WT(e){return{Field(t){const r=e.getParentType();if(r&&!e.getFieldDef()){const u=e.getSchema(),s=t.name.value;let o=Tu("to use an inline fragment on",JT(u,r,s));o===""&&(o=Tu(zT(r,s))),e.reportError(new he(`Cannot query field "${s}" on type "${r.name}".`+o,{nodes:t}))}}}}function JT(e,t,r){if(!rs(t))return[];const n=new Set,u=Object.create(null);for(const o of e.getPossibleTypes(t))if(o.getFields()[r]){n.add(o),u[o.name]=1;for(const a of o.getInterfaces()){var s;a.getFields()[r]&&(n.add(a),u[a.name]=((s=u[a.name])!==null&&s!==void 0?s:0)+1)}}return[...n].sort((o,a)=>{const i=u[a.name]-u[o.name];return i!==0?i:mt(o)&&e.isSubType(o,a)?-1:mt(a)&&e.isSubType(a,o)?1:Lh(o.name,a.name)}).map(o=>o.name)}function zT(e,t){if(ut(e)||mt(e)){const r=Object.keys(e.getFields());return ps(t,r)}return[]}function KT(e){return{InlineFragment(t){const r=t.typeCondition;if(r){const n=rn(e.getSchema(),r);if(n&&!is(n)){const u=Kt(r);e.reportError(new he(`Fragment cannot condition on non composite type "${u}".`,{nodes:r}))}}},FragmentDefinition(t){const r=rn(e.getSchema(),t.typeCondition);if(r&&!is(r)){const n=Kt(t.typeCondition);e.reportError(new he(`Fragment "${t.name.value}" cannot condition on non composite type "${n}".`,{nodes:t.typeCondition}))}}}}function XT(e){return{...a5(e),Argument(t){const r=e.getArgument(),n=e.getFieldDef(),u=e.getParentType();if(!r&&n&&u){const s=t.name.value,o=n.args.map(i=>i.name),a=ps(s,o);e.reportError(new he(`Unknown argument "${s}" on field "${u.name}.${n.name}".`+Tu(a),{nodes:t}))}}}}function a5(e){const t=Object.create(null),r=e.getSchema(),n=r?r.getDirectives():lo;for(const o of n)t[o.name]=o.args.map(a=>a.name);const u=e.getDocument().definitions;for(const o of u)if(o.kind===V.DIRECTIVE_DEFINITION){var s;const a=(s=o.arguments)!==null&&s!==void 0?s:[];t[o.name.value]=a.map(i=>i.name.value)}return{Directive(o){const a=o.name.value,i=t[a];if(o.arguments&&i)for(const c of o.arguments){const l=c.name.value;if(!i.includes(l)){const p=ps(l,i);e.reportError(new he(`Unknown argument "${l}" on directive "@${a}".`+Tu(p),{nodes:c}))}}return!1}}}function i5(e){const t=Object.create(null),r=e.getSchema(),n=r?r.getDirectives():lo;for(const s of n)t[s.name]=s.locations;const u=e.getDocument().definitions;for(const s of u)s.kind===V.DIRECTIVE_DEFINITION&&(t[s.name.value]=s.locations.map(o=>o.value));return{Directive(s,o,a,i,c){const l=s.name.value,p=t[l];if(!p){e.reportError(new he(`Unknown directive "@${l}".`,{nodes:s}));return}const f=YT(c);f&&!p.includes(f)&&e.reportError(new he(`Directive "@${l}" may not be used on ${f}.`,{nodes:s}))}}}function YT(e){const t=e[e.length-1];switch("kind"in t||tn(!1),t.kind){case V.OPERATION_DEFINITION:return ZT(t.operation);case V.FIELD:return ze.FIELD;case V.FRAGMENT_SPREAD:return ze.FRAGMENT_SPREAD;case V.INLINE_FRAGMENT:return ze.INLINE_FRAGMENT;case V.FRAGMENT_DEFINITION:return ze.FRAGMENT_DEFINITION;case V.VARIABLE_DEFINITION:return ze.VARIABLE_DEFINITION;case V.SCHEMA_DEFINITION:case V.SCHEMA_EXTENSION:return ze.SCHEMA;case V.SCALAR_TYPE_DEFINITION:case V.SCALAR_TYPE_EXTENSION:return ze.SCALAR;case V.OBJECT_TYPE_DEFINITION:case V.OBJECT_TYPE_EXTENSION:return ze.OBJECT;case V.FIELD_DEFINITION:return ze.FIELD_DEFINITION;case V.INTERFACE_TYPE_DEFINITION:case V.INTERFACE_TYPE_EXTENSION:return ze.INTERFACE;case V.UNION_TYPE_DEFINITION:case V.UNION_TYPE_EXTENSION:return ze.UNION;case V.ENUM_TYPE_DEFINITION:case V.ENUM_TYPE_EXTENSION:return ze.ENUM;case V.ENUM_VALUE_DEFINITION:return ze.ENUM_VALUE;case V.INPUT_OBJECT_TYPE_DEFINITION:case V.INPUT_OBJECT_TYPE_EXTENSION:return ze.INPUT_OBJECT;case V.INPUT_VALUE_DEFINITION:{const r=e[e.length-3];return"kind"in r||tn(!1),r.kind===V.INPUT_OBJECT_TYPE_DEFINITION?ze.INPUT_FIELD_DEFINITION:ze.ARGUMENT_DEFINITION}default:tn(!1,"Unexpected kind: "+Se(t.kind))}}function ZT(e){switch(e){case ar.QUERY:return ze.QUERY;case ar.MUTATION:return ze.MUTATION;case ar.SUBSCRIPTION:return ze.SUBSCRIPTION}}function QT(e){return{FragmentSpread(t){const r=t.name.value;e.getFragment(r)||e.reportError(new he(`Unknown fragment "${r}".`,{nodes:t.name}))}}}function c5(e){const t=e.getSchema(),r=t?t.getTypeMap():Object.create(null),n=Object.create(null);for(const s of e.getDocument().definitions)Ki(s)&&(n[s.name.value]=!0);const u=[...Object.keys(r),...Object.keys(n)];return{NamedType(s,o,a,i,c){const l=s.name.value;if(!r[l]&&!n[l]){var p;const f=(p=c[2])!==null&&p!==void 0?p:a,d=f!=null&&e$(f);if(d&&dv.includes(l))return;const h=ps(l,d?dv.concat(u):u);e.reportError(new he(`Unknown type "${l}".`+Tu(h),{nodes:s}))}}}}const dv=[...Hh,...zh].map(e=>e.name);function e$(e){return"kind"in e&&(s5(e)||o5(e))}function t$(e){let t=0;return{Document(r){t=r.definitions.filter(n=>n.kind===V.OPERATION_DEFINITION).length},OperationDefinition(r){!r.name&&t>1&&e.reportError(new he("This anonymous operation must be the only defined operation.",{nodes:r}))}}}function r$(e){var t,r,n;const u=e.getSchema(),s=(t=(r=(n=u==null?void 0:u.astNode)!==null&&n!==void 0?n:u==null?void 0:u.getQueryType())!==null&&r!==void 0?r:u==null?void 0:u.getMutationType())!==null&&t!==void 0?t:u==null?void 0:u.getSubscriptionType();let o=0;return{SchemaDefinition(a){if(s){e.reportError(new he("Cannot define a new schema within a schema extension.",{nodes:a}));return}o>0&&e.reportError(new he("Must provide only one schema definition.",{nodes:a})),++o}}}function n$(e){const t=Object.create(null),r=[],n=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(s){return u(s),!1}};function u(s){if(t[s.name.value])return;const o=s.name.value;t[o]=!0;const a=e.getFragmentSpreads(s.selectionSet);if(a.length!==0){n[o]=r.length;for(const i of a){const c=i.name.value,l=n[c];if(r.push(i),l===void 0){const p=e.getFragment(c);p&&u(p)}else{const p=r.slice(l),f=p.slice(0,-1).map(d=>'"'+d.name.value+'"').join(", ");e.reportError(new he(`Cannot spread fragment "${c}" within itself`+(f!==""?` via ${f}.`:"."),{nodes:p}))}r.pop()}n[o]=void 0}}}function u$(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(r){const n=e.getRecursiveVariableUsages(r);for(const{node:u}of n){const s=u.name.value;t[s]!==!0&&e.reportError(new he(r.name?`Variable "$${s}" is not defined by operation "${r.name.value}".`:`Variable "$${s}" is not defined.`,{nodes:[u,r]}))}}},VariableDefinition(r){t[r.variable.name.value]=!0}}}function s$(e){const t=[],r=[];return{OperationDefinition(n){return t.push(n),!1},FragmentDefinition(n){return r.push(n),!1},Document:{leave(){const n=Object.create(null);for(const u of t)for(const s of e.getRecursivelyReferencedFragments(u))n[s.name.value]=!0;for(const u of r){const s=u.name.value;n[s]!==!0&&e.reportError(new he(`Fragment "${s}" is never used.`,{nodes:u}))}}}}}function o$(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(r){const n=Object.create(null),u=e.getRecursiveVariableUsages(r);for(const{node:s}of u)n[s.name.value]=!0;for(const s of t){const o=s.variable.name.value;n[o]!==!0&&e.reportError(new he(r.name?`Variable "$${o}" is never used in operation "${r.name.value}".`:`Variable "$${o}" is never used.`,{nodes:s}))}}},VariableDefinition(r){t.push(r)}}}function em(e){switch(e.kind){case V.OBJECT:return{...e,fields:a$(e.fields)};case V.LIST:return{...e,values:e.values.map(em)};case V.INT:case V.FLOAT:case V.STRING:case V.BOOLEAN:case V.NULL:case V.ENUM:case V.VARIABLE:return e}}function a$(e){return e.map(t=>({...t,value:em(t.value)})).sort((t,r)=>Lh(t.name.value,r.name.value))}function l5(e){return Array.isArray(e)?e.map(([t,r])=>`subfields "${t}" conflict because `+l5(r)).join(" and "):e}function i$(e){const t=new d$,r=new Map;return{SelectionSet(n){const u=c$(e,r,t,e.getParentType(),n);for(const[[s,o],a,i]of u){const c=l5(o);e.reportError(new he(`Fields "${s}" conflict because ${c}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:a.concat(i)}))}}}}function c$(e,t,r,n,u){const s=[],[o,a]=Gl(e,t,n,u);if(p$(e,s,t,r,o),a.length!==0)for(let i=0;i<a.length;i++){Ll(e,s,t,r,!1,o,a[i]);for(let c=i+1;c<a.length;c++)Ul(e,s,t,r,!1,a[i],a[c])}return s}function Ll(e,t,r,n,u,s,o){const a=e.getFragment(o);if(!a)return;const[i,c]=S2(e,r,a);if(s!==i){tm(e,t,r,n,u,s,i);for(const l of c)n.has(l,o,u)||(n.add(l,o,u),Ll(e,t,r,n,u,s,l))}}function Ul(e,t,r,n,u,s,o){if(s===o||n.has(s,o,u))return;n.add(s,o,u);const a=e.getFragment(s),i=e.getFragment(o);if(!a||!i)return;const[c,l]=S2(e,r,a),[p,f]=S2(e,r,i);tm(e,t,r,n,u,c,p);for(const d of f)Ul(e,t,r,n,u,s,d);for(const d of l)Ul(e,t,r,n,u,d,o)}function l$(e,t,r,n,u,s,o,a){const i=[],[c,l]=Gl(e,t,u,s),[p,f]=Gl(e,t,o,a);tm(e,i,t,r,n,c,p);for(const d of f)Ll(e,i,t,r,n,c,d);for(const d of l)Ll(e,i,t,r,n,p,d);for(const d of l)for(const h of f)Ul(e,i,t,r,n,d,h);return i}function p$(e,t,r,n,u){for(const[s,o]of Object.entries(u))if(o.length>1)for(let a=0;a<o.length;a++)for(let i=a+1;i<o.length;i++){const c=p5(e,r,n,!1,s,o[a],o[i]);c&&t.push(c)}}function tm(e,t,r,n,u,s,o){for(const[a,i]of Object.entries(s)){const c=o[a];if(c)for(const l of i)for(const p of c){const f=p5(e,r,n,u,a,l,p);f&&t.push(f)}}}function p5(e,t,r,n,u,s,o){const[a,i,c]=s,[l,p,f]=o,d=n||a!==l&&ut(a)&&ut(l);if(!d){const y=i.name.value,F=p.name.value;if(y!==F)return[[u,`"${y}" and "${F}" are different fields`],[i],[p]];if(Dv(i)!==Dv(p))return[[u,"they have differing arguments"],[i],[p]]}const h=c==null?void 0:c.type,E=f==null?void 0:f.type;if(h&&E&&b2(h,E))return[[u,`they return conflicting types "${Se(h)}" and "${Se(E)}"`],[i],[p]];const A=i.selectionSet,m=p.selectionSet;if(A&&m){const y=l$(e,t,r,d,Vr(h),A,Vr(E),m);return f$(y,u,i,p)}}function Dv(e){var t;const r=(t=e.arguments)!==null&&t!==void 0?t:[],n={kind:V.OBJECT,fields:r.map(u=>({kind:V.OBJECT_FIELD,name:u.name,value:u.value}))};return Kt(em(n))}function b2(e,t){return jt(e)?jt(t)?b2(e.ofType,t.ofType):!0:jt(t)?!0:ct(e)?ct(t)?b2(e.ofType,t.ofType):!0:ct(t)?!0:Dn(e)||Dn(t)?e!==t:!1}function Gl(e,t,r,n){const u=t.get(n);if(u)return u;const s=Object.create(null),o=Object.create(null);f5(e,r,n,s,o);const a=[s,Object.keys(o)];return t.set(n,a),a}function S2(e,t,r){const n=t.get(r.selectionSet);if(n)return n;const u=rn(e.getSchema(),r.typeCondition);return Gl(e,t,u,r.selectionSet)}function f5(e,t,r,n,u){for(const s of r.selections)switch(s.kind){case V.FIELD:{const o=s.name.value;let a;(ut(t)||mt(t))&&(a=t.getFields()[o]);const i=s.alias?s.alias.value:o;n[i]||(n[i]=[]),n[i].push([t,s,a]);break}case V.FRAGMENT_SPREAD:u[s.name.value]=!0;break;case V.INLINE_FRAGMENT:{const o=s.typeCondition,a=o?rn(e.getSchema(),o):t;f5(e,a,s.selectionSet,n,u);break}}}function f$(e,t,r,n){if(e.length>0)return[[t,e.map(([u])=>u)],[r,...e.map(([,u])=>u).flat()],[n,...e.map(([,,u])=>u).flat()]]}class d${constructor(){this._data=new Map}has(t,r,n){var u;const[s,o]=t<r?[t,r]:[r,t],a=(u=this._data.get(s))===null||u===void 0?void 0:u.get(o);return a===void 0?!1:n?!0:n===a}add(t,r,n){const[u,s]=t<r?[t,r]:[r,t],o=this._data.get(u);o===void 0?this._data.set(u,new Map([[s,n]])):o.set(s,n)}}function D$(e){return{InlineFragment(t){const r=e.getType(),n=e.getParentType();if(is(r)&&is(n)&&!iv(e.getSchema(),r,n)){const u=Se(n),s=Se(r);e.reportError(new he(`Fragment cannot be spread here as objects of type "${u}" can never be of type "${s}".`,{nodes:t}))}},FragmentSpread(t){const r=t.name.value,n=h$(e,r),u=e.getParentType();if(n&&u&&!iv(e.getSchema(),n,u)){const s=Se(u),o=Se(n);e.reportError(new he(`Fragment "${r}" cannot be spread here as objects of type "${s}" can never be of type "${o}".`,{nodes:t}))}}}}function h$(e,t){const r=e.getFragment(t);if(r){const n=rn(e.getSchema(),r.typeCondition);if(is(n))return n}}function m$(e){const t=e.getSchema(),r=Object.create(null);for(const u of e.getDocument().definitions)Ki(u)&&(r[u.name.value]=u);return{ScalarTypeExtension:n,ObjectTypeExtension:n,InterfaceTypeExtension:n,UnionTypeExtension:n,EnumTypeExtension:n,InputObjectTypeExtension:n};function n(u){const s=u.name.value,o=r[s],a=t==null?void 0:t.getType(s);let i;if(o?i=E$[o.kind]:a&&(i=v$(a)),i){if(i!==u.kind){const c=y$(u.kind);e.reportError(new he(`Cannot extend non-${c} type "${s}".`,{nodes:o?[o,u]:u}))}}else{const c=Object.keys({...r,...t==null?void 0:t.getTypeMap()}),l=ps(s,c);e.reportError(new he(`Cannot extend type "${s}" because it is not defined.`+Tu(l),{nodes:u.name}))}}}const E$={[V.SCALAR_TYPE_DEFINITION]:V.SCALAR_TYPE_EXTENSION,[V.OBJECT_TYPE_DEFINITION]:V.OBJECT_TYPE_EXTENSION,[V.INTERFACE_TYPE_DEFINITION]:V.INTERFACE_TYPE_EXTENSION,[V.UNION_TYPE_DEFINITION]:V.UNION_TYPE_EXTENSION,[V.ENUM_TYPE_DEFINITION]:V.ENUM_TYPE_EXTENSION,[V.INPUT_OBJECT_TYPE_DEFINITION]:V.INPUT_OBJECT_TYPE_EXTENSION};function v$(e){if(nn(e))return V.SCALAR_TYPE_EXTENSION;if(ut(e))return V.OBJECT_TYPE_EXTENSION;if(mt(e))return V.INTERFACE_TYPE_EXTENSION;if(lr(e))return V.UNION_TYPE_EXTENSION;if(Zt(e))return V.ENUM_TYPE_EXTENSION;if(bt(e))return V.INPUT_OBJECT_TYPE_EXTENSION;tn(!1,"Unexpected type: "+Se(e))}function y$(e){switch(e){case V.SCALAR_TYPE_EXTENSION:return"scalar";case V.OBJECT_TYPE_EXTENSION:return"object";case V.INTERFACE_TYPE_EXTENSION:return"interface";case V.UNION_TYPE_EXTENSION:return"union";case V.ENUM_TYPE_EXTENSION:return"enum";case V.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:tn(!1,"Unexpected kind: "+Se(e))}}function g$(e){return{...d5(e),Field:{leave(t){var r;const n=e.getFieldDef();if(!n)return!1;const u=new Set((r=t.arguments)===null||r===void 0?void 0:r.map(s=>s.name.value));for(const s of n.args)if(!u.has(s.name)&&Wi(s)){const o=Se(s.type);e.reportError(new he(`Field "${n.name}" argument "${s.name}" of type "${o}" is required, but it was not provided.`,{nodes:t}))}}}}}function d5(e){var t;const r=Object.create(null),n=e.getSchema(),u=(t=n==null?void 0:n.getDirectives())!==null&&t!==void 0?t:lo;for(const a of u)r[a.name]=to(a.args.filter(Wi),i=>i.name);const s=e.getDocument().definitions;for(const a of s)if(a.kind===V.DIRECTIVE_DEFINITION){var o;const i=(o=a.arguments)!==null&&o!==void 0?o:[];r[a.name.value]=to(i.filter(A$),c=>c.name.value)}return{Directive:{leave(a){const i=a.name.value,c=r[i];if(c){var l;const p=(l=a.arguments)!==null&&l!==void 0?l:[],f=new Set(p.map(d=>d.name.value));for(const[d,h]of Object.entries(c))if(!f.has(d)){const E=Uh(h.type)?Se(h.type):Kt(h.type);e.reportError(new he(`Directive "@${i}" argument "${d}" of type "${E}" is required, but it was not provided.`,{nodes:a}))}}}}}}function A$(e){return e.type.kind===V.NON_NULL_TYPE&&e.defaultValue==null}function F$(e){return{Field(t){const r=e.getType(),n=t.selectionSet;if(r){if(Dn(Vr(r))){if(n){const u=t.name.value,s=Se(r);e.reportError(new he(`Field "${u}" must not have a selection since type "${s}" has no subfields.`,{nodes:n}))}}else if(!n){const u=t.name.value,s=Se(r);e.reportError(new he(`Field "${u}" of type "${s}" must have a selection of subfields. Did you mean "${u} { ... }"?`,{nodes:t}))}}}}}function D5(e){return e.map(t=>typeof t=="number"?"["+t.toString()+"]":"."+t).join("")}function $i(e,t,r){return{prev:e,key:t,typename:r}}function On(e){const t=[];let r=e;for(;r;)t.push(r.key),r=r.prev;return t.reverse()}function C$(e,t,r=b$){return oi(e,t,r,void 0)}function b$(e,t,r){let n="Invalid value "+Se(t);throw e.length>0&&(n+=` at "value${D5(e)}"`),r.message=n+": "+r.message,r}function oi(e,t,r,n){if(ct(t)){if(e!=null)return oi(e,t.ofType,r,n);r(On(n),e,new he(`Expected non-nullable type "${Se(t)}" not to be null.`));return}if(e==null)return null;if(jt(t)){const u=t.ofType;return Wh(e)?Array.from(e,(s,o)=>{const a=$i(n,o,void 0);return oi(s,u,r,a)}):[oi(e,u,r,n)]}if(bt(t)){if(!Mn(e)){r(On(n),e,new he(`Expected type "${t.name}" to be an object.`));return}const u={},s=t.getFields();for(const o of Object.values(s)){const a=e[o.name];if(a===void 0){if(o.defaultValue!==void 0)u[o.name]=o.defaultValue;else if(ct(o.type)){const i=Se(o.type);r(On(n),e,new he(`Field "${o.name}" of required type "${i}" was not provided.`))}continue}u[o.name]=oi(a,o.type,r,$i(n,o.name,t.name))}for(const o of Object.keys(e))if(!s[o]){const a=ps(o,Object.keys(t.getFields()));r(On(n),e,new he(`Field "${o}" is not defined by type "${t.name}".`+Tu(a)))}return u}if(Dn(t)){let u;try{u=t.parseValue(e)}catch(s){s instanceof he?r(On(n),e,s):r(On(n),e,new he(`Expected type "${t.name}". `+s.message,{originalError:s}));return}return u===void 0&&r(On(n),e,new he(`Expected type "${t.name}".`)),u}tn(!1,"Unexpected input type: "+Se(t))}function Zu(e,t,r){if(e){if(e.kind===V.VARIABLE){const n=e.name.value;if(r==null||r[n]===void 0)return;const u=r[n];return u===null&&ct(t)?void 0:u}if(ct(t))return e.kind===V.NULL?void 0:Zu(e,t.ofType,r);if(e.kind===V.NULL)return null;if(jt(t)){const n=t.ofType;if(e.kind===V.LIST){const s=[];for(const o of e.values)if(hv(o,r)){if(ct(n))return;s.push(null)}else{const a=Zu(o,n,r);if(a===void 0)return;s.push(a)}return s}const u=Zu(e,n,r);return u===void 0?void 0:[u]}if(bt(t)){if(e.kind!==V.OBJECT)return;const n=Object.create(null),u=to(e.fields,s=>s.name.value);for(const s of Object.values(t.getFields())){const o=u[s.name];if(!o||hv(o.value,r)){if(s.defaultValue!==void 0)n[s.name]=s.defaultValue;else if(ct(s.type))return;continue}const a=Zu(o.value,s.type,r);if(a===void 0)return;n[s.name]=a}return n}if(Dn(t)){let n;try{n=t.parseLiteral(e,r)}catch{return}return n===void 0?void 0:n}tn(!1,"Unexpected input type: "+Se(t))}}function hv(e,t){return e.kind===V.VARIABLE&&(t==null||t[e.name.value]===void 0)}function S$(e,t,r,n){const u=[],s=n==null?void 0:n.maxErrors;try{const o=w$(e,t,r,a=>{if(s!=null&&u.length>=s)throw new he("Too many errors processing variables, error limit reached. Execution aborted.");u.push(a)});if(u.length===0)return{coerced:o}}catch(o){u.push(o)}return{errors:u}}function w$(e,t,r,n){const u={};for(const s of t){const o=s.variable.name.value,a=rn(e,s.type);if(!In(a)){const c=Kt(s.type);n(new he(`Variable "$${o}" expected value of type "${c}" which cannot be used as an input type.`,{nodes:s.type}));continue}if(!m5(r,o)){if(s.defaultValue)u[o]=Zu(s.defaultValue,a);else if(ct(a)){const c=Se(a);n(new he(`Variable "$${o}" of required type "${c}" was not provided.`,{nodes:s}))}continue}const i=r[o];if(i===null&&ct(a)){const c=Se(a);n(new he(`Variable "$${o}" of non-null type "${c}" must not be null.`,{nodes:s}));continue}u[o]=C$(i,a,(c,l,p)=>{let f=`Variable "$${o}" got invalid value `+Se(l);c.length>0&&(f+=` at "${o}${D5(c)}"`),n(new he(f+"; "+p.message,{nodes:s,originalError:p.originalError}))})}return u}function h5(e,t,r){var n;const u={},s=(n=t.arguments)!==null&&n!==void 0?n:[],o=to(s,a=>a.name.value);for(const a of e.args){const i=a.name,c=a.type,l=o[i];if(!l){if(a.defaultValue!==void 0)u[i]=a.defaultValue;else if(ct(c))throw new he(`Argument "${i}" of required type "${Se(c)}" was not provided.`,{nodes:t});continue}const p=l.value;let f=p.kind===V.NULL;if(p.kind===V.VARIABLE){const h=p.name.value;if(r==null||!m5(r,h)){if(a.defaultValue!==void 0)u[i]=a.defaultValue;else if(ct(c))throw new he(`Argument "${i}" of required type "${Se(c)}" was provided the variable "$${h}" which was not provided a runtime value.`,{nodes:p});continue}f=r[h]==null}if(f&&ct(c))throw new he(`Argument "${i}" of non-null type "${Se(c)}" must not be null.`,{nodes:p});const d=Zu(p,c,r);if(d===void 0)throw new he(`Argument "${i}" has invalid value ${Kt(p)}.`,{nodes:p});u[i]=d}return u}function Vl(e,t,r){var n;const u=(n=t.directives)===null||n===void 0?void 0:n.find(s=>s.name.value===e.name);if(u)return h5(e,u,r)}function m5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function E5(e,t,r,n,u){const s=new Map;return Hl(e,t,r,n,u,s,new Set),s}function _$(e,t,r,n,u){const s=new Map,o=new Set;for(const a of u)a.selectionSet&&Hl(e,t,r,n,a.selectionSet,s,o);return s}function Hl(e,t,r,n,u,s,o){for(const a of u.selections)switch(a.kind){case V.FIELD:{if(!Jf(r,a))continue;const i=B$(a),c=s.get(i);c!==void 0?c.push(a):s.set(i,[a]);break}case V.INLINE_FRAGMENT:{if(!Jf(r,a)||!mv(e,a,n))continue;Hl(e,t,r,n,a.selectionSet,s,o);break}case V.FRAGMENT_SPREAD:{const i=a.name.value;if(o.has(i)||!Jf(r,a))continue;o.add(i);const c=t[i];if(!c||!mv(e,c,n))continue;Hl(e,t,r,n,c.selectionSet,s,o);break}}}function Jf(e,t){const r=Vl(W8,t,e);if((r==null?void 0:r.if)===!0)return!1;const n=Vl(H8,t,e);return(n==null?void 0:n.if)!==!1}function mv(e,t,r){const n=t.typeCondition;if(!n)return!0;const u=rn(e,n);return u===r?!0:rs(u)?e.isSubType(u,r):!1}function B$(e){return e.alias?e.alias.value:e.name.value}function T$(e){return{OperationDefinition(t){if(t.operation==="subscription"){const r=e.getSchema(),n=r.getSubscriptionType();if(n){const u=t.name?t.name.value:null,s=Object.create(null),o=e.getDocument(),a=Object.create(null);for(const c of o.definitions)c.kind===V.FRAGMENT_DEFINITION&&(a[c.name.value]=c);const i=E5(r,a,s,n,t.selectionSet);if(i.size>1){const p=[...i.values()].slice(1).flat();e.reportError(new he(u!=null?`Subscription "${u}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:p}))}for(const c of i.values())c[0].name.value.startsWith("__")&&e.reportError(new he(u!=null?`Subscription "${u}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:c}))}}}}}function rm(e,t){const r=new Map;for(const n of e){const u=t(n),s=r.get(u);s===void 0?r.set(u,[n]):s.push(n)}return r}function $$(e){return{DirectiveDefinition(n){var u;const s=(u=n.arguments)!==null&&u!==void 0?u:[];return r(`@${n.name.value}`,s)},InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(n){var u;const s=n.name.value,o=(u=n.fields)!==null&&u!==void 0?u:[];for(const i of o){var a;const c=i.name.value,l=(a=i.arguments)!==null&&a!==void 0?a:[];r(`${s}.${c}`,l)}return!1}function r(n,u){const s=rm(u,o=>o.name.value);for(const[o,a]of s)a.length>1&&e.reportError(new he(`Argument "${n}(${o}:)" can only be defined once.`,{nodes:a.map(i=>i.name)}));return!1}}function v5(e){return{Field:t,Directive:t};function t(r){var n;const u=(n=r.arguments)!==null&&n!==void 0?n:[],s=rm(u,o=>o.name.value);for(const[o,a]of s)a.length>1&&e.reportError(new he(`There can be only one argument named "${o}".`,{nodes:a.map(i=>i.name)}))}}function P$(e){const t=Object.create(null),r=e.getSchema();return{DirectiveDefinition(n){const u=n.name.value;if(r!=null&&r.getDirective(u)){e.reportError(new he(`Directive "@${u}" already exists in the schema. It cannot be redefined.`,{nodes:n.name}));return}return t[u]?e.reportError(new he(`There can be only one directive named "@${u}".`,{nodes:[t[u],n.name]})):t[u]=n.name,!1}}}function y5(e){const t=Object.create(null),r=e.getSchema(),n=r?r.getDirectives():lo;for(const a of n)t[a.name]=!a.isRepeatable;const u=e.getDocument().definitions;for(const a of u)a.kind===V.DIRECTIVE_DEFINITION&&(t[a.name.value]=!a.repeatable);const s=Object.create(null),o=Object.create(null);return{enter(a){if(!("directives"in a)||!a.directives)return;let i;if(a.kind===V.SCHEMA_DEFINITION||a.kind===V.SCHEMA_EXTENSION)i=s;else if(Ki(a)||Qh(a)){const c=a.name.value;i=o[c],i===void 0&&(o[c]=i=Object.create(null))}else i=Object.create(null);for(const c of a.directives){const l=c.name.value;t[l]&&(i[l]?e.reportError(new he(`The directive "@${l}" can only be used once at this location.`,{nodes:[i[l],c]})):i[l]=c)}}}}function O$(e){const t=e.getSchema(),r=t?t.getTypeMap():Object.create(null),n=Object.create(null);return{EnumTypeDefinition:u,EnumTypeExtension:u};function u(s){var o;const a=s.name.value;n[a]||(n[a]=Object.create(null));const i=(o=s.values)!==null&&o!==void 0?o:[],c=n[a];for(const l of i){const p=l.name.value,f=r[a];Zt(f)&&f.getValue(p)?e.reportError(new he(`Enum value "${a}.${p}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:l.name})):c[p]?e.reportError(new he(`Enum value "${a}.${p}" can only be defined once.`,{nodes:[c[p],l.name]})):c[p]=l.name}return!1}}function k$(e){const t=e.getSchema(),r=t?t.getTypeMap():Object.create(null),n=Object.create(null);return{InputObjectTypeDefinition:u,InputObjectTypeExtension:u,InterfaceTypeDefinition:u,InterfaceTypeExtension:u,ObjectTypeDefinition:u,ObjectTypeExtension:u};function u(s){var o;const a=s.name.value;n[a]||(n[a]=Object.create(null));const i=(o=s.fields)!==null&&o!==void 0?o:[],c=n[a];for(const l of i){const p=l.name.value;I$(r[a],p)?e.reportError(new he(`Field "${a}.${p}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:l.name})):c[p]?e.reportError(new he(`Field "${a}.${p}" can only be defined once.`,{nodes:[c[p],l.name]})):c[p]=l.name}return!1}}function I$(e,t){return ut(e)||mt(e)||bt(e)?e.getFields()[t]!=null:!1}function N$(e){const t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(r){const n=r.name.value;return t[n]?e.reportError(new he(`There can be only one fragment named "${n}".`,{nodes:[t[n],r.name]})):t[n]=r.name,!1}}}function g5(e){const t=[];let r=Object.create(null);return{ObjectValue:{enter(){t.push(r),r=Object.create(null)},leave(){const n=t.pop();n||tn(!1),r=n}},ObjectField(n){const u=n.name.value;r[u]?e.reportError(new he(`There can be only one input field named "${u}".`,{nodes:[r[u],n.name]})):r[u]=n.name}}}function q$(e){const t=Object.create(null);return{OperationDefinition(r){const n=r.name;return n&&(t[n.value]?e.reportError(new he(`There can be only one operation named "${n.value}".`,{nodes:[t[n.value],n]})):t[n.value]=n),!1},FragmentDefinition:()=>!1}}function x$(e){const t=e.getSchema(),r=Object.create(null),n=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:u,SchemaExtension:u};function u(s){var o;const a=(o=s.operationTypes)!==null&&o!==void 0?o:[];for(const i of a){const c=i.operation,l=r[c];n[c]?e.reportError(new he(`Type for ${c} already defined in the schema. It cannot be redefined.`,{nodes:i})):l?e.reportError(new he(`There can be only one ${c} type in schema.`,{nodes:[l,i]})):r[c]=i}return!1}}function R$(e){const t=Object.create(null),r=e.getSchema();return{ScalarTypeDefinition:n,ObjectTypeDefinition:n,InterfaceTypeDefinition:n,UnionTypeDefinition:n,EnumTypeDefinition:n,InputObjectTypeDefinition:n};function n(u){const s=u.name.value;if(r!=null&&r.getType(s)){e.reportError(new he(`Type "${s}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:u.name}));return}return t[s]?e.reportError(new he(`There can be only one type named "${s}".`,{nodes:[t[s],u.name]})):t[s]=u.name,!1}}function j$(e){return{OperationDefinition(t){var r;const n=(r=t.variableDefinitions)!==null&&r!==void 0?r:[],u=rm(n,s=>s.variable.name.value);for(const[s,o]of u)o.length>1&&e.reportError(new he(`There can be only one variable named "$${s}".`,{nodes:o.map(a=>a.variable.name)}))}}}function M$(e){return{ListValue(t){const r=Vh(e.getParentInputType());if(!jt(r))return Os(e,t),!1},ObjectValue(t){const r=Vr(e.getInputType());if(!bt(r))return Os(e,t),!1;const n=to(t.fields,u=>u.name.value);for(const u of Object.values(r.getFields()))if(!n[u.name]&&G8(u)){const o=Se(u.type);e.reportError(new he(`Field "${r.name}.${u.name}" of required type "${o}" was not provided.`,{nodes:t}))}},ObjectField(t){const r=Vr(e.getParentInputType());if(!e.getInputType()&&bt(r)){const u=ps(t.name.value,Object.keys(r.getFields()));e.reportError(new he(`Field "${t.name.value}" is not defined by type "${r.name}".`+Tu(u),{nodes:t}))}},NullValue(t){const r=e.getInputType();ct(r)&&e.reportError(new he(`Expected value of type "${Se(r)}", found ${Kt(t)}.`,{nodes:t}))},EnumValue:t=>Os(e,t),IntValue:t=>Os(e,t),FloatValue:t=>Os(e,t),StringValue:t=>Os(e,t),BooleanValue:t=>Os(e,t)}}function Os(e,t){const r=e.getInputType();if(!r)return;const n=Vr(r);if(!Dn(n)){const u=Se(r);e.reportError(new he(`Expected value of type "${u}", found ${Kt(t)}.`,{nodes:t}));return}try{if(n.parseLiteral(t,void 0)===void 0){const s=Se(r);e.reportError(new he(`Expected value of type "${s}", found ${Kt(t)}.`,{nodes:t}))}}catch(u){const s=Se(r);u instanceof he?e.reportError(u):e.reportError(new he(`Expected value of type "${s}", found ${Kt(t)}; `+u.message,{nodes:t,originalError:u}))}}function L$(e){return{VariableDefinition(t){const r=rn(e.getSchema(),t.type);if(r!==void 0&&!In(r)){const n=t.variable.name.value,u=Kt(t.type);e.reportError(new he(`Variable "$${n}" cannot be non-input type "${u}".`,{nodes:t.type}))}}}}function U$(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(r){const n=e.getRecursiveVariableUsages(r);for(const{node:u,type:s,defaultValue:o}of n){const a=u.name.value,i=t[a];if(i&&s){const c=e.getSchema(),l=rn(c,i.type);if(l&&!G$(c,l,i.defaultValue,s,o)){const p=Se(l),f=Se(s);e.reportError(new he(`Variable "$${a}" of type "${p}" used in position expecting type "${f}".`,{nodes:[i,u]}))}}}}},VariableDefinition(r){t[r.variable.name.value]=r}}}function G$(e,t,r,n,u){if(ct(n)&&!ct(t)){if(!(r!=null&&r.kind!==V.NULL)&&!(u!==void 0))return!1;const a=n.ofType;return oa(e,t,a)}return oa(e,t,n)}const V$=Object.freeze([HT,q$,t$,T$,c5,KT,L$,F$,WT,N$,QT,s$,D$,n$,j$,u$,o$,i5,y5,XT,v5,M$,g$,U$,i$,g5]),H$=Object.freeze([r$,x$,R$,O$,k$,$$,P$,c5,i5,y5,m$,a5,v5,g5,d5]);class A5{constructor(t,r){this._ast=t,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=r}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(t){this._onError(t)}getDocument(){return this._ast}getFragment(t){let r;if(this._fragments)r=this._fragments;else{r=Object.create(null);for(const n of this.getDocument().definitions)n.kind===V.FRAGMENT_DEFINITION&&(r[n.name.value]=n);this._fragments=r}return r[t]}getFragmentSpreads(t){let r=this._fragmentSpreads.get(t);if(!r){r=[];const n=[t];let u;for(;u=n.pop();)for(const s of u.selections)s.kind===V.FRAGMENT_SPREAD?r.push(s):s.selectionSet&&n.push(s.selectionSet);this._fragmentSpreads.set(t,r)}return r}getRecursivelyReferencedFragments(t){let r=this._recursivelyReferencedFragments.get(t);if(!r){r=[];const n=Object.create(null),u=[t.selectionSet];let s;for(;s=u.pop();)for(const o of this.getFragmentSpreads(s)){const a=o.name.value;if(n[a]!==!0){n[a]=!0;const i=this.getFragment(a);i&&(r.push(i),u.push(i.selectionSet))}}this._recursivelyReferencedFragments.set(t,r)}return r}}class W$ extends A5{constructor(t,r,n){super(t,n),this._schema=r}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}class J$ extends A5{constructor(t,r,n,u){super(r,u),this._schema=t,this._typeInfo=n,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(t){let r=this._variableUsages.get(t);if(!r){const n=[],u=new r5(this._schema);Hi(t,n5(u,{VariableDefinition:()=>!1,Variable(s){n.push({node:s,type:u.getInputType(),defaultValue:u.getDefaultValue()})}})),r=n,this._variableUsages.set(t,r)}return r}getRecursiveVariableUsages(t){let r=this._recursiveVariableUsages.get(t);if(!r){r=this.getVariableUsages(t);for(const n of this.getRecursivelyReferencedFragments(t))r=r.concat(this.getVariableUsages(n));this._recursiveVariableUsages.set(t,r)}return r}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}function z$(e,t,r=V$,n,u=new r5(e)){var s;const o=(s=n==null?void 0:n.maxErrors)!==null&&s!==void 0?s:100;t||dt(!1,"Must provide document."),t5(e);const a=Object.freeze({}),i=[],c=new J$(e,t,u,p=>{if(i.length>=o)throw i.push(new he("Too many validation errors, error limit reached. Validation aborted.")),a;i.push(p)}),l=N8(r.map(p=>p(c)));try{Hi(t,n5(u,l))}catch(p){if(p!==a)throw p}return i}function K$(e,t,r=H$){const n=[],u=new W$(e,t,o=>{n.push(o)}),s=r.map(o=>o(u));return Hi(e,N8(s)),n}function X$(e){const t=K$(e);if(t.length!==0)throw new Error(t.map(r=>r.message).join(`

`))}function Y$(e){let t;return function(n,u,s){t===void 0&&(t=new WeakMap);let o=t.get(n);o===void 0&&(o=new WeakMap,t.set(n,o));let a=o.get(u);a===void 0&&(a=new WeakMap,o.set(u,a));let i=a.get(s);return i===void 0&&(i=e(n,u,s),a.set(s,i)),i}}function Z$(e){return Promise.all(Object.values(e)).then(t=>{const r=Object.create(null);for(const[n,u]of Object.keys(e).entries())r[u]=t[n];return r})}function Q$(e,t,r){let n=r;for(const u of e)n=dn(n)?n.then(s=>t(s,u)):t(n,u);return n}function eP(e){return e instanceof Error?e:new tP(e)}class tP extends Error{constructor(t){super("Unexpected error value: "+Se(t)),this.name="NonErrorThrown",this.thrownValue=t}}function Wl(e,t,r){var n;const u=eP(e);return rP(u)?u:new he(u.message,{nodes:(n=u.nodes)!==null&&n!==void 0?n:t,source:u.source,positions:u.positions,path:r,originalError:u})}function rP(e){return Array.isArray(e.path)}const nP=Y$((e,t,r)=>_$(e.schema,e.fragments,e.variableValues,t,r));function uP(e){arguments.length<2||dt(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,document:r,variableValues:n,rootValue:u}=e;sP(t,r,n);const s=oP(e);if(!("schema"in s))return{errors:s};try{const{operation:o}=s,a=aP(s,o,u);return dn(a)?a.then(i=>qc(i,s.errors),i=>(s.errors.push(i),qc(null,s.errors))):qc(a,s.errors)}catch(o){return s.errors.push(o),qc(null,s.errors)}}function qc(e,t){return t.length===0?{data:e}:{errors:t,data:e}}function sP(e,t,r){t||dt(!1,"Must provide document."),t5(e),r==null||Mn(r)||dt(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function oP(e){var t,r;const{schema:n,document:u,rootValue:s,contextValue:o,variableValues:a,operationName:i,fieldResolver:c,typeResolver:l,subscribeFieldResolver:p}=e;let f;const d=Object.create(null);for(const A of u.definitions)switch(A.kind){case V.OPERATION_DEFINITION:if(i==null){if(f!==void 0)return[new he("Must provide operation name if query contains multiple operations.")];f=A}else((t=A.name)===null||t===void 0?void 0:t.value)===i&&(f=A);break;case V.FRAGMENT_DEFINITION:d[A.name.value]=A;break}if(!f)return i!=null?[new he(`Unknown operation named "${i}".`)]:[new he("Must provide an operation.")];const h=(r=f.variableDefinitions)!==null&&r!==void 0?r:[],E=S$(n,h,a??{},{maxErrors:50});return E.errors?E.errors:{schema:n,fragments:d,rootValue:s,contextValue:o,operation:f,variableValues:E.coerced,fieldResolver:c??yv,typeResolver:l??dP,subscribeFieldResolver:p??yv,errors:[]}}function aP(e,t,r){const n=e.schema.getRootType(t.operation);if(n==null)throw new he(`Schema is not configured to execute ${t.operation} operation.`,{nodes:t});const u=E5(e.schema,e.fragments,e.variableValues,n,t.selectionSet),s=void 0;switch(t.operation){case ar.QUERY:return Jl(e,n,r,s,u);case ar.MUTATION:return iP(e,n,r,s,u);case ar.SUBSCRIPTION:return Jl(e,n,r,s,u)}}function iP(e,t,r,n,u){return Q$(u.entries(),(s,[o,a])=>{const i=$i(n,o,t.name),c=F5(e,t,r,a,i);return c===void 0?s:dn(c)?c.then(l=>(s[o]=l,s)):(s[o]=c,s)},Object.create(null))}function Jl(e,t,r,n,u){const s=Object.create(null);let o=!1;for(const[a,i]of u.entries()){const c=$i(n,a,t.name),l=F5(e,t,r,i,c);l!==void 0&&(s[a]=l,dn(l)&&(o=!0))}return o?Z$(s):s}function F5(e,t,r,n,u){var s;const o=DP(e.schema,t,n[0]);if(!o)return;const a=o.type,i=(s=o.resolve)!==null&&s!==void 0?s:e.fieldResolver,c=cP(e,o,n,t,u);try{const l=h5(o,n[0],e.variableValues),p=e.contextValue,f=i(r,l,p,c);let d;return dn(f)?d=f.then(h=>Pi(e,a,n,c,u,h)):d=Pi(e,a,n,c,u,f),dn(d)?d.then(void 0,h=>{const E=Wl(h,n,On(u));return zl(E,a,e)}):d}catch(l){const p=Wl(l,n,On(u));return zl(p,a,e)}}function cP(e,t,r,n,u){return{fieldName:t.name,fieldNodes:r,returnType:t.type,parentType:n,path:u,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function zl(e,t,r){if(ct(t))throw e;return r.errors.push(e),null}function Pi(e,t,r,n,u,s){if(s instanceof Error)throw s;if(ct(t)){const o=Pi(e,t.ofType,r,n,u,s);if(o===null)throw new Error(`Cannot return null for non-nullable field ${n.parentType.name}.${n.fieldName}.`);return o}if(s==null)return null;if(jt(t))return lP(e,t,r,n,u,s);if(Dn(t))return pP(t,s);if(rs(t))return fP(e,t,r,n,u,s);if(ut(t))return w2(e,t,r,n,u,s);tn(!1,"Cannot complete value of unexpected output type: "+Se(t))}function lP(e,t,r,n,u,s){if(!Wh(s))throw new he(`Expected Iterable, but did not find one for field "${n.parentType.name}.${n.fieldName}".`);const o=t.ofType;let a=!1;const i=Array.from(s,(c,l)=>{const p=$i(u,l,void 0);try{let f;return dn(c)?f=c.then(d=>Pi(e,o,r,n,p,d)):f=Pi(e,o,r,n,p,c),dn(f)?(a=!0,f.then(void 0,d=>{const h=Wl(d,r,On(p));return zl(h,o,e)})):f}catch(f){const d=Wl(f,r,On(p));return zl(d,o,e)}});return a?Promise.all(i):i}function pP(e,t){const r=e.serialize(t);if(r==null)throw new Error(`Expected \`${Se(e)}.serialize(${Se(t)})\` to return non-nullable value, returned: ${Se(r)}`);return r}function fP(e,t,r,n,u,s){var o;const a=(o=t.resolveType)!==null&&o!==void 0?o:e.typeResolver,i=e.contextValue,c=a(s,i,n,t);return dn(c)?c.then(l=>w2(e,Ev(l,e,t,r,n,s),r,n,u,s)):w2(e,Ev(c,e,t,r,n,s),r,n,u,s)}function Ev(e,t,r,n,u,s){if(e==null)throw new he(`Abstract type "${r.name}" must resolve to an Object type at runtime for field "${u.parentType.name}.${u.fieldName}". Either the "${r.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,n);if(ut(e))throw new he("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if(typeof e!="string")throw new he(`Abstract type "${r.name}" must resolve to an Object type at runtime for field "${u.parentType.name}.${u.fieldName}" with value ${Se(s)}, received "${Se(e)}".`);const o=t.schema.getType(e);if(o==null)throw new he(`Abstract type "${r.name}" was resolved to a type "${e}" that does not exist inside the schema.`,{nodes:n});if(!ut(o))throw new he(`Abstract type "${r.name}" was resolved to a non-object type "${e}".`,{nodes:n});if(!t.schema.isSubType(r,o))throw new he(`Runtime Object type "${o.name}" is not a possible type for "${r.name}".`,{nodes:n});return o}function w2(e,t,r,n,u,s){const o=nP(e,t,r);if(t.isTypeOf){const a=t.isTypeOf(s,e.contextValue,n);if(dn(a))return a.then(i=>{if(!i)throw vv(t,s,r);return Jl(e,t,s,u,o)});if(!a)throw vv(t,s,r)}return Jl(e,t,s,u,o)}function vv(e,t,r){return new he(`Expected value of type "${e.name}" but got: ${Se(t)}.`,{nodes:r})}const dP=function(e,t,r,n){if(Mn(e)&&typeof e.__typename=="string")return e.__typename;const u=r.schema.getPossibleTypes(n),s=[];for(let o=0;o<u.length;o++){const a=u[o];if(a.isTypeOf){const i=a.isTypeOf(e,t,r);if(dn(i))s[o]=i;else if(i)return a.name}}if(s.length)return Promise.all(s).then(o=>{for(let a=0;a<o.length;a++)if(o[a])return u[a].name})},yv=function(e,t,r,n){if(Mn(e)||typeof e=="function"){const u=e[n.fieldName];return typeof u=="function"?e[n.fieldName](t,r,n):u}};function DP(e,t,r){const n=r.name.value;return n===Rl.name&&e.getQueryType()===t?Rl:n===jl.name&&e.getQueryType()===t?jl:n===Ml.name?Ml:t.getFields()[n]}function hP(e){return new Promise(t=>t(C5(e)))}function mP(e){const t=C5(e);if(dn(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}function C5(e){arguments.length<2||dt(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,source:r,rootValue:n,contextValue:u,variableValues:s,operationName:o,fieldResolver:a,typeResolver:i}=e,c=e5(t);if(c.length>0)return{errors:c};let l;try{l=jh(r)}catch(f){return{errors:[f]}}const p=z$(t,l);return p.length>0?{errors:p}:uP({schema:t,document:l,rootValue:n,contextValue:u,variableValues:s,operationName:o,fieldResolver:a,typeResolver:i})}function EP(e,t,r){var n,u,s,o;const a=[],i=Object.create(null),c=[];let l;const p=[];for(const v of t.definitions)if(v.kind===V.SCHEMA_DEFINITION)l=v;else if(v.kind===V.SCHEMA_EXTENSION)p.push(v);else if(Ki(v))a.push(v);else if(Qh(v)){const C=v.name.value,D=i[C];i[C]=D?D.concat([v]):[v]}else v.kind===V.DIRECTIVE_DEFINITION&&c.push(v);if(Object.keys(i).length===0&&a.length===0&&c.length===0&&p.length===0&&l==null)return e;const f=Object.create(null);for(const v of e.types)f[v.name]=y(v);for(const v of a){var d;const C=v.name.value;f[C]=(d=gv[C])!==null&&d!==void 0?d:q(v)}const h={query:e.query&&A(e.query),mutation:e.mutation&&A(e.mutation),subscription:e.subscription&&A(e.subscription),...l&&te([l]),...te(p)};return{description:(n=l)===null||n===void 0||(u=n.description)===null||u===void 0?void 0:u.value,...h,types:Object.values(f),directives:[...e.directives.map(m),...c.map(ie)],extensions:Object.create(null),astNode:(s=l)!==null&&s!==void 0?s:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(p),assumeValid:(o=r==null?void 0:r.assumeValid)!==null&&o!==void 0?o:!1};function E(v){return jt(v)?new gr(E(v.ofType)):ct(v)?new ot(E(v.ofType)):A(v)}function A(v){return f[v.name]}function m(v){const C=v.toConfig();return new ls({...C,args:Au(C.args,W)})}function y(v){if(Kh(v)||Ji(v))return v;if(nn(v))return P(v);if(ut(v))return $(v);if(mt(v))return I(v);if(lr(v))return U(v);if(Zt(v))return B(v);if(bt(v))return F(v);tn(!1,"Unexpected type: "+Se(v))}function F(v){var C;const D=v.toConfig(),g=(C=i[D.name])!==null&&C!==void 0?C:[];return new ro({...D,fields:()=>({...Au(D.fields,O=>({...O,type:E(O.type)})),...de(g)}),extensionASTNodes:D.extensionASTNodes.concat(g)})}function B(v){var C;const D=v.toConfig(),g=(C=i[v.name])!==null&&C!==void 0?C:[];return new iu({...D,values:{...D.values,...Ce(g)},extensionASTNodes:D.extensionASTNodes.concat(g)})}function P(v){var C;const D=v.toConfig(),g=(C=i[D.name])!==null&&C!==void 0?C:[];let O=D.specifiedByURL;for(const w of g){var b;O=(b=Av(w))!==null&&b!==void 0?b:O}return new au({...D,specifiedByURL:O,extensionASTNodes:D.extensionASTNodes.concat(g)})}function $(v){var C;const D=v.toConfig(),g=(C=i[D.name])!==null&&C!==void 0?C:[];return new Wr({...D,interfaces:()=>[...v.getInterfaces().map(A),...pe(g)],fields:()=>({...Au(D.fields,j),...fe(g)}),extensionASTNodes:D.extensionASTNodes.concat(g)})}function I(v){var C;const D=v.toConfig(),g=(C=i[D.name])!==null&&C!==void 0?C:[];return new cs({...D,interfaces:()=>[...v.getInterfaces().map(A),...pe(g)],fields:()=>({...Au(D.fields,j),...fe(g)}),extensionASTNodes:D.extensionASTNodes.concat(g)})}function U(v){var C;const D=v.toConfig(),g=(C=i[D.name])!==null&&C!==void 0?C:[];return new Ti({...D,types:()=>[...v.getTypes().map(A),...Q(g)],extensionASTNodes:D.extensionASTNodes.concat(g)})}function j(v){return{...v,type:E(v.type),args:v.args&&Au(v.args,W)}}function W(v){return{...v,type:E(v.type)}}function te(v){const C={};for(const g of v){var D;const O=(D=g.operationTypes)!==null&&D!==void 0?D:[];for(const b of O)C[b.operation]=Y(b.type)}return C}function Y(v){var C;const D=v.name.value,g=(C=gv[D])!==null&&C!==void 0?C:f[D];if(g===void 0)throw new Error(`Unknown type: "${D}".`);return g}function oe(v){return v.kind===V.LIST_TYPE?new gr(oe(v.type)):v.kind===V.NON_NULL_TYPE?new ot(oe(v.type)):Y(v)}function ie(v){var C;return new ls({name:v.name.value,description:(C=v.description)===null||C===void 0?void 0:C.value,locations:v.locations.map(({value:D})=>D),isRepeatable:v.repeatable,args:De(v.arguments),astNode:v})}function fe(v){const C=Object.create(null);for(const O of v){var D;const b=(D=O.fields)!==null&&D!==void 0?D:[];for(const w of b){var g;C[w.name.value]={type:oe(w.type),description:(g=w.description)===null||g===void 0?void 0:g.value,args:De(w.arguments),deprecationReason:xc(w),astNode:w}}}return C}function De(v){const C=v??[],D=Object.create(null);for(const O of C){var g;const b=oe(O.type);D[O.name.value]={type:b,description:(g=O.description)===null||g===void 0?void 0:g.value,defaultValue:Zu(O.defaultValue,b),deprecationReason:xc(O),astNode:O}}return D}function de(v){const C=Object.create(null);for(const O of v){var D;const b=(D=O.fields)!==null&&D!==void 0?D:[];for(const w of b){var g;const x=oe(w.type);C[w.name.value]={type:x,description:(g=w.description)===null||g===void 0?void 0:g.value,defaultValue:Zu(w.defaultValue,x),deprecationReason:xc(w),astNode:w}}}return C}function Ce(v){const C=Object.create(null);for(const O of v){var D;const b=(D=O.values)!==null&&D!==void 0?D:[];for(const w of b){var g;C[w.name.value]={description:(g=w.description)===null||g===void 0?void 0:g.value,deprecationReason:xc(w),astNode:w}}}return C}function pe(v){return v.flatMap(C=>{var D,g;return(D=(g=C.interfaces)===null||g===void 0?void 0:g.map(Y))!==null&&D!==void 0?D:[]})}function Q(v){return v.flatMap(C=>{var D,g;return(D=(g=C.types)===null||g===void 0?void 0:g.map(Y))!==null&&D!==void 0?D:[]})}function q(v){var C;const D=v.name.value,g=(C=i[D])!==null&&C!==void 0?C:[];switch(v.kind){case V.OBJECT_TYPE_DEFINITION:{var O;const H=[v,...g];return new Wr({name:D,description:(O=v.description)===null||O===void 0?void 0:O.value,interfaces:()=>pe(H),fields:()=>fe(H),astNode:v,extensionASTNodes:g})}case V.INTERFACE_TYPE_DEFINITION:{var b;const H=[v,...g];return new cs({name:D,description:(b=v.description)===null||b===void 0?void 0:b.value,interfaces:()=>pe(H),fields:()=>fe(H),astNode:v,extensionASTNodes:g})}case V.ENUM_TYPE_DEFINITION:{var w;const H=[v,...g];return new iu({name:D,description:(w=v.description)===null||w===void 0?void 0:w.value,values:Ce(H),astNode:v,extensionASTNodes:g})}case V.UNION_TYPE_DEFINITION:{var x;const H=[v,...g];return new Ti({name:D,description:(x=v.description)===null||x===void 0?void 0:x.value,types:()=>Q(H),astNode:v,extensionASTNodes:g})}case V.SCALAR_TYPE_DEFINITION:{var k;return new au({name:D,description:(k=v.description)===null||k===void 0?void 0:k.value,specifiedByURL:Av(v),astNode:v,extensionASTNodes:g})}case V.INPUT_OBJECT_TYPE_DEFINITION:{var G;const H=[v,...g];return new ro({name:D,description:(G=v.description)===null||G===void 0?void 0:G.value,fields:()=>de(H),astNode:v,extensionASTNodes:g})}}}}const gv=to([...Hh,...zh],e=>e.name);function xc(e){const t=Vl($p,e);return t==null?void 0:t.reason}function Av(e){const t=Vl(J8,e);return t==null?void 0:t.url}function b5(e,t){e!=null&&e.kind===V.DOCUMENT||dt(!1,"Must provide valid Document AST."),(t==null?void 0:t.assumeValid)!==!0&&(t==null?void 0:t.assumeValidSDL)!==!0&&X$(e);const n=EP({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},e,t);if(n.astNode==null)for(const s of n.types)switch(s.name){case"Query":n.query=s;break;case"Mutation":n.mutation=s;break;case"Subscription":n.subscription=s;break}const u=[...n.directives,...lo.filter(s=>n.directives.every(o=>o.name!==s.name))];return new Yh({...n,directives:u})}function vP(e,t){const r=jh(e,{noLocation:t==null?void 0:t.noLocation,allowLegacyFragmentVariables:t==null?void 0:t.allowLegacyFragmentVariables});return b5(r,{assumeValidSDL:t==null?void 0:t.assumeValidSDL,assumeValid:t==null?void 0:t.assumeValid})}const S5=e=>Array.isArray(e)?e:e?[e]:[];function yP(e,t){return String(e)<String(t)?-1:String(e)>String(t)?1:0}function Fv(e){var t,r;let n;return"alias"in e&&(n=(t=e.alias)===null||t===void 0?void 0:t.value),n==null&&"name"in e&&(n=(r=e.name)===null||r===void 0?void 0:r.value),n==null&&(n=e.kind),n}function Op(e,t,r){const n=Fv(e),u=Fv(t);return typeof r=="function"?r(n,u):yP(n,u)}function kp(e){return e!=null}function gP(e){return"errors"in e&&Array.isArray(e.errors)}const w5=3;function AP(e){return Ip(e,[])}function Ip(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return FP(e,t);default:return String(e)}}function Cv(e){return e instanceof he?e.toString():`${e.name}: ${e.message};
 ${e.stack}`}function FP(e,t){if(e===null)return"null";if(e instanceof Error)return gP(e)?Cv(e)+`
`+bv(e.errors,t):Cv(e);if(t.includes(e))return"[Circular]";const r=[...t,e];if(CP(e)){const n=e.toJSON();if(n!==e)return typeof n=="string"?n:Ip(n,r)}else if(Array.isArray(e))return bv(e,r);return bP(e,r)}function CP(e){return typeof e.toJSON=="function"}function bP(e,t){const r=Object.entries(e);return r.length===0?"{}":t.length>w5?"["+SP(e)+"]":"{ "+r.map(([u,s])=>u+": "+Ip(s,t)).join(", ")+" }"}function bv(e,t){if(e.length===0)return"[]";if(t.length>w5)return"[Array]";const r=e.length,n=[];for(let u=0;u<r;++u)n.push(Ip(e[u],t));return"["+n.join(", ")+"]"}function SP(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}function nm(e,t=["directives"]){return t.reduce((r,n)=>r==null?r:r[n],e==null?void 0:e.extensions)}function $u(e){if(ct(e)){const t=$u(e.ofType);if(t.kind===V.NON_NULL_TYPE)throw new Error(`Invalid type node ${AP(e)}. Inner type of non-null type cannot be a non-null type.`);return{kind:V.NON_NULL_TYPE,type:t}}else if(jt(e))return{kind:V.LIST_TYPE,type:$u(e.ofType)};return{kind:V.NAMED_TYPE,name:{kind:V.NAME,value:e.name}}}function _2(e){if(e===null)return{kind:V.NULL};if(e===void 0)return null;if(Array.isArray(e)){const t=[];for(const r of e){const n=_2(r);n!=null&&t.push(n)}return{kind:V.LIST,values:t}}if(typeof e=="object"){const t=[];for(const r in e){const n=e[r],u=_2(n);u&&t.push({kind:V.OBJECT_FIELD,name:{kind:V.NAME,value:r},value:u})}return{kind:V.OBJECT,fields:t}}if(typeof e=="boolean")return{kind:V.BOOLEAN,value:e};if(typeof e=="number"&&isFinite(e)){const t=String(e);return wP.test(t)?{kind:V.INT,value:t}:{kind:V.FLOAT,value:t}}if(typeof e=="string")return{kind:V.STRING,value:e};throw new TypeError(`Cannot convert value to AST: ${e}.`)}const wP=/^-?(?:0|[1-9][0-9]*)$/;function _P(e){const t=new WeakMap;return function(n){const u=t.get(n);if(u===void 0){const s=e(n);return t.set(n,s),s}return u}}const BP=_P(function(t){const r=new Map,n=t.getQueryType();n&&r.set("query",n);const u=t.getMutationType();u&&r.set("mutation",u);const s=t.getSubscriptionType();return s&&r.set("subscription",s),r});function TP(e,t={}){const r=t.pathToDirectivesInExtensions,n=e.getTypeMap(),u=$P(e,r),s=u!=null?[u]:[],o=e.getDirectives();for(const a of o)z8(a)||s.push(PP(a,e,r));for(const a in n){const i=n[a],c=Ji(i),l=Kh(i);if(!(c||l))if(ut(i))s.push(OP(i,e,r));else if(mt(i))s.push(kP(i,e,r));else if(lr(i))s.push(IP(i,e,r));else if(bt(i))s.push(NP(i,e,r));else if(Zt(i))s.push(qP(i,e,r));else if(nn(i))s.push(xP(i,e,r));else throw new Error(`Unknown type ${i}.`)}return{kind:V.DOCUMENT,definitions:s}}function $P(e,t){var r,n;const u=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),s=[];if(e.astNode!=null&&s.push(e.astNode),e.extensionASTNodes!=null)for(const l of e.extensionASTNodes)s.push(l);for(const l of s)if(l.operationTypes)for(const p of l.operationTypes)u.set(p.operation,p);const o=BP(e);for(const[l,p]of u){const f=o.get(l);if(f!=null){const d=$u(f);p!=null?p.type=d:u.set(l,{kind:V.OPERATION_TYPE_DEFINITION,operation:l,type:d})}}const a=[...u.values()].filter(kp),i=_a(e,e,t);if(!a.length&&!i.length)return null;const c={kind:a!=null?V.SCHEMA_DEFINITION:V.SCHEMA_EXTENSION,operationTypes:a,directives:i};return c.description=((n=(r=e.astNode)===null||r===void 0?void 0:r.description)!==null&&n!==void 0?n:e.description!=null)?{kind:V.STRING,value:e.description,block:!0}:void 0,c}function PP(e,t,r){var n,u,s,o;return{kind:V.DIRECTIVE_DEFINITION,description:(u=(n=e.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:e.description?{kind:V.STRING,value:e.description}:void 0,name:{kind:V.NAME,value:e.name},arguments:(s=e.args)===null||s===void 0?void 0:s.map(a=>_5(a,t,r)),repeatable:e.isRepeatable,locations:((o=e.locations)===null||o===void 0?void 0:o.map(a=>({kind:V.NAME,value:a})))||[]}}function _a(e,t,r){const n=nm(e,r);let u=[];e.astNode!=null&&u.push(e.astNode),"extensionASTNodes"in e&&e.extensionASTNodes!=null&&(u=u.concat(e.extensionASTNodes));let s;if(n!=null)s=um(t,n);else{s=[];for(const o of u)o.directives&&s.push(...o.directives)}return s}function Np(e,t,r){var n,u;let s=[],o=null;const a=nm(e,r);let i;return a!=null?i=um(t,a):i=(n=e.astNode)===null||n===void 0?void 0:n.directives,i!=null&&(s=i.filter(c=>c.name.value!=="deprecated"),e.deprecationReason!=null&&(o=(u=i.filter(c=>c.name.value==="deprecated"))===null||u===void 0?void 0:u[0])),e.deprecationReason!=null&&o==null&&(o=MP(e.deprecationReason)),o==null?s:[o].concat(s)}function _5(e,t,r){var n,u,s;return{kind:V.INPUT_VALUE_DEFINITION,description:(u=(n=e.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:e.description?{kind:V.STRING,value:e.description,block:!0}:void 0,name:{kind:V.NAME,value:e.name},type:$u(e.type),defaultValue:e.defaultValue!==void 0&&(s=Yu(e.defaultValue,e.type))!==null&&s!==void 0?s:void 0,directives:Np(e,t,r)}}function OP(e,t,r){var n,u;return{kind:V.OBJECT_TYPE_DEFINITION,description:(u=(n=e.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:e.description?{kind:V.STRING,value:e.description,block:!0}:void 0,name:{kind:V.NAME,value:e.name},fields:Object.values(e.getFields()).map(s=>B5(s,t,r)),interfaces:Object.values(e.getInterfaces()).map(s=>$u(s)),directives:_a(e,t,r)}}function kP(e,t,r){var n,u;const s={kind:V.INTERFACE_TYPE_DEFINITION,description:(u=(n=e.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:e.description?{kind:V.STRING,value:e.description,block:!0}:void 0,name:{kind:V.NAME,value:e.name},fields:Object.values(e.getFields()).map(o=>B5(o,t,r)),directives:_a(e,t,r)};return"getInterfaces"in e&&(s.interfaces=Object.values(e.getInterfaces()).map(o=>$u(o))),s}function IP(e,t,r){var n,u;return{kind:V.UNION_TYPE_DEFINITION,description:(u=(n=e.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:e.description?{kind:V.STRING,value:e.description,block:!0}:void 0,name:{kind:V.NAME,value:e.name},directives:_a(e,t,r),types:e.getTypes().map(s=>$u(s))}}function NP(e,t,r){var n,u;return{kind:V.INPUT_OBJECT_TYPE_DEFINITION,description:(u=(n=e.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:e.description?{kind:V.STRING,value:e.description,block:!0}:void 0,name:{kind:V.NAME,value:e.name},fields:Object.values(e.getFields()).map(s=>RP(s,t,r)),directives:_a(e,t,r)}}function qP(e,t,r){var n,u;return{kind:V.ENUM_TYPE_DEFINITION,description:(u=(n=e.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:e.description?{kind:V.STRING,value:e.description,block:!0}:void 0,name:{kind:V.NAME,value:e.name},values:Object.values(e.getValues()).map(s=>jP(s,t,r)),directives:_a(e,t,r)}}function xP(e,t,r){var n,u,s;const o=nm(e,r),a=o?um(t,o):((n=e.astNode)===null||n===void 0?void 0:n.directives)||[],i=e.specifiedByUrl||e.specifiedByURL;if(i&&!a.some(c=>c.name.value==="specifiedBy")){const c={url:i};a.push(Kl("specifiedBy",c))}return{kind:V.SCALAR_TYPE_DEFINITION,description:(s=(u=e.astNode)===null||u===void 0?void 0:u.description)!==null&&s!==void 0?s:e.description?{kind:V.STRING,value:e.description,block:!0}:void 0,name:{kind:V.NAME,value:e.name},directives:a}}function B5(e,t,r){var n,u;return{kind:V.FIELD_DEFINITION,description:(u=(n=e.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:e.description?{kind:V.STRING,value:e.description,block:!0}:void 0,name:{kind:V.NAME,value:e.name},arguments:e.args.map(s=>_5(s,t,r)),type:$u(e.type),directives:Np(e,t,r)}}function RP(e,t,r){var n,u,s;return{kind:V.INPUT_VALUE_DEFINITION,description:(u=(n=e.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:e.description?{kind:V.STRING,value:e.description,block:!0}:void 0,name:{kind:V.NAME,value:e.name},type:$u(e.type),directives:Np(e,t,r),defaultValue:(s=Yu(e.defaultValue,e.type))!==null&&s!==void 0?s:void 0}}function jP(e,t,r){var n,u;return{kind:V.ENUM_VALUE_DEFINITION,description:(u=(n=e.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:e.description?{kind:V.STRING,value:e.description,block:!0}:void 0,name:{kind:V.NAME,value:e.name},directives:Np(e,t,r)}}function MP(e){return Kl("deprecated",{reason:e},$p)}function Kl(e,t,r){const n=[];if(r!=null)for(const u of r.args){const s=u.name,o=t[s];if(o!==void 0){const a=Yu(o,u.type);a&&n.push({kind:V.ARGUMENT,name:{kind:V.NAME,value:s},value:a})}}else for(const u in t){const s=t[u],o=_2(s);o&&n.push({kind:V.ARGUMENT,name:{kind:V.NAME,value:u},value:o})}return{kind:V.DIRECTIVE,name:{kind:V.NAME,value:e},arguments:n}}function um(e,t){const r=[];for(const n in t){const u=t[n],s=e==null?void 0:e.getDirective(n);if(Array.isArray(u))for(const o of u)r.push(Kl(n,o,s));else r.push(Kl(n,u,s))}return r}const LP=80;let aa={};function B2(){aa={}}function UP(e){var t;const r=(t=e.name)===null||t===void 0?void 0:t.value;if(r!=null)switch(Rc(e,r),e.kind){case"EnumTypeDefinition":if(e.values)for(const n of e.values)Rc(n,r,n.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(e.fields){for(const n of e.fields)if(Rc(n,r,n.name.value),zP(n)&&n.arguments)for(const u of n.arguments)Rc(u,r,n.name.value,u.name.value)}break}}function Rc(e,t,r,n){const u=KP(e);if(typeof u!="string"||u.length===0)return;const s=[t];r&&(s.push(r),n&&s.push(n));const o=s.join(".");aa[o]||(aa[o]=[]),aa[o].push(u)}function GP(e){return`
# `+e.replace(/\n/g,`
# `)}function xe(e,t){return e?e.filter(r=>r).join(t||""):""}function Sv(e){var t;return(t=e==null?void 0:e.some(r=>r.includes(`
`)))!==null&&t!==void 0?t:!1}function VP(e){return(t,r,n,u,s)=>{var o;const a=[],i=u.reduce((p,f)=>(["fields","arguments","values"].includes(f)&&p.name&&a.push(p.name.value),p[f]),s[0]),c=[...a,(o=i==null?void 0:i.name)===null||o===void 0?void 0:o.value].filter(Boolean).join("."),l=[];return t.kind.includes("Definition")&&aa[c]&&l.push(...aa[c]),xe([...l.map(GP),t.description,e(t,r,n,u,s)],`
`)}}function Di(e){return e&&`  ${e.replace(/\n/g,`
  `)}`}function Cn(e){return e&&e.length!==0?`{
${Di(xe(e,`
`))}
}`:""}function qt(e,t,r){return t?e+t+(r||""):""}function HP(e,t=!1){const r=e.replace(/"""/g,'\\"""');return(e[0]===" "||e[0]==="	")&&e.indexOf(`
`)===-1?`"""${r.replace(/"$/,`"
`)}"""`:`"""
${t?r:Di(r)}
"""`}const wv={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>xe(e.definitions,`

`)},OperationDefinition:{leave:e=>{const t=qt("(",xe(e.variableDefinitions,", "),")");return xe([e.operation,xe([e.name,t]),xe(e.directives," ")]," ")+" "+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+qt(" = ",r)+qt(" ",xe(n," "))},SelectionSet:{leave:({selections:e})=>Cn(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:u}){const s=qt("",e,": ")+t;let o=s+qt("(",xe(r,", "),")");return o.length>LP&&(o=s+qt(`(
`,Di(xe(r,`
`)),`
)`)),xe([o,xe(n," "),u]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+qt(" ",xe(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>xe(["...",qt("on ",e),xe(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:u})=>`fragment ${e}${qt("(",xe(r,", "),")")} on ${t} ${qt("",xe(n," ")," ")}`+u},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?HP(e):JSON.stringify(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+xe(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+xe(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+qt("(",xe(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({directives:e,operationTypes:t})=>xe(["schema",xe(e," "),Cn(t)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({name:e,directives:t})=>xe(["scalar",e,xe(t," ")]," ")},ObjectTypeDefinition:{leave:({name:e,interfaces:t,directives:r,fields:n})=>xe(["type",e,qt("implements ",xe(t," & ")),xe(r," "),Cn(n)]," ")},FieldDefinition:{leave:({name:e,arguments:t,type:r,directives:n})=>e+(Sv(t)?qt(`(
`,Di(xe(t,`
`)),`
)`):qt("(",xe(t,", "),")"))+": "+r+qt(" ",xe(n," "))},InputValueDefinition:{leave:({name:e,type:t,defaultValue:r,directives:n})=>xe([e+": "+t,qt("= ",r),xe(n," ")]," ")},InterfaceTypeDefinition:{leave:({name:e,interfaces:t,directives:r,fields:n})=>xe(["interface",e,qt("implements ",xe(t," & ")),xe(r," "),Cn(n)]," ")},UnionTypeDefinition:{leave:({name:e,directives:t,types:r})=>xe(["union",e,xe(t," "),qt("= ",xe(r," | "))]," ")},EnumTypeDefinition:{leave:({name:e,directives:t,values:r})=>xe(["enum",e,xe(t," "),Cn(r)]," ")},EnumValueDefinition:{leave:({name:e,directives:t})=>xe([e,xe(t," ")]," ")},InputObjectTypeDefinition:{leave:({name:e,directives:t,fields:r})=>xe(["input",e,xe(t," "),Cn(r)]," ")},DirectiveDefinition:{leave:({name:e,arguments:t,repeatable:r,locations:n})=>"directive @"+e+(Sv(t)?qt(`(
`,Di(xe(t,`
`)),`
)`):qt("(",xe(t,", "),")"))+(r?" repeatable":"")+" on "+xe(n," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>xe(["extend schema",xe(e," "),Cn(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>xe(["extend scalar",e,xe(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>xe(["extend type",e,qt("implements ",xe(t," & ")),xe(r," "),Cn(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>xe(["extend interface",e,qt("implements ",xe(t," & ")),xe(r," "),Cn(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>xe(["extend union",e,xe(t," "),qt("= ",xe(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>xe(["extend enum",e,xe(t," "),Cn(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>xe(["extend input",e,xe(t," "),Cn(r)]," ")}},WP=Object.keys(wv).reduce((e,t)=>({...e,[t]:{leave:VP(wv[t].leave)}}),{});function JP(e){return Hi(e,WP)}function zP(e){return e.kind==="FieldDefinition"}function KP(e){const t=XP(e);if(t!==void 0)return YP(`
${t}`)}function XP(e){const t=e.loc;if(!t)return;const r=[];let n=t.startToken.prev;for(;n!=null&&n.kind===Ee.COMMENT&&n.next!=null&&n.prev!=null&&n.line+1===n.next.line&&n.line!==n.prev.line;){const u=String(n.value);r.push(u),n=n.prev}return r.length>0?r.reverse().join(`
`):void 0}function YP(e){const t=e.split(/\r\n|[\n\r]/g),r=ZP(t);if(r!==0)for(let n=1;n<t.length;n++)t[n]=t[n].slice(r);for(;t.length>0&&_v(t[0]);)t.shift();for(;t.length>0&&_v(t[t.length-1]);)t.pop();return t.join(`
`)}function ZP(e){let t=null;for(let r=1;r<e.length;r++){const n=e[r],u=T5(n);if(u!==n.length&&(t===null||u<t)&&(t=u,t===0))break}return t===null?0:t}function T5(e){let t=0;for(;t<e.length&&(e[t]===" "||e[t]==="	");)t++;return t}function _v(e){return T5(e)===e.length}var Qe;(function(e){e.TYPE="MapperKind.TYPE",e.SCALAR_TYPE="MapperKind.SCALAR_TYPE",e.ENUM_TYPE="MapperKind.ENUM_TYPE",e.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",e.OBJECT_TYPE="MapperKind.OBJECT_TYPE",e.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",e.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",e.UNION_TYPE="MapperKind.UNION_TYPE",e.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",e.ROOT_OBJECT="MapperKind.ROOT_OBJECT",e.QUERY="MapperKind.QUERY",e.MUTATION="MapperKind.MUTATION",e.SUBSCRIPTION="MapperKind.SUBSCRIPTION",e.DIRECTIVE="MapperKind.DIRECTIVE",e.FIELD="MapperKind.FIELD",e.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",e.OBJECT_FIELD="MapperKind.OBJECT_FIELD",e.ROOT_FIELD="MapperKind.ROOT_FIELD",e.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",e.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",e.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",e.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",e.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",e.ARGUMENT="MapperKind.ARGUMENT",e.ENUM_VALUE="MapperKind.ENUM_VALUE"})(Qe||(Qe={}));function yo(e,t){if(t){const r=e[t.name];if(ut(r))return r}}function QP(e){if("getFields"in e){const t=e.getFields();for(const r in t)return t[r].name==="_fake"}return!1}function eO(e){switch(e.name){case F2.name:return F2;case C2.name:return C2;case Rt.name:return Rt;case Hr.name:return Hr;case xl.name:return xl;default:return e}}function tO(e,t){const r=Object.create(null);for(const f in e)r[f]=e[f];const n=Object.create(null);for(const f in r){const d=r[f];if(d==null||f.startsWith("__"))continue;const h=d.name;if(!h.startsWith("__")){if(n[h]!=null){console.warn(`Duplicate schema type name ${h} found; keeping the existing one found in the schema`);continue}n[h]=d}}for(const f in n)n[f]=a(n[f]);const u=t.map(f=>s(f));return{typeMap:n,directives:u};function s(f){if(z8(f))return f;const d=f.toConfig();return d.args=o(d.args),new ls(d)}function o(f){const d={};for(const h in f){const E=f[h],A=p(E.type);A!=null&&(E.type=A,d[h]=E)}return d}function a(f){if(ut(f)){const d=f.toConfig(),h={...d,fields:()=>i(d.fields),interfaces:()=>l(d.interfaces)};return new Wr(h)}else if(mt(f)){const d=f.toConfig(),h={...d,fields:()=>i(d.fields)};return"interfaces"in h&&(h.interfaces=()=>l(d.interfaces)),new cs(h)}else if(lr(f)){const d=f.toConfig(),h={...d,types:()=>l(d.types)};return new Ti(h)}else if(bt(f)){const d=f.toConfig(),h={...d,fields:()=>c(d.fields)};return new ro(h)}else if(Zt(f)){const d=f.toConfig();return new iu(d)}else if(nn(f)){if(Ji(f))return f;const d=f.toConfig();return new au(d)}throw new Error(`Unexpected schema type: ${f}`)}function i(f){const d={};for(const h in f){const E=f[h],A=p(E.type);A!=null&&E.args&&(E.type=A,E.args=o(E.args),d[h]=E)}return d}function c(f){const d={};for(const h in f){const E=f[h],A=p(E.type);A!=null&&(E.type=A,d[h]=E)}return d}function l(f){const d=[];for(const h of f){const E=p(h);E!=null&&d.push(E)}return d}function p(f){if(jt(f)){const d=p(f.ofType);return d!=null?new gr(d):null}else if(ct(f)){const d=p(f.ofType);return d!=null?new ot(d):null}else if(Tp(f)){let d=r[f.name];return d===void 0&&(d=QP(f)?eO(f):a(f),n[d.name]=r[f.name]=d),d!=null?n[d.name]:null}return null}}function Xl(e,t,r=null,n=null){if(t==null)return t;const u=Vh(e);if(Dn(u))return r!=null?r(u,t):t;if(jt(u))return S5(t).map(s=>Xl(u.ofType,s,r,n));if(bt(u)){const s=u.getFields(),o={};for(const a in t){const i=s[a];i!=null&&(o[a]=Xl(i.type,t[a],r,n))}return n!=null?n(u,o):o}}function $5(e,t){return Xl(e,t,(r,n)=>{try{return r.serialize(n)}catch{return n}})}function P5(e,t){return Xl(e,t,(r,n)=>{try{return r.parseValue(n)}catch{return n}})}function T2(e,t={}){const r=k5(O5($2(Bv(rO($2(Bv(e.getTypeMap(),e,$5),e,t,a=>Dn(a)),e,t),e,P5),e,t,a=>!Dn(a)),e,t),e,t),n=e.getDirectives(),u=nO(n,e,t),{typeMap:s,directives:o}=tO(r,u);return new Yh({...e.toConfig(),query:yo(s,yo(r,e.getQueryType())),mutation:yo(s,yo(r,e.getMutationType())),subscription:yo(s,yo(r,e.getSubscriptionType())),types:Object.values(s),directives:o})}function $2(e,t,r,n=()=>!0){const u={};for(const s in e)if(!s.startsWith("__")){const o=e[s];if(o==null||!n(o)){u[s]=o;continue}const a=sO(t,r,s);if(a==null){u[s]=o;continue}const i=a(o,t);if(i===void 0){u[s]=o;continue}u[s]=i}return u}function rO(e,t,r){const n=lO(r);return n?$2(e,t,{[Qe.ENUM_TYPE]:u=>{const s=u.toConfig(),o=s.values,a={};for(const i in o){const c=o[i],l=n(c,u.name,t,i);if(l===void 0)a[i]=c;else if(Array.isArray(l)){const[p,f]=l;a[p]=f===void 0?c:f}else l!==null&&(a[i]=l)}return Fl(new iu({...s,values:a}))}},u=>Zt(u)):e}function Bv(e,t,r){const n=k5(e,t,{[Qe.ARGUMENT]:u=>{if(u.defaultValue===void 0)return u;const s=Yl(e,u.type);if(s!=null)return{...u,defaultValue:r(s,u.defaultValue)}}});return O5(n,t,{[Qe.INPUT_OBJECT_FIELD]:u=>{if(u.defaultValue===void 0)return u;const s=Yl(n,u.type);if(s!=null)return{...u,defaultValue:r(s,u.defaultValue)}}})}function Yl(e,t){if(jt(t)){const r=Yl(e,t.ofType);return r!=null?new gr(r):null}else if(ct(t)){const r=Yl(e,t.ofType);return r!=null?new ot(r):null}else if(Tp(t)){const r=e[t.name];return r??null}return null}function O5(e,t,r){const n={};for(const u in e)if(!u.startsWith("__")){const s=e[u];if(!ut(s)&&!mt(s)&&!bt(s)){n[u]=s;continue}const o=aO(t,r,u);if(o==null){n[u]=s;continue}const a=s.toConfig(),i=a.fields,c={};for(const l in i){const p=i[l],f=o(p,l,u,t);if(f===void 0)c[l]=p;else if(Array.isArray(f)){const[d,h]=f;h.astNode!=null&&(h.astNode={...h.astNode,name:{...h.astNode.name,value:d}}),c[d]=h===void 0?p:h}else f!==null&&(c[l]=f)}ut(s)?n[u]=Fl(new Wr({...a,fields:c})):mt(s)?n[u]=Fl(new cs({...a,fields:c})):n[u]=Fl(new ro({...a,fields:c}))}return n}function k5(e,t,r){const n={};for(const u in e)if(!u.startsWith("__")){const s=e[u];if(!ut(s)&&!mt(s)){n[u]=s;continue}const o=iO(r);if(o==null){n[u]=s;continue}const a=s.toConfig(),i=a.fields,c={};for(const l in i){const p=i[l],f=p.args;if(f==null){c[l]=p;continue}const d=Object.keys(f);if(!d.length){c[l]=p;continue}const h={};for(const E of d){const A=f[E],m=o(A,l,u,t);if(m===void 0)h[E]=A;else if(Array.isArray(m)){const[y,F]=m;h[y]=F}else m!==null&&(h[E]=m)}c[l]={...p,args:h}}ut(s)?n[u]=new Wr({...a,fields:c}):mt(s)?n[u]=new cs({...a,fields:c}):n[u]=new ro({...a,fields:c})}return n}function nO(e,t,r){const n=cO(r);if(n==null)return e.slice();const u=[];for(const s of e){const o=n(s,t);o===void 0?u.push(s):o!==null&&u.push(o)}return u}function uO(e,t){var r,n,u;const s=e.getType(t),o=[Qe.TYPE];return ut(s)?(o.push(Qe.COMPOSITE_TYPE,Qe.OBJECT_TYPE),t===((r=e.getQueryType())===null||r===void 0?void 0:r.name)?o.push(Qe.ROOT_OBJECT,Qe.QUERY):t===((n=e.getMutationType())===null||n===void 0?void 0:n.name)?o.push(Qe.ROOT_OBJECT,Qe.MUTATION):t===((u=e.getSubscriptionType())===null||u===void 0?void 0:u.name)&&o.push(Qe.ROOT_OBJECT,Qe.SUBSCRIPTION)):bt(s)?o.push(Qe.INPUT_OBJECT_TYPE):mt(s)?o.push(Qe.COMPOSITE_TYPE,Qe.ABSTRACT_TYPE,Qe.INTERFACE_TYPE):lr(s)?o.push(Qe.COMPOSITE_TYPE,Qe.ABSTRACT_TYPE,Qe.UNION_TYPE):Zt(s)?o.push(Qe.ENUM_TYPE):nn(s)&&o.push(Qe.SCALAR_TYPE),o}function sO(e,t,r){const n=uO(e,r);let u;const s=[...n];for(;!u&&s.length>0;){const o=s.pop();u=t[o]}return u??null}function oO(e,t){var r,n,u;const s=e.getType(t),o=[Qe.FIELD];return ut(s)?(o.push(Qe.COMPOSITE_FIELD,Qe.OBJECT_FIELD),t===((r=e.getQueryType())===null||r===void 0?void 0:r.name)?o.push(Qe.ROOT_FIELD,Qe.QUERY_ROOT_FIELD):t===((n=e.getMutationType())===null||n===void 0?void 0:n.name)?o.push(Qe.ROOT_FIELD,Qe.MUTATION_ROOT_FIELD):t===((u=e.getSubscriptionType())===null||u===void 0?void 0:u.name)&&o.push(Qe.ROOT_FIELD,Qe.SUBSCRIPTION_ROOT_FIELD)):mt(s)?o.push(Qe.COMPOSITE_FIELD,Qe.INTERFACE_FIELD):bt(s)&&o.push(Qe.INPUT_OBJECT_FIELD),o}function aO(e,t,r){const n=oO(e,r);let u;const s=[...n];for(;!u&&s.length>0;){const o=s.pop();u=t[o]}return u??null}function iO(e){const t=e[Qe.ARGUMENT];return t??null}function cO(e){const t=e[Qe.DIRECTIVE];return t??null}function lO(e){const t=e[Qe.ENUM_VALUE];return t??null}function Fl(e){if(ut(e)){const t=e.toConfig();if(t.astNode!=null){const r=[];for(const n in t.fields){const u=t.fields[n];u.astNode!=null&&r.push(u.astNode)}t.astNode={...t.astNode,kind:V.OBJECT_TYPE_DEFINITION,fields:r}}return t.extensionASTNodes!=null&&(t.extensionASTNodes=t.extensionASTNodes.map(r=>({...r,kind:V.OBJECT_TYPE_EXTENSION,fields:void 0}))),new Wr(t)}else if(mt(e)){const t=e.toConfig();if(t.astNode!=null){const r=[];for(const n in t.fields){const u=t.fields[n];u.astNode!=null&&r.push(u.astNode)}t.astNode={...t.astNode,kind:V.INTERFACE_TYPE_DEFINITION,fields:r}}return t.extensionASTNodes!=null&&(t.extensionASTNodes=t.extensionASTNodes.map(r=>({...r,kind:V.INTERFACE_TYPE_EXTENSION,fields:void 0}))),new cs(t)}else if(bt(e)){const t=e.toConfig();if(t.astNode!=null){const r=[];for(const n in t.fields){const u=t.fields[n];u.astNode!=null&&r.push(u.astNode)}t.astNode={...t.astNode,kind:V.INPUT_OBJECT_TYPE_DEFINITION,fields:r}}return t.extensionASTNodes!=null&&(t.extensionASTNodes=t.extensionASTNodes.map(r=>({...r,kind:V.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0}))),new ro(t)}else if(Zt(e)){const t=e.toConfig();if(t.astNode!=null){const r=[];for(const n in t.values){const u=t.values[n];u.astNode!=null&&r.push(u.astNode)}t.astNode={...t.astNode,values:r}}return t.extensionASTNodes!=null&&(t.extensionASTNodes=t.extensionASTNodes.map(r=>({...r,values:void 0}))),new iu(t)}else return e}function pO(e){return fO(e.getTypeMap(),e.getDirectives()),e}function fO(e,t){const r=Object.create(null);for(const c in e){const l=e[c];if(l==null||c.startsWith("__"))continue;const p=l.name;if(!p.startsWith("__")){if(r[p]!=null){console.warn(`Duplicate schema type name ${p} found; keeping the existing one found in the schema`);continue}r[p]=l}}for(const c in r){const l=r[c];e[c]=l}for(const c of t)c.args=c.args.filter(l=>(l.type=i(l.type),l.type!==null));for(const c in e){const l=e[c];!c.startsWith("__")&&c in r&&l!=null&&n(l)}for(const c in e)!c.startsWith("__")&&!(c in r)&&delete e[c];function n(c){if(ut(c)){u(c),s(c);return}else if(mt(c)){u(c),"getInterfaces"in c&&s(c);return}else if(lr(c)){a(c);return}else if(bt(c)){o(c);return}else if(Dn(c))return;throw new Error(`Unexpected schema type: ${c}`)}function u(c){const l=c.getFields();for(const[p,f]of Object.entries(l))f.args.map(d=>(d.type=i(d.type),d.type===null?null:d)).filter(Boolean),f.type=i(f.type),f.type===null&&delete l[p]}function s(c){if("getInterfaces"in c){const l=c.getInterfaces();l.push(...l.splice(0).map(p=>i(p)).filter(Boolean))}}function o(c){const l=c.getFields();for(const[p,f]of Object.entries(l))f.type=i(f.type),f.type===null&&delete l[p]}function a(c){const l=c.getTypes();l.push(...l.splice(0).map(p=>i(p)).filter(Boolean))}function i(c){if(jt(c)){const l=i(c.ofType);return l!=null?new gr(l):null}else if(ct(c)){const l=i(c.ofType);return l!=null?new ot(l):null}else if(Tp(c)){const l=e[c.name];if(l&&c!==l)return l}return c}}function I5(e,t){const r=e.getTypeMap();for(const n in r){const u=r[n];if(!Vr(u).name.startsWith("__")&&ut(u)){const s=u.getFields();for(const o in s){const a=s[o];t(a,n,o)}}}}function Tv(e,t){const r=e.getTypeMap();for(const n in r){const u=r[n];if(!Vr(u).name.startsWith("__")){if(ut(u)){const s=u.getFields();for(const o in s){const a=s[o];for(const i of a.args)i.defaultValue=t(i.type,i.defaultValue)}}else if(bt(u)){const s=u.getFields();for(const o in s){const a=s[o];a.defaultValue=t(a.type,a.defaultValue)}}}}}function qp(e,t=!1){const r=e[0]||{},n={};t&&Object.setPrototypeOf(n,Object.create(Object.getPrototypeOf(r)));for(const u of e)if(zf(r)&&zf(u)){if(t){const s=Object.getPrototypeOf(n),o=Object.getPrototypeOf(u);if(o)for(const a of Object.getOwnPropertyNames(o)){const i=Object.getOwnPropertyDescriptor(o,a);kp(i)&&Object.defineProperty(s,a,i)}}for(const s in u)zf(u[s])?s in n?n[s]=qp([n[s],u[s]],t):Object.assign(n,{[s]:u[s]}):Object.assign(n,{[s]:u[s]})}return n}function zf(e){return e&&typeof e=="object"&&!Array.isArray(e)}function dO(e){return e&&typeof e=="object"&&"kind"in e&&e.kind===V.DOCUMENT}function DO(e,t={}){const{requireResolversForArgs:r,requireResolversForNonScalar:n,requireResolversForAllFields:u}=t;if(u&&(r||n))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");I5(e,(s,o,a)=>{u&&Kf("requireResolversForAllFields",u,s,o,a),r&&s.args.length>0&&Kf("requireResolversForArgs",r,s,o,a),n!=="ignore"&&!nn(Vr(s.type))&&Kf("requireResolversForNonScalar",n,s,o,a)})}function Kf(e,t,r,n,u){if(!r.resolve){const s=`Resolver missing for "${n}.${u}".
To disable this validator, use:
  resolverValidationOptions: {
    ${e}: 'ignore'
  }`;if(t==="error")throw new Error(s);t==="warn"&&console.warn(s);return}if(typeof r.resolve!="function")throw new Error(`Resolver "${n}.${u}" must be a function`)}function hO(e,t){T2(e,{[Qe.ABSTRACT_TYPE]:r=>{if(!r.resolveType){const n=`Type "${r.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if(t==="error")throw new Error(n);t==="warn"&&console.warn(n)}}})}function mO(e,t){const r={},n=e.getTypeMap();for(const u in n){const s=n[u];if("getInterfaces"in s){r[u]={};for(const a of s.getInterfaces())if(t[a.name])for(const i in t[a.name])(i==="__isTypeOf"||!i.startsWith("__"))&&(r[u][i]=t[a.name][i]);const o=t[u];r[u]={...r[u],...o}}else{const o=t[u];o!=null&&(r[u]=o)}}return r}function EO({schema:e,resolvers:t,defaultFieldResolver:r,resolverValidationOptions:n={},inheritResolversFromInterfaces:u=!1,updateResolversInPlace:s=!1}){const{requireResolversToMatchSchema:o="error",requireResolversForResolveType:a}=n,i=u?mO(e,t):t;for(const c in i){const l=i[c];if(typeof l!=="object")throw new Error(`"${c}" defined in resolvers, but has invalid value "${l}". The resolver's value must be of type object.`);const f=e.getType(c);if(f==null){if(o==="ignore")continue;throw new Error(`"${c}" defined in resolvers, but not in schema`)}else if(Ji(f))for(const d in l)d.startsWith("__")?f[d.substring(2)]=l[d]:f[d]=l[d];else if(Zt(f)){const d=f.getValues();for(const h in l)if(!h.startsWith("__")&&!d.some(E=>E.name===h)&&o&&o!=="ignore")throw new Error(`${f.name}.${h} was defined in resolvers, but not present within ${f.name}`)}else if(lr(f)){for(const d in l)if(!d.startsWith("__")&&o&&o!=="ignore")throw new Error(`${f.name}.${d} was defined in resolvers, but ${f.name} is not an object or interface type`)}else if(ut(f)||mt(f)){for(const d in l)if(!d.startsWith("__"))if(f.getFields()[d]==null){if(o&&o!=="ignore")throw new Error(`${c}.${d} defined in resolvers, but not in schema`)}else{const A=l[d];if(typeof A!="function"&&typeof A!="object")throw new Error(`Resolver ${c}.${d} must be object or function`)}}}return e=s?vO(e,i,r):yO(e,i,r),a&&a!=="ignore"&&hO(e,a),e}function vO(e,t,r){var n,u,s,o,a,i,c,l,p,f,d,h;const E=e.getTypeMap();for(const A in t){const m=e.getType(A),y=t[A];if(nn(m))for(const F in y)F.startsWith("__")?m[F.substring(2)]=y[F]:F==="astNode"&&m.astNode!=null?m.astNode={...m.astNode,description:(u=(n=y==null?void 0:y.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:m.astNode.description,directives:((s=m.astNode.directives)!==null&&s!==void 0?s:[]).concat((a=(o=y==null?void 0:y.astNode)===null||o===void 0?void 0:o.directives)!==null&&a!==void 0?a:[])}:F==="extensionASTNodes"&&m.extensionASTNodes!=null?m.extensionASTNodes=m.extensionASTNodes.concat((i=y==null?void 0:y.extensionASTNodes)!==null&&i!==void 0?i:[]):F==="extensions"&&m.extensions!=null&&y.extensions!=null?m.extensions=Object.assign(Object.create(null),m.extensions,y.extensions):m[F]=y[F];else if(Zt(m)){const F=m.toConfig(),B=F.values;for(const P in y)P.startsWith("__")?F[P.substring(2)]=y[P]:P==="astNode"&&F.astNode!=null?F.astNode={...F.astNode,description:(l=(c=y==null?void 0:y.astNode)===null||c===void 0?void 0:c.description)!==null&&l!==void 0?l:F.astNode.description,directives:((p=F.astNode.directives)!==null&&p!==void 0?p:[]).concat((d=(f=y==null?void 0:y.astNode)===null||f===void 0?void 0:f.directives)!==null&&d!==void 0?d:[])}:P==="extensionASTNodes"&&F.extensionASTNodes!=null?F.extensionASTNodes=F.extensionASTNodes.concat((h=y==null?void 0:y.extensionASTNodes)!==null&&h!==void 0?h:[]):P==="extensions"&&m.extensions!=null&&y.extensions!=null?m.extensions=Object.assign(Object.create(null),m.extensions,y.extensions):B[P]&&(B[P].value=y[P]);E[A]=new iu(F)}else if(lr(m))for(const F in y)F.startsWith("__")&&(m[F.substring(2)]=y[F]);else if(ut(m)||mt(m))for(const F in y){if(F.startsWith("__")){m[F.substring(2)]=y[F];continue}const P=m.getFields()[F];if(P!=null){const $=y[F];typeof $=="function"?P.resolve=$.bind(y):N5(P,$)}}}return Tv(e,$5),pO(e),Tv(e,P5),r!=null&&I5(e,A=>{A.resolve||(A.resolve=r)}),e}function yO(e,t,r){return e=T2(e,{[Qe.SCALAR_TYPE]:n=>{var u,s,o,a,i,c;const l=n.toConfig(),p=t[n.name];if(!Ji(n)&&p!=null){for(const f in p)f.startsWith("__")?l[f.substring(2)]=p[f]:f==="astNode"&&l.astNode!=null?l.astNode={...l.astNode,description:(s=(u=p==null?void 0:p.astNode)===null||u===void 0?void 0:u.description)!==null&&s!==void 0?s:l.astNode.description,directives:((o=l.astNode.directives)!==null&&o!==void 0?o:[]).concat((i=(a=p==null?void 0:p.astNode)===null||a===void 0?void 0:a.directives)!==null&&i!==void 0?i:[])}:f==="extensionASTNodes"&&l.extensionASTNodes!=null?l.extensionASTNodes=l.extensionASTNodes.concat((c=p==null?void 0:p.extensionASTNodes)!==null&&c!==void 0?c:[]):f==="extensions"&&l.extensions!=null&&p.extensions!=null?l.extensions=Object.assign(Object.create(null),n.extensions,p.extensions):l[f]=p[f];return new au(l)}},[Qe.ENUM_TYPE]:n=>{var u,s,o,a,i,c;const l=t[n.name],p=n.toConfig(),f=p.values;if(l!=null){for(const d in l)d.startsWith("__")?p[d.substring(2)]=l[d]:d==="astNode"&&p.astNode!=null?p.astNode={...p.astNode,description:(s=(u=l==null?void 0:l.astNode)===null||u===void 0?void 0:u.description)!==null&&s!==void 0?s:p.astNode.description,directives:((o=p.astNode.directives)!==null&&o!==void 0?o:[]).concat((i=(a=l==null?void 0:l.astNode)===null||a===void 0?void 0:a.directives)!==null&&i!==void 0?i:[])}:d==="extensionASTNodes"&&p.extensionASTNodes!=null?p.extensionASTNodes=p.extensionASTNodes.concat((c=l==null?void 0:l.extensionASTNodes)!==null&&c!==void 0?c:[]):d==="extensions"&&p.extensions!=null&&l.extensions!=null?p.extensions=Object.assign(Object.create(null),n.extensions,l.extensions):f[d]&&(f[d].value=l[d]);return new iu(p)}},[Qe.UNION_TYPE]:n=>{const u=t[n.name];if(u!=null){const s=n.toConfig();return u.__resolveType&&(s.resolveType=u.__resolveType),new Ti(s)}},[Qe.OBJECT_TYPE]:n=>{const u=t[n.name];if(u!=null){const s=n.toConfig();return u.__isTypeOf&&(s.isTypeOf=u.__isTypeOf),new Wr(s)}},[Qe.INTERFACE_TYPE]:n=>{const u=t[n.name];if(u!=null){const s=n.toConfig();return u.__resolveType&&(s.resolveType=u.__resolveType),new cs(s)}},[Qe.COMPOSITE_FIELD]:(n,u,s)=>{const o=t[s];if(o!=null){const a=o[u];if(a!=null){const i={...n};return typeof a=="function"?i.resolve=a.bind(o):N5(i,a),i}}}}),r!=null&&(e=T2(e,{[Qe.OBJECT_FIELD]:n=>({...n,resolve:n.resolve!=null?n.resolve:r})})),e}function N5(e,t){for(const r in t)e[r]=t[r]}function q5(e,t){if(!e||Array.isArray(e)&&e.length===0)return{};if(!Array.isArray(e))return e;if(e.length===1)return e[0]||{};const r=new Array;for(let u of e)Array.isArray(u)&&(u=q5(u)),typeof u=="object"&&u&&r.push(u);const n=qp(r,!0);if(t!=null&&t.exclusions)for(const u of t.exclusions){const[s,o]=u.split(".");!o||o==="*"?delete n[s]:n[s]&&delete n[s][o]}return n}function gO(e,t,r){const n=AO([...t,...e].filter(kp));return r&&r.sort&&n.sort(Op),n}function AO(e){return e.reduce((t,r)=>t.find(u=>u.name.value===r.name.value)?t:t.concat([r]),[])}function FO(e,t){return!!e.find(r=>r.name.value===t.name.value)}function CO(e,t){return t.some(({value:r})=>r===e.value)}function x5(e,t){const r=[...t];for(const n of e){const u=r.findIndex(s=>s.name.value===n.name.value);if(u>-1){const s=r[u];if(s.value.kind==="ListValue"){const o=s.value.values,a=n.value.values;s.value.values=_O(o,a,(i,c)=>{const l=i.value;return!l||!c.some(p=>p.value===l)})}else s.value=n.value}else r.push(n)}return r}function bO(e){return e.map((t,r,n)=>{const u=n.findIndex(s=>s.name.value===t.name.value);if(u!==r){const s=n[u];return t.arguments=x5(t.arguments,s.arguments),null}return t}).filter(kp)}function Ou(e=[],t=[],r){const n=r&&r.reverseDirectives,u=n?e:t,s=n?t:e,o=bO([...u]);for(const a of s)if(FO(o,a)){const i=o.findIndex(l=>l.name.value===a.name.value),c=o[i];o[i].arguments=x5(a.arguments||[],c.arguments||[])}else o.push(a);return o}function SO(e,t){const r=Kt({...e,description:void 0}),n=Kt({...t,description:void 0}),u=new RegExp("(directive @w*d*)|( on .*$)","g");if(!(r.replace(u,"")===n.replace(u,"")))throw new Error(`Unable to merge GraphQL directive "${e.name.value}". 
Existing directive:  
	${n} 
Received directive: 
	${r}`)}function wO(e,t){return t?(SO(e,t),{...e,locations:[...t.locations,...e.locations.filter(r=>!CO(r,t.locations))]}):e}function _O(e,t,r){return e.concat(t.filter(n=>r(n,e)))}function BO(e,t,r){if(r!=null&&r.consistentEnumMerge){const s=[];e&&s.push(...e),e=t,t=s}const n=new Map;if(e)for(const s of e)n.set(s.name.value,s);if(t)for(const s of t){const o=s.name.value;if(n.has(o)){const a=n.get(o);a.description=s.description||a.description,a.directives=Ou(s.directives,a.directives)}else n.set(o,s)}const u=[...n.values()];return r&&r.sort&&u.sort(Op),u}function TO(e,t,r){return t?{name:e.name,description:e.description||t.description,kind:r!=null&&r.convertExtensions||e.kind==="EnumTypeDefinition"||t.kind==="EnumTypeDefinition"?"EnumTypeDefinition":"EnumTypeExtension",loc:e.loc,directives:Ou(e.directives,t.directives,r),values:BO(e.values,t.values,r)}:r!=null&&r.convertExtensions?{...e,kind:V.ENUM_TYPE_DEFINITION}:e}function $O(e){return typeof e=="string"}function PO(e){return e instanceof Rh}function $v(e){let t=e;for(;t.kind===V.LIST_TYPE||t.kind==="NonNullType";)t=t.type;return t}function Pv(e){return e.kind!==V.NAMED_TYPE}function P2(e){return e.kind===V.LIST_TYPE}function Js(e){return e.kind===V.NON_NULL_TYPE}function Zl(e){return P2(e)?`[${Zl(e.type)}]`:Js(e)?`${Zl(e.type)}!`:e.name.value}var Ku;(function(e){e[e.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",e[e.A_EQUALS_B=0]="A_EQUALS_B",e[e.A_GREATER_THAN_B=1]="A_GREATER_THAN_B"})(Ku||(Ku={}));function OO(e,t){return e==null&&t==null?Ku.A_EQUALS_B:e==null?Ku.A_SMALLER_THAN_B:t==null?Ku.A_GREATER_THAN_B:e<t?Ku.A_SMALLER_THAN_B:e>t?Ku.A_GREATER_THAN_B:Ku.A_EQUALS_B}function kO(e,t,r){const n=e.find(u=>u.name.value===t.name.value);if(n&&!(r!=null&&r.ignoreFieldConflicts)){const u=$v(n.type),s=$v(t.type);if(u.name.value!==s.name.value)throw new Error(`Field "${t.name.value}" already defined with a different type. Declared as "${u.name.value}", but you tried to override with "${s.name.value}"`)}return!!n}function sm(e,t,r,n){const u=[];if(r!=null&&u.push(...r),t!=null)for(const s of t)if(kO(u,s,n)){const o=u.find(a=>a.name.value===s.name.value);n!=null&&n.ignoreFieldConflicts||(n!=null&&n.throwOnConflict?Ov(e,o,s,!1):Ov(e,o,s,!0),Js(s.type)&&!Js(o.type)&&(o.type=s.type)),o.arguments=gO(s.arguments||[],o.arguments||[],n),o.directives=Ou(s.directives,o.directives,n),o.description=s.description||o.description}else u.push(s);if(n&&n.sort&&u.sort(Op),n&&n.exclusions){const s=n.exclusions;return u.filter(o=>!s.includes(`${e.name.value}.${o.name.value}`))}return u}function Ov(e,t,r,n=!1){const u=Zl(t.type),s=Zl(r.type);if(u!==s&&!ai(t.type,r.type,n))throw new Error(`Field '${e.name.value}.${t.name.value}' changed type from '${u}' to '${s}'`)}function ai(e,t,r=!1){if(!Pv(e)&&!Pv(t))return e.toString()===t.toString();if(Js(t)){const n=Js(e)?e.type:e;return ai(n,t.type)}return Js(e)?ai(t,e,r):P2(e)?P2(t)&&ai(e.type,t.type)||Js(t)&&ai(e,t.type):!1}function IO(e,t,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:r!=null&&r.convertExtensions||e.kind==="InputObjectTypeDefinition"||t.kind==="InputObjectTypeDefinition"?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:e.loc,fields:sm(e,e.fields,t.fields,r),directives:Ou(e.directives,t.directives,r)}}catch(n){throw new Error(`Unable to merge GraphQL input type "${e.name.value}": ${n.message}`)}return r!=null&&r.convertExtensions?{...e,kind:V.INPUT_OBJECT_TYPE_DEFINITION}:e}function NO(e,t){return!!e.find(r=>r.name.value===t.name.value)}function om(e=[],t=[],r={}){const n=[...t,...e.filter(u=>!NO(t,u))];return r&&r.sort&&n.sort(Op),n}function qO(e,t,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:r!=null&&r.convertExtensions||e.kind==="InterfaceTypeDefinition"||t.kind==="InterfaceTypeDefinition"?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:e.loc,fields:sm(e,e.fields,t.fields,r),directives:Ou(e.directives,t.directives,r),interfaces:e.interfaces?om(e.interfaces,t.interfaces,r):void 0}}catch(n){throw new Error(`Unable to merge GraphQL interface "${e.name.value}": ${n.message}`)}return r!=null&&r.convertExtensions?{...e,kind:V.INTERFACE_TYPE_DEFINITION}:e}function xO(e,t,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:r!=null&&r.convertExtensions||e.kind==="ObjectTypeDefinition"||t.kind==="ObjectTypeDefinition"?"ObjectTypeDefinition":"ObjectTypeExtension",loc:e.loc,fields:sm(e,e.fields,t.fields,r),directives:Ou(e.directives,t.directives,r),interfaces:om(e.interfaces,t.interfaces,r)}}catch(n){throw new Error(`Unable to merge GraphQL type "${e.name.value}": ${n.message}`)}return r!=null&&r.convertExtensions?{...e,kind:V.OBJECT_TYPE_DEFINITION}:e}function RO(e,t,r){return t?{name:e.name,description:e.description||t.description,kind:r!=null&&r.convertExtensions||e.kind==="ScalarTypeDefinition"||t.kind==="ScalarTypeDefinition"?"ScalarTypeDefinition":"ScalarTypeExtension",loc:e.loc,directives:Ou(e.directives,t.directives,r)}:r!=null&&r.convertExtensions?{...e,kind:V.SCALAR_TYPE_DEFINITION}:e}function jO(e,t,r){return t?{name:e.name,description:e.description||t.description,directives:Ou(e.directives,t.directives,r),kind:r!=null&&r.convertExtensions||e.kind==="UnionTypeDefinition"||t.kind==="UnionTypeDefinition"?V.UNION_TYPE_DEFINITION:V.UNION_TYPE_EXTENSION,loc:e.loc,types:om(e.types,t.types,r)}:r!=null&&r.convertExtensions?{...e,kind:V.UNION_TYPE_DEFINITION}:e}const O2={query:"Query",mutation:"Mutation",subscription:"Subscription"};function MO(e=[],t=[]){const r=[];for(const n in O2){const u=e.find(s=>s.operation===n)||t.find(s=>s.operation===n);u&&r.push(u)}return r}function LO(e,t,r){return t?{kind:e.kind===V.SCHEMA_DEFINITION||t.kind===V.SCHEMA_DEFINITION?V.SCHEMA_DEFINITION:V.SCHEMA_EXTENSION,description:e.description||t.description,directives:Ou(e.directives,t.directives,r),operationTypes:MO(e.operationTypes,t.operationTypes)}:r!=null&&r.convertExtensions?{...e,kind:V.SCHEMA_DEFINITION}:e}const Yo="SCHEMA_DEF_SYMBOL";function UO(e){return"name"in e}function GO(e,t){var r,n,u;const s={};for(const o of e)if(UO(o)){const a=(r=o.name)===null||r===void 0?void 0:r.value;if(t!=null&&t.commentDescriptions&&UP(o),a==null)continue;if(!((n=t==null?void 0:t.exclusions)===null||n===void 0)&&n.includes(a+".*")||!((u=t==null?void 0:t.exclusions)===null||u===void 0)&&u.includes(a))delete s[a];else switch(o.kind){case V.OBJECT_TYPE_DEFINITION:case V.OBJECT_TYPE_EXTENSION:s[a]=xO(o,s[a],t);break;case V.ENUM_TYPE_DEFINITION:case V.ENUM_TYPE_EXTENSION:s[a]=TO(o,s[a],t);break;case V.UNION_TYPE_DEFINITION:case V.UNION_TYPE_EXTENSION:s[a]=jO(o,s[a],t);break;case V.SCALAR_TYPE_DEFINITION:case V.SCALAR_TYPE_EXTENSION:s[a]=RO(o,s[a],t);break;case V.INPUT_OBJECT_TYPE_DEFINITION:case V.INPUT_OBJECT_TYPE_EXTENSION:s[a]=IO(o,s[a],t);break;case V.INTERFACE_TYPE_DEFINITION:case V.INTERFACE_TYPE_EXTENSION:s[a]=qO(o,s[a],t);break;case V.DIRECTIVE_DEFINITION:s[a]=wO(o,s[a]);break}}else(o.kind===V.SCHEMA_DEFINITION||o.kind===V.SCHEMA_EXTENSION)&&(s[Yo]=LO(o,s[Yo],t));return s}function kv(e,t){B2();const r={kind:V.DOCUMENT,definitions:VO(e,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...t})};let n;return t!=null&&t.commentDescriptions?n=JP(r):n=r,B2(),n}function Jo(e,t,r=[],n=new Set){if(e&&!n.has(e))if(n.add(e),typeof e=="function")Jo(e(),t,r,n);else if(Array.isArray(e))for(const u of e)Jo(u,t,r,n);else if(Xh(e)){const u=TP(e,t);Jo(u.definitions,t,r,n)}else if($O(e)||PO(e)){const u=jh(e,t);Jo(u.definitions,t,r,n)}else if(typeof e=="object"&&VT(e))r.push(e);else if(dO(e))Jo(e.definitions,t,r,n);else throw new Error(`typeDefs must contain only strings, documents, schemas, or functions, got ${typeof e}`);return r}function VO(e,t){var r,n,u;B2();const s=Jo(e,t),o=GO(s,t);if(t!=null&&t.useSchemaDefinition){const i=o[Yo]||{kind:V.SCHEMA_DEFINITION,operationTypes:[]},c=i.operationTypes;for(const l in O2)if(!c.find(f=>f.operation===l)){const f=O2[l],d=o[f];d!=null&&d.name!=null&&c.push({kind:V.OPERATION_TYPE_DEFINITION,type:{kind:V.NAMED_TYPE,name:d.name},operation:l})}((r=i==null?void 0:i.operationTypes)===null||r===void 0?void 0:r.length)!=null&&i.operationTypes.length>0&&(o[Yo]=i)}t!=null&&t.forceSchemaDefinition&&!(!((u=(n=o[Yo])===null||n===void 0?void 0:n.operationTypes)===null||u===void 0)&&u.length)&&(o[Yo]={kind:V.SCHEMA_DEFINITION,operationTypes:[{kind:V.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:V.NAMED_TYPE,name:{kind:V.NAME,value:"Query"}}}]});const a=Object.values(o);if(t!=null&&t.sort){const i=typeof t.sort=="function"?t.sort:OO;a.sort((c,l)=>{var p,f;return i((p=c.name)===null||p===void 0?void 0:p.value,(f=l.name)===null||f===void 0?void 0:f.value)})}return a}function HO(e){return qp(e)}function go(e,t){e&&(e.extensions=qp([e.extensions||{},t||{}]))}function WO(e,t){go(e,t.schemaExtensions);for(const[r,n]of Object.entries(t.types||{})){const u=e.getType(r);if(u){if(go(u,n.extensions),n.type==="object"||n.type==="interface")for(const[s,o]of Object.entries(n.fields)){const a=u.getFields()[s];if(a){go(a,o.extensions);for(const[i,c]of Object.entries(o.arguments))go(a.args.find(l=>l.name===i),c)}}else if(n.type==="input")for(const[s,o]of Object.entries(n.fields)){const a=u.getFields()[s];go(a,o.extensions)}else if(n.type==="enum")for(const[s,o]of Object.entries(n.values)){const a=u.getValue(s);go(a,o)}}}return e}function JO({typeDefs:e,resolvers:t={},resolverValidationOptions:r={},inheritResolversFromInterfaces:n=!1,updateResolversInPlace:u=!1,schemaExtensions:s,...o}){if(typeof r!="object")throw new Error("Expected `resolverValidationOptions` to be an object");if(!e)throw new Error("Must provide typeDefs");let a;if(Xh(e))a=e;else if(o!=null&&o.commentDescriptions){const i=kv(e,{...o,commentDescriptions:!0});a=vP(i,o)}else{const i=kv(e,o);a=b5(i,o)}return a=EO({schema:a,resolvers:q5(t),resolverValidationOptions:r,inheritResolversFromInterfaces:n,updateResolversInPlace:u}),Object.keys(r).length>0&&DO(a,r),s&&(s=HO(S5(s)),WO(a,s)),a}const zO=new Error("request for lock canceled");var KO=function(e,t,r,n){function u(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(p){o(p)}}function i(l){try{c(n.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):u(l.value).then(a,i)}c((n=n.apply(e,t||[])).next())})};class XO{constructor(t,r=zO){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return KO(this,void 0,void 0,function*(){const[n,u]=yield this.acquire(r);try{return yield t(n)}finally{u()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=(t=this._weightedQueues[r-1])===null||t===void 0?void 0:t.shift();if(!n)continue;const u=this._value,s=r;this._value-=r,r=this._value+1,n.resolve([u,this._newReleaser(s)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}var YO=function(e,t,r,n){function u(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(p){o(p)}}function i(l){try{c(n.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):u(l.value).then(a,i)}c((n=n.apply(e,t||[])).next())})};class ZO{constructor(t){this._semaphore=new XO(1,t)}acquire(){return YO(this,void 0,void 0,function*(){const[,t]=yield this._semaphore.acquire();return t})}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}var k2={},QO={get exports(){return k2},set exports(e){k2=e}},R5={};R5.calculate=function(e){if(e==null)return null;for(var t=ek(e),r=-1,n=t.length,u=0,s=n,o;u<s;++u)o=(r^t[u])&255,r=r>>>8^tk[o];return(r^-1)>>>0};function ek(e){for(var t=[],r=0,n=e.length,u;r<n;++r)u=e.charCodeAt(r),u<128?t.push(u):u<2048?t.push(u>>6|192,u&63|128):t.push(u>>12|224,u>>6&63|128,u&63|128);return t}var tk=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];(function(e){e.exports=R5})(QO);const j5=S8(k2);var Ql={},rk={get exports(){return Ql},set exports(e){Ql=e}};/**
 * @license BitSet.js v5.1.1 2/1/2020
 * http://www.xarg.org/2014/03/javascript-bit-array/
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var n=32,u=5;function s(p){return p-=p>>>1&1431655765,p=(p&858993459)+(p>>>2&858993459),(p+(p>>>4)&252645135)*16843009>>>24}function o(p,f){for(var d=0,h=0;h<p.length;h++){d*=2;var E=(p[h]+d)/f|0;d=(p[h]+d)%f,p[h]=E}return d}function a(p,f){if(f==null){p.data=[0,0,0,0,0,0,0,0,0,0],p._=0;return}if(f instanceof i){p.data=f.data,p._=f._;return}switch(typeof f){case"number":p.data=[f|0],p._=0;break;case"string":var d=2,h=n;f.indexOf("0b")===0?f=f.substr(2):f.indexOf("0x")===0&&(f=f.substr(2),d=16,h=8),p.data=[],p._=0;var E=f.length-h,A=f.length;do{var m=parseInt(f.slice(E>0?E:0,A),d);if(isNaN(m))throw SyntaxError("Invalid param");if(p.data.push(m|0),E<=0)break;E-=h,A-=h}while(!0);break;default:p.data=[0];var y=p.data;if(f instanceof Array){for(var F=f.length-1;F>=0;F--){var B=f[F];B===1/0?p._=-1:(c(p,B),y[B>>>u]|=1<<B)}break}if(Uint8Array&&f instanceof Uint8Array){var P=8;c(p,f.length*P);for(var F=0;F<f.length;F++)for(var $=f[F],I=0;I<P;I++){var U=F*P+I;y[U>>>u]|=($>>I&1)<<U}break}throw SyntaxError("Invalid param")}}function i(p){if(!(this instanceof i))return new i(p);a(this,p),this.data=this.data.slice()}function c(p,f){for(var d=f>>>u,h=p.data,E=p._,A=h.length;d>=A;d--)h.push(E)}var l={data:[],_:0};i.prototype={data:[],_:0,set:function(p,f){return p|=0,c(this,p),f===void 0||f?this.data[p>>>u]|=1<<p:this.data[p>>>u]&=~(1<<p),this},get:function(p){p|=0;var f=this.data,d=p>>>u;return d>=f.length?this._&1:f[d]>>>p&1},not:function(){for(var p=this.clone(),f=p.data,d=0;d<f.length;d++)f[d]=~f[d];return p._=~p._,p},and:function(p){a(l,p);var f=this.clone(),d=f.data,h=l.data,E=h.length,A=l._,m=f._;m!==0&&c(f,E*n-1);for(var y=d.length,F=Math.min(E,y),B=0;B<F;B++)d[B]&=h[B];for(;B<y;B++)d[B]&=A;return f._&=A,f},or:function(p){a(l,p);for(var f=this.clone(),d=f.data,h=l.data,E=h.length-1,A=d.length-1,m=Math.min(A,E),y=E;y>m;y--)d[y]=h[y];for(;y>=0;y--)d[y]|=h[y];return f._|=l._,f},xor:function(p){a(l,p);var f=this.clone(),d=f.data,h=l.data,E=f._,A=l._,m=0,y=d.length-1,F=h.length-1;for(m=y;m>F;m--)d[m]^=A;for(m=F;m>y;m--)d[m]=E^h[m];for(;m>=0;m--)d[m]^=h[m];return f._^=A,f},andNot:function(p){return this.and(new i(p).flip())},flip:function(p,f){if(p===void 0){for(var d=this.data,h=0;h<d.length;h++)d[h]=~d[h];this._=~this._}else if(f===void 0)c(this,p),this.data[p>>>u]^=1<<p;else if(0<=p&&p<=f){c(this,f);for(var h=p;h<=f;h++)this.data[h>>>u]^=1<<h}return this},clear:function(p,f){var d=this.data;if(p===void 0){for(var h=d.length-1;h>=0;h--)d[h]=0;this._=0}else if(f===void 0)p|=0,c(this,p),d[p>>>u]&=~(1<<p);else if(p<=f){c(this,f);for(var h=p;h<=f;h++)d[h>>>u]&=~(1<<h)}return this},slice:function(p,f){if(p===void 0)return this.clone();if(f===void 0){f=this.data.length*n;var d=Object.create(i.prototype);d._=this._,d.data=[0];for(var h=p;h<=f;h++)d.set(h-p,this.get(h));return d}else if(p<=f&&0<=p){var d=Object.create(i.prototype);d.data=[0];for(var h=p;h<=f;h++)d.set(h-p,this.get(h));return d}return null},setRange:function(p,f,d){for(var h=p;h<=f;h++)this.set(h,d);return this},clone:function(){var p=Object.create(i.prototype);return p.data=this.data.slice(),p._=this._,p},toArray:Math.clz32?function(){for(var p=[],f=this.data,d=f.length-1;d>=0;d--)for(var h=f[d];h!==0;){var E=31-Math.clz32(h);h^=1<<E,p.unshift(d*n+E)}return this._!==0&&p.push(1/0),p}:function(){for(var p=[],f=this.data,d=0;d<f.length;d++)for(var h=f[d];h!==0;){var E=h&-h;h^=E,p.push(d*n+s(E-1))}return this._!==0&&p.push(1/0),p},toString:function(p){var f=this.data;if(p||(p=2),!(p&p-1)&&p<36){for(var d="",h=2+Math.log(4294967295)/Math.log(p)|0,E=f.length-1;E>=0;E--){var A=f[E];A<0&&(A+=4294967296);var m=A.toString(p);d!==""&&(d+="0".repeat(h-m.length-1)),d+=m}return this._===0?(d=d.replace(/^0+/,""),d===""&&(d="0"),d):(d="1111"+d,d.replace(/^1+/,"...1111"))}else{if(2>p||p>36)throw SyntaxError("Invalid base");for(var d=[],y=[],E=f.length;E--;)for(var F=n;F--;)y.push(f[E]>>>F&1);do d.unshift(o(y,p).toString(p));while(!y.every(function(P){return P===0}));return d.join("")}},isEmpty:function(){if(this._!==0)return!1;for(var p=this.data,f=p.length-1;f>=0;f--)if(p[f]!==0)return!1;return!0},cardinality:function(){if(this._!==0)return 1/0;for(var p=0,f=this.data,d=0;d<f.length;d++){var h=f[d];h!==0&&(p+=s(h))}return p},msb:Math.clz32?function(){if(this._!==0)return 1/0;for(var p=this.data,f=p.length;f-- >0;){var d=Math.clz32(p[f]);if(d!==n)return f*n+n-1-d}return 1/0}:function(){if(this._!==0)return 1/0;for(var p=this.data,f=p.length;f-- >0;){var d=p[f],h=0;if(d){for(;(d>>>=1)>0;h++);return f*n+h}}return 1/0},ntz:function(){for(var p=this.data,f=0;f<p.length;f++){var d=p[f];if(d!==0)return d=(d^d-1)>>>1,f*n+s(d)}return 1/0},lsb:function(){for(var p=this.data,f=0;f<p.length;f++){var d=p[f],h=0;if(d){for(var E=d&-d;E>>>=1;h++);return n*f+h}}return this._&1},equals:function(p){a(l,p);var f=this.data,d=l.data,h=this._,E=l._,A=f.length-1,m=d.length-1;if(E!==h)return!1;for(var y=A<m?A:m,F=0;F<=y;F++)if(f[F]!==d[F])return!1;for(F=A;F>m;F--)if(f[F]!==E)return!1;for(F=m;F>A;F--)if(d[F]!==h)return!1;return!0},[Symbol.iterator]:function(){var p=this.data,f=0;if(this._===0){for(var d=0,h=p.length-1;h>=0;h--)if(p[h]!==0){d=h;break}return{next:function(){var E=f>>>u;return{done:E>d||E===d&&p[E]>>>f===0,value:E>d?0:p[E]>>>f++&1}}}}else return{next:function(){var E=f>>>u;return{done:!1,value:E<p.length?p[E]>>>f++&1:1}}}}},i.fromBinaryString=function(p){return new i("0b"+p)},i.fromHexString=function(p){return new i("0x"+p)},i.Random=function(p){(p===void 0||p<0)&&(p=n);for(var f=p%n,d=[],h=Math.ceil(p/n),E=Object.create(i.prototype),A=0;A<h;A++)d.push(Math.random()*4294967296|0);return f>0&&(d[h-1]&=(1<<f)-1),E.data=d,E._=0,E},Object.defineProperty(t,"__esModule",{value:!0}),i.default=i,i.BitSet=i,e.exports=i})()})(rk,Ql);const M5=S8(Ql),nk="proskomma-core",uk="0.10.5",sk="A Scripture Runtime Engine",ok=["dist"],ak="./dist/index.js",ik="./dist/module.mjs",ck={".":{require:"./dist/index.js",import:"./dist/index.mjs"}},lk={build:"rm -fr dist && vite build",test:'rm -fr dist && vite build && export PKSRC=dist && bash -c "tape -r @babel/register test/code/**/*.cjs | node_modules/tap-summary/bin/cmd.js"',"win:test":'rm -fr dist && vite build && set PKSRC=dist&& bash -c "tape -r @babel/register test/code/**/*.cjs | node_modules/tap-summary/bin/cmd.js"',rawTest:'rm -fr dist && vite build && export PKSRC=dist && bash -c "tape -r @babel/register test/code/*.cjs"',oneTest:'rm -fr dist && vite build && bash -c "tape -r @babel/register test/code/$TESTSCRIPT.cjs"',prepublishOnly:"npm run build"},pk={type:"git",url:"git+https://github.com/Proskomma/proskomma-core.git"},fk=["USFM","USX","Scripture","parser","lexer","Proskomma"],dk="Mark Howe",Dk="MIT",hk={url:"https://github.com/Proskomma/proskomma-core/issues"},mk="https://github.com/Proskomma/proskomma-core#readme",Ek={"@babel/preset-env":"^7.20.2","@graphql-tools/schema":"^9.0.3","async-mutex":"^0.4.0","base-64":"^1.0.0","base64-js":"^1.5.1",bitset:"^5.1.1",buffer:"^6.0.3","deep-copy-all":"^1.3.4","deep-equal":"^2.0.5","easy-crc32":"^0.0.2","fs-extra":"^11.1.0",graphql:"^v16.6.0","proskomma-json-tools":"^0.6.5","pure-uuid":"^1.6.2",sax:"^1.2.4",stream:"0.0.2",string_decoder:"^1.3.0","utf8-string-bytes":"^1.0.3",util:"^0.12.4",xregexp:"^5.1.1"},vk={"@babel/eslint-parser":"^7.19.1","@babel/register":"^7.18.9","@esbuild-plugins/node-globals-polyfill":"^0.2.3",events:"^3.3.0",parcel:"^2.8.3",process:"^0.11.10","stream-browserify":"^3.0.0","tap-summary":"^4.0.0",tape:"^5.6.0",typescript:"^4.9.5",vite:"^4.1.4"},yk={name:nk,version:uk,description:sk,files:ok,main:ak,module:ik,exports:ck,scripts:lk,repository:pk,keywords:fk,author:dk,license:Dk,bugs:hk,homepage:mk,dependencies:Ek,devDependencies:vk},gk=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var u=e.charCodeAt(n);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)==55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)==56320?(u=65536+((u&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},Ak=function(e){for(var t=[],r=0,n=0;r<e.length;){var u=e[r++];if(u<128)t[n++]=String.fromCharCode(u);else if(u>191&&u<224){var s=e[r++];t[n++]=String.fromCharCode((u&31)<<6|s&63)}else if(u>239&&u<365){var s=e[r++],o=e[r++],a=e[r++],i=((u&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(i&1023))}else{var s=e[r++],o=e[r++];t[n++]=String.fromCharCode((u&15)<<12|(s&63)<<6|o&63)}}return t.join("")};var Iv={utf8ByteArrayToString:Ak,stringToUtf8ByteArray:gk},fa={};fa.byteLength=bk;fa.toByteArray=wk;fa.fromByteArray=Tk;var Qn=[],ln=[],Fk=typeof Uint8Array<"u"?Uint8Array:Array,Xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ao=0,Ck=Xf.length;Ao<Ck;++Ao)Qn[Ao]=Xf[Ao],ln[Xf.charCodeAt(Ao)]=Ao;ln[45]=62;ln[95]=63;function L5(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function bk(e){var t=L5(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Sk(e,t,r){return(t+r)*3/4-r}function wk(e){var t,r=L5(e),n=r[0],u=r[1],s=new Fk(Sk(e,n,u)),o=0,a=u>0?n-4:n,i;for(i=0;i<a;i+=4)t=ln[e.charCodeAt(i)]<<18|ln[e.charCodeAt(i+1)]<<12|ln[e.charCodeAt(i+2)]<<6|ln[e.charCodeAt(i+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return u===2&&(t=ln[e.charCodeAt(i)]<<2|ln[e.charCodeAt(i+1)]>>4,s[o++]=t&255),u===1&&(t=ln[e.charCodeAt(i)]<<10|ln[e.charCodeAt(i+1)]<<4|ln[e.charCodeAt(i+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function _k(e){return Qn[e>>18&63]+Qn[e>>12&63]+Qn[e>>6&63]+Qn[e&63]}function Bk(e,t,r){for(var n,u=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),u.push(_k(n));return u.join("")}function Tk(e){for(var t,r=e.length,n=r%3,u=[],s=16383,o=0,a=r-n;o<a;o+=s)u.push(Bk(e,o,o+s>a?a:o+s));return n===1?(t=e[r-1],u.push(Qn[t>>2]+Qn[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],u.push(Qn[t>>10]+Qn[t>>4&63]+Qn[t<<2&63]+"=")),u.join("")}const Or=(e,t,r)=>{if(typeof e!="number")throw new Error(`Argument ${r} of ${t} should be a number, not '${e}' (${typeof e})`)};let Oi=class{constructor(t,r){t=t||64,r=r||0,this.growMax=1024*16,this.length=r,this.byteArray=new Uint8Array(t)}byte(t){if(Or(t,"byte","n"),t>this.length-1)throw Error(`Attempt to read byte ${t} of ByteArray of length ${this.length}`);return this.byteArray[t]}bytes(t,r){if(Or(t,"bytes","n"),Or(r,"bytes","l"),t+r>this.length)throw Error(`Attempt to read ${r} bytes from start ${t} of ByteArray of length ${this.length}`);return this.byteArray.subarray(t,t+r)}setByte(t,r){if(Or(t,"setByte","n"),Or(r,"setByte","v"),t>this.length-1)throw Error(`Attempt to set byte ${t} of ByteArray of length ${this.length}`);if(typeof r!="number"||r<0||r>255)throw Error(`Expected value 0-255 when setting ByteArray, found ${r}`);this.byteArray[t]=r}setBytes(t,r){if(Or(t,"setBytes","n"),t+r.length>this.length)throw Error(`Attempt to set ${r.length} bytes from start ${t} of ByteArray of length ${this.length}`);this.byteArray.set(r,t)}pushByte(t){if(typeof t!="number"||t<0||t>255)throw Error(`Expected value 0-255 when pushing to ByteArray, found ${t}`);this.length===this.byteArray.length&&this.grow(),this.byteArray[this.length]=t,this.length++}grow(t){const r=new Uint8Array(Math.max(t||0,this.byteArray.length+Math.min(this.growMax,Math.max(16,this.byteArray.length))));r.set(this.byteArray),this.byteArray=r}trim(){const t=new Uint8Array(this.length);t.set(this.byteArray.subarray(0,this.length)),this.byteArray=t}pushBytes(t){for(const r of t)this.pushByte(r)}pushNByte(t){if(Or(t,"pushNByte","v"),typeof t!="number"||t<0)throw Error(`Expected positive number in pushNByte, found ${t}`);if(t<128)this.pushByte(t+128);else{const r=t%128;this.pushByte(r),this.pushNByte(t>>7)}}pushNBytes(t){for(const r of t)try{this.pushNByte(r)}catch{throw Error(`Error from pushNByte, called as pushNBytes(${JSON.stringify(t)})`)}}nByte(t){if(Or(t,"nByte","n"),t>this.length-1)throw Error(`Attempt to read nByte ${t} of ByteArray of length ${this.length}`);const r=this.byteArray[t];return r>127?r-128:r+128*this.nByte(t+1)}nBytes(t,r){Or(t,"nBytes","n"),Or(r,"nBytes","nValues");const n=[];for(;r>0;){let u=!1,s=0,o=1;do{if(t>this.length-1)throw Error(`Attempt to read nByte ${t} of ByteArray of length ${this.length} in nBytes(${t}, ${r})`);const a=this.byteArray[t];a>127?(s+=(a-128)*o,n.push(s),s=0,u=!0):(s+=a*o,o*=128),t++}while(!u);r--}return n}nByteLength(t){if(Or(t,"nByteLength","v"),t>=128**4)throw new Error("> 4 bytes found in nByteLength");let r=1;for(;t>127;)t=t>>7,r+=1;return r}pushCountedString(t){const r=Iv.stringToUtf8ByteArray(t);this.pushByte(r.length),this.pushBytes(r)}countedString(t){Or(t,"countedString","n");const r=this.byte(t);return Iv.utf8ByteArrayToString(this.bytes(t+1,r))}clear(){this.byteArray.fill(0),this.length=0}base64(){return fa.fromByteArray(this.byteArray)}fromBase64(t){this.byteArray=fa.toByteArray(t),this.length=this.byteArray.length}deleteItem(t){Or(t,"deleteItem","n");const r=this.byte(t)&63;if(this.length-=r,this.length>t){const n=this.byteArray.slice(t+r);this.byteArray.set(n,t)}}insert(t,r){Or(t,"insert","n");const n=r.length,u=this.length+n;if(u>=this.byteArray.length+n&&this.grow(u),t<u){const s=this.byteArray.slice(t,this.length);this.byteArray.set(s,t+n)}this.byteArray.set(r.byteArray.slice(0,r.length),t),this.length=u}};const U5=[{code:"GEN",categories:["ot","pentateuch"]},{code:"EXO",categories:["ot","pentateuch"]},{code:"LEV",categories:["ot","pentateuch"]},{code:"NUM",categories:["ot","pentateuch"]},{code:"DEU",categories:["ot","pentateuch"]},{code:"JOS",categories:["ot","history"]},{code:"JDG",categories:["ot","history"]},{code:"RUT",categories:["ot","history"]},{code:"1SA",categories:["ot","history"]},{code:"2SA",categories:["ot","history"]},{code:"1KI",categories:["ot","history"]},{code:"2KI",categories:["ot","history"]},{code:"1CH",categories:["ot","history"]},{code:"2CH",categories:["ot","history"]},{code:"EZR",categories:["ot","history"]},{code:"NEH",categories:["ot","history"]},{code:"EST",categories:["ot","history"]},{code:"JOB",categories:["ot","wisdom"]},{code:"PSA",categories:["ot","wisdom"]},{code:"PRO",categories:["ot","wisdom"]},{code:"ECC",categories:["ot","wisdom"]},{code:"SNG",categories:["ot","wisdom"]},{code:"ISA",categories:["ot","prophecy"]},{code:"JER",categories:["ot","prophecy"]},{code:"LAM",categories:["ot","prophecy"]},{code:"EZK",categories:["ot","prophecy"]},{code:"DAN",categories:["ot","prophecy"]},{code:"HOS",categories:["ot","prophecy"]},{code:"JOL",categories:["ot","prophecy"]},{code:"AMO",categories:["ot","prophecy"]},{code:"OBA",categories:["ot","prophecy"]},{code:"JON",categories:["ot","prophecy"]},{code:"MIC",categories:["ot","prophecy"]},{code:"NAM",categories:["ot","prophecy"]},{code:"HAB",categories:["ot","prophecy"]},{code:"ZEP",categories:["ot","prophecy"]},{code:"HAG",categories:["ot","prophecy"]},{code:"ZEC",categories:["ot","prophecy"]},{code:"MAL",categories:["ot","prophecy"]},{code:"MAT",categories:["nt","gospel","synoptic"]},{code:"MRK",categories:["nt","gospel","synoptic"]},{code:"LUK",categories:["nt","gospel","synoptic"]},{code:"JHN",categories:["nt","gospel"]},{code:"ACT",categories:["nt","gospel"]},{code:"ROM",categories:["nt","epistle"]},{code:"1CO",categories:["nt","epistle"]},{code:"2CO",categories:["nt","epistle"]},{code:"GAL",categories:["nt","epistle"]},{code:"EPH",categories:["nt","epistle"]},{code:"PHP",categories:["nt","epistle"]},{code:"COL",categories:["nt","epistle"]},{code:"1TH",categories:["nt","epistle"]},{code:"2TH",categories:["nt","epistle"]},{code:"1TI",categories:["nt","epistle"]},{code:"2TI",categories:["nt","epistle"]},{code:"TIT",categories:["nt","epistle"]},{code:"PHM",categories:["nt","epistle"]},{code:"HEB",categories:["nt","epistle"]},{code:"JAS",categories:["nt","epistle"]},{code:"1PE",categories:["nt","epistle"]},{code:"2PE",categories:["nt","epistle"]},{code:"1JN",categories:["nt","epistle"]},{code:"2JN",categories:["nt","epistle"]},{code:"3JN",categories:["nt","epistle"]},{code:"JUD",categories:["nt","epistle"]},{code:"REV",categories:["nt","epistle"]},{code:"TOB",categories:["dc"]},{code:"JDT",categories:["dc"]},{code:"ESG",categories:["dc","history"]},{code:"WIS",categories:["dc","wisdom"]},{code:"SIR",categories:["dc","wisdom"]},{code:"BAR",categories:["dc","prophecy"]},{code:"LJE",categories:["dc"]},{code:"S3Y",categories:["dc"]},{code:"SUS",categories:["dc"]},{code:"BEL",categories:["dc"]},{code:"1MA",categories:["dc"]},{code:"2MA",categories:["dc"]},{code:"3MA",categories:["dc"]},{code:"4MA",categories:["dc"]},{code:"1ES",categories:["dc"]},{code:"2ES",categories:["dc"]},{code:"MAN",categories:["dc"]},{code:"PS2",categories:["dc"]},{code:"ODA",categories:["dc"]},{code:"PSS",categories:["dc"]},{code:"JSA",categories:["dc"]},{code:"JDB",categories:["dc"]},{code:"TBS",categories:["dc"]},{code:"SST",categories:["dc"]},{code:"DNT",categories:["dc"]},{code:"BLT",categories:["dc"]},{code:"EZA",categories:["dc"]},{code:"5EZ",categories:["dc"]},{code:"6EZ",categories:["dc"]},{code:"DAG",categories:["dc"]},{code:"PS3",categories:["dc"]},{code:"2BA",categories:["dc"]},{code:"LBA",categories:["dc"]},{code:"JUB",categories:["dc"]},{code:"ENO",categories:["dc"]},{code:"1MQ",categories:["dc"]},{code:"2MQ",categories:["dc"]},{code:"3MQ",categories:["dc"]},{code:"REP",categories:["dc"]},{code:"4BA",categories:["dc"]},{code:"LAO",categories:["dc"]}];let G5={};for(const e of U5.entries())G5[e[1].code]={...e[1],position:e[0]};const $k={ptBookArray:U5,ptBooks:G5},Pk=(e,t)=>{let r=0,n=0;for(;r<e.length;){const u=e.byte(r);if(e.countedString(r)===t)return n;r+=u+1,n+=1}return-1},Ok=(e,t)=>{let r=0,n=0;const u=[];for(;r<e.length;){const s=e.byte(r),o=e.countedString(r);ne.exec(o,ne(t,"i"))&&u.push([n,o]),r+=s+1,n+=1}return u},kk={enumStringIndex:Pk,enumRegexIndexTuples:Ok};var I2={},Ik={get exports(){return I2},set exports(e){I2=e}};/*!
**  Pure-UUID -- Pure JavaScript Based Universally Unique Identifier (UUID)
**  Copyright (c) 2004-2021 Dr. Ralf S. Engelschall <rse@engelschall.com>
**
**  Permission is hereby granted, free of charge, to any person obtaining
**  a copy of this software and associated documentation files (the
**  "Software"), to deal in the Software without restriction, including
**  without limitation the rights to use, copy, modify, merge, publish,
**  distribute, sublicense, and/or sell copies of the Software, and to
**  permit persons to whom the Software is furnished to do so, subject to
**  the following conditions:
**
**  The above copyright notice and this permission notice shall be included
**  in all copies or substantial portions of the Software.
**
**  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/(function(e){(function(t,r,n){e.exports=n(t),e.exports.default=e.exports})(Ys,"UUID",function(){var t=function(v,C,D,g,O,b){for(var w=function(k,G){var H=k.toString(16);return H.length<2&&(H="0"+H),G&&(H=H.toUpperCase()),H},x=C;x<=D;x++)O[b++]=w(v[x],g);return O},r=function(v,C,D,g,O){for(var b=C;b<=D;b+=2)g[O++]=parseInt(v.substr(b,2),16)},n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.-:+=^!/*?&<>()[]{}@%$#".split(""),u=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0],s=function(v,C){if(C%4!==0)throw new Error("z85_encode: invalid input length (multiple of 4 expected)");for(var D="",g=0,O=0;g<C;)if(O=O*256+v[g++],g%4===0){for(var b=52200625;b>=1;){var w=Math.floor(O/b)%85;D+=n[w],b/=85}O=0}return D},o=function(v,C){var D=v.length;if(D%5!==0)throw new Error("z85_decode: invalid input length (multiple of 5 expected)");typeof C>"u"&&(C=new Array(D*4/5));for(var g=0,O=0,b=0;g<D;){var w=v.charCodeAt(g++)-32;if(w<0||w>=u.length)break;if(b=b*85+u[w],g%5===0){for(var x=16777216;x>=1;)C[O++]=Math.trunc(b/x%256),x/=256;b=0}}return C},a=function(v,C){var D={ibits:8,obits:8,obigendian:!0};for(var g in C)typeof D[g]<"u"&&(D[g]=C[g]);for(var O=[],b=0,w,x,k=0,G,H=0,re=v.length;k===0&&(x=v.charCodeAt(b++)),w=x>>D.ibits-(k+8)&255,k=(k+8)%D.ibits,D.obigendian?H===0?G=w<<D.obits-8:G|=w<<D.obits-8-H:H===0?G=w:G|=w<<H,H=(H+8)%D.obits,!(H===0&&(O.push(G),b>=re)););return O},i=function(v,C){var D={ibits:32,ibigendian:!0};for(var g in C)typeof D[g]<"u"&&(D[g]=C[g]);var O="",b=4294967295;D.ibits<32&&(b=(1<<D.ibits)-1);for(var w=v.length,x=0;x<w;x++)for(var k=v[x]&b,G=0;G<D.ibits;G+=8)D.ibigendian?O+=String.fromCharCode(k>>D.ibits-8-G&255):O+=String.fromCharCode(k>>G&255);return O},c=8,l=8,p=256,f=function(v,C,D,g,O,b,w,x){return[x,w,b,O,g,D,C,v]},d=function(){return f(0,0,0,0,0,0,0,0)},h=function(v){return v.slice(0)},E=function(v){for(var C=d(),D=0;D<c;D++)C[D]=Math.floor(v%p),v/=p;return C},A=function(v){for(var C=0,D=c-1;D>=0;D--)C*=p,C+=v[D];return Math.floor(C)},m=function(v,C){for(var D=0,g=0;g<c;g++)D+=v[g]+C[g],v[g]=Math.floor(D%p),D=Math.floor(D/p);return D},y=function(v,C){for(var D=0,g=0;g<c;g++)D+=v[g]*C,v[g]=Math.floor(D%p),D=Math.floor(D/p);return D},F=function(v,C){var D,g,O=new Array(c+c);for(D=0;D<c+c;D++)O[D]=0;var b;for(D=0;D<c;D++){for(b=0,g=0;g<c;g++)b+=v[D]*C[g]+O[D+g],O[D+g]=b%p,b/=p;for(;g<c+c-D;g++)b+=O[D+g],O[D+g]=b%p,b/=p}for(D=0;D<c;D++)v[D]=O[D];return O.slice(c,c)},B=function(v,C){for(var D=0;D<c;D++)v[D]&=C[D];return v},P=function(v,C){for(var D=0;D<c;D++)v[D]|=C[D];return v},$=function(v,C){var D=d();if(C%l!==0)throw new Error("ui64_rorn: only bit rotations supported with a multiple of digit bits");for(var g=Math.floor(C/l),O=0;O<g;O++){for(var b=c-1-1;b>=0;b--)D[b+1]=D[b];for(D[0]=v[0],b=0;b<c-1;b++)v[b]=v[b+1];v[b]=0}return A(D)},I=function(v,C){if(C>c*l)throw new Error("ui64_ror: invalid number of bits to shift");var D=new Array(c+c),g;for(g=0;g<c;g++)D[g+c]=v[g],D[g]=0;var O=Math.floor(C/l),b=C%l;for(g=O;g<c+c-1;g++)D[g-O]=(D[g]>>>b|D[g+1]<<l-b)&(1<<l)-1;for(D[c+c-1-O]=D[c+c-1]>>>b&(1<<l)-1,g=c+c-1-O+1;g<c+c;g++)D[g]=0;for(g=0;g<c;g++)v[g]=D[g+c];return D.slice(0,c)},U=function(v,C){if(C>c*l)throw new Error("ui64_rol: invalid number of bits to shift");var D=new Array(c+c),g;for(g=0;g<c;g++)D[g+c]=0,D[g]=v[g];var O=Math.floor(C/l),b=C%l;for(g=c-1-O;g>0;g--)D[g+O]=(D[g]<<b|D[g-1]>>>l-b)&(1<<l)-1;for(D[0+O]=D[0]<<b&(1<<l)-1,g=0+O-1;g>=0;g--)D[g]=0;for(g=0;g<c;g++)v[g]=D[g];return D.slice(c,c)},j=function(v,C){for(var D=0;D<c;D++)v[D]^=C[D]},W=function(v,C){var D=(v&65535)+(C&65535),g=(v>>16)+(C>>16)+(D>>16);return g<<16|D&65535},te=function(v,C){return v<<C&4294967295|v>>>32-C&4294967295},Y=function(v,C){function D(ke,Ie,ce,Te){return ke<20?Ie&ce|~Ie&Te:ke<40?Ie^ce^Te:ke<60?Ie&ce|Ie&Te|ce&Te:Ie^ce^Te}function g(ke){return ke<20?1518500249:ke<40?1859775393:ke<60?-1894007588:-899497514}v[C>>5]|=128<<24-C%32,v[(C+64>>9<<4)+15]=C;for(var O=Array(80),b=1732584193,w=-271733879,x=-1732584194,k=271733878,G=-1009589776,H=0;H<v.length;H+=16){for(var re=b,_e=w,Le=x,Ue=k,Ge=G,be=0;be<80;be++){be<16?O[be]=v[H+be]:O[be]=te(O[be-3]^O[be-8]^O[be-14]^O[be-16],1);var je=W(W(te(b,5),D(be,w,x,k)),W(W(G,O[be]),g(be)));G=k,k=x,x=te(w,30),w=b,b=je}b=W(b,re),w=W(w,_e),x=W(x,Le),k=W(k,Ue),G=W(G,Ge)}return[b,w,x,k,G]},oe=function(v){return i(Y(a(v,{ibits:8,obits:32,obigendian:!0}),v.length*8),{ibits:32,ibigendian:!0})},ie=function(v,C){function D(be,je,ke,Ie,ce,Te){return W(te(W(W(je,be),W(Ie,Te)),ce),ke)}function g(be,je,ke,Ie,ce,Te,Z){return D(je&ke|~je&Ie,be,je,ce,Te,Z)}function O(be,je,ke,Ie,ce,Te,Z){return D(je&Ie|ke&~Ie,be,je,ce,Te,Z)}function b(be,je,ke,Ie,ce,Te,Z){return D(je^ke^Ie,be,je,ce,Te,Z)}function w(be,je,ke,Ie,ce,Te,Z){return D(ke^(je|~Ie),be,je,ce,Te,Z)}v[C>>5]|=128<<C%32,v[(C+64>>>9<<4)+14]=C;for(var x=1732584193,k=-271733879,G=-1732584194,H=271733878,re=0;re<v.length;re+=16){var _e=x,Le=k,Ue=G,Ge=H;x=g(x,k,G,H,v[re+0],7,-680876936),H=g(H,x,k,G,v[re+1],12,-389564586),G=g(G,H,x,k,v[re+2],17,606105819),k=g(k,G,H,x,v[re+3],22,-1044525330),x=g(x,k,G,H,v[re+4],7,-176418897),H=g(H,x,k,G,v[re+5],12,1200080426),G=g(G,H,x,k,v[re+6],17,-1473231341),k=g(k,G,H,x,v[re+7],22,-45705983),x=g(x,k,G,H,v[re+8],7,1770035416),H=g(H,x,k,G,v[re+9],12,-1958414417),G=g(G,H,x,k,v[re+10],17,-42063),k=g(k,G,H,x,v[re+11],22,-1990404162),x=g(x,k,G,H,v[re+12],7,1804603682),H=g(H,x,k,G,v[re+13],12,-40341101),G=g(G,H,x,k,v[re+14],17,-1502002290),k=g(k,G,H,x,v[re+15],22,1236535329),x=O(x,k,G,H,v[re+1],5,-165796510),H=O(H,x,k,G,v[re+6],9,-1069501632),G=O(G,H,x,k,v[re+11],14,643717713),k=O(k,G,H,x,v[re+0],20,-373897302),x=O(x,k,G,H,v[re+5],5,-701558691),H=O(H,x,k,G,v[re+10],9,38016083),G=O(G,H,x,k,v[re+15],14,-660478335),k=O(k,G,H,x,v[re+4],20,-405537848),x=O(x,k,G,H,v[re+9],5,568446438),H=O(H,x,k,G,v[re+14],9,-1019803690),G=O(G,H,x,k,v[re+3],14,-187363961),k=O(k,G,H,x,v[re+8],20,1163531501),x=O(x,k,G,H,v[re+13],5,-1444681467),H=O(H,x,k,G,v[re+2],9,-51403784),G=O(G,H,x,k,v[re+7],14,1735328473),k=O(k,G,H,x,v[re+12],20,-1926607734),x=b(x,k,G,H,v[re+5],4,-378558),H=b(H,x,k,G,v[re+8],11,-2022574463),G=b(G,H,x,k,v[re+11],16,1839030562),k=b(k,G,H,x,v[re+14],23,-35309556),x=b(x,k,G,H,v[re+1],4,-1530992060),H=b(H,x,k,G,v[re+4],11,1272893353),G=b(G,H,x,k,v[re+7],16,-155497632),k=b(k,G,H,x,v[re+10],23,-1094730640),x=b(x,k,G,H,v[re+13],4,681279174),H=b(H,x,k,G,v[re+0],11,-358537222),G=b(G,H,x,k,v[re+3],16,-722521979),k=b(k,G,H,x,v[re+6],23,76029189),x=b(x,k,G,H,v[re+9],4,-640364487),H=b(H,x,k,G,v[re+12],11,-421815835),G=b(G,H,x,k,v[re+15],16,530742520),k=b(k,G,H,x,v[re+2],23,-995338651),x=w(x,k,G,H,v[re+0],6,-198630844),H=w(H,x,k,G,v[re+7],10,1126891415),G=w(G,H,x,k,v[re+14],15,-1416354905),k=w(k,G,H,x,v[re+5],21,-57434055),x=w(x,k,G,H,v[re+12],6,1700485571),H=w(H,x,k,G,v[re+3],10,-1894986606),G=w(G,H,x,k,v[re+10],15,-1051523),k=w(k,G,H,x,v[re+1],21,-2054922799),x=w(x,k,G,H,v[re+8],6,1873313359),H=w(H,x,k,G,v[re+15],10,-30611744),G=w(G,H,x,k,v[re+6],15,-1560198380),k=w(k,G,H,x,v[re+13],21,1309151649),x=w(x,k,G,H,v[re+4],6,-145523070),H=w(H,x,k,G,v[re+11],10,-1120210379),G=w(G,H,x,k,v[re+2],15,718787259),k=w(k,G,H,x,v[re+9],21,-343485551),x=W(x,_e),k=W(k,Le),G=W(G,Ue),H=W(H,Ge)}return[x,k,G,H]},fe=function(v){return i(ie(a(v,{ibits:8,obits:32,obigendian:!1}),v.length*8),{ibits:32,ibigendian:!1})},De=function(v){this.mul=f(88,81,244,45,76,149,127,45),this.inc=f(20,5,123,126,247,103,129,79),this.mask=f(0,0,0,0,255,255,255,255),this.state=h(this.inc),this.next(),B(this.state,this.mask),v=E(v!==void 0?v>>>0:Math.random()*4294967295>>>0),P(this.state,v),this.next()};De.prototype.next=function(){var v=h(this.state);F(this.state,this.mul),m(this.state,this.inc);var C=h(v);I(C,18),j(C,v),I(C,27);var D=h(v);I(D,59),B(C,this.mask);var g=A(D),O=h(C);return U(O,32-g),I(C,g),j(C,O),A(C)};var de=new De,Ce=function(v,C){for(var D=[],g=0;g<v;g++)D[g]=de.next()%C;return D},pe=0,Q=0,q=function(){if(arguments.length===1&&typeof arguments[0]=="string")this.parse.apply(this,arguments);else if(arguments.length>=1&&typeof arguments[0]=="number")this.make.apply(this,arguments);else{if(arguments.length>=1)throw new Error("UUID: constructor: invalid arguments");for(var v=0;v<16;v++)this[v]=0}};return typeof Uint8Array<"u"?q.prototype=new Uint8Array(16):Buffer?q.prototype=Buffer.alloc(16):q.prototype=new Array(16),q.prototype.constructor=q,q.prototype.make=function(v){var C,D=this;if(v===1){var g=new Date,O=g.getTime();O!==pe?Q=0:Q++,pe=O;var b=E(O);y(b,1e3*10),m(b,f(1,178,29,210,19,129,64,0)),Q>0&&m(b,E(Q));var w;w=$(b,8),D[3]=w&255,w=$(b,8),D[2]=w&255,w=$(b,8),D[1]=w&255,w=$(b,8),D[0]=w&255,w=$(b,8),D[5]=w&255,w=$(b,8),D[4]=w&255,w=$(b,8),D[7]=w&255,w=$(b,8),D[6]=w&15;var x=Ce(2,255);D[8]=x[0],D[9]=x[1];var k=Ce(6,255);for(k[0]|=1,k[0]|=2,C=0;C<6;C++)D[10+C]=k[C]}else if(v===4){var G=Ce(16,255);for(C=0;C<16;C++)this[C]=G[C]}else if(v===3||v===5){var H="",re=typeof arguments[1]=="object"&&arguments[1]instanceof q?arguments[1]:new q().parse(arguments[1]);for(C=0;C<16;C++)H+=String.fromCharCode(re[C]);H+=arguments[2];var _e=v===3?fe(H):oe(H);for(C=0;C<16;C++)D[C]=_e.charCodeAt(C)}else throw new Error("UUID: make: invalid version");return D[6]&=15,D[6]|=v<<4,D[8]&=63,D[8]|=128,D},q.prototype.format=function(v){var C,D;return v==="z85"?C=s(this,16):v==="b16"?(D=Array(32),t(this,0,15,!0,D,0),C=D.join("")):(v===void 0||v==="std")&&(D=new Array(36),t(this,0,3,!1,D,0),D[8]="-",t(this,4,5,!1,D,9),D[13]="-",t(this,6,7,!1,D,14),D[18]="-",t(this,8,9,!1,D,19),D[23]="-",t(this,10,15,!1,D,24),C=D.join("")),C},q.prototype.toString=function(v){return this.format(v)},q.prototype.toJSON=function(){return this.format("std")},q.prototype.parse=function(v,C){if(typeof v!="string")throw new Error("UUID: parse: invalid argument (type string expected)");if(C==="z85")o(v,this);else if(C==="b16")r(v,0,35,this,0);else if(C===void 0||C==="std"){var D={nil:"00000000-0000-0000-0000-000000000000","ns:DNS":"6ba7b810-9dad-11d1-80b4-00c04fd430c8","ns:URL":"6ba7b811-9dad-11d1-80b4-00c04fd430c8","ns:OID":"6ba7b812-9dad-11d1-80b4-00c04fd430c8","ns:X500":"6ba7b814-9dad-11d1-80b4-00c04fd430c8"};if(D[v]!==void 0)v=D[v];else if(!v.match(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/))throw new Error('UUID: parse: invalid string representation (expected "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")');r(v,0,7,this,0),r(v,9,12,this,4),r(v,14,17,this,6),r(v,19,22,this,8),r(v,24,35,this,10)}return this},q.prototype.export=function(){for(var v=Array(16),C=0;C<16;C++)v[C]=this[C];return v},q.prototype.import=function(v){if(!(typeof v=="object"&&v instanceof Array))throw new Error("UUID: import: invalid argument (type Array expected)");if(v.length!==16)throw new Error("UUID: import: invalid argument (Array of length 16 expected)");for(var C=0;C<16;C++){if(typeof v[C]!="number")throw new Error("UUID: import: invalid array element #"+C+" (type Number expected)");if(!(isFinite(v[C])&&Math.floor(v[C])===v[C]))throw new Error("UUID: import: invalid array element #"+C+" (Number with integer value expected)");if(!(v[C]>=0&&v[C]<=255))throw new Error("UUID: import: invalid array element #"+C+" (Number with integer value in range 0...255 expected)");this[C]=v[C]}return this},q.prototype.compare=function(v){if(typeof v!="object")throw new Error("UUID: compare: invalid argument (type UUID expected)");if(!(v instanceof q))throw new Error("UUID: compare: invalid argument (type UUID expected)");for(var C=0;C<16;C++){if(this[C]<v[C])return-1;if(this[C]>v[C])return 1}return 0},q.prototype.equal=function(v){return this.compare(v)===0},q.prototype.fold=function(v){if(typeof v>"u")throw new Error("UUID: fold: invalid argument (number of fold operations expected)");if(v<1||v>4)throw new Error("UUID: fold: invalid argument (1-4 fold operations expected)");for(var C=16/Math.pow(2,v),D=new Array(C),g=0;g<C;g++){for(var O=0,b=0;g+b<16;b+=C)O^=this[g+b];D[g]=O}return D},q.PCG=De,q})})(Ik);const Nk=I2;var ep={},qk={get exports(){return ep},set exports(e){ep=e}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */(function(e,t){(function(r){var n=t,u=e&&e.exports==n&&e,s=typeof Ys=="object"&&Ys;(s.global===s||s.window===s)&&(r=s);var o=function(h){this.message=h};o.prototype=new Error,o.prototype.name="InvalidCharacterError";var a=function(h){throw new o(h)},i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,l=function(h){h=String(h).replace(c,"");var E=h.length;E%4==0&&(h=h.replace(/==?$/,""),E=h.length),(E%4==1||/[^+a-zA-Z0-9/]/.test(h))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var A=0,m,y,F="",B=-1;++B<E;)y=i.indexOf(h.charAt(B)),m=A%4?m*64+y:y,A++%4&&(F+=String.fromCharCode(255&m>>(-2*A&6)));return F},p=function(h){h=String(h),/[^\0-\xFF]/.test(h)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var E=h.length%3,A="",m=-1,y,F,B,P,$=h.length-E;++m<$;)y=h.charCodeAt(m)<<16,F=h.charCodeAt(++m)<<8,B=h.charCodeAt(++m),P=y+F+B,A+=i.charAt(P>>18&63)+i.charAt(P>>12&63)+i.charAt(P>>6&63)+i.charAt(P&63);return E==2?(y=h.charCodeAt(m)<<8,F=h.charCodeAt(++m),P=y+F,A+=i.charAt(P>>10)+i.charAt(P>>4&63)+i.charAt(P<<2&63)+"="):E==1&&(P=h.charCodeAt(m),A+=i.charAt(P>>2)+i.charAt(P<<4&63)+"=="),A},f={encode:p,decode:l,version:"1.0.0"};if(n&&!n.nodeType)if(u)u.exports=f;else for(var d in f)f.hasOwnProperty(d)&&(n[d]=f[d]);else r.base64=f})(Ys)})(qk,ep);const xk=ep,Rk=()=>xk.encode(new Nk(4)).substring(0,12),jk={heading:"block",title:"block",endTitle:"block",remark:"block",footnote:"inline",xref:"inline",noteCaller:"inline",esbCat:"inline",table:"block",tree:"block",kv:"block"},Mk={graftLocation:jk},V5={wordLike:0,punctuation:1,lineSpace:2,eol:3,softLineBreak:4,noBreakSpace:5,bareSlash:6,unknown:7},Lk=Object.entries(V5).sort((e,t)=>e[1]-t[1]).map(e=>e[0]),Uk={wordLike:"wordLike",punctuation:"notWordLike",lineSpace:"notWordLike",eol:"notWordLike",softLineBreak:"notWordLike",noBreakSpace:"notWordLike",bareSlash:"notWordLike",unknown:"notWordLike"},tp={tokenEnum:V5,tokenEnumLabels:Lk,tokenCategory:Uk},H5={blockTag:0,inline:1,chapter:2,pubChapter:3,altChapter:4,verses:5,verse:6,pubVerse:7,altVerse:8,esbCat:9,span:10,table:11,cell:12,milestone:13,spanWithAtts:14,attribute:15,hangingGraft:16,orphanTokens:17,tTableRow:18,tTableCol:19,tTreeNode:20,tTreeParent:21,tTreeChild:22,tTreeContent:23,kvPrimary:24,kvSecondary:25,kvField:26},Gk=Object.entries(H5).sort((e,t)=>e[1]-t[1]).map(e=>e[0]),Vk=e=>{const t=ne.exec(e,ne("([^1-9]+)(.*)")),r=t[1],n=t[2].length>0?t[2]:"1";return[r,n]},Hk=e=>{const t={th:{type:"colHeading",align:"left"},thr:{type:"colHeading",align:"right"},tc:{type:"body",align:"left"},tcr:{type:"body",align:"right"}},[r,n]=Vk(e);let u="1";if(n.includes("-")){const[s,o]=n.split("-");u=`${parseInt(o)-parseInt(s)+1}`}return`cell/${t[r].type}/${t[r].align}/${u}`},Wk=(e,t)=>{switch(e){case"blockTag":return`blockTag/${t[0]}`;case"inline":return`inline/${t[0]}`;case"chapter":return`chapter/${t[0]}`;case"verses":return`verses/${t[0]}`;case"verse":return`verse/${t[0]}`;case"span":return`span/${t[0]}`;case"table":return"table";case"cell":return Hk(t[0]);case"milestone":return`milestone/${t[0]}`;case"spanWithAtts":return`spanWithAtts/${t[0]}`;case"attribute":return`attribute/${t[0]}/${t[1]}/${t[2]}/${t[3]}`;case"orphanTokens":return"orphanTokens";case"hangingGraft":return"hangingGraft";case"pubChapter":return`pubChapter/${t[0]}`;case"pubVerse":return`pubVerse/${t[0]}`;case"altChapter":return`altChapter/${t[0]}`;case"altVerse":return`altVerse/${t[0]}`;case"esbCat":return`esbCat/${t[0]}`;case"tTableRow":return`tTableRow/${t[0]}`;case"tTableCol":return`tTableCol/${t[0]}`;case"tTreeNode":return`tTreeNode/${t[0]}`;case"tTreeParent":return`tTreeParent/${t[0]}`;case"tTreeChild":return`tTreeChild/${t[0]}/${t[1]}`;case"tTreeContent":return`tTreeContent/${t[0]}`;case"kvPrimary":return`kvPrimary/${t[0]}`;case"kvSecondary":return`kvSecondary/${t[0]}/${t[1]}`;case"kvField":return`kvField/${t[0]}`;default:throw new Error(`Unknown scope type '${e}' in labelForScope`)}},Jk=e=>{switch(e){case"orphanTokens":case"hangingGraft":case"table":return 1;case"blockTag":case"inline":case"chapter":case"verses":case"verse":case"span":case"milestone":case"spanWithAtts":case"pubChapter":case"altChapter":case"pubVerse":case"altVerse":case"esbCat":case"tTableRow":case"tTableCol":case"tTreeNode":case"tTreeParent":case"tTreeContent":case"kvPrimary":case"kvField":return 2;case"tTreeChild":case"kvSecondary":return 3;case"cell":return 4;case"attribute":return 6;default:throw new Error(`Unknown scope type '${e}' in nComponentsForScope`)}},ki={scopeEnum:H5,scopeEnumLabels:Gk,labelForScope:Wk,nComponentsForScope:Jk},W5={token:0,graft:1,startScope:2,endScope:3},zk=Object.entries(W5).sort((e,t)=>e[1]-t[1]).map(e=>e[0]),J5=e=>({type:e[0],subType:e[1],payload:e[2]}),z5=e=>[e.type,e.subType,e.payload],Kk=e=>e.map(t=>J5(t)),Xk=e=>e.map(t=>z5(t)),Ii={itemEnum:W5,itemEnumLabels:zk,itemArray2Object:J5,itemObject2Array:z5,itemArrays2Objects:Kk,itemObjects2Arrays:Xk},Yk=(e,t)=>{const r=e.byte(t),n=r>>6,u=r&63,s=e.byte(t+1);return[u,n,s]},Zk=(e,t,r,n,u)=>{const s=tp.tokenCategory[tp.tokenEnumLabels[n]],o=t[s][r.nByte(u+2)];return e[s].countedString(o)},Qk=(e,t,r,n,u)=>{const s=ki.scopeEnumLabels[n];let o=ki.nComponentsForScope(s),a=2,i="";for(;o>1;){const c=r.nByte(u+a),l=t.scopeBits[c],p=e.scopeBits.countedString(l);i+=`/${p}`,a+=r.nByteLength(c),o--}return`${s}${i}`},eI=e=>ki.scopeEnumLabels[e],tI=(e,t,r)=>{const n=t.graftTypes[r];return e.graftTypes.countedString(n)},rI=(e,t,r,n)=>{const u=t.ids[r.nByte(n+2)];return e.ids.countedString(u)},nI=e=>{const t={};for(const[r,n]of Object.entries(e))t[r]=K5(r,n);return t},K5=(e,t)=>{const r=new Uint32Array(t.length);let n=0,u=0;for(;n<t.length;){r[u]=n;const s=t.byte(n);n+=s+1,u+=1}return r},uI=(e,t)=>{t||(t=!1);let r=0,n=0;const u=[];for(;r<e.length;){const s=e.byte(r),o=e.countedString(r);u.push(t?[n,o]:o),r+=s+1,n++}return u},Zs=(e,t)=>{throw new Error(`Undefined or null argument '${t}' in '${e}'`)},sI=(e,t,r)=>{t==null&&Zs("pushSuccinctTokenBytes","tokenEnumIndex"),r==null&&Zs("pushSuccinctTokenBytes","charsEnumIndex");const n=e.length;e.pushByte(0),e.pushByte(t),e.pushNByte(r),e.setByte(n,e.length-n|Ii.itemEnum.token<<6)},oI=(e,t,r)=>{t==null&&Zs("pushSuccinctGraftBytes","graftTypeEnumIndex"),r==null&&Zs("pushSuccinctGraftBytes","seqEnumIndex");const n=e.length;e.pushByte(0),e.pushByte(t),e.pushNByte(r),e.setByte(n,e.length-n|Ii.itemEnum.graft<<6)},aI=(e,t,r,n)=>{t==null&&Zs("pushSuccinctScopeBytes","itemTypeByte"),r==null&&Zs("pushSuccinctScopeBytes","scopeTypeByte"),n==null&&Zs("pushSuccinctScopeBytes","scopeBitBytes");const u=e.length;e.pushByte(0),e.pushByte(r);for(const s of n)e.pushNByte(s);e.setByte(u,e.length-u|t<<6)},Xu={enumIndex:K5,enumIndexes:nI,headerBytes:Yk,pushSuccinctTokenBytes:sI,pushSuccinctGraftBytes:oI,pushSuccinctScopeBytes:aI,succinctTokenChars:Zk,succinctScopeLabel:Qk,succinctScopeType:eI,succinctGraftName:tI,succinctGraftSeqId:rI,unpackEnum:uI},iI=e=>{const t=new Oi;t.fromBase64(e);const r=[];r.push(`* Char length ${t.length} *`);for(const[n,u]of Xu.unpackEnum(t,!0))r.push(`${n}	"${u}"`);return r.join(`
`)},cI=(e,t)=>{const r=new Oi;r.fromBase64(e);const n={};for(const[a,i]of Object.entries(t))n[a]=new Oi,n[a].fromBase64(i);const u=Xu.enumIndexes(n),s=[];s.push(`* Char length ${r.length} *`);let o=0;for(;o<r.length;){const[a,i,c]=Xu.headerBytes(r,o);let l=c,p="";switch(Ii.itemEnumLabels[i]){case"token":l=tp.tokenEnumLabels[c],p=`"${Xu.succinctTokenChars(n,u,r,c,o)}"`;break;case"startScope":case"endScope":l=ki.scopeEnumLabels[c],p=Xu.succinctScopeLabel(n,u,r,c,o);break;case"graft":l=Xu.succinctGraftName(n,u,c),p=Xu.succinctGraftSeqId(n,u,r,o)}s.push(`${Ii.itemEnumLabels[i]}	${l}	(${a})	${p}`),o+=a}return s.join(`
`)},lI={inspectEnum:iI,inspectSuccinct:cI},pI={usfm:{baseSequenceTypes:{main:"1",introduction:"*",introTitle:"?",introEndTitle:"?",title:"?",endTitle:"?",heading:"*",header:"*",remark:"*",sidebar:"*",table:"*",tree:"*",kv:"*"},inlineSequenceTypes:{footnote:"*",noteCaller:"*",xref:"*",pubNumber:"*",altNumber:"*",esbCat:"*",fig:"*",temp:"?"}}},fI=e=>{for(const t of e)xp(t)},xp=e=>{if(!ne.exec(e,/^[a-z][A-za-z0-9]*(:.+)?$/))throw new Error(`Tag '${e}' is not valid (should be [a-z][A-za-z0-9]*(:.+)?)`)},dI=(e,t)=>{xp(t),e.add(t)},DI=(e,t)=>{xp(t),e.delete(t)},hI={validateTags:fI,validateTag:xp,addTag:dI,removeTag:DI},mI=2,rp=3,Rp=["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL","MAT","MRK","LUK","JHN","ACT","ROM","1CO","2CO","GAL","EPH","PHP","COL","1TH","2TH","1TI","2TI","TIT","PHM","HEB","JAS","1PE","2PE","1JN","2JN","3JN","JUD","REV","TOB","JDT","ESG","WIS","SIR","BAR","LJE","S3Y","SUS","BEL","1MA","2MA","3MA","4MA","1ES","2ES","MAN","PS2","ODA","PSS","JSA","JDB","TBS","SST","DNT","BLT","EZA","5EZ","6EZ","DAG","PS3","2BA","LBA","JUB","ENO","1MQ","2MQ","3MQ","REP","4BA","LAO"],X5=()=>{const e={};for(const[t,r]of Object.entries(Rp))e[r]=parseInt(t);return e},EI=e=>{const t={};for(const r of e.split(/[\n\r]+/).map(n=>n.trim()).map(n=>ne.exec(n,ne("^([A-Z1-6]{3} [0-9]+:[0-9]+(-[0-9]+)?) = ([A-Z1-6]{3} [0-9]+:[0-9]+[a-z]?(-[0-9]+)?)$"))))r&&(r[1]in t||(t[r[1]]=[]),t[r[1]].push(r[3]));return{mappedVerses:t}},vI=e=>{const t={};for(const[r,n]of Object.entries(e.mappedVerses))for(const u of n)u in t?t[u].push(r):t[u]=[r];return{reverseMappedVerses:t}},Y5=e=>{const t={};for(let[r,n]of Object.entries(e)){typeof n=="string"&&(n=[n]);const[u,s]=r.split(" "),o=n[0].split(" ")[0],a=o===u?["cv"]:["bcv"];let[i,c]=s.split(":"),l=c;if(c.includes("-")){const p=c.split("-");c=p[0],l=p[1]}a.push([parseInt(c),parseInt(l)]),a.push([]);for(const p of n.map(f=>f.split(" ")[1])){let[f,d]=p.split(":"),h=d;if(d.includes("-")){const E=d.split("-");d=E[0],h=E[1]}a[0]==="cv"?a[2].push([parseInt(f),parseInt(d),parseInt(h)]):a[2].push([parseInt(f),parseInt(d),parseInt(h),o])}u in t||(t[u]={}),i in t[u]||(t[u][i]=[]),t[u][i].push(a)}return t},yI=e=>{const t={},r=X5();for(const[n,u]of Object.entries(Y5(e))){t[n]={};for(const[s,o]of Object.entries(u))t[n][s]=Z5(o,r)}return t},Z5=(e,t)=>{const r=(u,s)=>s+u*64,n=new Oi(64);for(const[u,[s,o],a]of e){const i=n.length,c=u==="bcv"?rp:mI;if(n.pushNBytes([0,s,o]),c===rp){const p=t[a[0][3]];n.pushNByte(p)}n.pushNByte(a.length);for(const[p,f]of a)n.pushNBytes([p,f]);const l=n.length-i;if(l>63)throw new Error(`Mapping in succinctifyVerseMapping ${JSON.stringify(a)} is too long (${l} bytes)`);n.setByte(i,r(c,l))}return n.trim(),n},Q5=(e,t)=>{const r=e.byte(t);return[r>>6,r%64]},gI=(e,t,r)=>{const n=[];let u=0;for(;u<e.length;){let s=u;const o={},[a,i]=Q5(e,u);if(s++,o.fromVerseStart=e.nByte(s),s+=e.nByteLength(o.fromVerseStart),o.fromVerseEnd=e.nByte(s),s+=e.nByteLength(o.fromVerseEnd),o.bookCode=t,a===rp){const p=e.nByte(s);o.bookCode=Rp[p],s+=e.nByteLength(p)}const c=e.nByte(s);s+=e.nByteLength(c);const l=[];for(;l.length<c;){const p={};p.ch=e.nByte(s),s+=e.nByteLength(p.ch),p.verseStart=e.nByte(s),s+=e.nByteLength(p.verseStart),l.push(p)}o.mapping=l,n.push(o),u+=i}return n},AI=(e,t,r,n)=>{let u=null,s=0;for(;s<e.length;){let o=s;const[a,i]=Q5(e,s);o++;const c=e.nByte(o);o+=e.nByteLength(c);const l=e.nByte(o);if(o+=e.nByteLength(l),n<c||n>l){s+=i;continue}let p=t;if(a===rp){const d=e.nByte(o);p=Rp[d],o+=e.nByteLength(d)}u=[p,[]];const f=e.nByte(o);for(o+=e.nByteLength(f);u[1].length<f;){const d=e.nByte(o);o+=e.nByteLength(d);const h=e.nByte(o);o+=e.nByteLength(h),u[1].push([d,n-c+h])}break}return u||[t,[[r,n]]]},FI={vrs2json:EI,reverseVersification:vI,preSuccinctVerseMapping:Y5,bookCodes:Rp,succinctifyVerseMapping:Z5,succinctifyVerseMappings:yI,unsuccinctifyVerseMapping:gI,bookCodeIndex:X5,mapVerse:AI},Ae={ByteArray:Oi,canons:$k,enums:kk,generateId:Rk,graftDefs:Mk,inspect:lI,itemDefs:Ii,parserConstants:pI,scopeDefs:ki,succinct:Xu,tags:hI,tokenDefs:tp,versification:FI},Nv=(e,t)=>{if(typeof t!="object")throw new Error(`DocSet constructor expects selectors to be object, found ${typeof e.selectors}`);const r={};for(const n of e.processor.selectors)r[n.name]=n;for(const[n,u]of Object.entries(t)){if(!(n in r))throw new Error(`Unexpected selector '${n}' (expected one of [${Object.keys(r).join(", ")}])`);if(typeof u=="string"&&r[n].type!=="string"||typeof u=="number"&&r[n].type!=="integer")throw new Error(`Selector '${n}' is of type ${typeof u} (expected ${r[n].type})`);if(typeof u=="number"){if(!Number.isInteger(u))throw new Error(`Value '${u}' of integer selector '${n}' is not an integer`);if("min"in r[n]&&u<r[n].min)throw new Error(`Value '${u}' is less than ${r[n].min}`);if("max"in r[n]&&u>r[n].max)throw new Error(`Value '${u}' is greater than ${r[n].max}`)}else if("regex"in r[n]&&!ne.exec(u,ne(r[n].regex),0))throw new Error(`Value '${u}' does not match regex '${r[n].regex}'`);if("enum"in r[n]&&!r[n].enum.includes(u))throw new Error(`Value '${u}' of selector '${n}' is not in enum`)}for(const n of Object.keys(r))if(!(n in t))throw new Error(`Expected selector '${n}' not found`);return t},CI=(e,t,r)=>{const n=(o,a,i)=>[...e.unsuccinctifyScopes(o.os).map(l=>l[2]),...e.unsuccinctifyScopes(o.is).map(l=>l[2])].filter(l=>l.startsWith("chapter/")).map(l=>parseInt(l.split("/")[1])).filter(l=>l>a&&l<i).length>0,u=(o,a,i)=>[...e.unsuccinctifyScopes(o.os).map(l=>l[2]),...e.unsuccinctifyScopes(o.is).map(l=>l[2])].includes(`chapter/${a}`)&&e.blockHasMatchingItem(o,(l,p)=>p.has(`chapter/${a}`)?Array.from(p).filter(f=>f.startsWith("verse/")).filter(f=>parseInt(f.split("/")[1])>=i).length>0||i===0&&l[0]==="token"&&l[2]&&Array.from(p).filter(f=>f.startsWith("verse")).length===0:!1,{}),s=(o,a,i)=>[...e.unsuccinctifyScopes(o.os).map(l=>l[2]),...e.unsuccinctifyScopes(o.is).map(l=>l[2])].includes(`chapter/${a}`)&&e.blockHasMatchingItem(o,(l,p)=>p.has(`chapter/${a}`)?Array.from(p).filter(f=>f.startsWith("verse/")).filter(f=>parseInt(f.split("/")[1])<=i).length>0||i===0&&l[0]==="token"&&l[2]&&Array.from(p).filter(f=>f.startsWith("verse")).length===0:!1,{});if(ne.exec(r,ne("^[1-9][0-9]*$"))){const o=[`chapter/${r}`];return t.filter(a=>e.allScopesInBlock(a,o))}else if(ne.exec(r,ne("^[1-9][0-9]*-[1-9][0-9]*$"))){const[o,a]=r.split("-").map(c=>parseInt(c));if(o>a)throw new Error(`Chapter range must be from min to max, not '${r}'`);const i=[...Array(a-o+1).keys()].map(c=>`chapter/${c+o}`);return t.filter(c=>e.anyScopeInBlock(c,i))}else if(ne.exec(r,ne("^[1-9][0-9]*:[0-9]+$"))){const[o,a]=r.split(":").map(i=>parseInt(i));if(a===0){const i=[`chapter/${o}`];return t.filter(c=>e.allScopesInBlock(c,i)).filter(c=>[...e.allBlockScopes(c)].filter(l=>l.startsWith("verse")).length===0)}else{const i=[`chapter/${o}`,`verse/${a}`];return t.filter(c=>e.allScopesInBlock(c,i))}}else if(ne.exec(r,ne("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*$"))){const[o,a]=r.split(":"),[i,c]=a.split("-").map(f=>parseInt(f));if(i>c)throw new Error(`Verse range must be from min to max, not '${a}'`);const l=[`chapter/${o}`],p=[...Array(c-i+1).keys()].map(f=>`verse/${f+i}`);return t.filter(f=>e.allScopesInBlock(f,l)).filter(f=>e.anyScopeInBlock(f,p)||i===0&&[...e.allBlockScopes(f)].filter(d=>d.startsWith("verse")).length===0)}else if(ne.exec(r,ne("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*:[0-9]+$"))){const[o,a]=r.split("-"),[i,c]=o.split(":").map(h=>parseInt(h)),[l,p]=a.split(":").map(h=>parseInt(h));if(i>l)throw new Error(`Chapter range must be from min to max, not '${i}-${p}'`);const f=[...Array(l-i+1).keys()].map(h=>`chapter/${h+i}`);return t.filter(h=>e.anyScopeInBlock(h,f)).filter(h=>n(h,i,l)||u(h,i,c)||s(h,l,p))}else throw new Error(`Bad cv reference '${r}'`)},bI=(e,t)=>{const[r,n,u]=Ae.succinct.headerBytes(t.bs,0),s=e.unsuccinctifyScope(t.bs,n,u,0);return new Set([...e.unsuccinctifyScopes(t.os).map(o=>o[2]),...e.unsuccinctifyScopes(t.is).map(o=>o[2]),s[2]])},SI=(e,t,r)=>{const n=e.allBlockScopes(t);for(const u of r)if(!n.has(u))return!1;return!0},wI=(e,t,r)=>{const n=e.allBlockScopes(t);for(const u of r)if(n.has(u))return!0;return!1},_I=(e,t,r)=>{const[n,u,s]=Ae.succinct.headerBytes(t.bs,0);return e.unsuccinctifyScope(t.bs,u,s,0)[2]===r},BI=(e,t,r)=>{let n=!1,u=0;const s=t.c;if(r.includes(-1))return!1;for(;!n&&u<s.length;){const[o,a]=Ae.succinct.headerBytes(s,u);a===Ae.itemDefs.itemEnum.token&&r.includes(s.nByte(u+2))&&(n=!0),u+=o}return n},TI=(e,t,r,n)=>{const u=new Set(e.unsuccinctifyScopes(t.os).map(s=>s[2]));for(const s of e.unsuccinctifyItems(t.c,n,0)){if(s[0]==="scope"&&s[1]==="start"&&u.add(s[2]),r(s,u))return!0;s[0]==="scope"&&s[1]==="end"&&u.delete(s[2])}return!1},$I=(e,t,r)=>{e.maybeBuildEnumIndexes();const n=t.bs,[u,s,o]=Ae.succinct.headerBytes(n,0),a=e.unsuccinctifyScope(n,s,o,0),i=e.unsuccinctifyGrafts(t.bg),c=e.unsuccinctifyScopes(t.os),l=e.unsuccinctifyScopes(t.is),p=t.nt.nByte(0),f=e.unsuccinctifyItems(t.c,r||{},p);return{bs:a,bg:i,c:f,os:c,is:l,nt:p}},PI=(e,t,r,n,u)=>{if(n===void 0)throw new Error("nextToken (previously includeContext) must now be provided to unsuccinctifyItems");if(n!==null&&typeof n!="number")throw new Error(`nextToken (previously includeContext) must be null or an integer, not ${typeof n} '${JSON.stringify(n)}' in unsuccinctifyItems`);const s=[];let o=0,a=n||0;const i=new Set(u||[]),c=[Ae.itemDefs.itemEnum.startScope,Ae.itemDefs.itemEnum.endScope];for(;o<t.length;){const[l,p,f]=Ae.succinct.headerBytes(t,o);if(Object.keys(r).length>0){if(!r.scopes&&c.includes(p)){o+=l;continue}if(!r.tokens&&p===Ae.itemDefs.itemEnum.token){o+=l;continue}if(!r.grafts&&p===Ae.itemDefs.itemEnum.graft){o+=l;continue}}if(c.includes(p)){const h=Ae.succinct.succinctScopeType(f);if(Object.keys(r).length>0&&r.scopes&&r.excludeScopeTypes&&r.excludeScopeTypes.includes(h)){o+=l;continue}}const d=e.unsuccinctifyItem(t,o,{})[0];d[0]==="token"?(Object.keys(r).length===0||r.tokens)&&(n!==null&&(d.push(d[0]==="token"&&d[1]==="wordLike"?a++:null),d.push([...i])),s.push(d)):d[0]==="scope"&&d[1]==="start"?(Object.keys(r).length===0||r.scopes)&&(i.add(d[2]),s.push(d)):d[0]==="scope"&&d[1]==="end"?(Object.keys(r).length===0||r.scopes)&&(i.delete(d[2]),s.push(d)):d[0]==="graft"&&(Object.keys(r).length===0||r.grafts)&&s.push(d),o+=l}return s},OI=(e,t,r,n)=>{let u=null;const[s,o,a]=Ae.succinct.headerBytes(t,r);switch(o){case Ae.itemDefs.itemEnum.token:(Object.keys(n).length===0||n.tokens)&&(u=e.unsuccinctifyToken(t,a,r));break;case Ae.itemDefs.itemEnum.startScope:case Ae.itemDefs.itemEnum.endScope:(Object.keys(n).length===0||n.scopes)&&(u=e.unsuccinctifyScope(t,o,a,r));break;case Ae.itemDefs.itemEnum.graft:(Object.keys(n).length===0||n.grafts)&&(u=e.unsuccinctifyGraft(t,a,r));break}return[u,s]},kI=(e,t,r)=>{const n=new Set(e.unsuccinctifyScopes(t.os).map(p=>p[2])),u=r.requiredScopes||[],i=r.anyScope||!1?()=>{for(const p of u)if(n.has(p))return!0;return u.length===0}:()=>{for(const p of u)if(!n.has(p))return!1;return!0},c=p=>!r.withChars||r.withChars.length===0||p[0]==="token"&&r.withChars.includes(p[2]),l=[];for(const p of e.unsuccinctifyItems(t.c,r,t.nt.nByte(0),n))p[0]==="scope"&&p[1]==="start"&&n.add(p[2]),i()&&c(p)&&l.push(p),p[0]==="scope"&&p[1]==="end"&&n.delete(p[2]);return l},II=(e,t,r,n)=>{n=n||{};const u=new Set(e.unsuccinctifyScopes(t.os).map(c=>c[2])),o=(()=>{if(ne.exec(r,ne("^[1-9][0-9]*$")))return()=>u.has(`chapter/${r}`);if(ne.exec(r,ne("^[1-9][0-9]*-[1-9][0-9]*$")))return()=>{const[c,l]=r.split("-").map(p=>parseInt(p));if(c>l)throw new Error(`Chapter range must be from min to max, not '${r}'`);for(const p of[...Array(l-c+1).keys()].map(f=>`chapter/${f+c}`))if(u.has(p))return!0;return!1};if(ne.exec(r,ne("^[1-9][0-9]*:[0-9]+$")))return()=>{const[c,l]=r.split(":").map(p=>parseInt(p));if(l===0)return u.has(`chapter/${c}`)&&[...u].filter(p=>p.startsWith("verse")).length===0;for(const p of[`chapter/${c}`,`verse/${l}`])if(!u.has(p))return!1;return!0};if(ne.exec(r,ne("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*$")))return()=>{const[c,l]=r.split(":"),[p,f]=l.split("-").map(E=>parseInt(E));if(p>f)throw new Error(`Verse range must be from min to max, not '${l}'`);const d=`chapter/${c}`,h=[...Array(f-p+1).keys()].map(E=>`verse/${E+p}`);if(!u.has(d))return!1;for(const E of h)if(u.has(E))return!0;return p===0&&[...u].filter(E=>E.startsWith("verse")).length===0};if(ne.exec(r,ne("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*:[0-9]+$")))return()=>{const[c,l]=r.split("-"),[p,f]=c.split(":").map(y=>parseInt(y)),[d,h]=l.split(":").map(y=>parseInt(y));if(p>d)throw new Error(`Chapter range must be from min to max, not '${p}-${h}'`);const E=[...u],A=E.filter(y=>y.startsWith("chapter/"));if(A.length>1)throw new Error(`Expected zero or one chapter for item, found ${A.length}`);const m=parseInt(A[0].split("/")[1]);return m<p||m>d?!1:m===p?E.filter(y=>y.startsWith("verse/")&&parseInt(y.split("/")[1])>=f).length>0||f===0&&E.filter(y=>y.startsWith("verse")).length===0:m===d?E.filter(y=>y.startsWith("verse/")&&parseInt(y.split("/")[1])<=h).length>0||h===0&&E.filter(y=>y.startsWith("verse")).length===0:!0};throw new Error(`Bad cv reference '${r}'`)})(),a=c=>{if(!n||Object.keys(n).length===0)return!0;{const l=c[0];return l==="token"&&"tokens"in n||l==="graft"&&"grafts"in n||l==="scope"&&"scopes"in n}},i=[];for(const c of e.unsuccinctifyItems(t.c,{},t.nt.nByte(0)))c[0]==="scope"&&c[1]==="start"&&u.add(c[2]),o()&&a(c)&&i.push(c),c[0]==="scope"&&c[1]==="end"&&u.delete(c[2]);return i},NI=(e,t)=>{const r=new Map;let n=0,u=0;for(;n<t.length;)r.set(t.countedString(n),{enum:u++,frequency:0}),n+=t.byte(n)+1;return r},qI=(e,t,r)=>{if(!(t in e.preEnums))throw new Error(`Unknown category ${t} in recordPreEnum. Maybe call buildPreEnums()?`);r.length>255&&console.log("Value length of",r.length,"in recordPreEnum"),e.preEnums[t].has(r)?e.preEnums[t].get(r).frequency++:e.preEnums[t].set(r,{enum:e.preEnums[t].size,frequency:1})},xI=(e,t,r)=>{const n=new Map([...r.entries()]);for(const u of n.keys())u.length>255&&console.log("enum text for",t,"has length",u.length,"in buildEnum - truncating"),e.enums[t].pushCountedString(u.substring(0,255));e.enums[t].trim()},RI=(e,t,r,n)=>{if(n||(n=!1),!(t in e.preEnums))throw new Error(`Unknown category ${t} in preEnums. Maybe call buildPreEnums()?`);if(e.preEnums[t].has(r))return e.preEnums[t].get(r).enum;if(n)return e.preEnums[t].set(r,{enum:e.preEnums[t].size,frequency:1}),e.enums[t].pushCountedString(r),e.buildEnumIndex(t),e.preEnums[t].get(r).enum;throw new Error(`Unknown value '${r}' for category ${t} in enumForCategoryValue. Maybe call buildPreEnums()?`)},jI=(e,t)=>{let r=0,n=0;for(;n<t.length;){r++;const s=t.byte(n)&63;n+=s}return r},MI=(e,t,r,n)=>{let u=[];if(!r)return u;let s=r.startBlock,o=r.nextToken;for(;s<=r.endBlock;){let a=e.unsuccinctifyItems(t.blocks[s].c,{},o);const i=e.unsuccinctifyScopes(t.blocks[s].bs)[0],c=e.unsuccinctifyGrafts(t.blocks[s].bg);if(s===r.startBlock&&s===r.endBlock?a=a.slice(r.startItem,r.endItem+1):s===r.startBlock?a=a.slice(r.startItem):s===r.endBlock&&(a=a.slice(0,r.endItem+1)),n){let l=[];for(const p of a)l.push(p.concat([p[0]==="token"&&p[1]==="wordLike"?o++:null]));a=l}u.push([...c,["scope","start",i[2]],...a,["scope","end",i[2]]]),s++}return u},LI=(e,t,r)=>{let n=[];const u=()=>{for(const c of r)if(!s(c))return!1;return!0},s=c=>{for(const l of n)if(l.startsWith(c))return l;return null};e.maybeBuildEnumIndexes();const o=[];let a=new Set([]),i=!0;for(const[c,l]of t.entries()){const[p,f,d]=Ae.succinct.headerBytes(l.bs,0),h=e.unsuccinctifyScope(l.bs,f,d,0)[2],E=["scope","start",h],A=["scope","end",h],m=e.unsuccinctifyGrafts(l.bg);n=new Set(e.unsuccinctifyScopes(l.os).map(y=>y[2]).concat([h]));for(const y of m.concat([E,...e.unsuccinctifyItems(l.c,{},l.nt.nByte(0),n),A]).concat(c!==t.length-1?[["token","lineSpace"," "]]:[])){if(y[0]==="scope"&&y[1]==="start"&&a.add(y[2]),y[0]==="token"&&a.size>0){for(const F of Array.from(a))n.add(F);a.clear()}u()?(i&&o.push([[...n],[]]),o[o.length-1][1].push(y),i=!1):i=!0,y[0]==="scope"&&y[1]==="end"&&(n.delete(y[2]),a.delete(y[2]))}}return o},UI=(e,t,r)=>{let n=new Set([]);const u=o=>o[0]==="scope"&&o[1]==="start"&&r.includes(o[2]);e.maybeBuildEnumIndexes();const s=[[[],[]]];for(const o of t){const[a,i,c]=Ae.succinct.headerBytes(o.bs,0),l=e.unsuccinctifyScope(o.bs,i,c,0)[2],p=e.unsuccinctifyGrafts(o.bg);n.add(l),e.unsuccinctifyScopes(o.os).forEach(d=>n.add(d[2]));const f=p.concat([l].concat(e.unsuccinctifyItems(o.c,{},o.nt.nByte(0))));for(const d of f){if(d[0]==="scope"&&d[1]==="start"&&n.add(d[2]),u(d)){s[s.length-1][0]=[...n].sort(),s.push([[],[]]);for(const h of[...n].filter(E=>["blockTag","verse","verses","chapter"].includes(E.split("/")[0])||r.includes(E)))n.delete(h);n.add(l)}s[s.length-1][1].push(d)}s[s.length-1][1].push(["scope","end",l]),s[s.length-1][1].push(["token","punctuation",`
`])}return s[s.length-1][0]=[...n].sort(),s},GI=e=>{e.preEnums={};for(const r of Object.keys(e.enums))e.preEnums[r]=new Map;e.maybeBuildEnumIndexes();for(const r of e.documents())for(const n of Object.values(r.sequences))r.rerecordPreEnums(e,n);e.sortPreEnums();const t=e.makeRehashEnumMap();for(const r of e.documents())for(const n of Object.values(r.sequences))r.rewriteSequenceBlocks(n.id,t);return e.buildEnums(),e.buildEnumIndexes(),!0},VI=e=>{const t={};for(const[r,n]of Object.entries(e.enums)){t[r]=[];let u=0;for(;u<n.length;){const s=n.byte(u),o=n.countedString(u);e.preEnums[r].has(o)?t[r].push(e.preEnums[r].get(o).enum):t[r].push(null),u+=s+1}}return t},Ni=Ae.ByteArray,{pushSuccinctGraftBytes:HI,pushSuccinctScopeBytes:am,pushSuccinctTokenBytes:WI}=Ae.succinct,{itemEnum:im}=Ae.itemDefs,{scopeEnum:cm}=Ae.scopeDefs,{tokenCategory:JI,tokenEnum:zI}=Ae.tokenDefs,Xi=(e,t,r,n,u,s)=>{const o=e.processor.documents[t];if(!o)throw new Error(`Document '${t}' not found`);let a;if(r){if(a=o.sequences[r],!a)throw new Error(`Sequence '${r}' not found`)}else a=o.sequences[o.mainId];if(a.blocks.length<=n)throw new Error(`Could not find block ${n} (length=${a.blocks.length})`);const i=a.blocks[n],c=new Ni(s.length);e.maybeBuildPreEnums();let l=0;n<0&&(l=a.blocks[n-1].nt.nByte(0));let p,f,d,h,E,A=null;for(const m of s)switch(m.type){case"token":p=e.enumForCategoryValue(JI[m.subType],m.payload,!0),WI(c,zI[m.subType],p),l++;break;case"graft":f=e.enumForCategoryValue("graftTypes",m.subType,!0),d=e.enumForCategoryValue("ids",m.payload,!0),HI(c,f,d);break;case"scope":if(h=m.payload.split("/"),E=cm[h[0]],!E&&E!==0)throw new Error(`"${h[0]}" is not a scope type`);A=h.slice(1).map(y=>e.enumForCategoryValue("scopeBits",y,!0)),am(c,im[`${m.subType}Scope`],E,A);break}return c.trim(),i[u]=c,u==="c"&&(i.nt.clear(),i.nt.pushNByte(l)),!0},KI=(e,t,r,n,u)=>Xi(e,t,r,n,"c",u),e6=(e,t,r,n,u)=>Xi(e,t,r,n,"bg",u),XI=(e,t,r,n,u)=>Xi(e,t,r,n,"bs",[u]),YI=(e,t,r,n,u)=>Xi(e,t,r,n,"os",u),ZI=(e,t,r,n,u)=>Xi(e,t,r,n,"is",u),QI=(e,t,r)=>{const n=(l,p)=>{for(const f of Array.from(l))if(!p.has(f))return!1;for(const f of Array.from(p))if(!l.has(f))return!1;return!0},u=(l,p,f)=>{const d=f.split("/"),h=cm[d[0]];if(!h&&h!==0)throw new Error(`"${d[0]}" is not a scope type`);const E=d.slice(1).map(A=>l.enumForCategoryValue("scopeBits",A,!0));am(p,im.startScope,h,E)},s=t.blocks[r],o=new Set,a=new Set;for(const l of e.unsuccinctifyScopes(s.os))a.add(l[2]);for(const l of e.unsuccinctifyItems(s.c,{scopes:!0},null))l[1]==="start"?(o.add(l[2]),a.add(l[2])):a.delete(l[2]);const i=Array.from(o),c=new Ni(i.length);for(const l of i)u(e,c,l);if(c.trim(),s.is=c,r<t.blocks.length-1){const l=t.blocks[r+1],p=l.os,f=new Set(e.unsuccinctifyScopes(p).map(d=>d[2]));if(!n(a,f)){const d=new Ni(f.length);for(const h of Array.from(a))u(e,d,h);d.trim(),l.os=d,e.updateBlockIndexesAfterEdit(t,r+1)}}},eN=(e,t)=>{const r=(u,s,o)=>{const a=o.split("/"),i=cm[a[0]];if(!i&&i!==0)throw new Error(`"${a[0]}" is not a scope type`);const c=a.slice(1).map(l=>u.enumForCategoryValue("scopeBits",l,!0));am(s,im.startScope,i,c)},n=new Set;for(const u of t.blocks){const s=Array.from(n),o=new Ni(s.length);for(const l of s)r(e,o,l);o.trim(),u.os=o;const a=new Set;for(const l of e.unsuccinctifyItems(u.c,{scopes:!0},null))l[1]==="start"?(a.add(l[2]),n.add(l[2])):n.delete(l[2]);const i=Array.from(a),c=new Ni(i.length);for(const l of i)r(e,c,l);c.trim(),u.is=c}},tN=e=>{const t={id:e.id,metadata:{selectors:e.selectors},enums:{},docs:{},tags:Array.from(e.tags)};for(const[r,n]of Object.entries(e.enums))n.trim(),t.enums[r]=n.base64();t.docs={};for(const r of e.docIds)t.docs[r]=e.processor.documents[r].serializeSuccinct();return t},Fo=Ae.ByteArray,{addTag:rN,removeTag:nN,validateTags:qv}=Ae.tags,{succinctGraftName:uN,succinctGraftSeqId:sN,succinctScopeLabel:oN,succinctTokenChars:aN,headerBytes:Yf,enumIndex:iN,enumIndexes:cN}=Ae.succinct,{itemEnum:lN}=Ae.itemDefs,{tokenEnumLabels:pN}=Ae.tokenDefs;class xv{constructor(t,r,n,u){this.processor=t,this.preEnums={},this.enumIndexes={},this.docIds=[],u?this.fromSuccinct(t,u):this.fromScratch(t,r,n),qv(this.tags)}fromScratch(t,r,n){const u=r||t.selectors;this.selectors=Nv(this,u),this.id=this.selectorString(),this.tags=new Set(n||[]),this.enums={ids:new Fo(512),wordLike:new Fo(8192),notWordLike:new Fo(256),scopeBits:new Fo(256),graftTypes:new Fo(10)}}fromSuccinct(t,r){const n=u=>{const s=new Fo(256);return s.fromBase64(u),s.trim(),s};this.id=r.id,this.selectors=Nv(this,r.metadata.selectors),this.tags=new Set(r.tags),qv(this.tags),this.preEnums={},this.enums={ids:n(r.enums.ids),wordLike:n(r.enums.wordLike),notWordLike:n(r.enums.notWordLike),scopeBits:n(r.enums.scopeBits),graftTypes:n(r.enums.graftTypes)},this.enumIndexes={},this.docIds=[]}addTag(t){rN(this.tags,t)}removeTag(t){nN(this.tags,t)}selectorString(){return this.processor.selectorString(this.selectors)}documents(){return this.docIds.map(t=>this.processor.documents[t])}documentWithBook(t){const r=Object.values(this.documents()).filter(n=>"bookCode"in n.headers&&n.headers.bookCode===t);return r.length===1?r[0]:null}maybeBuildPreEnums(){Object.keys(this.preEnums).length===0&&this.buildPreEnums()}buildPreEnums(){for(const[t,r]of Object.entries(this.enums))this.preEnums[t]=NI(this,r)}recordPreEnum(t,r){qI(this,t,r)}sortPreEnums(){for(const t of Object.keys(this.preEnums)){this.preEnums[t]=new Map([...this.preEnums[t].entries()].sort((n,u)=>u[1].frequency-n[1].frequency));let r=0;for(const[n,u]of this.preEnums[t])u.enum=r++}}enumForCategoryValue(t,r,n){return RI(this,t,r,n)}buildEnums(){for(const[t,r]of Object.entries(this.preEnums))this.enums[t].clear(),this.buildEnum(t,r)}buildEnum(t,r){xI(this,t,r)}maybeBuildEnumIndexes(){Object.keys(this.enumIndexes).length===0&&this.buildEnumIndexes()}buildEnumIndexes(){this.enumIndexes=cN(this.enums)}buildEnumIndex(t){this.enumIndexes[t]=iN(t,this.enums[t])}unsuccinctifyBlock(t,r){return $I(this,t,r)}unsuccinctifyItems(t,r,n,u){return PI(this,t,r,n,u)}unsuccinctifyItem(t,r,n){return OI(this,t,r,n)}unsuccinctifyPrunedItems(t,r){return kI(this,t,r)}unsuccinctifyScopes(t){const r=[];let n=0;for(;n<t.length;){const[u,s,o]=Yf(t,n);r.push(this.unsuccinctifyScope(t,s,o,n)),n+=u}return r}unsuccinctifyGrafts(t){const r=[];let n=0;for(;n<t.length;){const[u,s,o]=Yf(t,n);r.push(this.unsuccinctifyGraft(t,o,n)),n+=u}return r}unsuccinctifyToken(t,r,n){try{return["token",pN[r],this.succinctTokenChars(t,r,n)]}catch(u){throw new Error(`Error from unsuccinctifyToken: ${u}`)}}unsuccinctifyScope(t,r,n,u){try{return["scope",r===lN.startScope?"start":"end",this.succinctScopeLabel(t,n,u)]}catch(s){throw new Error(`Error from unsuccinctifyScope: ${s}`)}}unsuccinctifyGraft(t,r,n){try{return["graft",this.succinctGraftName(r),this.succinctGraftSeqId(t,n)]}catch(u){throw new Error(`Error from unsuccinctifyGraft: ${u}`)}}unsuccinctifyBlockScopeLabelsSet(t){const[r,n,u]=Yf(t.bs,0),s=this.unsuccinctifyScope(t.bs,n,u,0);return new Set(this.unsuccinctifyScopes(t.os).concat(this.unsuccinctifyScopes(t.is)).concat([s]).map(o=>o[2]))}unsuccinctifyItemsWithScriptureCV(t,r,n){return II(this,t,r,n)}succinctTokenChars(t,r,n){return aN(this.enums,this.enumIndexes,t,r,n)}succinctScopeLabel(t,r,n){return oN(this.enums,this.enumIndexes,t,r,n)}succinctGraftName(t){return uN(this.enums,this.enumIndexes,t)}succinctGraftSeqId(t,r){return sN(this.enums,this.enumIndexes,t,r)}countItems(t){return jI(this,t)}itemsByIndex(t,r,n){return MI(this,t,r,n)}blocksWithScriptureCV(t,r){return CI(this,t,r)}allBlockScopes(t){return bI(this,t)}allScopesInBlock(t,r){return SI(this,t,r)}anyScopeInBlock(t,r){return wI(this,t,r)}blockHasBlockScope(t,r){return _I(this,t,r)}blockHasChars(t,r){return BI(this,t,r)}blockHasMatchingItem(t,r,n){return TI(this,t,r,n)}sequenceItemsByScopes(t,r){return LI(this,t,r)}sequenceItemsByMilestones(t,r){return UI(this,t,r)}rehash(){return GI(this)}makeRehashEnumMap(){return VI(this)}updateItems(t,r,n,u){return KI(this,t,r,n,u)}updateBlockGrafts(t,r,n,u){return e6(this,t,r,n,u)}updateBlockScope(t,r,n,u){return XI(this,t,r,n,u)}updateOpenScopes(t,r,n,u){return YI(this,t,r,n,u)}updateIncludedScopes(t,r,n,u){return ZI(this,t,r,n,u)}updateBlockIndexesAfterEdit(t,r){QI(this,t,r)}updateBlockIndexesAfterFilter(t){eN(this,t)}serializeSuccinct(){return tN(this)}checksum(){const t=[...this.docIds].sort().join(" ");return j5.calculate(t)}}var np={},fN={get exports(){return np},set exports(e){np=e}},t6={},Rn={},da={},Yi={},lt={},qi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((F,B)=>`${F}${B}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((F,B)=>(B instanceof r&&(F[B.str]=(F[B.str]||0)+1),F),{})}}e._Code=n,e.nil=new n("");function u(m,...y){const F=[m[0]];let B=0;for(;B<y.length;)a(F,y[B]),F.push(m[++B]);return new n(F)}e._=u;const s=new n("+");function o(m,...y){const F=[d(m[0])];let B=0;for(;B<y.length;)F.push(s),a(F,y[B]),F.push(s,d(m[++B]));return i(F),new n(F)}e.str=o;function a(m,y){y instanceof n?m.push(...y._items):y instanceof r?m.push(y):m.push(p(y))}e.addCodeArg=a;function i(m){let y=1;for(;y<m.length-1;){if(m[y]===s){const F=c(m[y-1],m[y+1]);if(F!==void 0){m.splice(y-1,3,F);continue}m[y++]="+"}y++}}function c(m,y){if(y==='""')return m;if(m==='""')return y;if(typeof m=="string")return y instanceof r||m[m.length-1]!=='"'?void 0:typeof y!="string"?`${m.slice(0,-1)}${y}"`:y[0]==='"'?m.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(m instanceof r))return`"${m}${y.slice(1)}`}function l(m,y){return y.emptyStr()?m:m.emptyStr()?y:o`${m}${y}`}e.strConcat=l;function p(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:d(Array.isArray(m)?m.join(","):m)}function f(m){return new n(d(m))}e.stringify=f;function d(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=d;function h(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):u`[${m}]`}e.getProperty=h;function E(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=E;function A(m){return new n(m.toString())}e.regexpCode=A})(qi);var N2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=qi;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(i){i[i.Started=0]="Started",i[i.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class u{constructor({prefixes:c,parent:l}={}){this._names={},this._prefixes=c,this._parent=l}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const l=this._names[c]||this._nameGroup(c);return`${c}${l.index++}`}_nameGroup(c){var l,p;if(!((p=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||p===void 0)&&p.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=u;class s extends t.Name{constructor(c,l){super(l),this.prefix=c}setValue(c,{property:l,itemIndex:p}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(l)}[${p}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends u{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,l){var p;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(c),{prefix:d}=f,h=(p=l.key)!==null&&p!==void 0?p:l.ref;let E=this._values[d];if(E){const y=E.get(h);if(y)return y}else E=this._values[d]=new Map;E.set(h,f);const A=this._scope[d]||(this._scope[d]=[]),m=A.length;return A[m]=l.ref,f.setValue(l,{property:d,itemIndex:m}),f}getValue(c,l){const p=this._values[c];if(p)return p.get(l)}scopeRefs(c,l=this._values){return this._reduceValues(l,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${c}${p.scopePath}`})}scopeCode(c=this._values,l,p){return this._reduceValues(c,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},l,p)}_reduceValues(c,l,p={},f){let d=t.nil;for(const h in c){const E=c[h];if(!E)continue;const A=p[h]=p[h]||new Map;E.forEach(m=>{if(A.has(m))return;A.set(m,n.Started);let y=l(m);if(y){const F=this.opts.es5?e.varKinds.var:e.varKinds.const;d=(0,t._)`${d}${F} ${m} = ${y};${this.opts._n}`}else if(y=f==null?void 0:f(m))d=(0,t._)`${d}${y}${this.opts._n}`;else throw new r(m);A.set(m,n.Completed)})}return d}}e.ValueScope=a})(N2);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=qi,r=N2;var n=qi;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var u=N2;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return u.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return u.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return u.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return u.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(D,g){return this}}class o extends s{constructor(D,g,O){super(),this.varKind=D,this.name=g,this.rhs=O}render({es5:D,_n:g}){const O=D?r.varKinds.var:this.varKind,b=this.rhs===void 0?"":` = ${this.rhs}`;return`${O} ${this.name}${b};`+g}optimizeNames(D,g){if(D[this.name.str])return this.rhs&&(this.rhs=ie(this.rhs,D,g)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(D,g,O){super(),this.lhs=D,this.rhs=g,this.sideEffects=O}render({_n:D}){return`${this.lhs} = ${this.rhs};`+D}optimizeNames(D,g){if(!(this.lhs instanceof t.Name&&!D[this.lhs.str]&&!this.sideEffects))return this.rhs=ie(this.rhs,D,g),this}get names(){const D=this.lhs instanceof t.Name?{}:{...this.lhs.names};return oe(D,this.rhs)}}class i extends a{constructor(D,g,O,b){super(D,O,b),this.op=g}render({_n:D}){return`${this.lhs} ${this.op}= ${this.rhs};`+D}}class c extends s{constructor(D){super(),this.label=D,this.names={}}render({_n:D}){return`${this.label}:`+D}}class l extends s{constructor(D){super(),this.label=D,this.names={}}render({_n:D}){return`break${this.label?` ${this.label}`:""};`+D}}class p extends s{constructor(D){super(),this.error=D}render({_n:D}){return`throw ${this.error};`+D}get names(){return this.error.names}}class f extends s{constructor(D){super(),this.code=D}render({_n:D}){return`${this.code};`+D}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(D,g){return this.code=ie(this.code,D,g),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class d extends s{constructor(D=[]){super(),this.nodes=D}render(D){return this.nodes.reduce((g,O)=>g+O.render(D),"")}optimizeNodes(){const{nodes:D}=this;let g=D.length;for(;g--;){const O=D[g].optimizeNodes();Array.isArray(O)?D.splice(g,1,...O):O?D[g]=O:D.splice(g,1)}return D.length>0?this:void 0}optimizeNames(D,g){const{nodes:O}=this;let b=O.length;for(;b--;){const w=O[b];w.optimizeNames(D,g)||(fe(D,w.names),O.splice(b,1))}return O.length>0?this:void 0}get names(){return this.nodes.reduce((D,g)=>Y(D,g.names),{})}}class h extends d{render(D){return"{"+D._n+super.render(D)+"}"+D._n}}class E extends d{}class A extends h{}A.kind="else";class m extends h{constructor(D,g){super(g),this.condition=D}render(D){let g=`if(${this.condition})`+super.render(D);return this.else&&(g+="else "+this.else.render(D)),g}optimizeNodes(){super.optimizeNodes();const D=this.condition;if(D===!0)return this.nodes;let g=this.else;if(g){const O=g.optimizeNodes();g=this.else=Array.isArray(O)?new A(O):O}if(g)return D===!1?g instanceof m?g:g.nodes:this.nodes.length?this:new m(De(D),g instanceof m?[g]:g.nodes);if(!(D===!1||!this.nodes.length))return this}optimizeNames(D,g){var O;if(this.else=(O=this.else)===null||O===void 0?void 0:O.optimizeNames(D,g),!!(super.optimizeNames(D,g)||this.else))return this.condition=ie(this.condition,D,g),this}get names(){const D=super.names;return oe(D,this.condition),this.else&&Y(D,this.else.names),D}}m.kind="if";class y extends h{}y.kind="for";class F extends y{constructor(D){super(),this.iteration=D}render(D){return`for(${this.iteration})`+super.render(D)}optimizeNames(D,g){if(super.optimizeNames(D,g))return this.iteration=ie(this.iteration,D,g),this}get names(){return Y(super.names,this.iteration.names)}}class B extends y{constructor(D,g,O,b){super(),this.varKind=D,this.name=g,this.from=O,this.to=b}render(D){const g=D.es5?r.varKinds.var:this.varKind,{name:O,from:b,to:w}=this;return`for(${g} ${O}=${b}; ${O}<${w}; ${O}++)`+super.render(D)}get names(){const D=oe(super.names,this.from);return oe(D,this.to)}}class P extends y{constructor(D,g,O,b){super(),this.loop=D,this.varKind=g,this.name=O,this.iterable=b}render(D){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(D)}optimizeNames(D,g){if(super.optimizeNames(D,g))return this.iterable=ie(this.iterable,D,g),this}get names(){return Y(super.names,this.iterable.names)}}class $ extends h{constructor(D,g,O){super(),this.name=D,this.args=g,this.async=O}render(D){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(D)}}$.kind="func";class I extends d{render(D){return"return "+super.render(D)}}I.kind="return";class U extends h{render(D){let g="try"+super.render(D);return this.catch&&(g+=this.catch.render(D)),this.finally&&(g+=this.finally.render(D)),g}optimizeNodes(){var D,g;return super.optimizeNodes(),(D=this.catch)===null||D===void 0||D.optimizeNodes(),(g=this.finally)===null||g===void 0||g.optimizeNodes(),this}optimizeNames(D,g){var O,b;return super.optimizeNames(D,g),(O=this.catch)===null||O===void 0||O.optimizeNames(D,g),(b=this.finally)===null||b===void 0||b.optimizeNames(D,g),this}get names(){const D=super.names;return this.catch&&Y(D,this.catch.names),this.finally&&Y(D,this.finally.names),D}}class j extends h{constructor(D){super(),this.error=D}render(D){return`catch(${this.error})`+super.render(D)}}j.kind="catch";class W extends h{render(D){return"finally"+super.render(D)}}W.kind="finally";class te{constructor(D,g={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...g,_n:g.lines?`
`:""},this._extScope=D,this._scope=new r.Scope({parent:D}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(D){return this._scope.name(D)}scopeName(D){return this._extScope.name(D)}scopeValue(D,g){const O=this._extScope.value(D,g);return(this._values[O.prefix]||(this._values[O.prefix]=new Set)).add(O),O}getScopeValue(D,g){return this._extScope.getValue(D,g)}scopeRefs(D){return this._extScope.scopeRefs(D,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(D,g,O,b){const w=this._scope.toName(g);return O!==void 0&&b&&(this._constants[w.str]=O),this._leafNode(new o(D,w,O)),w}const(D,g,O){return this._def(r.varKinds.const,D,g,O)}let(D,g,O){return this._def(r.varKinds.let,D,g,O)}var(D,g,O){return this._def(r.varKinds.var,D,g,O)}assign(D,g,O){return this._leafNode(new a(D,g,O))}add(D,g){return this._leafNode(new i(D,e.operators.ADD,g))}code(D){return typeof D=="function"?D():D!==t.nil&&this._leafNode(new f(D)),this}object(...D){const g=["{"];for(const[O,b]of D)g.length>1&&g.push(","),g.push(O),(O!==b||this.opts.es5)&&(g.push(":"),(0,t.addCodeArg)(g,b));return g.push("}"),new t._Code(g)}if(D,g,O){if(this._blockNode(new m(D)),g&&O)this.code(g).else().code(O).endIf();else if(g)this.code(g).endIf();else if(O)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(D){return this._elseNode(new m(D))}else(){return this._elseNode(new A)}endIf(){return this._endBlockNode(m,A)}_for(D,g){return this._blockNode(D),g&&this.code(g).endFor(),this}for(D,g){return this._for(new F(D),g)}forRange(D,g,O,b,w=this.opts.es5?r.varKinds.var:r.varKinds.let){const x=this._scope.toName(D);return this._for(new B(w,x,g,O),()=>b(x))}forOf(D,g,O,b=r.varKinds.const){const w=this._scope.toName(D);if(this.opts.es5){const x=g instanceof t.Name?g:this.var("_arr",g);return this.forRange("_i",0,(0,t._)`${x}.length`,k=>{this.var(w,(0,t._)`${x}[${k}]`),O(w)})}return this._for(new P("of",b,w,g),()=>O(w))}forIn(D,g,O,b=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(D,(0,t._)`Object.keys(${g})`,O);const w=this._scope.toName(D);return this._for(new P("in",b,w,g),()=>O(w))}endFor(){return this._endBlockNode(y)}label(D){return this._leafNode(new c(D))}break(D){return this._leafNode(new l(D))}return(D){const g=new I;if(this._blockNode(g),this.code(D),g.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(D,g,O){if(!g&&!O)throw new Error('CodeGen: "try" without "catch" and "finally"');const b=new U;if(this._blockNode(b),this.code(D),g){const w=this.name("e");this._currNode=b.catch=new j(w),g(w)}return O&&(this._currNode=b.finally=new W,this.code(O)),this._endBlockNode(j,W)}throw(D){return this._leafNode(new p(D))}block(D,g){return this._blockStarts.push(this._nodes.length),D&&this.code(D).endBlock(g),this}endBlock(D){const g=this._blockStarts.pop();if(g===void 0)throw new Error("CodeGen: not in self-balancing block");const O=this._nodes.length-g;if(O<0||D!==void 0&&O!==D)throw new Error(`CodeGen: wrong number of nodes: ${O} vs ${D} expected`);return this._nodes.length=g,this}func(D,g=t.nil,O,b){return this._blockNode(new $(D,g,O)),b&&this.code(b).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(D=1){for(;D-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(D){return this._currNode.nodes.push(D),this}_blockNode(D){this._currNode.nodes.push(D),this._nodes.push(D)}_endBlockNode(D,g){const O=this._currNode;if(O instanceof D||g&&O instanceof g)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${g?`${D.kind}/${g.kind}`:D.kind}"`)}_elseNode(D){const g=this._currNode;if(!(g instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=g.else=D,this}get _root(){return this._nodes[0]}get _currNode(){const D=this._nodes;return D[D.length-1]}set _currNode(D){const g=this._nodes;g[g.length-1]=D}}e.CodeGen=te;function Y(C,D){for(const g in D)C[g]=(C[g]||0)+(D[g]||0);return C}function oe(C,D){return D instanceof t._CodeOrName?Y(C,D.names):C}function ie(C,D,g){if(C instanceof t.Name)return O(C);if(!b(C))return C;return new t._Code(C._items.reduce((w,x)=>(x instanceof t.Name&&(x=O(x)),x instanceof t._Code?w.push(...x._items):w.push(x),w),[]));function O(w){const x=g[w.str];return x===void 0||D[w.str]!==1?w:(delete D[w.str],x)}function b(w){return w instanceof t._Code&&w._items.some(x=>x instanceof t.Name&&D[x.str]===1&&g[x.str]!==void 0)}}function fe(C,D){for(const g in D)C[g]=(C[g]||0)-(D[g]||0)}function De(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${v(C)}`}e.not=De;const de=q(e.operators.AND);function Ce(...C){return C.reduce(de)}e.and=Ce;const pe=q(e.operators.OR);function Q(...C){return C.reduce(pe)}e.or=Q;function q(C){return(D,g)=>D===t.nil?g:g===t.nil?D:(0,t._)`${v(D)} ${C} ${v(g)}`}function v(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(lt);var vt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=lt,r=qi;function n($){const I={};for(const U of $)I[U]=!0;return I}e.toHash=n;function u($,I){return typeof I=="boolean"?I:Object.keys(I).length===0?!0:(s($,I),!o(I,$.self.RULES.all))}e.alwaysValidSchema=u;function s($,I=$.schema){const{opts:U,self:j}=$;if(!U.strictSchema||typeof I=="boolean")return;const W=j.RULES.keywords;for(const te in I)W[te]||P($,`unknown keyword: "${te}"`)}e.checkUnknownRules=s;function o($,I){if(typeof $=="boolean")return!$;for(const U in $)if(I[U])return!0;return!1}e.schemaHasRules=o;function a($,I){if(typeof $=="boolean")return!$;for(const U in $)if(U!=="$ref"&&I.all[U])return!0;return!1}e.schemaHasRulesButRef=a;function i({topSchemaRef:$,schemaPath:I},U,j,W){if(!W){if(typeof U=="number"||typeof U=="boolean")return U;if(typeof U=="string")return(0,t._)`${U}`}return(0,t._)`${$}${I}${(0,t.getProperty)(j)}`}e.schemaRefOrVal=i;function c($){return f(decodeURIComponent($))}e.unescapeFragment=c;function l($){return encodeURIComponent(p($))}e.escapeFragment=l;function p($){return typeof $=="number"?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=p;function f($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=f;function d($,I){if(Array.isArray($))for(const U of $)I(U);else I($)}e.eachItem=d;function h({mergeNames:$,mergeToName:I,mergeValues:U,resultToName:j}){return(W,te,Y,oe)=>{const ie=Y===void 0?te:Y instanceof t.Name?(te instanceof t.Name?$(W,te,Y):I(W,te,Y),Y):te instanceof t.Name?(I(W,Y,te),te):U(te,Y);return oe===t.Name&&!(ie instanceof t.Name)?j(W,ie):ie}}e.mergeEvaluated={props:h({mergeNames:($,I,U)=>$.if((0,t._)`${U} !== true && ${I} !== undefined`,()=>{$.if((0,t._)`${I} === true`,()=>$.assign(U,!0),()=>$.assign(U,(0,t._)`${U} || {}`).code((0,t._)`Object.assign(${U}, ${I})`))}),mergeToName:($,I,U)=>$.if((0,t._)`${U} !== true`,()=>{I===!0?$.assign(U,!0):($.assign(U,(0,t._)`${U} || {}`),A($,U,I))}),mergeValues:($,I)=>$===!0?!0:{...$,...I},resultToName:E}),items:h({mergeNames:($,I,U)=>$.if((0,t._)`${U} !== true && ${I} !== undefined`,()=>$.assign(U,(0,t._)`${I} === true ? true : ${U} > ${I} ? ${U} : ${I}`)),mergeToName:($,I,U)=>$.if((0,t._)`${U} !== true`,()=>$.assign(U,I===!0?!0:(0,t._)`${U} > ${I} ? ${U} : ${I}`)),mergeValues:($,I)=>$===!0?!0:Math.max($,I),resultToName:($,I)=>$.var("items",I)})};function E($,I){if(I===!0)return $.var("props",!0);const U=$.var("props",(0,t._)`{}`);return I!==void 0&&A($,U,I),U}e.evaluatedPropsToName=E;function A($,I,U){Object.keys(U).forEach(j=>$.assign((0,t._)`${I}${(0,t.getProperty)(j)}`,!0))}e.setEvaluated=A;const m={};function y($,I){return $.scopeValue("func",{ref:I,code:m[I.code]||(m[I.code]=new r._Code(I.code))})}e.useFunc=y;var F;(function($){$[$.Num=0]="Num",$[$.Str=1]="Str"})(F=e.Type||(e.Type={}));function B($,I,U){if($ instanceof t.Name){const j=I===F.Num;return U?j?(0,t._)`"[" + ${$} + "]"`:(0,t._)`"['" + ${$} + "']"`:j?(0,t._)`"/" + ${$}`:(0,t._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return U?(0,t.getProperty)($).toString():"/"+p($)}e.getErrorPath=B;function P($,I,U=$.opts.strictSchema){if(U){if(I=`strict mode: ${I}`,U===!0)throw new Error(I);$.self.logger.warn(I)}}e.checkStrictMode=P})(vt);var cu={};Object.defineProperty(cu,"__esModule",{value:!0});const Cr=lt,dN={data:new Cr.Name("data"),valCxt:new Cr.Name("valCxt"),instancePath:new Cr.Name("instancePath"),parentData:new Cr.Name("parentData"),parentDataProperty:new Cr.Name("parentDataProperty"),rootData:new Cr.Name("rootData"),dynamicAnchors:new Cr.Name("dynamicAnchors"),vErrors:new Cr.Name("vErrors"),errors:new Cr.Name("errors"),this:new Cr.Name("this"),self:new Cr.Name("self"),scope:new Cr.Name("scope"),json:new Cr.Name("json"),jsonPos:new Cr.Name("jsonPos"),jsonLen:new Cr.Name("jsonLen"),jsonPart:new Cr.Name("jsonPart")};cu.default=dN;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=lt,r=vt,n=cu;e.keywordError={message:({keyword:A})=>(0,t.str)`must pass "${A}" keyword validation`},e.keyword$DataError={message:({keyword:A,schemaType:m})=>m?(0,t.str)`"${A}" keyword must be ${m} ($data)`:(0,t.str)`"${A}" keyword is invalid ($data)`};function u(A,m=e.keywordError,y,F){const{it:B}=A,{gen:P,compositeRule:$,allErrors:I}=B,U=p(A,m,y);F??($||I)?i(P,U):c(B,(0,t._)`[${U}]`)}e.reportError=u;function s(A,m=e.keywordError,y){const{it:F}=A,{gen:B,compositeRule:P,allErrors:$}=F,I=p(A,m,y);i(B,I),P||$||c(F,n.default.vErrors)}e.reportExtraError=s;function o(A,m){A.assign(n.default.errors,m),A.if((0,t._)`${n.default.vErrors} !== null`,()=>A.if(m,()=>A.assign((0,t._)`${n.default.vErrors}.length`,m),()=>A.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:A,keyword:m,schemaValue:y,data:F,errsCount:B,it:P}){if(B===void 0)throw new Error("ajv implementation error");const $=A.name("err");A.forRange("i",B,n.default.errors,I=>{A.const($,(0,t._)`${n.default.vErrors}[${I}]`),A.if((0,t._)`${$}.instancePath === undefined`,()=>A.assign((0,t._)`${$}.instancePath`,(0,t.strConcat)(n.default.instancePath,P.errorPath))),A.assign((0,t._)`${$}.schemaPath`,(0,t.str)`${P.errSchemaPath}/${m}`),P.opts.verbose&&(A.assign((0,t._)`${$}.schema`,y),A.assign((0,t._)`${$}.data`,F))})}e.extendErrors=a;function i(A,m){const y=A.const("err",m);A.if((0,t._)`${n.default.vErrors} === null`,()=>A.assign(n.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${n.default.vErrors}.push(${y})`),A.code((0,t._)`${n.default.errors}++`)}function c(A,m){const{gen:y,validateName:F,schemaEnv:B}=A;B.$async?y.throw((0,t._)`new ${A.ValidationError}(${m})`):(y.assign((0,t._)`${F}.errors`,m),y.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(A,m,y){const{createErrors:F}=A.it;return F===!1?(0,t._)`{}`:f(A,m,y)}function f(A,m,y={}){const{gen:F,it:B}=A,P=[d(B,y),h(A,y)];return E(A,m,P),F.object(...P)}function d({errorPath:A},{instancePath:m}){const y=m?(0,t.str)`${A}${(0,r.getErrorPath)(m,r.Type.Str)}`:A;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,y)]}function h({keyword:A,it:{errSchemaPath:m}},{schemaPath:y,parentSchema:F}){let B=F?m:(0,t.str)`${m}/${A}`;return y&&(B=(0,t.str)`${B}${(0,r.getErrorPath)(y,r.Type.Str)}`),[l.schemaPath,B]}function E(A,{params:m,message:y},F){const{keyword:B,data:P,schemaValue:$,it:I}=A,{opts:U,propertyName:j,topSchemaRef:W,schemaPath:te}=I;F.push([l.keyword,B],[l.params,typeof m=="function"?m(A):m||(0,t._)`{}`]),U.messages&&F.push([l.message,typeof y=="function"?y(A):y]),U.verbose&&F.push([l.schema,$],[l.parentSchema,(0,t._)`${W}${te}`],[n.default.data,P]),j&&F.push([l.propertyName,j])}})(Yi);Object.defineProperty(da,"__esModule",{value:!0});da.boolOrEmptySchema=da.topBoolOrEmptySchema=void 0;const DN=Yi,hN=lt,mN=cu,EN={message:"boolean schema is false"};function vN(e){const{gen:t,schema:r,validateName:n}=e;r===!1?r6(e,!1):typeof r=="object"&&r.$async===!0?t.return(mN.default.data):(t.assign((0,hN._)`${n}.errors`,null),t.return(!0))}da.topBoolOrEmptySchema=vN;function yN(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),r6(e)):r.var(t,!0)}da.boolOrEmptySchema=yN;function r6(e,t){const{gen:r,data:n}=e,u={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,DN.reportError)(u,EN,void 0,t)}var Zi={},uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.getRules=uo.isJSONType=void 0;const gN=["string","number","integer","boolean","null","object","array"],AN=new Set(gN);function FN(e){return typeof e=="string"&&AN.has(e)}uo.isJSONType=FN;function CN(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}uo.getRules=CN;var bu={};Object.defineProperty(bu,"__esModule",{value:!0});bu.shouldUseRule=bu.shouldUseGroup=bu.schemaHasRulesForType=void 0;function bN({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&n6(e,n)}bu.schemaHasRulesForType=bN;function n6(e,t){return t.rules.some(r=>u6(e,r))}bu.shouldUseGroup=n6;function u6(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}bu.shouldUseRule=u6;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=uo,r=bu,n=Yi,u=lt,s=vt;var o;(function(F){F[F.Correct=0]="Correct",F[F.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(F){const B=i(F.type);if(B.includes("null")){if(F.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!B.length&&F.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');F.nullable===!0&&B.push("null")}return B}e.getSchemaTypes=a;function i(F){const B=Array.isArray(F)?F:F?[F]:[];if(B.every(t.isJSONType))return B;throw new Error("type must be JSONType or JSONType[]: "+B.join(","))}e.getJSONTypes=i;function c(F,B){const{gen:P,data:$,opts:I}=F,U=p(B,I.coerceTypes),j=B.length>0&&!(U.length===0&&B.length===1&&(0,r.schemaHasRulesForType)(F,B[0]));if(j){const W=E(B,$,I.strictNumbers,o.Wrong);P.if(W,()=>{U.length?f(F,B,U):m(F)})}return j}e.coerceAndCheckDataType=c;const l=new Set(["string","number","integer","boolean","null"]);function p(F,B){return B?F.filter(P=>l.has(P)||B==="array"&&P==="array"):[]}function f(F,B,P){const{gen:$,data:I,opts:U}=F,j=$.let("dataType",(0,u._)`typeof ${I}`),W=$.let("coerced",(0,u._)`undefined`);U.coerceTypes==="array"&&$.if((0,u._)`${j} == 'object' && Array.isArray(${I}) && ${I}.length == 1`,()=>$.assign(I,(0,u._)`${I}[0]`).assign(j,(0,u._)`typeof ${I}`).if(E(B,I,U.strictNumbers),()=>$.assign(W,I))),$.if((0,u._)`${W} !== undefined`);for(const Y of P)(l.has(Y)||Y==="array"&&U.coerceTypes==="array")&&te(Y);$.else(),m(F),$.endIf(),$.if((0,u._)`${W} !== undefined`,()=>{$.assign(I,W),d(F,W)});function te(Y){switch(Y){case"string":$.elseIf((0,u._)`${j} == "number" || ${j} == "boolean"`).assign(W,(0,u._)`"" + ${I}`).elseIf((0,u._)`${I} === null`).assign(W,(0,u._)`""`);return;case"number":$.elseIf((0,u._)`${j} == "boolean" || ${I} === null
              || (${j} == "string" && ${I} && ${I} == +${I})`).assign(W,(0,u._)`+${I}`);return;case"integer":$.elseIf((0,u._)`${j} === "boolean" || ${I} === null
              || (${j} === "string" && ${I} && ${I} == +${I} && !(${I} % 1))`).assign(W,(0,u._)`+${I}`);return;case"boolean":$.elseIf((0,u._)`${I} === "false" || ${I} === 0 || ${I} === null`).assign(W,!1).elseIf((0,u._)`${I} === "true" || ${I} === 1`).assign(W,!0);return;case"null":$.elseIf((0,u._)`${I} === "" || ${I} === 0 || ${I} === false`),$.assign(W,null);return;case"array":$.elseIf((0,u._)`${j} === "string" || ${j} === "number"
              || ${j} === "boolean" || ${I} === null`).assign(W,(0,u._)`[${I}]`)}}}function d({gen:F,parentData:B,parentDataProperty:P},$){F.if((0,u._)`${B} !== undefined`,()=>F.assign((0,u._)`${B}[${P}]`,$))}function h(F,B,P,$=o.Correct){const I=$===o.Correct?u.operators.EQ:u.operators.NEQ;let U;switch(F){case"null":return(0,u._)`${B} ${I} null`;case"array":U=(0,u._)`Array.isArray(${B})`;break;case"object":U=(0,u._)`${B} && typeof ${B} == "object" && !Array.isArray(${B})`;break;case"integer":U=j((0,u._)`!(${B} % 1) && !isNaN(${B})`);break;case"number":U=j();break;default:return(0,u._)`typeof ${B} ${I} ${F}`}return $===o.Correct?U:(0,u.not)(U);function j(W=u.nil){return(0,u.and)((0,u._)`typeof ${B} == "number"`,W,P?(0,u._)`isFinite(${B})`:u.nil)}}e.checkDataType=h;function E(F,B,P,$){if(F.length===1)return h(F[0],B,P,$);let I;const U=(0,s.toHash)(F);if(U.array&&U.object){const j=(0,u._)`typeof ${B} != "object"`;I=U.null?j:(0,u._)`!${B} || ${j}`,delete U.null,delete U.array,delete U.object}else I=u.nil;U.number&&delete U.integer;for(const j in U)I=(0,u.and)(I,h(j,B,P,$));return I}e.checkDataTypes=E;const A={message:({schema:F})=>`must be ${F}`,params:({schema:F,schemaValue:B})=>typeof F=="string"?(0,u._)`{type: ${F}}`:(0,u._)`{type: ${B}}`};function m(F){const B=y(F);(0,n.reportError)(B,A)}e.reportTypeError=m;function y(F){const{gen:B,data:P,schema:$}=F,I=(0,s.schemaRefOrVal)(F,$,"type");return{gen:B,keyword:"type",data:P,schema:$.type,schemaCode:I,schemaValue:I,parentSchema:$,params:{},it:F}}})(Zi);var jp={};Object.defineProperty(jp,"__esModule",{value:!0});jp.assignDefaults=void 0;const Co=lt,SN=vt;function wN(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const u in r)Rv(e,u,r[u].default);else t==="array"&&Array.isArray(n)&&n.forEach((u,s)=>Rv(e,s,u.default))}jp.assignDefaults=wN;function Rv(e,t,r){const{gen:n,compositeRule:u,data:s,opts:o}=e;if(r===void 0)return;const a=(0,Co._)`${s}${(0,Co.getProperty)(t)}`;if(u){(0,SN.checkStrictMode)(e,`default is ignored for: ${a}`);return}let i=(0,Co._)`${a} === undefined`;o.useDefaults==="empty"&&(i=(0,Co._)`${i} || ${a} === null || ${a} === ""`),n.if(i,(0,Co._)`${a} = ${(0,Co.stringify)(r)}`)}var ru={},at={};Object.defineProperty(at,"__esModule",{value:!0});at.validateUnion=at.validateArray=at.usePattern=at.callValidateCode=at.schemaProperties=at.allSchemaProperties=at.noPropertyInData=at.propertyInData=at.isOwnProperty=at.hasPropFunc=at.reportMissingProp=at.checkMissingProp=at.checkReportMissingProp=void 0;const Bt=lt,lm=vt,Lu=cu,_N=vt;function BN(e,t){const{gen:r,data:n,it:u}=e;r.if(fm(r,n,t,u.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Bt._)`${t}`},!0),e.error()})}at.checkReportMissingProp=BN;function TN({gen:e,data:t,it:{opts:r}},n,u){return(0,Bt.or)(...n.map(s=>(0,Bt.and)(fm(e,t,s,r.ownProperties),(0,Bt._)`${u} = ${s}`)))}at.checkMissingProp=TN;function $N(e,t){e.setParams({missingProperty:t},!0),e.error()}at.reportMissingProp=$N;function s6(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Bt._)`Object.prototype.hasOwnProperty`})}at.hasPropFunc=s6;function pm(e,t,r){return(0,Bt._)`${s6(e)}.call(${t}, ${r})`}at.isOwnProperty=pm;function PN(e,t,r,n){const u=(0,Bt._)`${t}${(0,Bt.getProperty)(r)} !== undefined`;return n?(0,Bt._)`${u} && ${pm(e,t,r)}`:u}at.propertyInData=PN;function fm(e,t,r,n){const u=(0,Bt._)`${t}${(0,Bt.getProperty)(r)} === undefined`;return n?(0,Bt.or)(u,(0,Bt.not)(pm(e,t,r))):u}at.noPropertyInData=fm;function o6(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}at.allSchemaProperties=o6;function ON(e,t){return o6(t).filter(r=>!(0,lm.alwaysValidSchema)(e,t[r]))}at.schemaProperties=ON;function kN({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:u,errorPath:s},it:o},a,i,c){const l=c?(0,Bt._)`${e}, ${t}, ${n}${u}`:t,p=[[Lu.default.instancePath,(0,Bt.strConcat)(Lu.default.instancePath,s)],[Lu.default.parentData,o.parentData],[Lu.default.parentDataProperty,o.parentDataProperty],[Lu.default.rootData,Lu.default.rootData]];o.opts.dynamicRef&&p.push([Lu.default.dynamicAnchors,Lu.default.dynamicAnchors]);const f=(0,Bt._)`${l}, ${r.object(...p)}`;return i!==Bt.nil?(0,Bt._)`${a}.call(${i}, ${f})`:(0,Bt._)`${a}(${f})`}at.callValidateCode=kN;const IN=(0,Bt._)`new RegExp`;function NN({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:u}=t.code,s=u(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Bt._)`${u.code==="new RegExp"?IN:(0,_N.useFunc)(e,u)}(${r}, ${n})`})}at.usePattern=NN;function qN(e){const{gen:t,data:r,keyword:n,it:u}=e,s=t.name("valid");if(u.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const i=t.const("len",(0,Bt._)`${r}.length`);t.forRange("i",0,i,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:lm.Type.Num},s),t.if((0,Bt.not)(s),a)})}}at.validateArray=qN;function xN(e){const{gen:t,schema:r,keyword:n,it:u}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(i=>(0,lm.alwaysValidSchema)(u,i))&&!u.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((i,c)=>{const l=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},a);t.assign(o,(0,Bt._)`${o} || ${a}`),e.mergeValidEvaluated(l,a)||t.if((0,Bt.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}at.validateUnion=xN;Object.defineProperty(ru,"__esModule",{value:!0});ru.validateKeywordUsage=ru.validSchemaType=ru.funcKeywordCode=ru.macroKeywordCode=void 0;const _r=lt,Ms=cu,RN=at,jN=Yi;function MN(e,t){const{gen:r,keyword:n,schema:u,parentSchema:s,it:o}=e,a=t.macro.call(o.self,u,s,o),i=a6(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const c=r.name("valid");e.subschema({schema:a,schemaPath:_r.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:i,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}ru.macroKeywordCode=MN;function LN(e,t){var r;const{gen:n,keyword:u,schema:s,parentSchema:o,$data:a,it:i}=e;GN(i,t);const c=!a&&t.compile?t.compile.call(i.self,s,o,i):t.validate,l=a6(n,u,c),p=n.let("valid");e.block$data(p,f),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function f(){if(t.errors===!1)E(),t.modifying&&jv(e),A(()=>e.error());else{const m=t.async?d():h();t.modifying&&jv(e),A(()=>UN(e,m))}}function d(){const m=n.let("ruleErrs",null);return n.try(()=>E((0,_r._)`await `),y=>n.assign(p,!1).if((0,_r._)`${y} instanceof ${i.ValidationError}`,()=>n.assign(m,(0,_r._)`${y}.errors`),()=>n.throw(y))),m}function h(){const m=(0,_r._)`${l}.errors`;return n.assign(m,null),E(_r.nil),m}function E(m=t.async?(0,_r._)`await `:_r.nil){const y=i.opts.passContext?Ms.default.this:Ms.default.self,F=!("compile"in t&&!a||t.schema===!1);n.assign(p,(0,_r._)`${m}${(0,RN.callValidateCode)(e,l,y,F)}`,t.modifying)}function A(m){var y;n.if((0,_r.not)((y=t.valid)!==null&&y!==void 0?y:p),m)}}ru.funcKeywordCode=LN;function jv(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,_r._)`${n.parentData}[${n.parentDataProperty}]`))}function UN(e,t){const{gen:r}=e;r.if((0,_r._)`Array.isArray(${t})`,()=>{r.assign(Ms.default.vErrors,(0,_r._)`${Ms.default.vErrors} === null ? ${t} : ${Ms.default.vErrors}.concat(${t})`).assign(Ms.default.errors,(0,_r._)`${Ms.default.vErrors}.length`),(0,jN.extendErrors)(e)},()=>e.error())}function GN({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function a6(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,_r.stringify)(r)})}function VN(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}ru.validSchemaType=VN;function HN({schema:e,opts:t,self:r,errSchemaPath:n},u,s){if(Array.isArray(u.keyword)?!u.keyword.includes(s):u.keyword!==s)throw new Error("ajv implementation error");const o=u.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(u.validateSchema&&!u.validateSchema(e[s])){const i=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(u.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(i);else throw new Error(i)}}ru.validateKeywordUsage=HN;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.extendSubschemaMode=ns.extendSubschemaData=ns.getSubschema=void 0;const eu=lt,i6=vt;function WN(e,{keyword:t,schemaProp:r,schema:n,schemaPath:u,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,eu._)`${e.schemaPath}${(0,eu.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,eu._)`${e.schemaPath}${(0,eu.getProperty)(t)}${(0,eu.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,i6.escapeFragment)(r)}`}}if(n!==void 0){if(u===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:u,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}ns.getSubschema=WN;function JN(e,t,{dataProp:r,dataPropType:n,data:u,dataTypes:s,propertyName:o}){if(u!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:c,dataPathArr:l,opts:p}=t,f=a.let("data",(0,eu._)`${t.data}${(0,eu.getProperty)(r)}`,!0);i(f),e.errorPath=(0,eu.str)`${c}${(0,i6.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,eu._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(u!==void 0){const c=u instanceof eu.Name?u:a.let("data",u,!0);i(c),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function i(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}ns.extendSubschemaData=JN;function zN(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:u,allErrors:s}){n!==void 0&&(e.compositeRule=n),u!==void 0&&(e.createErrors=u),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}ns.extendSubschemaMode=zN;var vr={},c6=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,u,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(u=n;u--!==0;)if(!e(t[u],r[u]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(u=n;u--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[u]))return!1;for(u=n;u--!==0;){var o=s[u];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},q2={},KN={get exports(){return q2},set exports(e){q2=e}},Qu=KN.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},u=r.post||function(){};Cl(t,n,u,e,"",e)};Qu.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Qu.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Qu.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Qu.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Cl(e,t,r,n,u,s,o,a,i,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,u,s,o,a,i,c);for(var l in n){var p=n[l];if(Array.isArray(p)){if(l in Qu.arrayKeywords)for(var f=0;f<p.length;f++)Cl(e,t,r,p[f],u+"/"+l+"/"+f,s,u,l,n,f)}else if(l in Qu.propsKeywords){if(p&&typeof p=="object")for(var d in p)Cl(e,t,r,p[d],u+"/"+l+"/"+XN(d),s,u,l,n,d)}else(l in Qu.keywords||e.allKeys&&!(l in Qu.skipKeywords))&&Cl(e,t,r,p,u+"/"+l,s,u,l,n)}r(n,u,s,o,a,i,c)}}function XN(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(vr,"__esModule",{value:!0});vr.getSchemaRefs=vr.resolveUrl=vr.normalizeId=vr._getFullPath=vr.getFullPath=vr.inlineRef=void 0;const YN=vt,ZN=c6,QN=q2,eq=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function tq(e,t=!0){return typeof e=="boolean"?!0:t===!0?!x2(e):t?l6(e)<=t:!1}vr.inlineRef=tq;const rq=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function x2(e){for(const t in e){if(rq.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(x2)||typeof r=="object"&&x2(r))return!0}return!1}function l6(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!eq.has(r)&&(typeof e[r]=="object"&&(0,YN.eachItem)(e[r],n=>t+=l6(n)),t===1/0))return 1/0}return t}function p6(e,t="",r){r!==!1&&(t=ia(t));const n=e.parse(t);return f6(e,n)}vr.getFullPath=p6;function f6(e,t){return e.serialize(t).split("#")[0]+"#"}vr._getFullPath=f6;const nq=/#\/?$/;function ia(e){return e?e.replace(nq,""):""}vr.normalizeId=ia;function uq(e,t,r){return r=ia(r),e.resolve(t,r)}vr.resolveUrl=uq;const sq=/^[a-z_][-a-z0-9._]*$/i;function oq(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,u=ia(e[r]||t),s={"":u},o=p6(n,u,!1),a={},i=new Set;return QN(e,{allKeys:!0},(p,f,d,h)=>{if(h===void 0)return;const E=o+f;let A=s[h];typeof p[r]=="string"&&(A=m.call(this,p[r])),y.call(this,p.$anchor),y.call(this,p.$dynamicAnchor),s[f]=A;function m(F){const B=this.opts.uriResolver.resolve;if(F=ia(A?B(A,F):F),i.has(F))throw l(F);i.add(F);let P=this.refs[F];return typeof P=="string"&&(P=this.refs[P]),typeof P=="object"?c(p,P.schema,F):F!==ia(E)&&(F[0]==="#"?(c(p,a[F],F),a[F]=p):this.refs[F]=E),F}function y(F){if(typeof F=="string"){if(!sq.test(F))throw new Error(`invalid anchor "${F}"`);m.call(this,`#${F}`)}}}),a;function c(p,f,d){if(f!==void 0&&!ZN(p,f))throw l(d)}function l(p){return new Error(`reference "${p}" resolves to more than one schema`)}}vr.getSchemaRefs=oq;Object.defineProperty(Rn,"__esModule",{value:!0});Rn.getData=Rn.KeywordCxt=Rn.validateFunctionCode=void 0;const d6=da,Mv=Zi,dm=bu,up=Zi,aq=jp,hi=ru,Zf=ns,Ve=lt,Ye=cu,iq=vr,Su=vt,Ua=Yi;function cq(e){if(m6(e)&&(E6(e),h6(e))){fq(e);return}D6(e,()=>(0,d6.topBoolOrEmptySchema)(e))}Rn.validateFunctionCode=cq;function D6({gen:e,validateName:t,schema:r,schemaEnv:n,opts:u},s){u.code.es5?e.func(t,(0,Ve._)`${Ye.default.data}, ${Ye.default.valCxt}`,n.$async,()=>{e.code((0,Ve._)`"use strict"; ${Lv(r,u)}`),pq(e,u),e.code(s)}):e.func(t,(0,Ve._)`${Ye.default.data}, ${lq(u)}`,n.$async,()=>e.code(Lv(r,u)).code(s))}function lq(e){return(0,Ve._)`{${Ye.default.instancePath}="", ${Ye.default.parentData}, ${Ye.default.parentDataProperty}, ${Ye.default.rootData}=${Ye.default.data}${e.dynamicRef?(0,Ve._)`, ${Ye.default.dynamicAnchors}={}`:Ve.nil}}={}`}function pq(e,t){e.if(Ye.default.valCxt,()=>{e.var(Ye.default.instancePath,(0,Ve._)`${Ye.default.valCxt}.${Ye.default.instancePath}`),e.var(Ye.default.parentData,(0,Ve._)`${Ye.default.valCxt}.${Ye.default.parentData}`),e.var(Ye.default.parentDataProperty,(0,Ve._)`${Ye.default.valCxt}.${Ye.default.parentDataProperty}`),e.var(Ye.default.rootData,(0,Ve._)`${Ye.default.valCxt}.${Ye.default.rootData}`),t.dynamicRef&&e.var(Ye.default.dynamicAnchors,(0,Ve._)`${Ye.default.valCxt}.${Ye.default.dynamicAnchors}`)},()=>{e.var(Ye.default.instancePath,(0,Ve._)`""`),e.var(Ye.default.parentData,(0,Ve._)`undefined`),e.var(Ye.default.parentDataProperty,(0,Ve._)`undefined`),e.var(Ye.default.rootData,Ye.default.data),t.dynamicRef&&e.var(Ye.default.dynamicAnchors,(0,Ve._)`{}`)})}function fq(e){const{schema:t,opts:r,gen:n}=e;D6(e,()=>{r.$comment&&t.$comment&&y6(e),Eq(e),n.let(Ye.default.vErrors,null),n.let(Ye.default.errors,0),r.unevaluated&&dq(e),v6(e),gq(e)})}function dq(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Ve._)`${r}.evaluated`),t.if((0,Ve._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Ve._)`${e.evaluated}.props`,(0,Ve._)`undefined`)),t.if((0,Ve._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Ve._)`${e.evaluated}.items`,(0,Ve._)`undefined`))}function Lv(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Ve._)`/*# sourceURL=${r} */`:Ve.nil}function Dq(e,t){if(m6(e)&&(E6(e),h6(e))){hq(e,t);return}(0,d6.boolOrEmptySchema)(e,t)}function h6({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function m6(e){return typeof e.schema!="boolean"}function hq(e,t){const{schema:r,gen:n,opts:u}=e;u.$comment&&r.$comment&&y6(e),vq(e),yq(e);const s=n.const("_errs",Ye.default.errors);v6(e,s),n.var(t,(0,Ve._)`${s} === ${Ye.default.errors}`)}function E6(e){(0,Su.checkUnknownRules)(e),mq(e)}function v6(e,t){if(e.opts.jtd)return Uv(e,[],!1,t);const r=(0,Mv.getSchemaTypes)(e.schema),n=(0,Mv.coerceAndCheckDataType)(e,r);Uv(e,r,!n,t)}function mq(e){const{schema:t,errSchemaPath:r,opts:n,self:u}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Su.schemaHasRulesButRef)(t,u.RULES)&&u.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Eq(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Su.checkStrictMode)(e,"default is ignored in the schema root")}function vq(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,iq.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function yq(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function y6({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:u}){const s=r.$comment;if(u.$comment===!0)e.code((0,Ve._)`${Ye.default.self}.logger.log(${s})`);else if(typeof u.$comment=="function"){const o=(0,Ve.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,Ve._)`${Ye.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function gq(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:u,opts:s}=e;r.$async?t.if((0,Ve._)`${Ye.default.errors} === 0`,()=>t.return(Ye.default.data),()=>t.throw((0,Ve._)`new ${u}(${Ye.default.vErrors})`)):(t.assign((0,Ve._)`${n}.errors`,Ye.default.vErrors),s.unevaluated&&Aq(e),t.return((0,Ve._)`${Ye.default.errors} === 0`))}function Aq({gen:e,evaluated:t,props:r,items:n}){r instanceof Ve.Name&&e.assign((0,Ve._)`${t}.props`,r),n instanceof Ve.Name&&e.assign((0,Ve._)`${t}.items`,n)}function Uv(e,t,r,n){const{gen:u,schema:s,data:o,allErrors:a,opts:i,self:c}=e,{RULES:l}=c;if(s.$ref&&(i.ignoreKeywordsWithRef||!(0,Su.schemaHasRulesButRef)(s,l))){u.block(()=>F6(e,"$ref",l.all.$ref.definition));return}i.jtd||Fq(e,t),u.block(()=>{for(const f of l.rules)p(f);p(l.post)});function p(f){(0,dm.shouldUseGroup)(s,f)&&(f.type?(u.if((0,up.checkDataType)(f.type,o,i.strictNumbers)),Gv(e,f),t.length===1&&t[0]===f.type&&r&&(u.else(),(0,up.reportTypeError)(e)),u.endIf()):Gv(e,f),a||u.if((0,Ve._)`${Ye.default.errors} === ${n||0}`))}}function Gv(e,t){const{gen:r,schema:n,opts:{useDefaults:u}}=e;u&&(0,aq.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,dm.shouldUseRule)(n,s)&&F6(e,s.keyword,s.definition,t.type)})}function Fq(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Cq(e,t),e.opts.allowUnionTypes||bq(e,t),Sq(e,e.dataTypes))}function Cq(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{g6(e.dataTypes,r)||Dm(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),_q(e,t)}}function bq(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Dm(e,"use allowUnionTypes to allow union type keyword")}function Sq(e,t){const r=e.self.RULES.all;for(const n in r){const u=r[n];if(typeof u=="object"&&(0,dm.shouldUseRule)(e.schema,u)){const{type:s}=u.definition;s.length&&!s.some(o=>wq(t,o))&&Dm(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function wq(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function g6(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function _q(e,t){const r=[];for(const n of e.dataTypes)g6(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Dm(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Su.checkStrictMode)(e,t,e.opts.strictTypes)}let A6=class{constructor(t,r,n){if((0,hi.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Su.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",C6(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,hi.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Ye.default.errors))}result(t,r,n){this.failResult((0,Ve.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Ve.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Ve._)`${r} !== undefined && (${(0,Ve.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ua.reportExtraError:Ua.reportError)(this,this.def.error,r)}$dataError(){(0,Ua.reportError)(this,this.def.$dataError||Ua.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ua.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Ve.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Ve.nil,r=Ve.nil){if(!this.$data)return;const{gen:n,schemaCode:u,schemaType:s,def:o}=this;n.if((0,Ve.or)((0,Ve._)`${u} === undefined`,r)),t!==Ve.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Ve.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:u,it:s}=this;return(0,Ve.or)(o(),a());function o(){if(n.length){if(!(r instanceof Ve.Name))throw new Error("ajv implementation error");const i=Array.isArray(n)?n:[n];return(0,Ve._)`${(0,up.checkDataTypes)(i,r,s.opts.strictNumbers,up.DataType.Wrong)}`}return Ve.nil}function a(){if(u.validateSchema){const i=t.scopeValue("validate$data",{ref:u.validateSchema});return(0,Ve._)`!${i}(${r})`}return Ve.nil}}subschema(t,r){const n=(0,Zf.getSubschema)(this.it,t);(0,Zf.extendSubschemaData)(n,this.it,t),(0,Zf.extendSubschemaMode)(n,t);const u={...this.it,...n,items:void 0,props:void 0};return Dq(u,r),u}mergeEvaluated(t,r){const{it:n,gen:u}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Su.mergeEvaluated.props(u,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Su.mergeEvaluated.items(u,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:u}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return u.if(r,()=>this.mergeEvaluated(t,Ve.Name)),!0}};Rn.KeywordCxt=A6;function F6(e,t,r,n){const u=new A6(e,r,t);"code"in r?r.code(u,n):u.$data&&r.validate?(0,hi.funcKeywordCode)(u,r):"macro"in r?(0,hi.macroKeywordCode)(u,r):(r.compile||r.validate)&&(0,hi.funcKeywordCode)(u,r)}const Bq=/^\/(?:[^~]|~0|~1)*$/,Tq=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function C6(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let u,s;if(e==="")return Ye.default.rootData;if(e[0]==="/"){if(!Bq.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);u=e,s=Ye.default.rootData}else{const c=Tq.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const l=+c[1];if(u=c[2],u==="#"){if(l>=t)throw new Error(i("property/index",l));return n[t-l]}if(l>t)throw new Error(i("data",l));if(s=r[t-l],!u)return s}let o=s;const a=u.split("/");for(const c of a)c&&(s=(0,Ve._)`${s}${(0,Ve.getProperty)((0,Su.unescapeJsonPointer)(c))}`,o=(0,Ve._)`${o} && ${s}`);return o;function i(c,l){return`Cannot access ${c} ${l} levels up, current level is ${t}`}}Rn.getData=C6;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});let $q=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};Qi.default=$q;var ec={};Object.defineProperty(ec,"__esModule",{value:!0});const Qf=vr;let Pq=class extends Error{constructor(t,r,n,u){super(u||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Qf.resolveUrl)(t,r,n),this.missingSchema=(0,Qf.normalizeId)((0,Qf.getFullPath)(t,this.missingRef))}};ec.default=Pq;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.resolveSchema=Ur.getCompilingSchema=Ur.resolveRef=Ur.compileSchema=Ur.SchemaEnv=void 0;const bn=lt,Oq=Qi,ks=cu,Nn=vr,Vv=vt,kq=Rn;let Mp=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Nn.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Ur.SchemaEnv=Mp;function hm(e){const t=b6.call(this,e);if(t)return t;const r=(0,Nn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:u}=this.opts.code,{ownProperties:s}=this.opts,o=new bn.CodeGen(this.scope,{es5:n,lines:u,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:Oq.default,code:(0,bn._)`require("ajv/dist/runtime/validation_error").default`}));const i=o.scopeName("validate");e.validateName=i;const c={gen:o,allErrors:this.opts.allErrors,data:ks.default.data,parentData:ks.default.parentData,parentDataProperty:ks.default.parentDataProperty,dataNames:[ks.default.data],dataPathArr:[bn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,bn.stringify)(e.schema)}:{ref:e.schema}),validateName:i,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:bn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,bn._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(e),(0,kq.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);const p=o.toString();l=`${o.scopeRefs(ks.default.scope)}return ${p}`,this.opts.code.process&&(l=this.opts.code.process(l,e));const d=new Function(`${ks.default.self}`,`${ks.default.scope}`,l)(this,this.scope.get());if(this.scope.value(i,{ref:d}),d.errors=null,d.schema=e.schema,d.schemaEnv=e,e.$async&&(d.$async=!0),this.opts.code.source===!0&&(d.source={validateName:i,validateCode:p,scopeValues:o._values}),this.opts.unevaluated){const{props:h,items:E}=c;d.evaluated={props:h instanceof bn.Name?void 0:h,items:E instanceof bn.Name?void 0:E,dynamicProps:h instanceof bn.Name,dynamicItems:E instanceof bn.Name},d.source&&(d.source.evaluated=(0,bn.stringify)(d.evaluated))}return e.validate=d,e}catch(p){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),p}finally{this._compilations.delete(e)}}Ur.compileSchema=hm;function Iq(e,t,r){var n;r=(0,Nn.resolveUrl)(this.opts.uriResolver,t,r);const u=e.refs[r];if(u)return u;let s=xq.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new Mp({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=Nq.call(this,s)}Ur.resolveRef=Iq;function Nq(e){return(0,Nn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:hm.call(this,e)}function b6(e){for(const t of this._compilations)if(qq(t,e))return t}Ur.getCompilingSchema=b6;function qq(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function xq(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Lp.call(this,e,t)}function Lp(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Nn._getFullPath)(this.opts.uriResolver,r);let u=(0,Nn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===u)return ed.call(this,r,e);const s=(0,Nn.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=Lp.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:ed.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||hm.call(this,o),s===(0,Nn.normalizeId)(t)){const{schema:a}=o,{schemaId:i}=this.opts,c=a[i];return c&&(u=(0,Nn.resolveUrl)(this.opts.uriResolver,u,c)),new Mp({schema:a,schemaId:i,root:e,baseId:u})}return ed.call(this,r,o)}}Ur.resolveSchema=Lp;const Rq=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ed(e,{baseId:t,schema:r,root:n}){var u;if(((u=e.fragment)===null||u===void 0?void 0:u[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const i=r[(0,Vv.unescapeFragment)(a)];if(i===void 0)return;r=i;const c=typeof r=="object"&&r[this.opts.schemaId];!Rq.has(a)&&c&&(t=(0,Nn.resolveUrl)(this.opts.uriResolver,t,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Vv.schemaHasRulesButRef)(r,this.RULES)){const a=(0,Nn.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Lp.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new Mp({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const jq="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Mq="Meta-schema for $data reference (JSON AnySchema extension proposal)",Lq="object",Uq=["$data"],Gq={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Vq=!1,Hq={$id:jq,description:Mq,type:Lq,required:Uq,properties:Gq,additionalProperties:Vq};var mm={},sp={},Wq={get exports(){return sp},set exports(e){sp=e}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Ys,function(r){function n(){for(var R=arguments.length,T=Array(R),M=0;M<R;M++)T[M]=arguments[M];if(T.length>1){T[0]=T[0].slice(0,-1);for(var K=T.length-1,z=1;z<K;++z)T[z]=T[z].slice(1,-1);return T[K]=T[K].slice(1),T.join("")}else return T[0]}function u(R){return"(?:"+R+")"}function s(R){return R===void 0?"undefined":R===null?"null":Object.prototype.toString.call(R).split(" ").pop().split("]").shift().toLowerCase()}function o(R){return R.toUpperCase()}function a(R){return R!=null?R instanceof Array?R:typeof R.length!="number"||R.split||R.setInterval||R.call?[R]:Array.prototype.slice.call(R):[]}function i(R,T){var M=R;if(T)for(var K in T)M[K]=T[K];return M}function c(R){var T="[A-Za-z]",M="[0-9]",K=n(M,"[A-Fa-f]"),z=u(u("%[EFef]"+K+"%"+K+K+"%"+K+K)+"|"+u("%[89A-Fa-f]"+K+"%"+K+K)+"|"+u("%"+K+K)),me="[\\:\\/\\?\\#\\[\\]\\@]",ve="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Oe=n(me,ve),Me=R?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",et=R?"[\\uE000-\\uF8FF]":"[]",$e=n(T,M,"[\\-\\.\\_\\~]",Me);u(T+n(T,M,"[\\+\\-\\.]")+"*"),u(u(z+"|"+n($e,ve,"[\\:]"))+"*");var Je=u(u("25[0-5]")+"|"+u("2[0-4]"+M)+"|"+u("1"+M+M)+"|"+u("0?[1-9]"+M)+"|0?0?"+M),tt=u(Je+"\\."+Je+"\\."+Je+"\\."+Je),Fe=u(K+"{1,4}"),We=u(u(Fe+"\\:"+Fe)+"|"+tt),nt=u(u(Fe+"\\:")+"{6}"+We),Ke=u("\\:\\:"+u(Fe+"\\:")+"{5}"+We),er=u(u(Fe)+"?\\:\\:"+u(Fe+"\\:")+"{4}"+We),kt=u(u(u(Fe+"\\:")+"{0,1}"+Fe)+"?\\:\\:"+u(Fe+"\\:")+"{3}"+We),It=u(u(u(Fe+"\\:")+"{0,2}"+Fe)+"?\\:\\:"+u(Fe+"\\:")+"{2}"+We),rr=u(u(u(Fe+"\\:")+"{0,3}"+Fe)+"?\\:\\:"+Fe+"\\:"+We),fr=u(u(u(Fe+"\\:")+"{0,4}"+Fe)+"?\\:\\:"+We),Ft=u(u(u(Fe+"\\:")+"{0,5}"+Fe)+"?\\:\\:"+Fe),At=u(u(u(Fe+"\\:")+"{0,6}"+Fe)+"?\\:\\:"),dr=u([nt,Ke,er,kt,It,rr,fr,Ft,At].join("|")),Ht=u(u($e+"|"+z)+"+");u("[vV]"+K+"+\\."+n($e,ve,"[\\:]")+"+"),u(u(z+"|"+n($e,ve))+"*");var Kr=u(z+"|"+n($e,ve,"[\\:\\@]"));return u(u(z+"|"+n($e,ve,"[\\@]"))+"+"),u(u(Kr+"|"+n("[\\/\\?]",et))+"*"),{NOT_SCHEME:new RegExp(n("[^]",T,M,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",$e,ve),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",$e,ve),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",$e,ve),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",$e,ve),"g"),NOT_QUERY:new RegExp(n("[^\\%]",$e,ve,"[\\:\\@\\/\\?]",et),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",$e,ve,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",$e,ve),"g"),UNRESERVED:new RegExp($e,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",$e,Oe),"g"),PCT_ENCODED:new RegExp(z,"g"),IPV4ADDRESS:new RegExp("^("+tt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+dr+")"+u(u("\\%25|\\%(?!"+K+"{2})")+"("+Ht+")")+"?\\]?$")}}var l=c(!1),p=c(!0),f=function(){function R(T,M){var K=[],z=!0,me=!1,ve=void 0;try{for(var Oe=T[Symbol.iterator](),Me;!(z=(Me=Oe.next()).done)&&(K.push(Me.value),!(M&&K.length===M));z=!0);}catch(et){me=!0,ve=et}finally{try{!z&&Oe.return&&Oe.return()}finally{if(me)throw ve}}return K}return function(T,M){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return R(T,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(R){if(Array.isArray(R)){for(var T=0,M=Array(R.length);T<R.length;T++)M[T]=R[T];return M}else return Array.from(R)},h=2147483647,E=36,A=1,m=26,y=38,F=700,B=72,P=128,$="-",I=/^xn--/,U=/[^\0-\x7E]/,j=/[\x2E\u3002\uFF0E\uFF61]/g,W={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=E-A,Y=Math.floor,oe=String.fromCharCode;function ie(R){throw new RangeError(W[R])}function fe(R,T){for(var M=[],K=R.length;K--;)M[K]=T(R[K]);return M}function De(R,T){var M=R.split("@"),K="";M.length>1&&(K=M[0]+"@",R=M[1]),R=R.replace(j,".");var z=R.split("."),me=fe(z,T).join(".");return K+me}function de(R){for(var T=[],M=0,K=R.length;M<K;){var z=R.charCodeAt(M++);if(z>=55296&&z<=56319&&M<K){var me=R.charCodeAt(M++);(me&64512)==56320?T.push(((z&1023)<<10)+(me&1023)+65536):(T.push(z),M--)}else T.push(z)}return T}var Ce=function(T){return String.fromCodePoint.apply(String,d(T))},pe=function(T){return T-48<10?T-22:T-65<26?T-65:T-97<26?T-97:E},Q=function(T,M){return T+22+75*(T<26)-((M!=0)<<5)},q=function(T,M,K){var z=0;for(T=K?Y(T/F):T>>1,T+=Y(T/M);T>te*m>>1;z+=E)T=Y(T/te);return Y(z+(te+1)*T/(T+y))},v=function(T){var M=[],K=T.length,z=0,me=P,ve=B,Oe=T.lastIndexOf($);Oe<0&&(Oe=0);for(var Me=0;Me<Oe;++Me)T.charCodeAt(Me)>=128&&ie("not-basic"),M.push(T.charCodeAt(Me));for(var et=Oe>0?Oe+1:0;et<K;){for(var $e=z,Je=1,tt=E;;tt+=E){et>=K&&ie("invalid-input");var Fe=pe(T.charCodeAt(et++));(Fe>=E||Fe>Y((h-z)/Je))&&ie("overflow"),z+=Fe*Je;var We=tt<=ve?A:tt>=ve+m?m:tt-ve;if(Fe<We)break;var nt=E-We;Je>Y(h/nt)&&ie("overflow"),Je*=nt}var Ke=M.length+1;ve=q(z-$e,Ke,$e==0),Y(z/Ke)>h-me&&ie("overflow"),me+=Y(z/Ke),z%=Ke,M.splice(z++,0,me)}return String.fromCodePoint.apply(String,M)},C=function(T){var M=[];T=de(T);var K=T.length,z=P,me=0,ve=B,Oe=!0,Me=!1,et=void 0;try{for(var $e=T[Symbol.iterator](),Je;!(Oe=(Je=$e.next()).done);Oe=!0){var tt=Je.value;tt<128&&M.push(oe(tt))}}catch(Pr){Me=!0,et=Pr}finally{try{!Oe&&$e.return&&$e.return()}finally{if(Me)throw et}}var Fe=M.length,We=Fe;for(Fe&&M.push($);We<K;){var nt=h,Ke=!0,er=!1,kt=void 0;try{for(var It=T[Symbol.iterator](),rr;!(Ke=(rr=It.next()).done);Ke=!0){var fr=rr.value;fr>=z&&fr<nt&&(nt=fr)}}catch(Pr){er=!0,kt=Pr}finally{try{!Ke&&It.return&&It.return()}finally{if(er)throw kt}}var Ft=We+1;nt-z>Y((h-me)/Ft)&&ie("overflow"),me+=(nt-z)*Ft,z=nt;var At=!0,dr=!1,Ht=void 0;try{for(var Kr=T[Symbol.iterator](),Bs;!(At=(Bs=Kr.next()).done);At=!0){var Ts=Bs.value;if(Ts<z&&++me>h&&ie("overflow"),Ts==z){for(var vn=me,$r=E;;$r+=E){var yn=$r<=ve?A:$r>=ve+m?m:$r-ve;if(vn<yn)break;var gn=vn-yn,Ru=E-yn;M.push(oe(Q(yn+gn%Ru,0))),vn=Y(gn/Ru)}M.push(oe(Q(vn,0))),ve=q(me,Ft,We==Fe),me=0,++We}}}catch(Pr){dr=!0,Ht=Pr}finally{try{!At&&Kr.return&&Kr.return()}finally{if(dr)throw Ht}}++me,++z}return M.join("")},D=function(T){return De(T,function(M){return I.test(M)?v(M.slice(4).toLowerCase()):M})},g=function(T){return De(T,function(M){return U.test(M)?"xn--"+C(M):M})},O={version:"2.1.0",ucs2:{decode:de,encode:Ce},decode:v,encode:C,toASCII:g,toUnicode:D},b={};function w(R){var T=R.charCodeAt(0),M=void 0;return T<16?M="%0"+T.toString(16).toUpperCase():T<128?M="%"+T.toString(16).toUpperCase():T<2048?M="%"+(T>>6|192).toString(16).toUpperCase()+"%"+(T&63|128).toString(16).toUpperCase():M="%"+(T>>12|224).toString(16).toUpperCase()+"%"+(T>>6&63|128).toString(16).toUpperCase()+"%"+(T&63|128).toString(16).toUpperCase(),M}function x(R){for(var T="",M=0,K=R.length;M<K;){var z=parseInt(R.substr(M+1,2),16);if(z<128)T+=String.fromCharCode(z),M+=3;else if(z>=194&&z<224){if(K-M>=6){var me=parseInt(R.substr(M+4,2),16);T+=String.fromCharCode((z&31)<<6|me&63)}else T+=R.substr(M,6);M+=6}else if(z>=224){if(K-M>=9){var ve=parseInt(R.substr(M+4,2),16),Oe=parseInt(R.substr(M+7,2),16);T+=String.fromCharCode((z&15)<<12|(ve&63)<<6|Oe&63)}else T+=R.substr(M,9);M+=9}else T+=R.substr(M,3),M+=3}return T}function k(R,T){function M(K){var z=x(K);return z.match(T.UNRESERVED)?z:K}return R.scheme&&(R.scheme=String(R.scheme).replace(T.PCT_ENCODED,M).toLowerCase().replace(T.NOT_SCHEME,"")),R.userinfo!==void 0&&(R.userinfo=String(R.userinfo).replace(T.PCT_ENCODED,M).replace(T.NOT_USERINFO,w).replace(T.PCT_ENCODED,o)),R.host!==void 0&&(R.host=String(R.host).replace(T.PCT_ENCODED,M).toLowerCase().replace(T.NOT_HOST,w).replace(T.PCT_ENCODED,o)),R.path!==void 0&&(R.path=String(R.path).replace(T.PCT_ENCODED,M).replace(R.scheme?T.NOT_PATH:T.NOT_PATH_NOSCHEME,w).replace(T.PCT_ENCODED,o)),R.query!==void 0&&(R.query=String(R.query).replace(T.PCT_ENCODED,M).replace(T.NOT_QUERY,w).replace(T.PCT_ENCODED,o)),R.fragment!==void 0&&(R.fragment=String(R.fragment).replace(T.PCT_ENCODED,M).replace(T.NOT_FRAGMENT,w).replace(T.PCT_ENCODED,o)),R}function G(R){return R.replace(/^0*(.*)/,"$1")||"0"}function H(R,T){var M=R.match(T.IPV4ADDRESS)||[],K=f(M,2),z=K[1];return z?z.split(".").map(G).join("."):R}function re(R,T){var M=R.match(T.IPV6ADDRESS)||[],K=f(M,3),z=K[1],me=K[2];if(z){for(var ve=z.toLowerCase().split("::").reverse(),Oe=f(ve,2),Me=Oe[0],et=Oe[1],$e=et?et.split(":").map(G):[],Je=Me.split(":").map(G),tt=T.IPV4ADDRESS.test(Je[Je.length-1]),Fe=tt?7:8,We=Je.length-Fe,nt=Array(Fe),Ke=0;Ke<Fe;++Ke)nt[Ke]=$e[Ke]||Je[We+Ke]||"";tt&&(nt[Fe-1]=H(nt[Fe-1],T));var er=nt.reduce(function(Ft,At,dr){if(!At||At==="0"){var Ht=Ft[Ft.length-1];Ht&&Ht.index+Ht.length===dr?Ht.length++:Ft.push({index:dr,length:1})}return Ft},[]),kt=er.sort(function(Ft,At){return At.length-Ft.length})[0],It=void 0;if(kt&&kt.length>1){var rr=nt.slice(0,kt.index),fr=nt.slice(kt.index+kt.length);It=rr.join(":")+"::"+fr.join(":")}else It=nt.join(":");return me&&(It+="%"+me),It}else return R}var _e=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Le="".match(/(){0}/)[1]===void 0;function Ue(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M={},K=T.iri!==!1?p:l;T.reference==="suffix"&&(R=(T.scheme?T.scheme+":":"")+"//"+R);var z=R.match(_e);if(z){Le?(M.scheme=z[1],M.userinfo=z[3],M.host=z[4],M.port=parseInt(z[5],10),M.path=z[6]||"",M.query=z[7],M.fragment=z[8],isNaN(M.port)&&(M.port=z[5])):(M.scheme=z[1]||void 0,M.userinfo=R.indexOf("@")!==-1?z[3]:void 0,M.host=R.indexOf("//")!==-1?z[4]:void 0,M.port=parseInt(z[5],10),M.path=z[6]||"",M.query=R.indexOf("?")!==-1?z[7]:void 0,M.fragment=R.indexOf("#")!==-1?z[8]:void 0,isNaN(M.port)&&(M.port=R.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?z[4]:void 0)),M.host&&(M.host=re(H(M.host,K),K)),M.scheme===void 0&&M.userinfo===void 0&&M.host===void 0&&M.port===void 0&&!M.path&&M.query===void 0?M.reference="same-document":M.scheme===void 0?M.reference="relative":M.fragment===void 0?M.reference="absolute":M.reference="uri",T.reference&&T.reference!=="suffix"&&T.reference!==M.reference&&(M.error=M.error||"URI is not a "+T.reference+" reference.");var me=b[(T.scheme||M.scheme||"").toLowerCase()];if(!T.unicodeSupport&&(!me||!me.unicodeSupport)){if(M.host&&(T.domainHost||me&&me.domainHost))try{M.host=O.toASCII(M.host.replace(K.PCT_ENCODED,x).toLowerCase())}catch(ve){M.error=M.error||"Host's domain name can not be converted to ASCII via punycode: "+ve}k(M,l)}else k(M,K);me&&me.parse&&me.parse(M,T)}else M.error=M.error||"URI can not be parsed.";return M}function Ge(R,T){var M=T.iri!==!1?p:l,K=[];return R.userinfo!==void 0&&(K.push(R.userinfo),K.push("@")),R.host!==void 0&&K.push(re(H(String(R.host),M),M).replace(M.IPV6ADDRESS,function(z,me,ve){return"["+me+(ve?"%25"+ve:"")+"]"})),(typeof R.port=="number"||typeof R.port=="string")&&(K.push(":"),K.push(String(R.port))),K.length?K.join(""):void 0}var be=/^\.\.?\//,je=/^\/\.(\/|$)/,ke=/^\/\.\.(\/|$)/,Ie=/^\/?(?:.|\n)*?(?=\/|$)/;function ce(R){for(var T=[];R.length;)if(R.match(be))R=R.replace(be,"");else if(R.match(je))R=R.replace(je,"/");else if(R.match(ke))R=R.replace(ke,"/"),T.pop();else if(R==="."||R==="..")R="";else{var M=R.match(Ie);if(M){var K=M[0];R=R.slice(K.length),T.push(K)}else throw new Error("Unexpected dot segment condition")}return T.join("")}function Te(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=T.iri?p:l,K=[],z=b[(T.scheme||R.scheme||"").toLowerCase()];if(z&&z.serialize&&z.serialize(R,T),R.host&&!M.IPV6ADDRESS.test(R.host)){if(T.domainHost||z&&z.domainHost)try{R.host=T.iri?O.toUnicode(R.host):O.toASCII(R.host.replace(M.PCT_ENCODED,x).toLowerCase())}catch(Oe){R.error=R.error||"Host's domain name can not be converted to "+(T.iri?"Unicode":"ASCII")+" via punycode: "+Oe}}k(R,M),T.reference!=="suffix"&&R.scheme&&(K.push(R.scheme),K.push(":"));var me=Ge(R,T);if(me!==void 0&&(T.reference!=="suffix"&&K.push("//"),K.push(me),R.path&&R.path.charAt(0)!=="/"&&K.push("/")),R.path!==void 0){var ve=R.path;!T.absolutePath&&(!z||!z.absolutePath)&&(ve=ce(ve)),me===void 0&&(ve=ve.replace(/^\/\//,"/%2F")),K.push(ve)}return R.query!==void 0&&(K.push("?"),K.push(R.query)),R.fragment!==void 0&&(K.push("#"),K.push(R.fragment)),K.join("")}function Z(R,T){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=arguments[3],z={};return K||(R=Ue(Te(R,M),M),T=Ue(Te(T,M),M)),M=M||{},!M.tolerant&&T.scheme?(z.scheme=T.scheme,z.userinfo=T.userinfo,z.host=T.host,z.port=T.port,z.path=ce(T.path||""),z.query=T.query):(T.userinfo!==void 0||T.host!==void 0||T.port!==void 0?(z.userinfo=T.userinfo,z.host=T.host,z.port=T.port,z.path=ce(T.path||""),z.query=T.query):(T.path?(T.path.charAt(0)==="/"?z.path=ce(T.path):((R.userinfo!==void 0||R.host!==void 0||R.port!==void 0)&&!R.path?z.path="/"+T.path:R.path?z.path=R.path.slice(0,R.path.lastIndexOf("/")+1)+T.path:z.path=T.path,z.path=ce(z.path)),z.query=T.query):(z.path=R.path,T.query!==void 0?z.query=T.query:z.query=R.query),z.userinfo=R.userinfo,z.host=R.host,z.port=R.port),z.scheme=R.scheme),z.fragment=T.fragment,z}function ae(R,T,M){var K=i({scheme:"null"},M);return Te(Z(Ue(R,K),Ue(T,K),K,!0),K)}function le(R,T){return typeof R=="string"?R=Te(Ue(R,T),T):s(R)==="object"&&(R=Ue(Te(R,T),T)),R}function N(R,T,M){return typeof R=="string"?R=Te(Ue(R,M),M):s(R)==="object"&&(R=Te(R,M)),typeof T=="string"?T=Te(Ue(T,M),M):s(T)==="object"&&(T=Te(T,M)),R===T}function S(R,T){return R&&R.toString().replace(!T||!T.iri?l.ESCAPE:p.ESCAPE,w)}function _(R,T){return R&&R.toString().replace(!T||!T.iri?l.PCT_ENCODED:p.PCT_ENCODED,x)}var L={scheme:"http",domainHost:!0,parse:function(T,M){return T.host||(T.error=T.error||"HTTP URIs must have a host."),T},serialize:function(T,M){var K=String(T.scheme).toLowerCase()==="https";return(T.port===(K?443:80)||T.port==="")&&(T.port=void 0),T.path||(T.path="/"),T}},J={scheme:"https",domainHost:L.domainHost,parse:L.parse,serialize:L.serialize};function ee(R){return typeof R.secure=="boolean"?R.secure:String(R.scheme).toLowerCase()==="wss"}var ue={scheme:"ws",domainHost:!0,parse:function(T,M){var K=T;return K.secure=ee(K),K.resourceName=(K.path||"/")+(K.query?"?"+K.query:""),K.path=void 0,K.query=void 0,K},serialize:function(T,M){if((T.port===(ee(T)?443:80)||T.port==="")&&(T.port=void 0),typeof T.secure=="boolean"&&(T.scheme=T.secure?"wss":"ws",T.secure=void 0),T.resourceName){var K=T.resourceName.split("?"),z=f(K,2),me=z[0],ve=z[1];T.path=me&&me!=="/"?me:void 0,T.query=ve,T.resourceName=void 0}return T.fragment=void 0,T}},ge={scheme:"wss",domainHost:ue.domainHost,parse:ue.parse,serialize:ue.serialize},Be={},qe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Pe="[0-9A-Fa-f]",rt=u(u("%[EFef]"+Pe+"%"+Pe+Pe+"%"+Pe+Pe)+"|"+u("%[89A-Fa-f]"+Pe+"%"+Pe+Pe)+"|"+u("%"+Pe+Pe)),Ar="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",sn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",En=n(sn,'[\\"\\\\]'),xu="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Wn=new RegExp(qe,"g"),Qt=new RegExp(rt,"g"),Cs=new RegExp(n("[^]",Ar,"[\\.]",'[\\"]',En),"g"),fu=new RegExp(n("[^]",qe,xu),"g"),bs=fu;function zr(R){var T=x(R);return T.match(Wn)?T:R}var Ss={scheme:"mailto",parse:function(T,M){var K=T,z=K.to=K.path?K.path.split(","):[];if(K.path=void 0,K.query){for(var me=!1,ve={},Oe=K.query.split("&"),Me=0,et=Oe.length;Me<et;++Me){var $e=Oe[Me].split("=");switch($e[0]){case"to":for(var Je=$e[1].split(","),tt=0,Fe=Je.length;tt<Fe;++tt)z.push(Je[tt]);break;case"subject":K.subject=_($e[1],M);break;case"body":K.body=_($e[1],M);break;default:me=!0,ve[_($e[0],M)]=_($e[1],M);break}}me&&(K.headers=ve)}K.query=void 0;for(var We=0,nt=z.length;We<nt;++We){var Ke=z[We].split("@");if(Ke[0]=_(Ke[0]),M.unicodeSupport)Ke[1]=_(Ke[1],M).toLowerCase();else try{Ke[1]=O.toASCII(_(Ke[1],M).toLowerCase())}catch(er){K.error=K.error||"Email address's domain name can not be converted to ASCII via punycode: "+er}z[We]=Ke.join("@")}return K},serialize:function(T,M){var K=T,z=a(T.to);if(z){for(var me=0,ve=z.length;me<ve;++me){var Oe=String(z[me]),Me=Oe.lastIndexOf("@"),et=Oe.slice(0,Me).replace(Qt,zr).replace(Qt,o).replace(Cs,w),$e=Oe.slice(Me+1);try{$e=M.iri?O.toUnicode($e):O.toASCII(_($e,M).toLowerCase())}catch(We){K.error=K.error||"Email address's domain name can not be converted to "+(M.iri?"Unicode":"ASCII")+" via punycode: "+We}z[me]=et+"@"+$e}K.path=z.join(",")}var Je=T.headers=T.headers||{};T.subject&&(Je.subject=T.subject),T.body&&(Je.body=T.body);var tt=[];for(var Fe in Je)Je[Fe]!==Be[Fe]&&tt.push(Fe.replace(Qt,zr).replace(Qt,o).replace(fu,w)+"="+Je[Fe].replace(Qt,zr).replace(Qt,o).replace(bs,w));return tt.length&&(K.query=tt.join("&")),K}},ja=/^([^\:]+)\:(.*)/,ws={scheme:"urn",parse:function(T,M){var K=T.path&&T.path.match(ja),z=T;if(K){var me=M.scheme||z.scheme||"urn",ve=K[1].toLowerCase(),Oe=K[2],Me=me+":"+(M.nid||ve),et=b[Me];z.nid=ve,z.nss=Oe,z.path=void 0,et&&(z=et.parse(z,M))}else z.error=z.error||"URN can not be parsed.";return z},serialize:function(T,M){var K=M.scheme||T.scheme||"urn",z=T.nid,me=K+":"+(M.nid||z),ve=b[me];ve&&(T=ve.serialize(T,M));var Oe=T,Me=T.nss;return Oe.path=(z||M.nid)+":"+Me,Oe}},Ma=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,_s={scheme:"urn:uuid",parse:function(T,M){var K=T;return K.uuid=K.nss,K.nss=void 0,!M.tolerant&&(!K.uuid||!K.uuid.match(Ma))&&(K.error=K.error||"UUID is not valid."),K},serialize:function(T,M){var K=T;return K.nss=(T.uuid||"").toLowerCase(),K}};b[L.scheme]=L,b[J.scheme]=J,b[ue.scheme]=ue,b[ge.scheme]=ge,b[Ss.scheme]=Ss,b[ws.scheme]=ws,b[_s.scheme]=_s,r.SCHEMES=b,r.pctEncChar=w,r.pctDecChars=x,r.parse=Ue,r.removeDotSegments=ce,r.serialize=Te,r.resolveComponents=Z,r.resolve=ae,r.normalize=le,r.equal=N,r.escapeComponent=S,r.unescapeComponent=_,Object.defineProperty(r,"__esModule",{value:!0})})})(Wq,sp);Object.defineProperty(mm,"__esModule",{value:!0});const S6=sp;S6.code='require("ajv/dist/runtime/uri").default';mm.default=S6;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Rn;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=lt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Qi,u=ec,s=uo,o=Ur,a=lt,i=vr,c=Zi,l=vt,p=Hq,f=mm,d=(Q,q)=>new RegExp(Q,q);d.code="new RegExp";const h=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),A={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function F(Q){var q,v,C,D,g,O,b,w,x,k,G,H,re,_e,Le,Ue,Ge,be,je,ke,Ie,ce,Te,Z,ae;const le=Q.strict,N=(q=Q.code)===null||q===void 0?void 0:q.optimize,S=N===!0||N===void 0?1:N||0,_=(C=(v=Q.code)===null||v===void 0?void 0:v.regExp)!==null&&C!==void 0?C:d,L=(D=Q.uriResolver)!==null&&D!==void 0?D:f.default;return{strictSchema:(O=(g=Q.strictSchema)!==null&&g!==void 0?g:le)!==null&&O!==void 0?O:!0,strictNumbers:(w=(b=Q.strictNumbers)!==null&&b!==void 0?b:le)!==null&&w!==void 0?w:!0,strictTypes:(k=(x=Q.strictTypes)!==null&&x!==void 0?x:le)!==null&&k!==void 0?k:"log",strictTuples:(H=(G=Q.strictTuples)!==null&&G!==void 0?G:le)!==null&&H!==void 0?H:"log",strictRequired:(_e=(re=Q.strictRequired)!==null&&re!==void 0?re:le)!==null&&_e!==void 0?_e:!1,code:Q.code?{...Q.code,optimize:S,regExp:_}:{optimize:S,regExp:_},loopRequired:(Le=Q.loopRequired)!==null&&Le!==void 0?Le:y,loopEnum:(Ue=Q.loopEnum)!==null&&Ue!==void 0?Ue:y,meta:(Ge=Q.meta)!==null&&Ge!==void 0?Ge:!0,messages:(be=Q.messages)!==null&&be!==void 0?be:!0,inlineRefs:(je=Q.inlineRefs)!==null&&je!==void 0?je:!0,schemaId:(ke=Q.schemaId)!==null&&ke!==void 0?ke:"$id",addUsedSchema:(Ie=Q.addUsedSchema)!==null&&Ie!==void 0?Ie:!0,validateSchema:(ce=Q.validateSchema)!==null&&ce!==void 0?ce:!0,validateFormats:(Te=Q.validateFormats)!==null&&Te!==void 0?Te:!0,unicodeRegExp:(Z=Q.unicodeRegExp)!==null&&Z!==void 0?Z:!0,int32range:(ae=Q.int32range)!==null&&ae!==void 0?ae:!0,uriResolver:L}}class B{constructor(q={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,q=this.opts={...q,...F(q)};const{es5:v,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:v,lines:C}),this.logger=Y(q.logger);const D=q.validateFormats;q.validateFormats=!1,this.RULES=(0,s.getRules)(),P.call(this,A,q,"NOT SUPPORTED"),P.call(this,m,q,"DEPRECATED","warn"),this._metaOpts=W.call(this),q.formats&&U.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),q.keywords&&j.call(this,q.keywords),typeof q.meta=="object"&&this.addMetaSchema(q.meta),I.call(this),q.validateFormats=D}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:q,meta:v,schemaId:C}=this.opts;let D=p;C==="id"&&(D={...p},D.id=D.$id,delete D.$id),v&&q&&this.addMetaSchema(D,D[C],!1)}defaultMeta(){const{meta:q,schemaId:v}=this.opts;return this.opts.defaultMeta=typeof q=="object"?q[v]||q:void 0}validate(q,v){let C;if(typeof q=="string"){if(C=this.getSchema(q),!C)throw new Error(`no schema with key or ref "${q}"`)}else C=this.compile(q);const D=C(v);return"$async"in C||(this.errors=C.errors),D}compile(q,v){const C=this._addSchema(q,v);return C.validate||this._compileSchemaEnv(C)}compileAsync(q,v){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return D.call(this,q,v);async function D(k,G){await g.call(this,k.$schema);const H=this._addSchema(k,G);return H.validate||O.call(this,H)}async function g(k){k&&!this.getSchema(k)&&await D.call(this,{$ref:k},!0)}async function O(k){try{return this._compileSchemaEnv(k)}catch(G){if(!(G instanceof u.default))throw G;return b.call(this,G),await w.call(this,G.missingSchema),O.call(this,k)}}function b({missingSchema:k,missingRef:G}){if(this.refs[k])throw new Error(`AnySchema ${k} is loaded but ${G} cannot be resolved`)}async function w(k){const G=await x.call(this,k);this.refs[k]||await g.call(this,G.$schema),this.refs[k]||this.addSchema(G,k,v)}async function x(k){const G=this._loading[k];if(G)return G;try{return await(this._loading[k]=C(k))}finally{delete this._loading[k]}}}addSchema(q,v,C,D=this.opts.validateSchema){if(Array.isArray(q)){for(const O of q)this.addSchema(O,void 0,C,D);return this}let g;if(typeof q=="object"){const{schemaId:O}=this.opts;if(g=q[O],g!==void 0&&typeof g!="string")throw new Error(`schema ${O} must be string`)}return v=(0,i.normalizeId)(v||g),this._checkUnique(v),this.schemas[v]=this._addSchema(q,C,v,D,!0),this}addMetaSchema(q,v,C=this.opts.validateSchema){return this.addSchema(q,v,!0,C),this}validateSchema(q,v){if(typeof q=="boolean")return!0;let C;if(C=q.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const D=this.validate(C,q);if(!D&&v){const g="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(g);else throw new Error(g)}return D}getSchema(q){let v;for(;typeof(v=$.call(this,q))=="string";)q=v;if(v===void 0){const{schemaId:C}=this.opts,D=new o.SchemaEnv({schema:{},schemaId:C});if(v=o.resolveSchema.call(this,D,q),!v)return;this.refs[q]=v}return v.validate||this._compileSchemaEnv(v)}removeSchema(q){if(q instanceof RegExp)return this._removeAllSchemas(this.schemas,q),this._removeAllSchemas(this.refs,q),this;switch(typeof q){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const v=$.call(this,q);return typeof v=="object"&&this._cache.delete(v.schema),delete this.schemas[q],delete this.refs[q],this}case"object":{const v=q;this._cache.delete(v);let C=q[this.opts.schemaId];return C&&(C=(0,i.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(q){for(const v of q)this.addKeyword(v);return this}addKeyword(q,v){let C;if(typeof q=="string")C=q,typeof v=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),v.keyword=C);else if(typeof q=="object"&&v===void 0){if(v=q,C=v.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ie.call(this,C,v),!v)return(0,l.eachItem)(C,g=>fe.call(this,g)),this;de.call(this,v);const D={...v,type:(0,c.getJSONTypes)(v.type),schemaType:(0,c.getJSONTypes)(v.schemaType)};return(0,l.eachItem)(C,D.type.length===0?g=>fe.call(this,g,D):g=>D.type.forEach(O=>fe.call(this,g,D,O))),this}getKeyword(q){const v=this.RULES.all[q];return typeof v=="object"?v.definition:!!v}removeKeyword(q){const{RULES:v}=this;delete v.keywords[q],delete v.all[q];for(const C of v.rules){const D=C.rules.findIndex(g=>g.keyword===q);D>=0&&C.rules.splice(D,1)}return this}addFormat(q,v){return typeof v=="string"&&(v=new RegExp(v)),this.formats[q]=v,this}errorsText(q=this.errors,{separator:v=", ",dataVar:C="data"}={}){return!q||q.length===0?"No errors":q.map(D=>`${C}${D.instancePath} ${D.message}`).reduce((D,g)=>D+v+g)}$dataMetaSchema(q,v){const C=this.RULES.all;q=JSON.parse(JSON.stringify(q));for(const D of v){const g=D.split("/").slice(1);let O=q;for(const b of g)O=O[b];for(const b in C){const w=C[b];if(typeof w!="object")continue;const{$data:x}=w.definition,k=O[b];x&&k&&(O[b]=pe(k))}}return q}_removeAllSchemas(q,v){for(const C in q){const D=q[C];(!v||v.test(C))&&(typeof D=="string"?delete q[C]:D&&!D.meta&&(this._cache.delete(D.schema),delete q[C]))}}_addSchema(q,v,C,D=this.opts.validateSchema,g=this.opts.addUsedSchema){let O;const{schemaId:b}=this.opts;if(typeof q=="object")O=q[b];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof q!="boolean")throw new Error("schema must be object or boolean")}let w=this._cache.get(q);if(w!==void 0)return w;C=(0,i.normalizeId)(O||C);const x=i.getSchemaRefs.call(this,q,C);return w=new o.SchemaEnv({schema:q,schemaId:b,meta:v,baseId:C,localRefs:x}),this._cache.set(w.schema,w),g&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=w),D&&this.validateSchema(q,!0),w}_checkUnique(q){if(this.schemas[q]||this.refs[q])throw new Error(`schema with key or id "${q}" already exists`)}_compileSchemaEnv(q){if(q.meta?this._compileMetaSchema(q):o.compileSchema.call(this,q),!q.validate)throw new Error("ajv implementation error");return q.validate}_compileMetaSchema(q){const v=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,q)}finally{this.opts=v}}}e.default=B,B.ValidationError=n.default,B.MissingRefError=u.default;function P(Q,q,v,C="error"){for(const D in Q){const g=D;g in q&&this.logger[C](`${v}: option ${D}. ${Q[g]}`)}}function $(Q){return Q=(0,i.normalizeId)(Q),this.schemas[Q]||this.refs[Q]}function I(){const Q=this.opts.schemas;if(Q)if(Array.isArray(Q))this.addSchema(Q);else for(const q in Q)this.addSchema(Q[q],q)}function U(){for(const Q in this.opts.formats){const q=this.opts.formats[Q];q&&this.addFormat(Q,q)}}function j(Q){if(Array.isArray(Q)){this.addVocabulary(Q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const q in Q){const v=Q[q];v.keyword||(v.keyword=q),this.addKeyword(v)}}function W(){const Q={...this.opts};for(const q of h)delete Q[q];return Q}const te={log(){},warn(){},error(){}};function Y(Q){if(Q===!1)return te;if(Q===void 0)return console;if(Q.log&&Q.warn&&Q.error)return Q;throw new Error("logger must implement log, warn and error methods")}const oe=/^[a-z_$][a-z0-9_$:-]*$/i;function ie(Q,q){const{RULES:v}=this;if((0,l.eachItem)(Q,C=>{if(v.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!oe.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!q&&q.$data&&!("code"in q||"validate"in q))throw new Error('$data keyword must have "code" or "validate" function')}function fe(Q,q,v){var C;const D=q==null?void 0:q.post;if(v&&D)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:g}=this;let O=D?g.post:g.rules.find(({type:w})=>w===v);if(O||(O={type:v,rules:[]},g.rules.push(O)),g.keywords[Q]=!0,!q)return;const b={keyword:Q,definition:{...q,type:(0,c.getJSONTypes)(q.type),schemaType:(0,c.getJSONTypes)(q.schemaType)}};q.before?De.call(this,O,b,q.before):O.rules.push(b),g.all[Q]=b,(C=q.implements)===null||C===void 0||C.forEach(w=>this.addKeyword(w))}function De(Q,q,v){const C=Q.rules.findIndex(D=>D.keyword===v);C>=0?Q.rules.splice(C,0,q):(Q.rules.push(q),this.logger.warn(`rule ${v} is not defined`))}function de(Q){let{metaSchema:q}=Q;q!==void 0&&(Q.$data&&this.opts.$data&&(q=pe(q)),Q.validateSchema=this.compile(q,!0))}const Ce={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function pe(Q){return{anyOf:[Q,Ce]}}})(t6);var Em={},vm={},ym={};Object.defineProperty(ym,"__esModule",{value:!0});const Jq={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ym.default=Jq;var so={};Object.defineProperty(so,"__esModule",{value:!0});so.callRef=so.getValidate=void 0;const zq=ec,Hv=at,qr=lt,bo=cu,Wv=Ur,jc=vt,Kq={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:u,schemaEnv:s,validateName:o,opts:a,self:i}=n,{root:c}=s;if((r==="#"||r==="#/")&&u===c.baseId)return p();const l=Wv.resolveRef.call(i,c,u,r);if(l===void 0)throw new zq.default(n.opts.uriResolver,u,r);if(l instanceof Wv.SchemaEnv)return f(l);return d(l);function p(){if(s===c)return bl(e,o,s,s.$async);const h=t.scopeValue("root",{ref:c});return bl(e,(0,qr._)`${h}.validate`,c,c.$async)}function f(h){const E=w6(e,h);bl(e,E,h,h.$async)}function d(h){const E=t.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,qr.stringify)(h)}:{ref:h}),A=t.name("valid"),m=e.subschema({schema:h,dataTypes:[],schemaPath:qr.nil,topSchemaRef:E,errSchemaPath:r},A);e.mergeEvaluated(m),e.ok(A)}}};function w6(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,qr._)`${r.scopeValue("wrapper",{ref:t})}.validate`}so.getValidate=w6;function bl(e,t,r,n){const{gen:u,it:s}=e,{allErrors:o,schemaEnv:a,opts:i}=s,c=i.passContext?bo.default.this:qr.nil;n?l():p();function l(){if(!a.$async)throw new Error("async schema referenced by sync schema");const h=u.let("valid");u.try(()=>{u.code((0,qr._)`await ${(0,Hv.callValidateCode)(e,t,c)}`),d(t),o||u.assign(h,!0)},E=>{u.if((0,qr._)`!(${E} instanceof ${s.ValidationError})`,()=>u.throw(E)),f(E),o||u.assign(h,!1)}),e.ok(h)}function p(){e.result((0,Hv.callValidateCode)(e,t,c),()=>d(t),()=>f(t))}function f(h){const E=(0,qr._)`${h}.errors`;u.assign(bo.default.vErrors,(0,qr._)`${bo.default.vErrors} === null ? ${E} : ${bo.default.vErrors}.concat(${E})`),u.assign(bo.default.errors,(0,qr._)`${bo.default.vErrors}.length`)}function d(h){var E;if(!s.opts.unevaluated)return;const A=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(s.props=jc.mergeEvaluated.props(u,A.props,s.props));else{const m=u.var("props",(0,qr._)`${h}.evaluated.props`);s.props=jc.mergeEvaluated.props(u,m,s.props,qr.Name)}if(s.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(s.items=jc.mergeEvaluated.items(u,A.items,s.items));else{const m=u.var("items",(0,qr._)`${h}.evaluated.items`);s.items=jc.mergeEvaluated.items(u,m,s.items,qr.Name)}}}so.callRef=bl;so.default=Kq;Object.defineProperty(vm,"__esModule",{value:!0});const Xq=ym,Yq=so,Zq=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Xq.default,Yq.default];vm.default=Zq;var gm={},Am={};Object.defineProperty(Am,"__esModule",{value:!0});const op=lt,Uu=op.operators,ap={maximum:{okStr:"<=",ok:Uu.LTE,fail:Uu.GT},minimum:{okStr:">=",ok:Uu.GTE,fail:Uu.LT},exclusiveMaximum:{okStr:"<",ok:Uu.LT,fail:Uu.GTE},exclusiveMinimum:{okStr:">",ok:Uu.GT,fail:Uu.LTE}},Qq={message:({keyword:e,schemaCode:t})=>(0,op.str)`must be ${ap[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,op._)`{comparison: ${ap[e].okStr}, limit: ${t}}`},ex={keyword:Object.keys(ap),type:"number",schemaType:"number",$data:!0,error:Qq,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,op._)`${r} ${ap[t].fail} ${n} || isNaN(${r})`)}};Am.default=ex;var Fm={};Object.defineProperty(Fm,"__esModule",{value:!0});const mi=lt,tx={message:({schemaCode:e})=>(0,mi.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,mi._)`{multipleOf: ${e}}`},rx={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:tx,code(e){const{gen:t,data:r,schemaCode:n,it:u}=e,s=u.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,mi._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,mi._)`${o} !== parseInt(${o})`;e.fail$data((0,mi._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Fm.default=rx;var Cm={},bm={};Object.defineProperty(bm,"__esModule",{value:!0});function _6(e){const t=e.length;let r=0,n=0,u;for(;n<t;)r++,u=e.charCodeAt(n++),u>=55296&&u<=56319&&n<t&&(u=e.charCodeAt(n),(u&64512)===56320&&n++);return r}bm.default=_6;_6.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Cm,"__esModule",{value:!0});const Ls=lt,nx=vt,ux=bm,sx={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Ls.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Ls._)`{limit: ${e}}`},ox={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:sx,code(e){const{keyword:t,data:r,schemaCode:n,it:u}=e,s=t==="maxLength"?Ls.operators.GT:Ls.operators.LT,o=u.opts.unicode===!1?(0,Ls._)`${r}.length`:(0,Ls._)`${(0,nx.useFunc)(e.gen,ux.default)}(${r})`;e.fail$data((0,Ls._)`${o} ${s} ${n}`)}};Cm.default=ox;var Sm={};Object.defineProperty(Sm,"__esModule",{value:!0});const ax=at,ip=lt,ix={message:({schemaCode:e})=>(0,ip.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,ip._)`{pattern: ${e}}`},cx={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:ix,code(e){const{data:t,$data:r,schema:n,schemaCode:u,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,ip._)`(new RegExp(${u}, ${o}))`:(0,ax.usePattern)(e,n);e.fail$data((0,ip._)`!${a}.test(${t})`)}};Sm.default=cx;var wm={};Object.defineProperty(wm,"__esModule",{value:!0});const Ei=lt,lx={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Ei.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ei._)`{limit: ${e}}`},px={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:lx,code(e){const{keyword:t,data:r,schemaCode:n}=e,u=t==="maxProperties"?Ei.operators.GT:Ei.operators.LT;e.fail$data((0,Ei._)`Object.keys(${r}).length ${u} ${n}`)}};wm.default=px;var _m={};Object.defineProperty(_m,"__esModule",{value:!0});const Ga=at,vi=lt,fx=vt,dx={message:({params:{missingProperty:e}})=>(0,vi.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,vi._)`{missingProperty: ${e}}`},Dx={keyword:"required",type:"object",schemaType:"array",$data:!0,error:dx,code(e){const{gen:t,schema:r,schemaCode:n,data:u,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const i=r.length>=a.loopRequired;if(o.allErrors?c():l(),a.strictRequired){const d=e.parentSchema.properties,{definedProperties:h}=e.it;for(const E of r)if((d==null?void 0:d[E])===void 0&&!h.has(E)){const A=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${E}" is not defined at "${A}" (strictRequired)`;(0,fx.checkStrictMode)(o,m,o.opts.strictRequired)}}function c(){if(i||s)e.block$data(vi.nil,p);else for(const d of r)(0,Ga.checkReportMissingProp)(e,d)}function l(){const d=t.let("missing");if(i||s){const h=t.let("valid",!0);e.block$data(h,()=>f(d,h)),e.ok(h)}else t.if((0,Ga.checkMissingProp)(e,r,d)),(0,Ga.reportMissingProp)(e,d),t.else()}function p(){t.forOf("prop",n,d=>{e.setParams({missingProperty:d}),t.if((0,Ga.noPropertyInData)(t,u,d,a.ownProperties),()=>e.error())})}function f(d,h){e.setParams({missingProperty:d}),t.forOf(d,n,()=>{t.assign(h,(0,Ga.propertyInData)(t,u,d,a.ownProperties)),t.if((0,vi.not)(h),()=>{e.error(),t.break()})},vi.nil)}}};_m.default=Dx;var Bm={};Object.defineProperty(Bm,"__esModule",{value:!0});const yi=lt,hx={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,yi.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,yi._)`{limit: ${e}}`},mx={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:hx,code(e){const{keyword:t,data:r,schemaCode:n}=e,u=t==="maxItems"?yi.operators.GT:yi.operators.LT;e.fail$data((0,yi._)`${r}.length ${u} ${n}`)}};Bm.default=mx;var Tm={},tc={};Object.defineProperty(tc,"__esModule",{value:!0});const B6=c6;B6.code='require("ajv/dist/runtime/equal").default';tc.default=B6;Object.defineProperty(Tm,"__esModule",{value:!0});const td=Zi,hr=lt,Ex=vt,vx=tc,yx={message:({params:{i:e,j:t}})=>(0,hr.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,hr._)`{i: ${e}, j: ${t}}`},gx={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:yx,code(e){const{gen:t,data:r,$data:n,schema:u,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!u)return;const i=t.let("valid"),c=s.items?(0,td.getSchemaTypes)(s.items):[];e.block$data(i,l,(0,hr._)`${o} === false`),e.ok(i);function l(){const h=t.let("i",(0,hr._)`${r}.length`),E=t.let("j");e.setParams({i:h,j:E}),t.assign(i,!0),t.if((0,hr._)`${h} > 1`,()=>(p()?f:d)(h,E))}function p(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function f(h,E){const A=t.name("item"),m=(0,td.checkDataTypes)(c,A,a.opts.strictNumbers,td.DataType.Wrong),y=t.const("indices",(0,hr._)`{}`);t.for((0,hr._)`;${h}--;`,()=>{t.let(A,(0,hr._)`${r}[${h}]`),t.if(m,(0,hr._)`continue`),c.length>1&&t.if((0,hr._)`typeof ${A} == "string"`,(0,hr._)`${A} += "_"`),t.if((0,hr._)`typeof ${y}[${A}] == "number"`,()=>{t.assign(E,(0,hr._)`${y}[${A}]`),e.error(),t.assign(i,!1).break()}).code((0,hr._)`${y}[${A}] = ${h}`)})}function d(h,E){const A=(0,Ex.useFunc)(t,vx.default),m=t.name("outer");t.label(m).for((0,hr._)`;${h}--;`,()=>t.for((0,hr._)`${E} = ${h}; ${E}--;`,()=>t.if((0,hr._)`${A}(${r}[${h}], ${r}[${E}])`,()=>{e.error(),t.assign(i,!1).break(m)})))}}};Tm.default=gx;var $m={};Object.defineProperty($m,"__esModule",{value:!0});const R2=lt,Ax=vt,Fx=tc,Cx={message:"must be equal to constant",params:({schemaCode:e})=>(0,R2._)`{allowedValue: ${e}}`},bx={keyword:"const",$data:!0,error:Cx,code(e){const{gen:t,data:r,$data:n,schemaCode:u,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,R2._)`!${(0,Ax.useFunc)(t,Fx.default)}(${r}, ${u})`):e.fail((0,R2._)`${s} !== ${r}`)}};$m.default=bx;var Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});const ii=lt,Sx=vt,wx=tc,_x={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ii._)`{allowedValues: ${e}}`},Bx={keyword:"enum",schemaType:"array",$data:!0,error:_x,code(e){const{gen:t,data:r,$data:n,schema:u,schemaCode:s,it:o}=e;if(!n&&u.length===0)throw new Error("enum must have non-empty array");const a=u.length>=o.opts.loopEnum;let i;const c=()=>i??(i=(0,Sx.useFunc)(t,wx.default));let l;if(a||n)l=t.let("valid"),e.block$data(l,p);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const d=t.const("vSchema",s);l=(0,ii.or)(...u.map((h,E)=>f(d,E)))}e.pass(l);function p(){t.assign(l,!1),t.forOf("v",s,d=>t.if((0,ii._)`${c()}(${r}, ${d})`,()=>t.assign(l,!0).break()))}function f(d,h){const E=u[h];return typeof E=="object"&&E!==null?(0,ii._)`${c()}(${r}, ${d}[${h}])`:(0,ii._)`${r} === ${E}`}}};Pm.default=Bx;Object.defineProperty(gm,"__esModule",{value:!0});const Tx=Am,$x=Fm,Px=Cm,Ox=Sm,kx=wm,Ix=_m,Nx=Bm,qx=Tm,xx=$m,Rx=Pm,jx=[Tx.default,$x.default,Px.default,Ox.default,kx.default,Ix.default,Nx.default,qx.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},xx.default,Rx.default];gm.default=jx;var Om={},Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.validateAdditionalItems=void 0;const Us=lt,j2=vt,Mx={message:({params:{len:e}})=>(0,Us.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Us._)`{limit: ${e}}`},Lx={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Mx,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,j2.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}T6(e,n)}};function T6(e,t){const{gen:r,schema:n,data:u,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,Us._)`${u}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Us._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,j2.alwaysValidSchema)(o,n)){const c=r.var("valid",(0,Us._)`${a} <= ${t.length}`);r.if((0,Us.not)(c),()=>i(c)),e.ok(c)}function i(c){r.forRange("i",t.length,a,l=>{e.subschema({keyword:s,dataProp:l,dataPropType:j2.Type.Num},c),o.allErrors||r.if((0,Us.not)(c),()=>r.break())})}}Ba.validateAdditionalItems=T6;Ba.default=Lx;var km={},Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.validateTuple=void 0;const Jv=lt,Sl=vt,Ux=at,Gx={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return $6(e,"additionalItems",t);r.items=!0,!(0,Sl.alwaysValidSchema)(r,t)&&e.ok((0,Ux.validateArray)(e))}};function $6(e,t,r=e.schema){const{gen:n,parentSchema:u,data:s,keyword:o,it:a}=e;l(u),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Sl.mergeEvaluated.items(n,r.length,a.items));const i=n.name("valid"),c=n.const("len",(0,Jv._)`${s}.length`);r.forEach((p,f)=>{(0,Sl.alwaysValidSchema)(a,p)||(n.if((0,Jv._)`${c} > ${f}`,()=>e.subschema({keyword:o,schemaProp:f,dataProp:f},i)),e.ok(i))});function l(p){const{opts:f,errSchemaPath:d}=a,h=r.length,E=h===p.minItems&&(h===p.maxItems||p[t]===!1);if(f.strictTuples&&!E){const A=`"${o}" is ${h}-tuple, but minItems or maxItems/${t} are not specified or different at path "${d}"`;(0,Sl.checkStrictMode)(a,A,f.strictTuples)}}}Ta.validateTuple=$6;Ta.default=Gx;Object.defineProperty(km,"__esModule",{value:!0});const Vx=Ta,Hx={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Vx.validateTuple)(e,"items")};km.default=Hx;var Im={};Object.defineProperty(Im,"__esModule",{value:!0});const zv=lt,Wx=vt,Jx=at,zx=Ba,Kx={message:({params:{len:e}})=>(0,zv.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,zv._)`{limit: ${e}}`},Xx={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Kx,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:u}=r;n.items=!0,!(0,Wx.alwaysValidSchema)(n,t)&&(u?(0,zx.validateAdditionalItems)(e,u):e.ok((0,Jx.validateArray)(e)))}};Im.default=Xx;var Nm={};Object.defineProperty(Nm,"__esModule",{value:!0});const pn=lt,Mc=vt,Yx={message:({params:{min:e,max:t}})=>t===void 0?(0,pn.str)`must contain at least ${e} valid item(s)`:(0,pn.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,pn._)`{minContains: ${e}}`:(0,pn._)`{minContains: ${e}, maxContains: ${t}}`},Zx={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Yx,code(e){const{gen:t,schema:r,parentSchema:n,data:u,it:s}=e;let o,a;const{minContains:i,maxContains:c}=n;s.opts.next?(o=i===void 0?1:i,a=c):o=1;const l=t.const("len",(0,pn._)`${u}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Mc.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Mc.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Mc.alwaysValidSchema)(s,r)){let E=(0,pn._)`${l} >= ${o}`;a!==void 0&&(E=(0,pn._)`${E} && ${l} <= ${a}`),e.pass(E);return}s.items=!0;const p=t.name("valid");a===void 0&&o===1?d(p,()=>t.if(p,()=>t.break())):o===0?(t.let(p,!0),a!==void 0&&t.if((0,pn._)`${u}.length > 0`,f)):(t.let(p,!1),f()),e.result(p,()=>e.reset());function f(){const E=t.name("_valid"),A=t.let("count",0);d(E,()=>t.if(E,()=>h(A)))}function d(E,A){t.forRange("i",0,l,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Mc.Type.Num,compositeRule:!0},E),A()})}function h(E){t.code((0,pn._)`${E}++`),a===void 0?t.if((0,pn._)`${E} >= ${o}`,()=>t.assign(p,!0).break()):(t.if((0,pn._)`${E} > ${a}`,()=>t.assign(p,!1).break()),o===1?t.assign(p,!0):t.if((0,pn._)`${E} >= ${o}`,()=>t.assign(p,!0)))}}};Nm.default=Zx;var P6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=lt,r=vt,n=at;e.error={message:({params:{property:i,depsCount:c,deps:l}})=>{const p=c===1?"property":"properties";return(0,t.str)`must have ${p} ${l} when property ${i} is present`},params:({params:{property:i,depsCount:c,deps:l,missingProperty:p}})=>(0,t._)`{property: ${i},
    missingProperty: ${p},
    depsCount: ${c},
    deps: ${l}}`};const u={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(i){const[c,l]=s(i);o(i,c),a(i,l)}};function s({schema:i}){const c={},l={};for(const p in i){if(p==="__proto__")continue;const f=Array.isArray(i[p])?c:l;f[p]=i[p]}return[c,l]}function o(i,c=i.schema){const{gen:l,data:p,it:f}=i;if(Object.keys(c).length===0)return;const d=l.let("missing");for(const h in c){const E=c[h];if(E.length===0)continue;const A=(0,n.propertyInData)(l,p,h,f.opts.ownProperties);i.setParams({property:h,depsCount:E.length,deps:E.join(", ")}),f.allErrors?l.if(A,()=>{for(const m of E)(0,n.checkReportMissingProp)(i,m)}):(l.if((0,t._)`${A} && (${(0,n.checkMissingProp)(i,E,d)})`),(0,n.reportMissingProp)(i,d),l.else())}}e.validatePropertyDeps=o;function a(i,c=i.schema){const{gen:l,data:p,keyword:f,it:d}=i,h=l.name("valid");for(const E in c)(0,r.alwaysValidSchema)(d,c[E])||(l.if((0,n.propertyInData)(l,p,E,d.opts.ownProperties),()=>{const A=i.subschema({keyword:f,schemaProp:E},h);i.mergeValidEvaluated(A,h)},()=>l.var(h,!0)),i.ok(h))}e.validateSchemaDeps=a,e.default=u})(P6);var qm={};Object.defineProperty(qm,"__esModule",{value:!0});const O6=lt,Qx=vt,eR={message:"property name must be valid",params:({params:e})=>(0,O6._)`{propertyName: ${e.propertyName}}`},tR={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:eR,code(e){const{gen:t,schema:r,data:n,it:u}=e;if((0,Qx.alwaysValidSchema)(u,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,O6.not)(s),()=>{e.error(!0),u.allErrors||t.break()})}),e.ok(s)}};qm.default=tR;var Up={};Object.defineProperty(Up,"__esModule",{value:!0});const Lc=at,Tn=lt,rR=cu,Uc=vt,nR={message:"must NOT have additional properties",params:({params:e})=>(0,Tn._)`{additionalProperty: ${e.additionalProperty}}`},uR={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:nR,code(e){const{gen:t,schema:r,parentSchema:n,data:u,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:i}=o;if(o.props=!0,i.removeAdditional!=="all"&&(0,Uc.alwaysValidSchema)(o,r))return;const c=(0,Lc.allSchemaProperties)(n.properties),l=(0,Lc.allSchemaProperties)(n.patternProperties);p(),e.ok((0,Tn._)`${s} === ${rR.default.errors}`);function p(){t.forIn("key",u,A=>{!c.length&&!l.length?h(A):t.if(f(A),()=>h(A))})}function f(A){let m;if(c.length>8){const y=(0,Uc.schemaRefOrVal)(o,n.properties,"properties");m=(0,Lc.isOwnProperty)(t,y,A)}else c.length?m=(0,Tn.or)(...c.map(y=>(0,Tn._)`${A} === ${y}`)):m=Tn.nil;return l.length&&(m=(0,Tn.or)(m,...l.map(y=>(0,Tn._)`${(0,Lc.usePattern)(e,y)}.test(${A})`))),(0,Tn.not)(m)}function d(A){t.code((0,Tn._)`delete ${u}[${A}]`)}function h(A){if(i.removeAdditional==="all"||i.removeAdditional&&r===!1){d(A);return}if(r===!1){e.setParams({additionalProperty:A}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Uc.alwaysValidSchema)(o,r)){const m=t.name("valid");i.removeAdditional==="failing"?(E(A,m,!1),t.if((0,Tn.not)(m),()=>{e.reset(),d(A)})):(E(A,m),a||t.if((0,Tn.not)(m),()=>t.break()))}}function E(A,m,y){const F={keyword:"additionalProperties",dataProp:A,dataPropType:Uc.Type.Str};y===!1&&Object.assign(F,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(F,m)}}};Up.default=uR;var xm={};Object.defineProperty(xm,"__esModule",{value:!0});const sR=Rn,Kv=at,rd=vt,Xv=Up,oR={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:u,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Xv.default.code(new sR.KeywordCxt(s,Xv.default,"additionalProperties"));const o=(0,Kv.allSchemaProperties)(r);for(const p of o)s.definedProperties.add(p);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=rd.mergeEvaluated.props(t,(0,rd.toHash)(o),s.props));const a=o.filter(p=>!(0,rd.alwaysValidSchema)(s,r[p]));if(a.length===0)return;const i=t.name("valid");for(const p of a)c(p)?l(p):(t.if((0,Kv.propertyInData)(t,u,p,s.opts.ownProperties)),l(p),s.allErrors||t.else().var(i,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(i);function c(p){return s.opts.useDefaults&&!s.compositeRule&&r[p].default!==void 0}function l(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},i)}}};xm.default=oR;var Rm={};Object.defineProperty(Rm,"__esModule",{value:!0});const Yv=at,Gc=lt,Zv=vt,Qv=vt,aR={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:u,it:s}=e,{opts:o}=s,a=(0,Yv.allSchemaProperties)(r),i=a.filter(E=>(0,Zv.alwaysValidSchema)(s,r[E]));if(a.length===0||i.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const c=o.strictSchema&&!o.allowMatchingProperties&&u.properties,l=t.name("valid");s.props!==!0&&!(s.props instanceof Gc.Name)&&(s.props=(0,Qv.evaluatedPropsToName)(t,s.props));const{props:p}=s;f();function f(){for(const E of a)c&&d(E),s.allErrors?h(E):(t.var(l,!0),h(E),t.if(l))}function d(E){for(const A in c)new RegExp(E).test(A)&&(0,Zv.checkStrictMode)(s,`property ${A} matches pattern ${E} (use allowMatchingProperties)`)}function h(E){t.forIn("key",n,A=>{t.if((0,Gc._)`${(0,Yv.usePattern)(e,E)}.test(${A})`,()=>{const m=i.includes(E);m||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:A,dataPropType:Qv.Type.Str},l),s.opts.unevaluated&&p!==!0?t.assign((0,Gc._)`${p}[${A}]`,!0):!m&&!s.allErrors&&t.if((0,Gc.not)(l),()=>t.break())})})}}};Rm.default=aR;var jm={};Object.defineProperty(jm,"__esModule",{value:!0});const iR=vt,cR={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,iR.alwaysValidSchema)(n,r)){e.fail();return}const u=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),e.failResult(u,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};jm.default=cR;var Mm={};Object.defineProperty(Mm,"__esModule",{value:!0});const lR=at,pR={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:lR.validateUnion,error:{message:"must match a schema in anyOf"}};Mm.default=pR;var Lm={};Object.defineProperty(Lm,"__esModule",{value:!0});const wl=lt,fR=vt,dR={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,wl._)`{passingSchemas: ${e.passing}}`},DR={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:dR,code(e){const{gen:t,schema:r,parentSchema:n,it:u}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(u.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),i=t.name("_valid");e.setParams({passing:a}),t.block(c),e.result(o,()=>e.reset(),()=>e.error(!0));function c(){s.forEach((l,p)=>{let f;(0,fR.alwaysValidSchema)(u,l)?t.var(i,!0):f=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},i),p>0&&t.if((0,wl._)`${i} && ${o}`).assign(o,!1).assign(a,(0,wl._)`[${a}, ${p}]`).else(),t.if(i,()=>{t.assign(o,!0),t.assign(a,p),f&&e.mergeEvaluated(f,wl.Name)})})}}};Lm.default=DR;var Um={};Object.defineProperty(Um,"__esModule",{value:!0});const hR=vt,mR={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const u=t.name("valid");r.forEach((s,o)=>{if((0,hR.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},u);e.ok(u),e.mergeEvaluated(a)})}};Um.default=mR;var Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});const cp=lt,k6=vt,ER={message:({params:e})=>(0,cp.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,cp._)`{failingKeyword: ${e.ifClause}}`},vR={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:ER,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,k6.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const u=ey(n,"then"),s=ey(n,"else");if(!u&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(i(),e.reset(),u&&s){const l=t.let("ifClause");e.setParams({ifClause:l}),t.if(a,c("then",l),c("else",l))}else u?t.if(a,c("then")):t.if((0,cp.not)(a),c("else"));e.pass(o,()=>e.error(!0));function i(){const l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(l)}function c(l,p){return()=>{const f=e.subschema({keyword:l},a);t.assign(o,a),e.mergeValidEvaluated(f,o),p?t.assign(p,(0,cp._)`${l}`):e.setParams({ifClause:l})}}}};function ey(e,t){const r=e.schema[t];return r!==void 0&&!(0,k6.alwaysValidSchema)(e,r)}Gm.default=vR;var Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});const yR=vt,gR={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,yR.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Vm.default=gR;Object.defineProperty(Om,"__esModule",{value:!0});const AR=Ba,FR=km,CR=Ta,bR=Im,SR=Nm,wR=P6,_R=qm,BR=Up,TR=xm,$R=Rm,PR=jm,OR=Mm,kR=Lm,IR=Um,NR=Gm,qR=Vm;function xR(e=!1){const t=[PR.default,OR.default,kR.default,IR.default,NR.default,qR.default,_R.default,BR.default,wR.default,TR.default,$R.default];return e?t.push(FR.default,bR.default):t.push(AR.default,CR.default),t.push(SR.default),t}Om.default=xR;var Hm={},Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});const Jt=lt,RR={message:({schemaCode:e})=>(0,Jt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Jt._)`{format: ${e}}`},jR={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:RR,code(e,t){const{gen:r,data:n,$data:u,schema:s,schemaCode:o,it:a}=e,{opts:i,errSchemaPath:c,schemaEnv:l,self:p}=a;if(!i.validateFormats)return;u?f():d();function f(){const h=r.scopeValue("formats",{ref:p.formats,code:i.code.formats}),E=r.const("fDef",(0,Jt._)`${h}[${o}]`),A=r.let("fType"),m=r.let("format");r.if((0,Jt._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(A,(0,Jt._)`${E}.type || "string"`).assign(m,(0,Jt._)`${E}.validate`),()=>r.assign(A,(0,Jt._)`"string"`).assign(m,E)),e.fail$data((0,Jt.or)(y(),F()));function y(){return i.strictSchema===!1?Jt.nil:(0,Jt._)`${o} && !${m}`}function F(){const B=l.$async?(0,Jt._)`(${E}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,Jt._)`${m}(${n})`,P=(0,Jt._)`(typeof ${m} == "function" ? ${B} : ${m}.test(${n}))`;return(0,Jt._)`${m} && ${m} !== true && ${A} === ${t} && !${P}`}}function d(){const h=p.formats[s];if(!h){y();return}if(h===!0)return;const[E,A,m]=F(h);E===t&&e.pass(B());function y(){if(i.strictSchema===!1){p.logger.warn(P());return}throw new Error(P());function P(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function F(P){const $=P instanceof RegExp?(0,Jt.regexpCode)(P):i.code.formats?(0,Jt._)`${i.code.formats}${(0,Jt.getProperty)(s)}`:void 0,I=r.scopeValue("formats",{key:s,ref:P,code:$});return typeof P=="object"&&!(P instanceof RegExp)?[P.type||"string",P.validate,(0,Jt._)`${I}.validate`]:["string",P,I]}function B(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!l.$async)throw new Error("async format in sync schema");return(0,Jt._)`await ${m}(${n})`}return typeof A=="function"?(0,Jt._)`${m}(${n})`:(0,Jt._)`${m}.test(${n})`}}}};Wm.default=jR;Object.defineProperty(Hm,"__esModule",{value:!0});const MR=Wm,LR=[MR.default];Hm.default=LR;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.contentVocabulary=Da.metadataVocabulary=void 0;Da.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Da.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Em,"__esModule",{value:!0});const UR=vm,GR=gm,VR=Om,HR=Hm,ty=Da,WR=[UR.default,GR.default,(0,VR.default)(),HR.default,ty.metadataVocabulary,ty.contentVocabulary];Em.default=WR;var Jm={},I6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(I6);Object.defineProperty(Jm,"__esModule",{value:!0});const zo=lt,M2=I6,ry=Ur,JR=vt,zR={message:({params:{discrError:e,tagName:t}})=>e===M2.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,zo._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},KR={keyword:"discriminator",type:"object",schemaType:"object",error:zR,code(e){const{gen:t,data:r,schema:n,parentSchema:u,it:s}=e,{oneOf:o}=u;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const i=t.let("valid",!1),c=t.const("tag",(0,zo._)`${r}${(0,zo.getProperty)(a)}`);t.if((0,zo._)`typeof ${c} == "string"`,()=>l(),()=>e.error(!1,{discrError:M2.DiscrError.Tag,tag:c,tagName:a})),e.ok(i);function l(){const d=f();t.if(!1);for(const h in d)t.elseIf((0,zo._)`${c} === ${h}`),t.assign(i,p(d[h]));t.else(),e.error(!1,{discrError:M2.DiscrError.Mapping,tag:c,tagName:a}),t.endIf()}function p(d){const h=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:d},h);return e.mergeEvaluated(E,zo.Name),h}function f(){var d;const h={},E=m(u);let A=!0;for(let B=0;B<o.length;B++){let P=o[B];P!=null&&P.$ref&&!(0,JR.schemaHasRulesButRef)(P,s.self.RULES)&&(P=ry.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,P==null?void 0:P.$ref),P instanceof ry.SchemaEnv&&(P=P.schema));const $=(d=P==null?void 0:P.properties)===null||d===void 0?void 0:d[a];if(typeof $!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);A=A&&(E||m(P)),y($,B)}if(!A)throw new Error(`discriminator: "${a}" must be required`);return h;function m({required:B}){return Array.isArray(B)&&B.includes(a)}function y(B,P){if(B.const)F(B.const,P);else if(B.enum)for(const $ of B.enum)F($,P);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function F(B,P){if(typeof B!="string"||B in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[B]=P}}}};Jm.default=KR;const XR="http://json-schema.org/draft-07/schema#",YR="http://json-schema.org/draft-07/schema#",ZR="Core schema meta-schema",QR={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ej=["object","boolean"],tj={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},rj={$schema:XR,$id:YR,title:ZR,definitions:QR,type:ej,properties:tj,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=t6,n=Em,u=Jm,s=rj,o=["/properties"],a="http://json-schema.org/draft-07/schema";class i extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(u.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(h,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var c=Rn;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=lt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var p=Qi;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var f=ec;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(fN,np);const nj="Root",uj="object",sj="Root Element",oj={base64String:{type:"string",pattern:"^[A-Za-z0-9/+=]*$"},tagString:{type:"string",pattern:"^[a-z][a-z0-9]*(:.+)?$"}},aj={id:{type:"string"},metadata:{type:"object",properties:{selectors:{type:"object",additionalProperties:{type:"string"}}},required:["selectors"],additionalProperties:!1},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},enums:{type:"object",properties:{ids:{$ref:"#/definitions/base64String"},wordLike:{$ref:"#/definitions/base64String"},notWordLike:{$ref:"#/definitions/base64String"},scopeBits:{$ref:"#/definitions/base64String"},graftTypes:{$ref:"#/definitions/base64String"}},required:["ids","wordLike","notWordLike","scopeBits","graftTypes"],additionalProperties:!1},docs:{type:"object",propertyNames:{type:"string"},additionalProperties:{type:"object",properties:{sequences:{type:"object",additionalProperties:{type:"object",properties:{type:{type:"string"},blocks:{type:"array",items:{type:"object",properties:{bs:{type:"string"},bg:{type:"string"},c:{type:"string"},is:{type:"string"},os:{type:"string"},nt:{type:"string"}},required:["bs","bg","c","is","os","nt"],additionalProperties:!1}},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},chapters:{type:"object",additionalProperties:{type:"string"}},chapterVerses:{type:"object",additionalProperties:{type:"string"}},tokensPresent:{type:"string"}},required:["blocks","tags"],additionalProperties:!1}},headers:{type:"object",additionalProperties:{type:"string"}},mainId:{type:"string"},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}}},required:["sequences","headers","mainId","tags"],additionalProperties:!1}},additionalProperties:!1},ij=["id","enums","docs","tags"],cj=!1,lj={title:nj,type:uj,description:sj,definitions:oj,properties:aj,required:ij,additionalProperties:cj},pj="version 0.1.0",fj="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/document_structure.json",dj="Document (Structure)",Dj="A document, typically corresponding to a single USFM or USX book",hj="object",mj={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},Ej=["schema","metadata"],vj=!1,yj={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},gj={$comment:pj,$id:fj,title:dj,description:Dj,type:hj,properties:mj,required:Ej,additionalProperties:vj,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:yj,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},Aj="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/sequence_structure.json",Fj="Sequence (Structure)",Cj="A sequence contains a 'flow' of one or more blocks",bj="object",Sj={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}}},wj=["type"],_j=!1,Bj={$id:Aj,title:Fj,description:Cj,type:bj,properties:Sj,required:wj,additionalProperties:_j},Tj="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/block_structure.json",$j="Block (Structure)",Pj="A block, which represents either a paragraph of text or a graft",Oj="object",kj={type:{type:"string",description:"The type of block",enum:["paragraph","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},Ij=["type"],Nj=!1,qj={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},xj={$id:Tj,title:$j,description:Pj,type:Oj,properties:kj,required:Ij,additionalProperties:Nj,if:{properties:{type:{enum:["paragraph"]}}},then:qj,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},Rj="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/contentElement_structure.json",jj="Content Element (Structure)",Mj="A content element, ie some form of (possibly nested) markup",Lj="object",Uj={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},Gj=["type"],Vj=!1,Hj={$id:Rj,title:jj,description:Mj,type:Lj,properties:Uj,required:Gj,additionalProperties:Vj},Wj="version 0.2.0",Jj="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_document_constraint.json",zj="object",Kj={sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},Xj={$comment:Wj,$id:Jj,type:zj,properties:Kj},Yj="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_sequence_constraint.json",Zj="object",Qj={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},eM={$id:Yj,type:Zj,properties:Qj},tM="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_block_constraint.json",rM="object",nM={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},uM={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},sM={$id:tM,type:rM,properties:nM,if:{properties:{type:{enum:["graft"]}}},then:uM,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},oM="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_contentElement_constraint.json",aM="object",iM=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],cM={$id:oM,type:aM,allOf:iM},lM="version 0.2.0",pM="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_document_constraint.json",fM="object",dM={sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sofria_sequence_constraint.json"}}},DM={$comment:lM,$id:pM,type:fM,properties:dM},hM="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_sequence_constraint.json",mM="object",EM={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},vM={$id:hM,type:mM,properties:EM},yM="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_block_constraint.json",gM="object",AM={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},FM={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},CM={$id:yM,type:gM,properties:AM,if:{properties:{type:{enum:["graft"]}}},then:FM,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},bM="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_contentElement_constraint.json",SM="object",wM=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["block"]},{required:["preview_text"]}]}},else:{required:["block"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],_M={$id:bM,type:SM,allOf:wM},BM="version 0.1.0",TM="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/document_structure.json",$M="Document (Structure)",PM="A document, typically corresponding to a single USFM or USX book",OM="object",kM={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},hooks:{type:"array",$ref:"./hook_structure.json"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},IM=["schema","metadata"],NM=!1,qM={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},xM={$comment:BM,$id:TM,title:$M,description:PM,type:OM,properties:kM,required:IM,additionalProperties:NM,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:qM,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},RM="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/sequence_structure.json",jM="Sequence (Structure)",MM="A sequence contains a 'flow' of one or more blocks",LM="object",UM={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}},hooks:{type:"array",$ref:"./hook_structure.json"}},GM=["type"],VM=!1,HM={$id:RM,title:jM,description:MM,type:LM,properties:UM,required:GM,additionalProperties:VM},WM="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/block_structure.json",JM="Block (Structure)",zM="A block, which represents either a paragraph of text or a graft",KM="object",XM={type:{type:"string",description:"The type of block",enum:["paragraph","row","node","lookup","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},YM=["type"],ZM=!1,QM={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},eL={$id:WM,title:JM,description:zM,type:KM,properties:XM,required:YM,additionalProperties:ZM,if:{properties:{type:{enum:["paragraph","row","node","lookup"]}}},then:QM,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},tL="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/contentElement_structure.json",rL="Content Element (Structure)",nL="A content element, ie some form of (possibly nested) markup",uL="object",sL={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},oL=["type"],aL=!1,iL={$id:tL,title:rL,description:nL,type:uL,properties:sL,required:oL,additionalProperties:aL},cL="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/hook_structure.json",lL="Hook (Structure)",pL="Hooks, ie typed labels that may be used to link documents",fL="array",dL={type:"array",items:[{type:"string",oneOf:[{enum:["bcv_ref","book_ref"]},{pattern:"^x-(app|publisher)-[a-z][a-z0-9]+-\\S{2,256}$"},{pattern:"^x-local-\\S{2,256}$"}]},{type:"string",oneOf:[{enum:["label"]},{pattern:"^\\w{1,255}$"}]}],minItems:2,maxItems:2},DL={$id:cL,title:lL,description:pL,type:fL,items:dL},hL="version 0.3.0",mL="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_document_constraint.json",EL="object",vL={hooks:{type:"array"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},yL={$comment:hL,$id:mL,type:EL,properties:vL},gL="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_sequence_constraint.json",AL="object",FL={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},CL={$id:gL,type:AL,properties:FL},bL="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_block_constraint.json",SL="object",wL={type:{type:"string",enum:["paragraph","graft","row","node","lookup"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},_L={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},BL={$id:bL,type:SL,properties:wL,if:{properties:{type:{enum:["graft"]}}},then:_L,else:{if:{properties:{type:{enum:["row"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["row:heading","row:body"]}]}}},else:{if:{properties:{type:{enum:["node"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["node"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{id:{type:"string"},parent:{type:"string"},children:{type:"array",items:{type:"string"}}},required:["id"],additionalProperties:!1}}},else:{if:{properties:{type:{enum:["lookup"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["lookup"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{primary:{type:"string"},secondary:{type:"array",items:{type:"string"}}},required:["primary"],additionalProperties:!1}}},else:{properties:{subtype:{type:"string",oneOf:[{pattern:"^usfm:"},{pattern:"^x-\\S{1,256}$"}]}}}}}}},TL="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_contentElement_constraint.json",$L="object",PL=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],OL={$id:TL,type:$L,allOf:PL},kL="version 0.3.0",IL="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_document_constraint.json",NL="object",qL={sequence:{$ref:"./sofria_sequence_constraint.json"}},xL={$comment:kL,$id:IL,type:NL,properties:qL},RL="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_sequence_constraint.json",jL="object",ML={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},LL={$id:RL,type:jL,properties:ML},UL="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_block_constraint.json",GL="object",VL={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},HL={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},WL={$id:UL,type:GL,properties:VL,if:{properties:{type:{enum:["graft"]}}},then:HL,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},JL="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_contentElement_constraint.json",zL="object",KL=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["blocks"]},{required:["preview_text"]}]}},else:{required:["sequence"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],XL={$id:JL,type:zL,allOf:KL};var Wt=np,YL=lj,nd=gj,So=Bj,wo=xj,_o=Hj,ZL=Xj,ny=eM,uy=sM,sy=cM,QL=DM,oy=vM,ay=CM,iy=_M,ud=xM,Bo=HM,To=eL,$o=iL,Jn=DL,eU=yL,cy=CL,ly=BL,py=OL,tU=xL,fy=LL,dy=WL,Dy=XL;let rU=class{constructor(){this.schema={structure:{},constraint:{},proskomma:{}};for(var[t,r]of[["succinct",{"0.2.0":[{name:"Proskomma Serialized Succinct",validator:new Wt().compile(YL)}]}]])this.schema.proskomma[t]=r;for(var[n,u]of[["document",{"0.2.1":[{name:"Document Structure",validator:new Wt().addSchema(_o).addSchema(wo).addSchema(So).compile(nd)}],"0.3.0":[{name:"Document Structure",validator:new Wt().addSchema(Jn).addSchema($o).addSchema(To).addSchema(Bo).compile(ud)}]}],["sequence",{"0.2.1":[{name:"Sequence Structure",validator:new Wt().addSchema(_o).addSchema(wo).compile(So)}],"0.3.0":[{name:"Sequence Structure",validator:new Wt().addSchema(Jn).addSchema($o).addSchema(To).compile(Bo)}]}]])this.schema.structure[n]=u;for(var[s,o]of[["perfDocument",{"0.2.1":[{name:"Document Structure",validator:new Wt().addSchema(_o).addSchema(wo).addSchema(So).compile(nd)},{name:"PERF Document",validator:new Wt().addSchema(sy).addSchema(uy).addSchema(ny).compile(ZL)}],"0.3.0":[{name:"Document Structure",validator:new Wt().addSchema(Jn).addSchema($o).addSchema(To).addSchema(Bo).compile(ud)},{name:"PERF Document",validator:new Wt().addSchema(Jn).addSchema(py).addSchema(ly).addSchema(cy).compile(eU)}]}],["perfSequence",{"0.2.1":[{name:"Sequence Structure",validator:new Wt().addSchema(_o).addSchema(wo).compile(So)},{name:"PERF Sequence",validator:new Wt().addSchema(sy).addSchema(uy).compile(ny)}],"0.3.0":[{name:"Sequence Structure",validator:new Wt().addSchema(Jn).addSchema($o).addSchema(To).compile(Bo)},{name:"PERF Sequence",validator:new Wt().addSchema(Jn).addSchema(py).addSchema(ly).compile(cy)}]}],["sofriaDocument",{"0.2.1":[{name:"Document Structure",validator:new Wt().addSchema(_o).addSchema(wo).addSchema(So).compile(nd)},{name:"SOFRIA Document",validator:new Wt().addSchema(iy).addSchema(ay).addSchema(oy).compile(QL)}],"0.3.0":[{name:"Document Structure",validator:new Wt().addSchema(Jn).addSchema($o).addSchema(To).addSchema(Bo).compile(ud)},{name:"SOFRIA Document",validator:new Wt().addSchema(Jn).addSchema(Dy).addSchema(dy).addSchema(fy).compile(tU)}]}],["sofriaSequence",{"0.2.1":[{name:"Sequence Structure",validator:new Wt().addSchema(_o).addSchema(wo).compile(So)},{name:"SOFRIA Sequence",validator:new Wt().addSchema(iy).addSchema(ay).compile(oy)}],"0.3.0":[{name:"Sequence Structure",validator:new Wt().addSchema(Jn).addSchema($o).addSchema(To).compile(Bo)},{name:"SOFRIA Sequence",validator:new Wt().addSchema(Jn).addSchema(Dy).addSchema(dy).compile(fy)}]}]])this.schema.constraint[s]=o}schemaInfo(){var t={};for(var[r,n]of Object.entries(this.schema)){t[r]={};for(var[u,s]of Object.entries(n)){t[r][u]={};for(var[o,a]of Object.entries(s))t[r][u][o]=a.map(i=>i.name)}}return t}validate(t,r,n,u){if(u===void 0)throw new Error("data argument is missing. Usage: validate(schemaType, schemaKey, schemaVersion, data)");if(u===null)throw new Error("Data argument is null");var s=Object.keys(this.schema);if(!s.includes(t))throw new Error("Schema type must be one of ".concat(s.map(l=>"'".concat(l,"'")).join(", "),", not '").concat(t,"'"));if(!this.schema[t][r])throw new Error("Unknown ".concat(t," schema key ").concat(r));if(!this.schema[t][r][n])throw new Error("Unknown version ".concat(n," for ").concat(t," schema key ").concat(r));var o=this.schema[t][r][n],a;for(var{name:i,validator:c}of o)if(a={validatorName:i,isValid:c(u),errors:c.errors},!a.isValid)break;return{requested:{schemaType:t,schemaKey:r,schemaVersion:n},lastSchema:a.validatorName,isValid:a.isValid,errors:a.errors}}};var nU=rU,uU=["qs","qac","litl","lik","liv","fr","fq","fqa","fk","fl","fw","fp","fv","ft","fdc","fm","xo","xk","xq","xt","xta","xop","xot","xnt","xdc","rq","add","bk","dc","k","nd","ord","pn","png","qt","sig","sls","tl","wj","em","bd","it","bdit","no","sc","sup","ior","iqt","th","thr","tc","tcr"],sU=["ms","mr","s","sr","r","qa","sp","sd"],oU=["cd","p","m","po","pr","cls","pmo","pm","pmc","pmr","pi","mi","nb","pc","ph","b","q","qr","qc","qa","qm","qd","lh","li","lf","lim","d"],aU=["imt","is","imte"],iU=["ip","ipi","im","imi","ipq","imq","ipr","iq","ib","ili","iot","io","iex"],cU={characterTags:uU,bodyTags:oU,headingTags:sU,introHeadingTags:aU,introBodyTags:iU};const zm=qB(GB);var hy=lU(zm);function lU(e){return e&&e.__esModule?e:{default:e}}var pU={startDocument:[{description:"Set up storage",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;t.verseContent=[],t.chapter=null,t.verses=null,r.cv={}}}],mark:[{description:"Update CV state",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n}=e,{element:u}=t.sequences[0];u.subType==="chapter"?(r.chapter=u.atts.number,r.verses=0,n.cv[r.chapter]={},n.cv[r.chapter][r.verses]={}):u.subType==="verses"&&(r.verses=u.atts.number,n.cv[r.chapter][r.verses]={})}}],text:[{description:"Log occurrences",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n}=e,{chapter:u,verses:s}=r,{text:o}=t.sequences[0].element,a=(0,hy.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),i=hy.default.match(o,a,"all");for(var c of i){var l,p;(p=(l=n.cv[u][s])[c])!==null&&p!==void 0||(l[c]=0),n.cv[u][s][c]+=1}}}]},N6={verseWordsActions:pU},my=fU(zm);function fU(e){return e&&e.__esModule?e:{default:e}}function Ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ey(Object(r),!0).forEach(function(n){dU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ey(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dU(e,t,r){return t=DU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DU(e){var t=hU(e,"string");return typeof t=="symbol"?t:String(t)}function hU(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mU={startDocument:[{description:"Set up",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;return t.chapter=null,t.verses=null,t.lastWord="",t.waitingMarkup=[],t.currentOccurrences={},t.PendingStartMilestones=[],r.stripped={},r.unalignedWords={},!0}}],startMilestone:[{description:"Ignore zaln startMilestone events",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:zaln"},action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;n.subtype=n.subType,delete n.subType,r.waitingMarkup.push(n),r.PendingStartMilestones.push(n)}}],endMilestone:[{description:"Ignore zaln endMilestone events",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:zaln"},action:e=>{var{context:t,workspace:r,output:n,config:u}=e,{chapter:s,verses:o,lastWord:a}=r,{verseWords:i}=u,c=["after",a,r.currentOccurrences[a],i[s][o][a]].join("--"),l=Vc({},t.sequences[0].element);l.subtype=l.subType,delete l.subType;var p={chapter:s,verses:o,occurrence:r.currentOccurrences[a],occurrences:i[s][o][a],position:"after",word:a,payload:l,startMilestone:r.PendingStartMilestones.shift()};return n.stripped[r.chapter][r.verses][c]?n.stripped[r.chapter][r.verses][c].push(p):n.stripped[r.chapter][r.verses][c]=[p],!1}}],startWrapper:[{description:"Ignore w startWrapper events",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:w"},action:e=>{var{context:t,workspace:r}=e,n=Vc({},t.sequences[0].element);n.subtype=n.subType,delete n.subType,r.waitingMarkup.push(n)}}],endWrapper:[{description:"Ignore w endWrapper events",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:w"},action:e=>{}}],text:[{description:"Log occurrences",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n,config:u}=e;try{var s=t.sequences[0];if(s.type!=="main")return!0;var o=s.element.text,a=(0,my.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),i=my.default.match(o,a,"all"),{chapter:c,verses:l}=r,{verseWords:p}=u;for(var f of i){var d,h;if((h=(d=r.currentOccurrences)[f])!==null&&h!==void 0||(d[f]=0),r.currentOccurrences[f]++,!r.PendingStartMilestones.length&&r.waitingMarkup.length){var E,A,m,y;(A=(E=n.unalignedWords)[c])!==null&&A!==void 0||(E[c]={}),(y=(m=n.unalignedWords[c])[l])!==null&&y!==void 0||(m[l]=[]),n.unalignedWords[c][l].push({word:f,occurrence:r.currentOccurrences[f],totalOccurrences:p[c][l][f]})}for(;r.waitingMarkup.length;){var F=r.waitingMarkup.shift(),B=["before",f,r.currentOccurrences[f],p[c][l][f]].join("--"),P={chapter:c,verses:l,occurrence:r.currentOccurrences[f],occurrences:p[c][l][f],position:"before",word:f,payload:Vc(Vc({},F),F.subtype==="usfm:w"&&{content:[f]})};n.stripped[r.chapter][r.verses][B]?n.stripped[r.chapter][r.verses][B].push(P):n.stripped[r.chapter][r.verses][B]=[P]}r.lastWord=f}}catch($){throw console.error($),$}return!0}}],mark:[{description:"Update CV state",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n}=e;try{var u=t.sequences[0].element;u.subType==="chapter"?(r.chapter=u.atts.number,r.verses=0,r.lastWord="",r.currentOccurrences={},n.stripped[r.chapter]={},n.stripped[r.chapter][r.verses]={}):u.subType==="verses"&&(r.verses=u.atts.number,r.lastWord="",r.currentOccurrences={},n.stripped[r.chapter][r.verses]={})}catch(s){throw console.error(s),s}return!0}}]},q6={stripMarkupActions:mU},zs=EU(zm);function EU(e){return e&&e.__esModule?e:{default:e}}var x6=[["printable","wordLike",(0,zs.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})")],["printable","lineSpace",(0,zs.default)("([\\p{Separator}	]{1,127})")],["printable","punctuation",(0,zs.default)("([\\p{Punctuation}\\p{Math_Symbol}\\p{Currency_Symbol}\\p{Modifier_Symbol}\\p{Other_Symbol}])")],["bad","unknown",(0,zs.default)("(.)")]],vU=zs.default.union(x6.map(e=>e[2])),yU={type:"end_milestone",subtype:"usfm:zaln"},gU={startDocument:[{description:"setup",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;return t.chapter=null,t.verses=null,t.currentOccurrences={},r.unalignedWords={},!0}}],text:[{description:"add-to-text",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;try{let y=function(){for(;h.length;)n.outputContentStack[0].push(h.shift())};var s=r.sequences[0];if(s.type!=="main")return!0;var o=r.sequences[0].element.text,a=zs.default.match(o,vU,"all"),{chapter:i,verses:c}=n;if(!c)return!0;var{totalOccurrences:l,strippedAlignment:p}=t,f={opened:null},d=F=>{var{subtype:B,content:P=[],atts:$={}}=F;return Object.keys($).length>0?{type:"wrapper",subtype:B,content:P,atts:$}:{type:"wrapper",subtype:B,content:P}},h=[],E=function(B){var P,$,I,U=(P=zs.default.match(B,x6[0][2],"all"))===null||P===void 0?void 0:P.length;if(!U)return h.push(B),"continue";(I=($=n.currentOccurrences)[B])!==null&&I!==void 0||($[B]=0),n.currentOccurrences[B]++;var j=pe=>[pe,B,n.currentOccurrences[B],l[i][c][B]].join("--"),W=p[i][c],te=!1,Y=W[j("after")],oe=W[j("before")];if(oe!=null&&oe.length&&y(),Y!=null&&Y.length&&!f.opened&&(Y.map(pe=>{var{startMilestone:Q}=pe;return n.outputContentStack[0].push(Q)}),te=!0),oe==null||oe.forEach(pe=>{var{payload:Q}=pe;Q.type!=="start_milestone"&&n.outputContentStack[0].push(Q),Q.type==="start_milestone"&&!te&&(n.outputContentStack[0].push(Q),f.opened=!0)}),Y==null||Y.forEach(pe=>{var{payload:Q}=pe;f.opened=!1,n.outputContentStack[0].push(Q)}),!(oe!=null&&oe.length)){var ie,fe,De,de;f.opened&&(n.outputContentStack[0].push(yU),f.opened=!1),y(),(fe=(ie=u.unalignedWords)[i])!==null&&fe!==void 0||(ie[i]={}),(de=(De=u.unalignedWords[i])[c])!==null&&de!==void 0||(De[c]=[]),u.unalignedWords[n.chapter][n.verses].push({word:B,occurrence:n.currentOccurrences[B],totalOccurrences:l[i][c][B]});var Ce=d({subtype:"usfm:w",content:[B]});n.outputContentStack[0].push(Ce)}};for(var A of a)var m=E(A);return y(),!1}catch(y){throw console.error(y),y}}}],mark:[{description:"mark-chapters",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="chapter"},action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element;return n.chapter=s.atts.number,n.verses=0,!0}},{description:"mark-verses",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="verses"},action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element;return n.verses=s.atts.number,n.currentOccurrences={},!0}}]},R6={mergeAlignmentActions:gU},{verseWordsActions:AU}=N6,{stripMarkupActions:FU}=q6,{mergeAlignmentActions:CU}=R6,bU={verseWordsActions:AU,stripMarkupActions:FU,mergeAlignmentActions:CU};let SU=class{constructor(t){if(!t)throw new Error("Must provide a constructor object to constructor");this.description=t.description||function(r){throw r}(new Error("Must provide a description in constructor object")),this.test=t.test||(()=>!0),this.action=t.action||(()=>null)}};var wU=SU,vy=wU;let _U=class j6{constructor(t){if(this.constructor===j6)throw new Error("Abstract class ProskommaRender cannot be instantiated - make as subclass!");var r=t.actions||{};this.debugLevel=t.debugLevel||0,this.actions={};for(var n of["startDocument","endDocument","startSequence","endSequence","unresolvedBlockGraft","blockGraft","startParagraph","endParagraph","metaContent","mark","unresolvedInlineGraft","inlineGraft","startWrapper","endWrapper","startMilestone","endMilestone","text"])r[n]?this.actions[n]=r[n].map(u=>new vy(u)):this.actions[n]=[]}addRenderActionObject(t,r){if(!this.actions[t])throw new Error("Unknown event '".concat(t));this.actions[t].push(r)}addRenderAction(t,r){this.addRenderActionObject(t,new vy(r))}describeRenderActions(t){if(!this.actions[t])throw new Error("Unknown event '".concat(t));var r=["**Actions for ".concat(t,`**
`)];for(var n of this.actions[t])r.push("IF ".concat(n.test.toString(),":")),r.push("    DO ".concat(n.description));return r.join(`
`)}renderDocument(t){var{docId:r,config:n,output:u}=t,s={},o={};return this.renderDocument1({docId:r,config:n,context:s,workspace:o,output:u}),u}renderDocument1(t){throw new Error("Define renderDocument1() in subclass")}renderEvent(t,r){var n=r.context;if(this.debugLevel>1&&console.log("".concat("    ".repeat(n.sequences.length),"EVENT ").concat(t)),!this.actions[t])throw new Error("Unknown event '".concat(t));var u=!1;for(var s of this.actions[t]){var o=!1;try{o=s.test(r)}catch(c){var a="Exception from test of action '".concat(s.description,"' for event ").concat(t," in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: ").concat(c);throw new Error(a)}if(o){u=!0,this.debugLevel>0&&console.log("".concat("    ".repeat(n.sequences.length),"    ").concat(t," action: ").concat(s.description));var i=!1;try{i=s.action(r)}catch(c){throw new Error("Exception from action '".concat(s.description,"' for event ").concat(t," in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: ").concat(c))}if(!i)break}}if(["unresolvedBlockGraft","unresolvedInlineGraft"].includes(t)&&this.actions[t].length===0)throw new Error("No action for ".concat(t," graft event in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: add an action or fix your data!"));!u&&this.debugLevel>1&&console.log("".concat("    ".repeat(n.sequences.length),"    No matching action"))}};var rc=_U,BU=rc;let TU=class extends BU{constructor(t){if(super(t),!t.srcJson)throw new Error("Must provide srcJson");this.srcJson=t.srcJson}renderDocument1(t){var{docId:r,config:n,context:u,workspace:s,output:o}=t,a={config:n,context:u,workspace:s,output:o};u.renderer=this,u.document={id:r,schema:this.srcJson.schema,metadata:this.srcJson.metadata,mainSequenceId:this.srcJson.main_sequence_id,nSequences:Object.keys(this.srcJson.sequences).length},u.sequences=[],this.renderEvent("startDocument",a),this.renderSequenceId(a,this.srcJson.main_sequence_id),this.renderEvent("endDocument",a)}sequenceContext(t,r){return{id:r,type:t.type,nBlocks:t.blocks.length,milestones:new Set([])}}renderSequenceId(t,r){var n=t.context,u=this.srcJson.sequences[r];if(!u)throw new Error("Sequence '".concat(r,"' not found in renderSequenceId()"));n.sequences.unshift(this.sequenceContext(u,r)),this.renderEvent("startSequence",t);for(var[s,o]of u.blocks.entries())n.sequences[0].block={type:o.type,subType:o.subtype,blockN:s,wrappers:[]},o.type==="graft"?o.target&&!this.srcJson.sequences[o.target]?(n.sequences[0].block.target=o.target,this.renderEvent("unresolvedBlockGraft",t)):(n.sequences[0].block.target=o.target,n.sequences[0].block.isNew=o.new||!1,this.renderEvent("blockGraft",t)):(this.renderEvent("startParagraph",t),this.renderContent(o.content,t),this.renderEvent("endParagraph",t)),delete n.sequences[0].block;this.renderEvent("endSequence",t),n.sequences.shift()}renderContent(t,r){for(var n of t)this.renderElement(n,r)}renderElement(t,r){var n=o=>{t.meta_content&&(o.metaContent=t.meta_content,this.renderEvent("metaContent",r))},u=r.context,s={type:t.type||"text"};if(t.subtype&&(s.subType=t.subtype),t.atts?s.atts=t.atts:s.type!=="end_milestone"&&s.type!=="meta_content"&&(s.atts={}),t.target&&(s.target=t.target),t.type==="graft"&&(s.isNew=t.new||!1),s.type==="text"&&(s.text=t),u.sequences[0].element=s,s.type==="text")this.renderEvent("text",r),n(s);else if(s.type==="mark")this.renderEvent("mark",r),n(s);else if(s.type==="start_milestone")this.renderEvent("startMilestone",r),n(s);else if(s.type==="end_milestone")this.renderEvent("endMilestone",r),n(s);else if(s.type==="graft"){if(t.target&&t.target&&!this.srcJson.sequences[t.target]){this.renderEvent("unresolvedInlineGraft",r);return}this.renderEvent("inlineGraft",r),n(s)}else if(s.type==="wrapper")u.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",r),this.renderContent(t.content,r),u.sequences[0].element=s,n(s),this.renderEvent("endWrapper",r),u.sequences[0].block.wrappers.shift();else throw new Error("Unexpected element type '".concat(s.type));delete u.sequences[0].element}};var fs=TU,$U=PU(fs);function PU(e){return e&&e.__esModule?e:{default:e}}var{verseWordsActions:OU}=N6,kU=function(t){var{perf:r}=t,n=new $U.default({srcJson:r,actions:OU}),u={};return n.renderDocument({docId:"",config:{},output:u}),{verseWords:u.cv}},IU={name:"verseWords",type:"Transform",description:"PERF=>JSON: Counts words occurrences",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"verseWords",type:"json"}],code:kU},NU={verseWords:IU},qU=e=>{var t={};for(var r of e)for(var n of Object.keys(r))t[n]?t[n].push(...r[n]):t[n]=r[n];return t},Gp=qU,xU={startDocument:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;u.perf={},u.perf.schema=r.document.schema,u.perf.metadata=r.document.metadata,u.perf.sequences={}}}],endDocument:[{description:"identity",test:()=>!0,action:e=>{}}],startSequence:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;u.perf.sequences[r.sequences[0].id]={type:r.sequences[0].type,blocks:[]},n.outputSequence=u.perf.sequences[r.sequences[0].id],r.sequences[0].type==="main"&&(u.perf.main_sequence_id=r.sequences[0].id)}}],endSequence:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;r.sequences.length>1&&(n.outputSequence=u.perf.sequences[r.sequences[1].id])}}],blockGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].block,r={type:t.type,subtype:t.subType};t.target&&(r.target=t.target,e.context.renderer.renderSequenceId(e,r.target)),t.isNew&&(r.new=t.isNew),e.workspace.outputSequence.blocks.push(r)}}],startParagraph:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].block,o={type:s.type,subtype:s.subType,content:[]};n.outputSequence.blocks.push(o),n.currentContent=o.content,n.outputBlock=n.outputSequence.blocks[n.outputSequence.blocks.length-1],n.outputContentStack=[n.outputBlock.content]}}],endParagraph:[{description:"identity",test:()=>!0,action:e=>{}}],metaContent:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element;n.currentContent=s.metaContent;var o=n.outputContentStack[1][n.outputContentStack[1].length-1];o.meta_content=[],n.outputContentStack.unshift(o.meta_content),r.renderer.renderContent(n.currentContent,e),n.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element,o={type:s.type,subtype:s.subType};s.atts&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(o.atts=s.atts),n.outputContentStack[0].push(o)}}],inlineGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].element,r={type:t.type,subtype:t.subType};if(t.target){r.target=t.target;var n=e.workspace.outputContentStack[0];e.context.renderer.renderSequenceId(e,t.target),e.workspace.outputContentStack[0]=n}t.isNew&&(r.new=t.isNew),e.workspace.outputContentStack[0].push(r)}}],startWrapper:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element,o={type:s.type,subtype:s.subType,content:[]};"atts"in s&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(o.atts=s.atts),n.outputContentStack[0].push(o),n.outputContentStack.unshift(o.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;n.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element,o={type:s.type,subtype:s.subType};s.atts&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(o.atts=s.atts),n.outputContentStack[0].push(o)}}],endMilestone:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element,o={type:s.type,subtype:s.subType};n.outputContentStack[0].push(o)}}],text:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element;n.outputContentStack[0].push(s.text)}}]},nc={identityActions:xU},RU=M6(fs),jU=M6(Gp);function M6(e){return e&&e.__esModule?e:{default:e}}var{identityActions:MU}=nc,{stripMarkupActions:LU}=q6,UU=function(t){var{perf:r,verseWords:n}=t,u=new RU.default({srcJson:r,actions:(0,jU.default)([LU,MU])}),s={};return u.renderDocument({docId:"",config:{verseWords:n},output:s}),{perf:s.perf,strippedAlignment:s.stripped,unalignedWords:s.unalignedWords}},GU={name:"stripAlignment",type:"Transform",description:"PERF=>PERF: Strips alignment markup",inputs:[{name:"perf",type:"json",source:""},{name:"verseWords",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],code:UU},VU={stripAlignment:GU},HU=L6(fs),WU=L6(Gp);function L6(e){return e&&e.__esModule?e:{default:e}}var{identityActions:JU}=nc,{mergeAlignmentActions:zU}=R6,KU=function(t){var{perf:r,verseWords:n,strippedAlignment:u}=t,s=new HU.default({srcJson:r,actions:(0,WU.default)([zU,JU])}),o={};return s.renderDocument({docId:"",config:{totalOccurrences:n,strippedAlignment:u},output:o}),{perf:o.perf,unalignedWords:o.unalignedWords}},XU={name:"mergeAlignment",type:"Transform",description:"PERF=>PERF adds report to verses",inputs:[{name:"perf",type:"json",source:""},{name:"strippedAlignment",type:"json",source:""},{name:"verseWords",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],code:KU},YU={mergeAlignment:XU},{verseWords:ZU}=NU,{stripAlignment:QU}=VU,{mergeAlignment:eG}=YU,tG={verseWords:ZU,stripAlignment:QU,mergeAlignment:eG},rG=bU,nG=tG,uG={transforms:nG,renderActions:rG},sG={},U6=function(t){var{usfm:r,selectors:n,proskomma:u}=t;u.importDocuments(n,"usfm",[r]);var s=u.gqlQuerySync("{documents {id docSetId perf} }").data.documents[0],o=s.id,a=s.docSetId;u.gqlQuerySync('mutation { deleteDocument(docSetId: "'.concat(a,'", documentId: "').concat(o,'") }'));var i=JSON.parse(s.perf);return{perf:i}},oG={name:"usfmToPerf",type:"Transform",description:"USFM=>PERF: Conversion via Proskomma",inputs:[{name:"usfm",type:"text",source:""},{name:"selectors",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:U6},aG={usfmToPerf:oG,usfmToPerfCode:U6},{usfmToPerf:iG,usfmToPerfCode:cG}=aG,lG={usfmToPerf:iG,usfmToPerfCode:cG},pG=sG,fG=lG,dG={transforms:fG,renderActions:pG};function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function DG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yy(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return t=mG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=EG(e,"string");return typeof t=="symbol"?t:String(t)}function EG(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vG={startDocument:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;u.sofria={},u.sofria.schema=r.document.schema,u.sofria.metadata=r.document.metadata,u.sofria.sequence={},n.currentSequence=u.sofria.sequence,n.chapter=null,n.verses=null,n.cachedChapter=null,n.cachedVerses=null}}],endDocument:[{description:"identity",test:()=>!0,action:e=>{}}],startSequence:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e;r.currentSequence.type=t.sequences[0].type,r.currentSequence.blocks=[]}}],endSequence:[{description:"identity",test:()=>!0,action:e=>{var{workspace:t}=e;t.currentSequence.type==="main"&&(t.chapter=null,t.verses=null),t.currentSequence=null}}],blockGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].block,r={type:t.type};if(t.sequence){r.sequence={};var n=e.workspace.currentSequence;e.workspace.currentSequence=r.sequence,e.context.renderer.renderSequence(e),e.workspace.currentSequence=n}e.workspace.currentSequence.blocks.push(r)}}],startParagraph:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].block,u={type:n.type,subtype:n.subType,content:[]};if(r.currentSequence.blocks.push(u),r.currentContent=u.content,r.outputBlock=r.currentSequence.blocks[r.currentSequence.blocks.length-1],r.outputContentStack=[r.outputBlock.content],r.currentSequence.type==="main"){for(var s of["chapter","verses"])if(r[s]){var o={type:"wrapper",subtype:s,content:[],atts:{number:r[s]}};r.outputContentStack[0].push(o),r.outputContentStack.unshift(o.content)}}}}],endParagraph:[{description:"identity",test:()=>!0,action:e=>{}}],metaContent:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;r.currentContent=n.metaContent;var u=r.outputContentStack[1][r.outputContentStack[1].length-1];u.meta_content=[],r.outputContentStack.unshift(u.meta_content),t.renderer.renderContent(r.currentContent,e),r.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element,u={type:n.type,subtype:n.subType};n.atts&&(u.atts=n.atts),r.outputContentStack[0].push(u)}}],inlineGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].element,r={type:t.type,subtype:t.subType,sequence:{}},n=e.workspace.currentSequence,u=[...e.workspace.outputContentStack];e.workspace.currentSequence=r.sequence,e.context.renderer.renderSequence(e),e.workspace.outputContentStack=u,e.workspace.currentSequence=n,e.workspace.outputContentStack[0].push(r)}}],startWrapper:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;n.subType==="chapter"?(r.chapter=n.atts.number,r.cachedChapter=r.chapter):n.subType==="verses"&&(r.verses=n.atts.number,r.cachedVerses=r.verses);var u={type:n.type,subtype:n.subType,content:[]};if("atts"in n&&(u.atts=DG({},n.atts)),r.outputContentStack.length===0)throw new Error("outputContentStack is empty before pushing to its first element, near ".concat(t.document.metadata.document.bookCode," ").concat(r.cachedChapter,":").concat(r.cachedVerses));r.outputContentStack[0].push(u),r.outputContentStack.unshift(u.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;n.subType==="chapter"?r.chapter=null:n.subType==="verses"&&(r.verses=null),r.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element,u={type:n.type,subtype:n.subType};n.atts&&(u.atts=n.atts),r.outputContentStack[0].push(u)}}],endMilestone:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element,u={type:n.type,subtype:n.subType};r.outputContentStack[0].push(u)}}],text:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;r.outputContentStack[0].push(n.text)}}]},yG={identityActions:vG},{identityActions:gG}=yG,AG={identityActions:gG},FG=function(t){var{perf:r}=t,n=new PerfRenderFromJson({srcJson:r,actions:identityAction}),u={};return n.renderDocument({docId:"",config:{},output:u}),{verseWords:u.cv}},CG={name:"identity",type:"Transform",description:"identity operation",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:FG},bG={identity:CG},{identity:SG}=bG,wG={identity:SG},_G=AG,BG=wG,TG={transforms:BG,renderActions:_G},$G={startDocument:[{description:"Set up word object",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;n.words={}}}],text:[{description:"Split strings and add words to word object",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;for(var s of r.sequences[0].element.text.split(/[\s:;,.]+/).filter(o=>o.length>0))s=s.toLowerCase(),s in n.words?n.words[s]+=1:n.words[s]=1}}],endDocument:[{description:"Sort words",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;u.words=[...Object.entries(n.words)].sort((s,o)=>o[1]-s[1])}}]},G6={wordCountActions:$G},gy=e=>({type:e.sequences[0].block.type,subType:e.sequences[0].block.subType,pos:e.sequences[0].block.blockN,perfChapter:null}),PG={startDocument:[{description:"Set up storage",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;t.blockRecords=[],r.report={}}}],startParagraph:[{description:"Set up block record",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n}=e;r.blockRecords.push(gy(t))}}],blockGraft:[{description:"Set up block record",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n}=e;r.blockRecords.push(gy(t))}}],mark:[{description:"Add chapter number to block record",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="chapter"},action:e=>{var{config:t,context:r,workspace:n,output:u}=e;n.blockRecords[n.blockRecords.length-1].perfChapter=r.sequences[0].element.atts.number}}],endDocument:[{description:"Populate report",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;for(var[n,u]of Object.entries(t.blockRecords))if(u.perfChapter){for(var s=n,o=!1;s>0&&!o;)t.blockRecords[s-1].type==="paragraph"||t.blockRecords[s-1].subType==="title"?o=!0:s--;r.report[s.toString()]=u.perfChapter}}}]},V6={calculateUsfmChapterPositionsActions:PG},kr=e=>["toc","toca","mt","imt","s","ms","mte","sd"].includes(e)?e+"1":e,OG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r==null&&(r={});var n="\\".concat(t,"-s |");for(var[u,s]of Object.entries(r))u==="x-morph"&&typeof s!="string"?n=n+kr(u)+'="'+s.join(",")+'" ':n=n+kr(u)+'="'+s+'" ';return n+"\\*"},kG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;r==null&&(r={});var u="|";for(var[s,o]of Object.entries(r))u=u+kr(s)+'="'+o+'" ';return u=u+"\\",n&&(u=u+"+"),u+t+"*"},IG={startDocument:[{description:"Set up environment",test:()=>!0,action:e=>{var{context:t,workspace:r}=e;r.usfmBits=[""],r.nestedWrapper=0;for(var[n,u]of Object.entries(t.document.metadata.document).filter(s=>!["tags","properties","bookCode","cl"].includes(s[0])))r.usfmBits.push("\\".concat(kr(n)," ").concat(u,`
`))}}],blockGraft:[{description:"Follow block grafts",test:e=>{var{context:t}=e;return["title","heading","introduction"].includes(t.sequences[0].block.subType)},action:e=>{var t=e.context.sequences[0],r=e.config.report[t.block.blockN.toString()],n=t.block.target;r&&t.type==="main"&&e.workspace.usfmBits.push(`
\\c `.concat(r,`
`)),n&&e.context.renderer.renderSequenceId(e,n)}}],inlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:e=>{var t=e.context.sequences[0].element.target;t&&e.context.renderer.renderSequenceId(e,t)}}],startParagraph:[{description:"Output footnote paragraph tag (footnote)",test:e=>{var{context:t}=e;return t.sequences[0].block.subType==="usfm:f"&&t.sequences[0].type==="footnote"||t.sequences[0].block.subType==="usfm:x"&&t.sequences[0].type==="xref"},action:e=>{var{context:t,workspace:r,config:n}=e;r.nestedWrapper=0;var u=t.sequences[0];r.usfmBits.push("\\".concat(kr(u.block.subType.split(":")[1])," "))}},{description:"Output footnote note_caller tag (footnote)",test:e=>{var{context:t}=e;return t.sequences[0].block.subType==="usfm:f"||t.sequences[0].block.subType==="usfm:x"},action:e=>{var{context:t,workspace:r,config:n}=e;r.nestedWrapper=0}},{description:"Output paragraph tag (main)",test:()=>!0,action:e=>{var{context:t,workspace:r,config:n}=e;r.nestedWrapper=0;var u=t.sequences[0],s=n.report[u.block.blockN.toString()];s&&u.type==="main"&&r.usfmBits.push(`
\\c `.concat(s,`
`)),r.usfmBits.push(`
\\`.concat(kr(u.block.subType.split(":")[1]),`
`))}}],endParagraph:[{description:"Output footnote paragraph tag (footnote)",test:e=>{var{context:t}=e;return t.sequences[0].block.subType==="usfm:f"&&t.sequences[0].type==="footnote"||t.sequences[0].block.subType==="usfm:x"&&t.sequences[0].type==="xref"},action:e=>{var{context:t,workspace:r,config:n}=e,u=t.sequences[0];r.usfmBits.push("\\".concat(kr(u.block.subType.split(":")[1]),"*"))}},{description:"Output footnote note_caller tag (footnote)",test:e=>{var{context:t}=e;return t.sequences[0].block.subType==="usfm:f"||t.sequences[0].block.subType==="usfm:x"},action:e=>{}},{description:"Output nl",test:()=>!0,action:e=>{var{workspace:t}=e;t.usfmBits.push(`
`)}}],startMilestone:[{description:"Output start milestone",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element,u=OG(kr(n.subType.split(":")[1]),n.atts);r.usfmBits.push(u)}}],endMilestone:[{description:"Output end milestone",test:()=>!0,action:e=>{var{context:t,workspace:r}=e;r.usfmBits.push("\\".concat(kr(t.sequences[0].element.subType.split(":")[1]),"-e\\*"))}}],text:[{description:"Output text",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element.text;r.usfmBits.push(n)}}],mark:[{description:"Output chapter or verses",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;n.subType==="verses"&&r.usfmBits.push(`
\\v `.concat(n.atts.number,`
`))}}],endSequence:[{description:"Output \\cl",test:e=>{var{context:t}=e;return t.document.metadata.document.cl&&t.sequences[0].type==="title"},action:e=>{var{context:t,workspace:r}=e;r.usfmBits.push(`
\\cl `.concat(t.document.metadata.document.cl,`
`))}}],startWrapper:[{description:"Output start tag",test:()=>!0,action:e=>{var{workspace:t,context:r}=e,n=r.sequences[0];t.nestedWrapper>0?t.usfmBits.push("\\+".concat(kr(n.element.subType.split(":")[1])," ")):t.usfmBits.push("\\".concat(kr(n.element.subType.split(":")[1])," ")),t.nestedWrapper+=1}}],endWrapper:[{description:"Output end tag",test:e=>{var{context:t}=e;return!["fr","fq","fqa","fk","fl","fw","fp","ft","xo","xk","xq","xt","xta"].includes(t.sequences[0].element.subType.split(":")[1])},action:e=>{var{workspace:t,context:r}=e;t.nestedWrapper-=1;var n=r.sequences[0],u=n.element.subType.split(":")[1],s=t.nestedWrapper>0;if(u==="w"){var o=kG(kr(u),n.element.atts,s);t.usfmBits.push(o)}else s?t.usfmBits.push("\\+".concat(kr(n.element.subType.split(":")[1]),"*")):t.usfmBits.push("\\".concat(kr(n.element.subType.split(":")[1]),"*"))}},{description:"Do NOT output end tag",test:()=>!0,action:e=>{var{workspace:t}=e;t.nestedWrapper-=1}}],endDocument:[{description:"Build output",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;r.usfm=t.usfmBits.join("").replace(/(\s*)\n(\s*)/gm,`
`)}}]},H6={perfToUsfmActions:IG},{wordCountActions:NG}=G6,{calculateUsfmChapterPositionsActions:qG}=V6,{perfToUsfmActions:xG}=H6,RG={wordCountActions:NG,perfToUsfmActions:xG,calculateUsfmChapterPositionsActions:qG},jG=MG(fs);function MG(e){return e&&e.__esModule?e:{default:e}}var{wordCountActions:LG}=G6,UG=function(t){var{perf:r}=t,n=new jG.default({srcJson:r,actions:LG}),u={};return n.renderDocument({docId:"",config:{},output:u}),{report:u.report}},GG={name:"wordCount",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:UG},VG={wordCount:GG},HG=WG(fs);function WG(e){return e&&e.__esModule?e:{default:e}}var{calculateUsfmChapterPositionsActions:JG}=V6,zG=function(t){var{perf:r}=t,n=new HG.default({srcJson:r,actions:JG}),u={};return n.renderDocument({docId:"",config:{maxLength:60},output:u}),{report:u.report}},KG={name:"calculateUsfmChapterPositions",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:zG},XG={calculateUsfmChapterPositions:KG},YG=ZG(fs);function ZG(e){return e&&e.__esModule?e:{default:e}}var{perfToUsfmActions:QG}=H6,eV=function(t){var{perf:r,report:n}=t,u=new YG.default({srcJson:r,actions:QG}),s={};return u.renderDocument({docId:"",config:{report:n},output:s}),{usfm:s.usfm}},tV={name:"perfToUsfm",type:"Transform",description:"PERF=>USFM",inputs:[{name:"perf",type:"json",source:""},{name:"report",type:"json",source:""}],outputs:[{name:"usfm",type:"text"}],code:eV},rV={perfToUsfm:tV},{wordCount:nV}=VG,{calculateUsfmChapterPositions:uV}=XG,{perfToUsfm:sV}=rV,oV={wordCount:nV,perfToUsfm:sV,calculateUsfmChapterPositions:uV},aV=RG,iV=oV,cV={transforms:iV,renderActions:aV},lV={startMilestone:[{description:"Ignore startMilestone events",test:()=>!0,action:()=>{}}],endMilestone:[{description:"Ignore endMilestone events",test:()=>!0,action:()=>{}}],startWrapper:[{description:"Ignore startWrapper events",test:()=>!0,action:()=>{}}],endWrapper:[{description:"Ignore endWrapper events",test:()=>!0,action:()=>{}}],blockGraft:[{description:"Ignore blockGraft events, except for title (\\mt)",test:e=>e.context.sequences[0].block.subType!=="title",action:e=>{}}],inlineGraft:[{description:"Ignore inlineGraft events",test:()=>!0,action:()=>{}}],mark:[{description:"Ignore mark events, except for chapter and verses",test:e=>{var{context:t}=e;return!["chapter","verses"].includes(t.sequences[0].element.subType)},action:()=>{}}]},W6={justTheBibleActions:lV},{identityActions:pV}=nc,{justTheBibleActions:fV}=W6,dV={identityActions:pV,justTheBibleActions:fV},{identityActions:DV}=nc,hV=function(t){var{perf:r}=t,n=new PerfRenderFromJson({srcJson:r,actions:DV}),u={};return n.renderDocument({docId:"",config:{},output:u}),{verseWords:u.cv}},mV={name:"identityTransform",type:"Transform",description:"identity operation",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:hV},EV={identity:mV},vV=J6(fs),yV=J6(Gp);function J6(e){return e&&e.__esModule?e:{default:e}}var{identityActions:gV}=nc,{justTheBibleActions:AV}=W6,FV=function(t){var{perf:r}=t,n=new vV.default({srcJson:r,actions:(0,yV.default)([AV,gV])}),u={};return n.renderDocument({docId:"",config:{},output:u}),{perf:u.perf}},CV={name:"justTheBible",type:"Transform",description:"PERF=>PERF: Strips most markup",documentation:"This transform removes milestones, wrappers and most marks. It has been used in several pipelines. It may also be stripping metaContent.",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:FV},bV={justTheBible:CV};const ir={},z6=e=>{let t=typeof e;return t==="number"||t==="string"||t==="boolean"||t==="undefined"||t==="bigint"||t==="symbol"||e===null},uc=e=>{if(z6(e)||!(e instanceof Object))return"primitive";const t=e.constructor&&e.constructor.name&&e.constructor.name.toLowerCase();if(typeof t=="string"&&t.length&&ir[t])return t;let r;for(const n in ir)if(r=ir[n].type,!r||e instanceof r)return n;return"unknown"},SV=(e,t,r)=>Array.prototype.push.call(e,r),wV=e=>{const t=[];return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},_V=e=>{const t=[...e];return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},BV=(e,t,r)=>{const n=e.length;for(let u=0;u<n;u++){const s=e[u],o={key:u,value:s,type:uc(s)};r(o)}},TV=()=>{Object.assign(ir,{array:{type:Array,mayDeepCopy:!0,addElement:SV,makeEmpty:wV,makeShallow:_V,iterate:BV}})},$V=()=>{Object.assign(ir,{date:{type:Date,makeShallow:e=>new Date(e.getTime())}})},PV=()=>{Object.assign(ir,{regexp:{type:RegExp,makeShallow:e=>new RegExp(e)}})},OV=()=>{Object.assign(ir,{function:{type:Function,makeShallow:e=>e}})},kV=()=>{Object.assign(ir,{error:{type:Error,makeShallow:e=>{const t=new Error(e.message);return t.stack=e.stack,t}}})},IV=e=>{let t=typeof Ys<"u"&&Ys[e]||typeof window<"u"&&window[e]||typeof WorkerGlobalScope<"u"&&WorkerGlobalScope[e];typeof t<"u"&&(ir[e.toLowerCase()]={type:t,makeShallow:r=>t.from(r)})},NV=()=>{["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"].forEach(t=>IV(t))},qV=()=>{typeof ArrayBuffer<"u"&&Object.assign(ir,{arraybuffer:{type:ArrayBuffer,makeShallow:e=>e.slice(0)}})},xV=()=>{typeof Map>"u"||Object.assign(ir,{map:{type:Map,mayDeepCopy:!0,addElement:(e,t,r)=>e.set(t,r),makeEmpty:()=>new Map,makeShallow:e=>new Map(e),iterate:(e,t,r)=>{e.forEach((n,u)=>{const s={key:u,value:n,type:uc(n)};r(s)})}}})},RV=()=>{typeof Set>"u"||Object.assign(ir,{set:{type:Set,mayDeepCopy:!0,addElement:(e,t,r)=>e.add(r),makeEmpty:()=>new Set,makeShallow:e=>new Set(e),iterate:(e,t,r)=>{e.forEach(n=>{const u={key:null,value:n,type:uc(n)};r(u)})}}})},jV=()=>{typeof WeakSet>"u"||Object.assign(ir,{weakset:{type:WeakSet,makeShallow:e=>e}})},MV=()=>{typeof WeakMap>"u"||Object.assign(ir,{weakmap:{type:WeakMap,makeShallow:e=>e}})},LV=()=>{typeof Buffer>"u"||Object.assign(ir,{buffer:{type:Buffer,makeShallow:e=>Buffer.from(e)}})},UV=(e,t,r,n=void 0)=>{n?Object.defineProperty(e,t,n):e[t]=r},GV=e=>{const t={};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},VV=e=>{const t=Object.assign({},e);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},HV=(e,t,r)=>{const n=t?Object.getOwnPropertyNames(e):Object.keys(e),u=n.length;for(let s=0;s<u;s++){const o=n[s],a=e[o],i={key:o,value:a,type:uc(a)};t&&!e.propertyIsEnumerable(o)&&(i.descriptor=Object.getOwnPropertyDescriptor(e,o)),r(i)}},WV=()=>{Object.assign(ir,{object:{type:Object,mayDeepCopy:!0,addElement:UV,makeEmpty:GV,makeShallow:VV,iterate:HV}})},JV=()=>{Object.assign(ir,{unknown:{makeShallow:e=>e},primitive:{makeShallow:e=>e}})};TV();$V();PV();OV();kV();NV();qV();xV();RV();jV();MV();LV();WV();JV();function zV(e){return ir[e]}var KV=[z6,uc,zV];const[XV,YV,L2]=KV,U2={goDeep:!0,includeNonEnumerable:!1,detectCircular:!0,maxDepth:20};function ZV(e){Object.keys(U2).forEach(t=>{e[t]===void 0&&(e[t]=U2[t])})}let QV=class{constructor(){this._seenMap=new WeakMap}setAsCopied(t,r){t instanceof Object&&this._seenMap.set(t,r)}wasCopied(t){return t instanceof Object&&this._seenMap.has(t)}getCopy(t){return this._seenMap.get(t)}};function eH(e,t,r){const{options:n,watcher:u}=r;let s;return t.mayDeepCopy?(s=t.makeEmpty(e),n.detectCircular&&u.setAsCopied(e,s)):s=t.makeShallow(e),s}function tH(e,t){if(e>=t)throw`Error max depth of ${t} levels exceeded, possible circular reference`}const K6=(e,t,r)=>{const{destObject:n,srcType:u,watcher:s,options:o}=t,a=o.detectCircular;tH(++r,o.maxDepth);const i=L2(u);if(!i.mayDeepCopy)return;const c=i.addElement;i.iterate(e,o.includeNonEnumerable,l=>{const p=l.value,f=l.type,d=L2(f);let h,E=!1;a&&s.wasCopied(p)?(h=s.getCopy(p),E=!0):h=eH(p,d,{options:o,watcher:s}),c(n,l.key,h,l.descriptor),d.mayDeepCopy&&!E&&K6(p,{destObject:h,srcType:f,watcher:s,options:o},r)})};function rH(e,t=U2){if(ZV(t),XV(e))return e;const r=YV(e),n=L2(r);if(!t.goDeep||!n.mayDeepCopy)return n.makeShallow(e);const u=t.detectCircular?new QV:null;let s=n.makeEmpty(e);return t.detectCircular&&u.setAsCopied(e,s),K6(e,{destObject:s,srcType:r,watcher:u,options:t},0),s}var X6=rH,nH=uH(X6);function uH(e){return e&&e.__esModule?e:{default:e}}var lp=e=>{var t=[];for(var r of e)typeof r=="string"?t.length>0&&typeof t[t.length-1]=="string"?t[t.length-1]+=r:t.push(r):(r.content&&(r.content=lp(r.content)),r.metaContent&&(r.metaContent=lp(r.content)),t.push(r));return t},sH=e=>{var t=(0,nH.default)(e);for(var r of Object.values(t.sequences))for(var n of r.blocks)n.content&&(n.content=lp(n.content)),n.metaContent&&(n.metaContent=lp(n.metaContent));return t},Y6=function(t){var{perf:r}=t;return{perf:sH(r)}},oH={name:"mergePerfText",type:"Transform",description:"PERF=>PERF: Merge consecutive text strings",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:Y6},aH={mergePerfText:oH,mergePerfTextCode:Y6},{identity:iH}=EV,{justTheBible:cH}=bV,{mergePerfText:lH,mergePerfTextCode:pH}=aH,fH={identity:iH,justTheBible:cH,mergePerfText:lH,mergePerfTextCode:pH},dH=dV,DH=fH,hH={transforms:DH,renderActions:dH},mH=uG,EH=dG,vH=TG,yH=cV,gH=hH,Z6={xToPerf:EH,perfToX:yH,sofriaToSofria:vH,alignment:mH,perfToPerf:gH};const AH=[{id:0,type:"Inputs",inputs:{usfm:"text",selectors:"json"}},{id:2,title:"USFM to PERF",name:"usfmToPerf",type:"Transform",inputs:[{name:"usfm",type:"text",source:"Input usfm"},{name:"selectors",type:"json",source:"Input selectors"}],outputs:[{name:"perf",type:"json"}],description:"USFM=>PERF: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 2 perf"}]}],FH=[{id:0,type:"Inputs",inputs:{perf:"json",strippedAlignment:"json"}},{id:1,title:"Count stripped perf words",name:"verseWords",transformName:"verseWords",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:2,title:"Merge Back Into Stripped (roundtrip)",name:"mergeAlignment",transformName:"mergeAlignment",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"strippedAlignment",type:"json",source:"Input strippedAlignment"},{name:"verseWords",type:"json",source:"Transform 1 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF adds report to verses"},{id:3,title:"Merge Merged PERF Text",name:"mergePerfText",transformName:"mergePerfText",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"unalignedWords",type:"json",source:"Transform 2 unalignedWords"}]}],CH=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Count stripped perf words",name:"verseWords",type:"Transform",transformName:"verseWords",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:2,title:"Strip Alignment",name:"stripAlignment",type:"Transform",transformName:"stripAlignment",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"verseWords",type:"json",source:"Transform 1 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF: Strips alignment markup"},{id:3,title:"Merge stripped perf",name:"mergePerfText",type:"Transform",transformName:"mergePerfText",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"strippedAlignment",type:"json",source:"Transform 2 strippedAlignment"},{name:"unalignedWords",type:"json",source:"Transform 2 unalignedWords"}]}],bH=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Generate report",name:"calculateUsfmChapterPositions",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"report",type:"json"}],description:"Generate report from perf to calculate the position of the chapters"},{id:2,title:"PERF to USFM",name:"perfToUsfm",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"report",type:"json",source:"Transform 1 report"}],outputs:[{name:"usfm",type:"text"}],description:"PERF=>USFM: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"usfm",type:"text",source:"Transform 2 usfm"}]}],SH=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Simplify Input PERF",name:"justTheBible",transformName:"justTheBible",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"perf",type:"json"}]},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 1 perf"}]}];var wH=sc(AH),_H=sc(FH),BH=sc(CH),TH=sc(bH),$H=sc(SH);function sc(e){return e&&e.__esModule?e:{default:e}}var Q6={usfmToPerfPipeline:wH.default,mergeAlignmentPipeline:_H.default,stripAlignmentPipeline:BH.default,perfToUsfmPipeline:TH.default,justTheBiblePipeline:$H.default};function Ay(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ay(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ay(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t,r){return t=OH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=kH(e,"string");return typeof t=="symbol"?t:String(t)}function kH(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cy(e,t,r,n,u,s,o){try{var a=e[s](o),i=a.value}catch(c){r(c);return}a.done?t(i):Promise.resolve(i).then(n,u)}function IH(e){return function(){var t=this,r=arguments;return new Promise(function(n,u){var s=e.apply(t,r);function o(i){Cy(s,n,u,o,a,"next",i)}function a(i){Cy(s,n,u,o,a,"throw",i)}o(void 0)})}}var NH=Z6,qH=Q6;let xH=class{constructor(t){var{pipelines:r=null,transforms:n=null,proskomma:u=null,verbose:s=!1}=t;if(u!==null){this.proskomma=u;var o="{ id }",a=u.gqlQuerySync(o)||{};if(!a||!a.data.id)throw new Error("Provided Proskomma instance does not have any ID")}if(this.pipelines=qH,this.namespaces=NH,this.transforms={},r!=null)for(var i of Object.keys(r))this.pipelines[i]=r[i];if(n!=null)for(var c of Object.keys(n))this.transforms[c]=n[c];this.verbose=s}getProskomma(){return this.proskomma}setProskomma(t){this.proskomma=t}listPipelinesNames(){return Object.keys(this.pipelines).join(`
`)}listTransformsNames(){return Object.keys(this.transforms).join(`
`)}listNamespacesNames(){return Object.keys(this.namespaces).join(`
`)}getPipeline(t,r){if(!this.pipelines[t])throw new Error("Unknown pipeline name '".concat(t,"'"));var n=this.pipelines[t],u=n[0].inputs;if(Object.keys(u).length!==Object.keys(r).length)throw new Error("".concat(Object.keys(u).length," input(s) expected by ").concat(t," but ").concat(Object.keys(r).length," provided (").concat(Object.keys(r).join(", "),")"));for(var[s,o]of Object.entries(u)){if(!r[s])throw new Error("Input ".concat(s," not provided as input to ").concat(t));if(typeof r[s]=="string"!=(o==="text"))throw new Error("Input ".concat(s," must be ").concat(o," but ").concat(typeof r[s]=="string"?"text":"json"," was provided"))}return n}runPipeline(t,r){var n=this;return IH(function*(){var u=n.getPipeline(t,r);return n.loadTransforms(u,"perf"),yield n.evaluateSteps({specSteps:u,inputValues:r})})()}loadTransforms(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"perf",n=t.filter(E=>E.type==="Transform");if(n.length===0)throw new Error("No Transform steps found in report steps");var u=Object.keys(n).map(E=>n[E].name);if(r==="sofria"){var s=null;for(var[o,a]of Object.entries(this.namespaces))if(o==="sofriaToSofria"){a.transforms?s=Object.entries(a.transforms):s=Object.entries(a);for(var[i,c]of s)u.includes(i)&&(this.transforms[i]=c)}}else{var l=null;for(var[p,f]of Object.entries(this.namespaces))if(p!=="sofriaToSofria"){f.transforms?l=Object.entries(f.transforms):l=Object.entries(f);for(var[d,h]of l)u.includes(d)&&(this.transforms[d]=h)}}}evaluateSteps(t){var{specSteps:r,inputValues:n}=t;this.verbose&&console.log("** Evaluate **");var u=r.filter(j=>j.type==="Inputs")[0];if(!u)throw new Error("No Inputs step found in report steps");var s=r.filter(j=>j.type==="Outputs")[0];if(!s)throw new Error("No Outputs step found in report steps");var o=r.filter(j=>j.type==="Transform");if(o.length===0)throw new Error("No Transform steps found in report steps");var a={},i={};for(var c of Object.values(o)){a[c.id]={};for(var l of c.inputs)a[c.id][l.name]=null;i[c.id]={};for(var p of c.outputs)i[c.id][p]=null}for(var[f,d]of Object.entries(n))for(var h of o)for(var E of h.inputs)E.source==="Input ".concat(f)&&(this.verbose&&console.log("Copying Input ".concat(f," to Transform ").concat(h.id," ").concat(E.name," input")),a[h.id][E.name]=d);for(var A=!0;A;){A=!1;for(var m of o)if(Object.values(a[m.id]).filter(j=>!j).length===0&&Object.values(i[m.id]).filter(j=>!j).length>0){this.verbose&&console.log("Evaluating Transform ".concat(m.id));try{i[m.id]=this.transforms[m.name].code(Fy(Fy({},a[m.id]),{},{proskomma:this.getProskomma()}))}catch(j){var y="Error evaluating Transform ".concat(m.id," (name=").concat(m.name,", type=").concat(typeof m.code,"): ").concat(j);throw new Error(y)}for(var F of o)for(var B of F.inputs)for(var P of Object.keys(i[m.id]))B.source==="Transform ".concat(m.id," ").concat(P)&&(this.verbose&&console.log("Copying Transform ".concat(m.id," ").concat(P," output to Transform ").concat(F.id," ").concat(B.name," input")),a[F.id][B.name]=i[m.id][P]);A=!0}}var $={};for(var I of s.outputs){var U=I.source.split(" ")[1];this.verbose&&console.log("Copying Transform ".concat(U," ").concat(I.name," to Output ").concat(I.name)),$[I.name]=i[U][I.name]}return this.verbose&&console.log("****"),$}};var RH=xH;function by(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Sy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?by(Object(r),!0).forEach(function(n){jH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):by(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jH(e,t,r){return t=MH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=LH(e,"string");return typeof t=="symbol"?t:String(t)}function LH(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UH=rc,Is=e=>{var t=[];for(var r of e.split(""))r.toUpperCase()===r&&r.toLowerCase()!==r?t.push("_".concat(r.toLowerCase())):t.push(r);return t.join("")};let GH=class extends UH{constructor(t){if(super(t),!t.proskomma)throw new Error("No Proskomma");this.pk=t.proskomma,this._tokens=[],this._container=null}renderDocument1(t){var{docId:r,config:n,context:u,workspace:s,output:o}=t,a={config:n,context:u,workspace:s,output:o};u.renderer=this;var i=this.pk.gqlQuerySync('{document(id: "'.concat(r,'") {docSetId mainSequence { id } nSequences sequences {id} headers { key value } } }')),c=i.data.document.docSetId,l=i.data.document.mainSequence.id,p=i.data.document.nSequences;i.data.document.sequences.map(m=>m.id);var f={};for(var d of i.data.document.headers)f[d.key]=d.value;var h=this.pk.gqlQuerySync('{docSet(id: "'.concat(c,'") {selectors {key value}}}')),E={};for(var A of h.data.docSet.selectors)E[A.key]=A.value;u.document={id:r,schema:{structure:"flat",structure_version:"0.2.1",constraints:[{name:"perf",version:"0.2.1"}]},metadata:{translation:{id:c,selectors:E,properties:{},tags:[]},document:Sy(Sy({},f),{},{properties:{},tags:[]})},mainSequenceId:l,nSequences:p},u.sequences=[],this.renderEvent("startDocument",a),this.renderSequenceId(a,l),this.renderEvent("endDocument",a)}sequenceContext(t,r){return{id:r,type:Is(t.type),nBlocks:t.nBlocks,milestones:new Set([])}}renderSequenceId(t,r){var n=t.context,u=this.pk.gqlQuerySync('{document(id: "'.concat(n.document.id,'") {sequence(id:"').concat(r,'") {id type nBlocks } } }')),s=u.data.document.sequence;if(!s)throw new Error("Sequence '".concat(r,"' not found in renderSequenceId()"));n.sequences.unshift(this.sequenceContext(s,r)),this.renderEvent("startSequence",t);for(var o=0,a=0;a<s.nBlocks;a++){var i=this.pk.gqlQuerySync(`{
               document(id: "`.concat(n.document.id,`") {
                 sequence(id:"`).concat(r,`") {
                   blocks(positions:`).concat(a,`) {
                     bg {subType payload}
                     bs {payload}
                     items {type subType payload}
                   }
                 }
               }
             }`)),c=i.data.document.sequence.blocks[0];for(var l of c.bg)n.sequences[0].block={type:"graft",subType:Is(l.subType),blockN:o},n.sequences[0].block.target=l.payload,n.sequences[0].block.isNew=!1,this.renderEvent("blockGraft",t),o++;n.sequences[0].block={type:"paragraph",subType:"usfm:".concat(c.bs.payload.split("/")[1]),blockN:o,wrappers:[]},this.renderEvent("startParagraph",t),this._tokens=[],this.renderContent(c.items,t),this._tokens=[],this.renderEvent("endParagraph",t),delete n.sequences[0].block,o++}this.renderEvent("endSequence",t),n.sequences.shift()}renderContent(t,r){for(var n of t)this.renderItem(n,r);this.maybeRenderText(r)}renderItem(t,r){if(t.type==="scope"&&t.payload.startsWith("attribute")){var n=t.payload.split("/");t.subType==="start"?(this._container||(this._container={direction:"start",subType:"usfm:w",type:"wrapper",atts:{}}),n[3]in this._container.atts?this._container.atts[n[3]].push(n[5]):this._container.atts[n[3]]=[n[5]]):this._container||(this._container={direction:"end",subType:"usfm:".concat(Is(n[2]))},n[1]==="milestone"?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else if(this._container&&(this.maybeRenderText(r),this.renderContainer(r)),t.type==="token")this._tokens.push(t.payload.replace(/\s+/g," "));else if(t.type==="graft"){this.maybeRenderText(r);var u={type:"graft",subType:Is(t.subType),target:t.payload,isNew:!1};r.context.sequences[0].element=u,this.renderEvent("inlineGraft",r),delete r.context.sequences[0].element}else{this.maybeRenderText(r);var s=t.payload.split("/");if(["chapter","verses","pubChapter","pubVerse","altChapter","altVerse"].includes(s[0])){if(t.subType==="start"){var o={type:"mark",subType:Is(s[0]),atts:{number:s[1]}};r.context.sequences[0].element=o,this.renderEvent("mark",r),delete r.context.sequences[0].element}}else if(s[0]==="span"){var a={type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}};r.context.sequences[0].element=a,t.subType==="start"?(r.context.sequences[0].block.wrappers.unshift(a.subType),this.renderEvent("startWrapper",r)):(this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()),delete r.context.sequences[0].element}else if(s[0]==="spanWithAtts")t.subType==="start"&&(this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}});else if(s[0]==="milestone"&&t.subType==="start")if(s[1]==="ts"){var i={type:"mark",subType:"usfm:".concat(Is(s[1])),atts:{}};r.context.sequences[0].element=i,this.renderEvent("mark",r),delete r.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(Is(s[1])),atts:{}}}}maybeRenderText(t){if(this._tokens.length!==0){var r={type:"text",text:this._tokens.join("")};t.context.sequences[0].element=r,this._tokens=[],this.renderEvent("text",t),delete t.context.sequences[0].element}}renderContainer(t){if(this._container.type==="wrapper"){var r=this._container.direction;delete this._container.direction,r==="start"?(t.context.sequences[0].element=this._container,t.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",t),delete t.context.sequences[0].element):(t.context.sequences[0].element=this._container,this.renderEvent("endWrapper",t),t.context.sequences[0].block.wrappers.shift(),delete t.context.sequences[0].element)}else this._container.type==="start_milestone"?(t.context.sequences[0].element=this._container,this.renderEvent("startMilestone",t),delete t.context.sequences[0].element):this._container.type==="end_milestone"&&(t.context.sequences[0].element=this._container,this.renderEvent("endMilestone",t),delete t.context.sequences[0].element);this._container=null}};var VH=GH,HH=rc;let WH=class extends HH{constructor(t){if(super(t),!t.srcJson)throw new Error("Must provide srcJson");this.srcJson=t.srcJson,this.cachedSequences=[]}renderDocument1(t){var{docId:r,config:n,context:u,workspace:s,output:o}=t,a={config:n,context:u,workspace:s,output:o};u.renderer=this,u.document={id:r,schema:this.srcJson.schema,metadata:this.srcJson.metadata},u.sequences=[],this.renderEvent("startDocument",a),this.renderSequence(a,this.srcJson.sequence),this.renderEvent("endDocument",a)}sequenceContext(t){return{type:t.type,nBlocks:t.blocks.length,milestones:new Set([])}}renderSequence(t,r){var n;if(r)n=r;else{if(this.cachedSequences.length===0)throw new Error("No sequence provided and no sequences cached");n=this.cachedSequences[0]}var u=t.context;u.sequences.unshift(n),this.renderEvent("startSequence",t);for(var[s,o]of n.blocks.entries())u.sequences[0].block={type:o.type,blockN:s,wrappers:[]},o.type==="graft"?(u.sequences[0].block.sequence=this.sequenceContext(o.sequence),this.cachedSequences.unshift(o.sequence),this.renderEvent("blockGraft",t),this.cachedSequences.shift()):(this.renderEvent("startParagraph",t),this.renderContent(o.content,t),this.renderEvent("endParagraph",t)),delete u.sequences[0].block;this.renderEvent("endSequence",t),this.cachedSequence=null,u.sequences.shift()}renderContent(t,r){for(var n of t)this.renderElement(n,r)}renderElement(t,r){var n=o=>{t.meta_content&&(o.metaContent=t.meta_content,this.renderEvent("metaContent",r))},u=r.context,s={type:t.type||"text"};if(t.subtype&&(s.subType=t.subtype),t.atts?s.atts=t.atts:s.type!=="end_milestone"&&s.type!=="meta_content"&&(s.atts={}),t.sequence&&(s.sequence=this.sequenceContext(t.sequence)),s.type==="text"&&(s.text=t),u.sequences[0].element=s,s.type==="text")this.renderEvent("text",r),n(s);else if(s.type==="mark")this.renderEvent("mark",r),n(s);else if(s.type==="start_milestone")this.renderEvent("startMilestone",r),n(s);else if(s.type==="end_milestone")this.renderEvent("endMilestone",r),n(s);else if(s.type==="graft")this.cachedSequences.unshift(t.sequence),this.renderEvent("inlineGraft",r),this.cachedSequences.shift(),n(s);else if(s.type==="wrapper")u.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",r),this.renderContent(t.content,r),u.sequences[0].element=s,n(s),this.renderEvent("endWrapper",r),u.sequences[0].block.wrappers.shift();else throw new Error("Unexpected element type '".concat(s.type));delete u.sequences[0].element}};var JH=WH;function wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wy(Object(r),!0).forEach(function(n){zH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zH(e,t,r){return t=KH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=XH(e,"string");return typeof t=="symbol"?t:String(t)}function XH(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YH=rc,Gu=e=>{var t=[];for(var r of e.split(""))r.toUpperCase()===r&&r.toLowerCase()!==r?t.push("_".concat(r.toLowerCase())):t.push(r);return t.join("")};let ZH=class extends YH{constructor(t){if(super(t),!t.proskomma)throw new Error("No Proskomma");this.pk=t.proskomma,this._tokens=[],this._container=null,this.cachedSequenceIds=[],this.sequences=null,this.currentCV={chapter:null,verses:null}}renderDocument1(t){var{docId:r,config:n,context:u,workspace:s,output:o}=t,a={config:n,context:u,workspace:s,output:o};u.renderer=this;var i=this.pk.gqlQuerySync(`{
          document(id: "`.concat(r,`") {
            docSetId
            mainSequence { id }
            nSequences
            sequences {
              id
              type
              nBlocks
            }
            headers {
              key
              value
            }
          } 
        }`)),c=i.data.document.docSetId,l=i.data.document.mainSequence.id,p=i.data.document.nSequences;this.sequences={};for(var f of i.data.document.sequences)this.sequences[f.id]=f;var d={};for(var h of i.data.document.headers)d[h.key]=h.value;var E=this.pk.gqlQuerySync('{docSet(id: "'.concat(c,'") {selectors {key value}}}')),A={};for(var m of E.data.docSet.selectors)A[m.key]=m.value;u.document={id:r,schema:{structure:"nested",structure_version:"0.2.1",constraints:[{name:"sofria",version:"0.2.1"}]},metadata:{translation:{id:c,selectors:A,properties:{},tags:[]},document:_y(_y({},d),{},{properties:{},tags:[]})},mainSequenceId:l,nSequences:p},n.chapters&&(u.document.metadata.document.properties.chapters=n.chapters[0]),u.sequences=[],this.renderEvent("startDocument",a),this.cachedSequenceIds.unshift(l),this.renderSequence(a,l),this.cachedSequenceIds.shift(),this.renderEvent("endDocument",a)}sequenceContext(t,r){return{id:r,type:Gu(t.type),nBlocks:t.nBlocks,milestones:new Set([])}}renderSequence(t){var r=t.context,n=this.cachedSequenceIds[0],u=this.pk.gqlQuerySync('{document(id: "'.concat(r.document.id,'") {sequence(id:"').concat(n,'") {id type nBlocks blocks { os {payload} is {payload} } } } }')),s=u.data.document.sequence;if(!s)throw new Error("Sequence '".concat(n,"' not found in renderSequenceId()"));r.sequences.unshift(this.sequenceContext(s,n)),this.renderEvent("startSequence",t);for(var o=0,a=0;a<s.nBlocks;a++){if(t.config.chapters&&s.type==="main"){var i=[...s.blocks[a].os.map(y=>y.payload),...s.blocks[a].is.map(y=>y.payload)].filter(y=>["chapter"].includes(y.split("/")[0])).map(y=>y.split("/")[1]);if(i.length===0||!t.config.chapters.includes(i[0]))continue}var c=this.pk.gqlQuerySync(`{
               document(id: "`.concat(r.document.id,`") {
                 sequence(id:"`).concat(n,`") {
                   blocks(positions:`).concat(a,`) {
                     bg {subType payload}
                     bs {payload}
                     items {type subType payload}
                   }
                 }
               }
             }`)),l=c.data.document.sequence.blocks[0];for(var p of l.bg)r.sequences[0].block={type:"graft",subType:Gu(p.subType),blockN:o,sequence:this.sequences[p.payload]},this.cachedSequenceIds.unshift(p.payload),this.renderEvent("blockGraft",t),this.cachedSequenceIds.shift(),o++;var f=l.bs.payload.split("/"),d=f[1]?"usfm:".concat(f[1]):f[0];if(r.sequences[0].block={type:"paragraph",subType:d,blockN:o,wrappers:[]},this.renderEvent("startParagraph",t),this._tokens=[],s.type==="main"&&this.currentCV.chapter){var h={type:"wrapper",subType:"chapter",atts:{number:this.currentCV.chapter}};t.context.sequences[0].element=h,t.context.sequences[0].block.wrappers.unshift(h.subType),this.renderEvent("startWrapper",t)}if(s.type==="main"&&this.currentCV.verses){var E={type:"wrapper",subType:"verses",atts:{number:this.currentCV.verses}};t.context.sequences[0].element=E,t.context.sequences[0].block.wrappers.unshift(E.subType),this.renderEvent("startWrapper",t)}if(this.renderContent(l.items,t),this._tokens=[],s.type==="main"&&this.currentCV.verses){var A={type:"wrapper",subType:"verses",atts:{number:this.currentCV.verses}};t.context.sequences[0].element=A,t.context.sequences[0].block.wrappers.shift(),this.renderEvent("endWrapper",t)}if(s.type==="main"&&this.currentCV.chapter){var m={type:"wrapper",subType:"chapter",atts:{number:this.currentCV.chapter}};t.context.sequences[0].element=m,t.context.sequences[0].block.wrappers.shift(),this.renderEvent("endWrapper",t)}this.renderEvent("endParagraph",t),delete r.sequences[0].block,o++}this.renderEvent("endSequence",t),r.sequences.shift()}renderContent(t,r){for(var n of t)this.renderItem(n,r);this.maybeRenderText(r)}renderItem(t,r){if(t.type==="scope"&&t.payload.startsWith("attribute")){var n=t.payload.split("/");t.subType==="start"?(this._container||(this._container={direction:"start",subType:"usfm:w",type:"wrapper",atts:{}}),n[3]in this._container.atts?this._container.atts[n[3]].push(n[5]):this._container.atts[n[3]]=[n[5]]):this._container||(this._container={direction:"end",subType:"usfm:".concat(Gu(n[2]))},n[1]==="milestone"?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else if(this._container&&(this.maybeRenderText(r),this.renderContainer(r)),t.type==="token")this._tokens.push(t.payload.replace(/\s+/g," "));else if(t.type==="graft"){this.maybeRenderText(r);var u={type:"graft",subType:Gu(t.subType),sequence:this.sequences[t.payload]};r.context.sequences[0].element=u,this.cachedSequenceIds.unshift(t.payload),this.renderEvent("inlineGraft",r),this.cachedSequenceIds.shift(),delete r.context.sequences[0].element}else{this.maybeRenderText(r);var s=t.payload.split("/");if(["chapter","verses"].includes(s[0])){var o={type:"wrapper",subType:Gu(s[0]),atts:{number:s[1]}};if(r.context.sequences[0].element=o,t.subType==="start"){this.currentCV[s[0]]=s[1],r.context.sequences[0].block.wrappers.unshift(o.subType),this.renderEvent("startWrapper",r);var a={type:"mark",subType:"".concat(s[0],"_label"),atts:{number:s[1]}};r.context.sequences[0].element=a,this.renderEvent("mark",r),r.context.sequences[0].element=o}else this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift(),delete r.context.sequences[0].element,this.currentCV[s[0]]=null}else if(["pubChapter","pubVerse","altChapter","altVerse"].includes(s[0])){if(t.subType==="start"){var i={type:"mark",subType:Gu(s[0]),atts:{number:s[1]}};r.context.sequences[0].element=i,this.renderEvent("mark",r),delete r.context.sequences[0].element}}else if(s[0]==="span"){var c={type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}};r.context.sequences[0].element=c,t.subType==="start"?(r.context.sequences[0].block.wrappers.unshift(c.subType),this.renderEvent("startWrapper",r)):(this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()),delete r.context.sequences[0].element}else if(s[0]==="spanWithAtts")t.subType==="start"&&(this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}});else if(s[0]==="milestone"&&t.subType==="start")if(s[1]==="ts"){var l={type:"mark",subType:"usfm:".concat(Gu(s[1])),atts:{}};r.context.sequences[0].element=l,this.renderEvent("mark",r),delete r.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(Gu(s[1])),atts:{}}}}maybeRenderText(t){if(this._tokens.length!==0){var r={type:"text",text:this._tokens.join("")};t.context.sequences[0].element=r,this._tokens=[],this.renderEvent("text",t),delete t.context.sequences[0].element}}renderContainer(t){if(this._container.type==="wrapper"){var r=this._container.direction;delete this._container.direction,r==="start"?(t.context.sequences[0].element=this._container,t.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",t),delete t.context.sequences[0].element):(t.context.sequences[0].element=this._container,this.renderEvent("endWrapper",t),t.context.sequences[0].block.wrappers.shift(),delete t.context.sequences[0].element)}else this._container.type==="start_milestone"?(t.context.sequences[0].element=this._container,this.renderEvent("startMilestone",t),delete t.context.sequences[0].element):this._container.type==="end_milestone"&&(t.context.sequences[0].element=this._container,this.renderEvent("endMilestone",t),delete t.context.sequences[0].element);this._container=null}};var QH=ZH,eW=nU,tW=cU,rW=RH,nW=rc,uW=fs,sW=VH,oW=JH,aW=QH,iW=Gp,cW=Q6,lW=Z6,Fu={Validator:eW,usfmHelps:tW,ProskommaRender:nW,PerfRenderFromJson:uW,SofriaRenderFromJson:oW,SofriaRenderFromProskomma:aW,PerfRenderFromProskomma:sW,mergeActions:iW,PipelineHandler:rW,pipelines:cW,render:lW};const ds=[["chapter","chapter",ne("([\\r\\n]*\\\\c[ \\t]+(\\d+)[ \\t\\r\\n]*)")],["pubchapter","pubchapter",ne("([\\r\\n]*\\\\cp[ \\t]+([^\\r\\n]+)[ \\t\\r\\n]*)")],["verses","verses",ne("(\\\\v[ \\t]+([\\d\\-]+)[ \\t\\r\\n]*)")],["attribute","attribute",ne('([ \\t]*\\|?[ \\t]*([A-Za-z0-9\\-]+)="([^"]*)"[ \\t]?)')],["attribute","defaultAttribute",ne("([ \\t]*\\|[ \\t]*([^\\|\\\\]*))")],["milestone","emptyMilestone",ne("(\\\\([a-z1-9]+)\\\\[*])")],["milestone","startMilestoneTag",ne("(\\\\([a-z1-9]+)-([se]))")],["milestone","endMilestoneMarker",ne("(\\\\([*]))")],["tag","endTag",ne("(\\\\([+]?[a-z\\-]+)([1-9]?(-([1-9]))?)[*])")],["tag","startTag",ne("(\\\\([+]?[a-z\\-]+)([1-9]?(-([1-9]))?)[ \\t]?)")],["bad","bareSlash",ne("(\\\\)")],["printable","eol",ne("([ \\t]*[\\r\\n]+[ \\t]*)")],["break","noBreakSpace",ne("~")],["break","softLineBreak",ne("//")],["printable","wordLike",ne("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})")],["printable","lineSpace",ne("([\\p{Separator}	]{1,127})")],["printable","punctuation",ne("([\\p{Punctuation}\\p{Math_Symbol}\\p{Currency_Symbol}\\p{Modifier_Symbol}\\p{Other_Symbol}])")],["bad","unknown",ne("(.)")]],e7=ne.union(ds.map(e=>e[2])),sd=(e,t)=>({subclass:e,printValue:t[0]}),pW=(e,t)=>({subclass:e,numberString:t[2],number:parseInt(t[2]),printValue:`\\c ${t[2]}
`}),fW=(e,t)=>{const r={subclass:e,numberString:t[2],printValue:`\\v ${t[2]}
`};if(r.numberString.includes("-")){const[n,u]=r.numberString.split("-").map(s=>parseInt(s));r.numbers=Array.from(Array(u-n+1).keys()).map(s=>s+n)}else r.numbers=[parseInt(r.numberString)];return r},dW=(e,t)=>{let r;return e==="defaultAttribute"?r={subclass:e,key:"default",valueString:t[2].trim().replace(/\//g,"÷")}:r={subclass:e,key:t[2],valueString:t[3].trim().replace(/\//g,"÷")},r.values=r.valueString.split(",").map(n=>n.trim()),r.printValue=`| ${r.key}="${r.valueString}"`,r},DW=(e,t)=>({subclass:e,numberString:t[2],printValue:`\\cp ${t[2]}
`}),hW=(e,t)=>{const r={subclass:e,sOrE:null};return e==="endMilestoneMarker"?r.printValue="\\*":(r.tagName=t[2],e==="emptyMilestone"?r.printValue=`\\${r.tagName}\\*`:(r.printValue=`\\${r.tagName}`,r.sOrE=t[3])),r},mW=(e,t)=>{const r={subclass:e,tagName:t[2],isNested:!1};return r.tagName.startsWith("+")&&(r.isNested=!0,r.tagName=r.tagName.substring(1)),r.tagLevel=t[3]!==""?parseInt(t[3]):1,r.fullTagName=`${r.tagName}${t[3]==="1"?"":t[3]}`,r.printValue=e==="startTag"?`\\${r.fullTagName} `:`\\${r.fullTagName}*`,r},Xe={printable:sd,chapter:pW,pubchapter:DW,verses:fW,tag:mW,break:sd,milestone:hW,attribute:dW,bad:sd},t7=(e,t)=>{for(let r=0;r<t.length;r++){let[n,u,s]=t[r],o=ne.exec(e,s,0,"sticky");if(o)return Xe[n](u,o)}throw new Error(`Could not match preToken fragment '${e}'`)},EW=(e,t)=>{const r=ne.match(e,e7,"all");for(let n=0;n<r.length;n++)t.parseItem(t7(r[n],ds))};var r7={},od,By;function vW(){if(By)return od;By=1,od=e;function e(r){if(r)return t(r)}function t(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}return e.prototype.on=e.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks[r]=this._callbacks[r]||[]).push(n),this},e.prototype.once=function(r,n){var u=this;this._callbacks=this._callbacks||{};function s(){u.off(r,s),n.apply(this,arguments)}return s.fn=n,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks[r];if(!u)return this;if(arguments.length==1)return delete this._callbacks[r],this;for(var s,o=0;o<u.length;o++)if(s=u[o],s===n||s.fn===n){u.splice(o,1);break}return this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};var n=[].slice.call(arguments,1),u=this._callbacks[r];if(u){u=u.slice(0);for(var s=0,o=u.length;s<o;++s)u[s].apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks[r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length},od}var ad,Ty;function yW(){if(Ty)return ad;Ty=1;var e=vW();function t(){e.call(this)}return t.prototype=new e,ad=t,t.Stream=t,t.prototype.pipe=function(r,n){var u=this;function s(f){r.writable&&r.write(f)===!1&&u.pause&&u.pause()}u.on("data",s);function o(){u.readable&&u.resume&&u.resume()}r.on("drain",o),!r._isStdio&&(!n||n.end!==!1)&&(u.on("end",i),u.on("close",c));var a=!1;function i(){a||(a=!0,r.end())}function c(){a||(a=!0,typeof r.destroy=="function"&&r.destroy())}function l(f){if(p(),!this.hasListeners("error"))throw f}u.on("error",l),r.on("error",l);function p(){u.off("data",s),r.off("drain",o),u.off("end",i),u.off("close",c),u.off("error",l),r.off("error",l),u.off("end",p),u.off("close",p),r.off("end",p),r.off("close",p)}return u.on("end",p),u.on("close",p),r.on("end",p),r.on("close",p),r.emit("pipe",u),r},ad}var id={},gi={},gW={get exports(){return gi},set exports(e){gi=e}},cd={},Hc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var $y;function AW(){return $y||($y=1,Hc.read=function(e,t,r,n,u){var s,o,a=u*8-n-1,i=(1<<a)-1,c=i>>1,l=-7,p=r?u-1:0,f=r?-1:1,d=e[t+p];for(p+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=s*256+e[t+p],p+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+e[t+p],p+=f,l-=8);if(s===0)s=1-c;else{if(s===i)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(d?-1:1)*o*Math.pow(2,s-n)},Hc.write=function(e,t,r,n,u,s){var o,a,i,c=s*8-u-1,l=(1<<c)-1,p=l>>1,f=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,h=n?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-o))<1&&(o--,i*=2),o+p>=1?t+=f/i:t+=f*Math.pow(2,1-p),t*i>=2&&(o++,i/=2),o+p>=l?(a=0,o=l):o+p>=1?(a=(t*i-1)*Math.pow(2,u),o=o+p):(a=t*Math.pow(2,p-1)*Math.pow(2,u),o=0));u>=8;e[r+d]=a&255,d+=h,a/=256,u-=8);for(o=o<<u|a,c+=u;c>0;e[r+d]=o&255,d+=h,o/=256,c-=8);e[r+d-h]|=E*128}),Hc}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Py;function FW(){return Py||(Py=1,function(e){const t=fa,r=AW(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50;const u=2147483647;e.kMaxLength=u,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const N=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(N,S),N.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(N){if(N>u)throw new RangeError('The value "'+N+'" is invalid for option "size"');const S=new Uint8Array(N);return Object.setPrototypeOf(S,a.prototype),S}function a(N,S,_){if(typeof N=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(N)}return i(N,S,_)}a.poolSize=8192;function i(N,S,_){if(typeof N=="string")return f(N,S);if(ArrayBuffer.isView(N))return h(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(ce(N,ArrayBuffer)||N&&ce(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ce(N,SharedArrayBuffer)||N&&ce(N.buffer,SharedArrayBuffer)))return E(N,S,_);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const L=N.valueOf&&N.valueOf();if(L!=null&&L!==N)return a.from(L,S,_);const J=A(N);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return a.from(N[Symbol.toPrimitive]("string"),S,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}a.from=function(N,S,_){return i(N,S,_)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function l(N,S,_){return c(N),N<=0?o(N):S!==void 0?typeof _=="string"?o(N).fill(S,_):o(N).fill(S):o(N)}a.alloc=function(N,S,_){return l(N,S,_)};function p(N){return c(N),o(N<0?0:m(N)|0)}a.allocUnsafe=function(N){return p(N)},a.allocUnsafeSlow=function(N){return p(N)};function f(N,S){if((typeof S!="string"||S==="")&&(S="utf8"),!a.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const _=F(N,S)|0;let L=o(_);const J=L.write(N,S);return J!==_&&(L=L.slice(0,J)),L}function d(N){const S=N.length<0?0:m(N.length)|0,_=o(S);for(let L=0;L<S;L+=1)_[L]=N[L]&255;return _}function h(N){if(ce(N,Uint8Array)){const S=new Uint8Array(N);return E(S.buffer,S.byteOffset,S.byteLength)}return d(N)}function E(N,S,_){if(S<0||N.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<S+(_||0))throw new RangeError('"length" is outside of buffer bounds');let L;return S===void 0&&_===void 0?L=new Uint8Array(N):_===void 0?L=new Uint8Array(N,S):L=new Uint8Array(N,S,_),Object.setPrototypeOf(L,a.prototype),L}function A(N){if(a.isBuffer(N)){const S=m(N.length)|0,_=o(S);return _.length===0||N.copy(_,0,0,S),_}if(N.length!==void 0)return typeof N.length!="number"||Te(N.length)?o(0):d(N);if(N.type==="Buffer"&&Array.isArray(N.data))return d(N.data)}function m(N){if(N>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return N|0}function y(N){return+N!=N&&(N=0),a.alloc(+N)}a.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==a.prototype},a.compare=function(S,_){if(ce(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),ce(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(S)||!a.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===_)return 0;let L=S.length,J=_.length;for(let ee=0,ue=Math.min(L,J);ee<ue;++ee)if(S[ee]!==_[ee]){L=S[ee],J=_[ee];break}return L<J?-1:J<L?1:0},a.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(S,_){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return a.alloc(0);let L;if(_===void 0)for(_=0,L=0;L<S.length;++L)_+=S[L].length;const J=a.allocUnsafe(_);let ee=0;for(L=0;L<S.length;++L){let ue=S[L];if(ce(ue,Uint8Array))ee+ue.length>J.length?(a.isBuffer(ue)||(ue=a.from(ue)),ue.copy(J,ee)):Uint8Array.prototype.set.call(J,ue,ee);else if(a.isBuffer(ue))ue.copy(J,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=ue.length}return J};function F(N,S){if(a.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||ce(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const _=N.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&_===0)return 0;let J=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return Ge(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return ke(N).length;default:if(J)return L?-1:Ge(N).length;S=(""+S).toLowerCase(),J=!0}}a.byteLength=F;function B(N,S,_){let L=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,S>>>=0,_<=S))return"";for(N||(N="utf8");;)switch(N){case"hex":return pe(this,S,_);case"utf8":case"utf-8":return ie(this,S,_);case"ascii":return de(this,S,_);case"latin1":case"binary":return Ce(this,S,_);case"base64":return oe(this,S,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,S,_);default:if(L)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),L=!0}}a.prototype._isBuffer=!0;function P(N,S,_){const L=N[S];N[S]=N[_],N[_]=L}a.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<S;_+=2)P(this,_,_+1);return this},a.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<S;_+=4)P(this,_,_+3),P(this,_+1,_+2);return this},a.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<S;_+=8)P(this,_,_+7),P(this,_+1,_+6),P(this,_+2,_+5),P(this,_+3,_+4);return this},a.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?ie(this,0,S):B.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(S){if(!a.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:a.compare(this,S)===0},a.prototype.inspect=function(){let S="";const _=e.INSPECT_MAX_BYTES;return S=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(S+=" ... "),"<Buffer "+S+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(S,_,L,J,ee){if(ce(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),!a.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(_===void 0&&(_=0),L===void 0&&(L=S?S.length:0),J===void 0&&(J=0),ee===void 0&&(ee=this.length),_<0||L>S.length||J<0||ee>this.length)throw new RangeError("out of range index");if(J>=ee&&_>=L)return 0;if(J>=ee)return-1;if(_>=L)return 1;if(_>>>=0,L>>>=0,J>>>=0,ee>>>=0,this===S)return 0;let ue=ee-J,ge=L-_;const Be=Math.min(ue,ge),qe=this.slice(J,ee),Pe=S.slice(_,L);for(let rt=0;rt<Be;++rt)if(qe[rt]!==Pe[rt]){ue=qe[rt],ge=Pe[rt];break}return ue<ge?-1:ge<ue?1:0};function $(N,S,_,L,J){if(N.length===0)return-1;if(typeof _=="string"?(L=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,Te(_)&&(_=J?0:N.length-1),_<0&&(_=N.length+_),_>=N.length){if(J)return-1;_=N.length-1}else if(_<0)if(J)_=0;else return-1;if(typeof S=="string"&&(S=a.from(S,L)),a.isBuffer(S))return S.length===0?-1:I(N,S,_,L,J);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(N,S,_):Uint8Array.prototype.lastIndexOf.call(N,S,_):I(N,[S],_,L,J);throw new TypeError("val must be string, number or Buffer")}function I(N,S,_,L,J){let ee=1,ue=N.length,ge=S.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(N.length<2||S.length<2)return-1;ee=2,ue/=2,ge/=2,_/=2}function Be(Pe,rt){return ee===1?Pe[rt]:Pe.readUInt16BE(rt*ee)}let qe;if(J){let Pe=-1;for(qe=_;qe<ue;qe++)if(Be(N,qe)===Be(S,Pe===-1?0:qe-Pe)){if(Pe===-1&&(Pe=qe),qe-Pe+1===ge)return Pe*ee}else Pe!==-1&&(qe-=qe-Pe),Pe=-1}else for(_+ge>ue&&(_=ue-ge),qe=_;qe>=0;qe--){let Pe=!0;for(let rt=0;rt<ge;rt++)if(Be(N,qe+rt)!==Be(S,rt)){Pe=!1;break}if(Pe)return qe}return-1}a.prototype.includes=function(S,_,L){return this.indexOf(S,_,L)!==-1},a.prototype.indexOf=function(S,_,L){return $(this,S,_,L,!0)},a.prototype.lastIndexOf=function(S,_,L){return $(this,S,_,L,!1)};function U(N,S,_,L){_=Number(_)||0;const J=N.length-_;L?(L=Number(L),L>J&&(L=J)):L=J;const ee=S.length;L>ee/2&&(L=ee/2);let ue;for(ue=0;ue<L;++ue){const ge=parseInt(S.substr(ue*2,2),16);if(Te(ge))return ue;N[_+ue]=ge}return ue}function j(N,S,_,L){return Ie(Ge(S,N.length-_),N,_,L)}function W(N,S,_,L){return Ie(be(S),N,_,L)}function te(N,S,_,L){return Ie(ke(S),N,_,L)}function Y(N,S,_,L){return Ie(je(S,N.length-_),N,_,L)}a.prototype.write=function(S,_,L,J){if(_===void 0)J="utf8",L=this.length,_=0;else if(L===void 0&&typeof _=="string")J=_,L=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(L)?(L=L>>>0,J===void 0&&(J="utf8")):(J=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ee=this.length-_;if((L===void 0||L>ee)&&(L=ee),S.length>0&&(L<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let ue=!1;for(;;)switch(J){case"hex":return U(this,S,_,L);case"utf8":case"utf-8":return j(this,S,_,L);case"ascii":case"latin1":case"binary":return W(this,S,_,L);case"base64":return te(this,S,_,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,S,_,L);default:if(ue)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ue=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(N,S,_){return S===0&&_===N.length?t.fromByteArray(N):t.fromByteArray(N.slice(S,_))}function ie(N,S,_){_=Math.min(N.length,_);const L=[];let J=S;for(;J<_;){const ee=N[J];let ue=null,ge=ee>239?4:ee>223?3:ee>191?2:1;if(J+ge<=_){let Be,qe,Pe,rt;switch(ge){case 1:ee<128&&(ue=ee);break;case 2:Be=N[J+1],(Be&192)===128&&(rt=(ee&31)<<6|Be&63,rt>127&&(ue=rt));break;case 3:Be=N[J+1],qe=N[J+2],(Be&192)===128&&(qe&192)===128&&(rt=(ee&15)<<12|(Be&63)<<6|qe&63,rt>2047&&(rt<55296||rt>57343)&&(ue=rt));break;case 4:Be=N[J+1],qe=N[J+2],Pe=N[J+3],(Be&192)===128&&(qe&192)===128&&(Pe&192)===128&&(rt=(ee&15)<<18|(Be&63)<<12|(qe&63)<<6|Pe&63,rt>65535&&rt<1114112&&(ue=rt))}}ue===null?(ue=65533,ge=1):ue>65535&&(ue-=65536,L.push(ue>>>10&1023|55296),ue=56320|ue&1023),L.push(ue),J+=ge}return De(L)}const fe=4096;function De(N){const S=N.length;if(S<=fe)return String.fromCharCode.apply(String,N);let _="",L=0;for(;L<S;)_+=String.fromCharCode.apply(String,N.slice(L,L+=fe));return _}function de(N,S,_){let L="";_=Math.min(N.length,_);for(let J=S;J<_;++J)L+=String.fromCharCode(N[J]&127);return L}function Ce(N,S,_){let L="";_=Math.min(N.length,_);for(let J=S;J<_;++J)L+=String.fromCharCode(N[J]);return L}function pe(N,S,_){const L=N.length;(!S||S<0)&&(S=0),(!_||_<0||_>L)&&(_=L);let J="";for(let ee=S;ee<_;++ee)J+=Z[N[ee]];return J}function Q(N,S,_){const L=N.slice(S,_);let J="";for(let ee=0;ee<L.length-1;ee+=2)J+=String.fromCharCode(L[ee]+L[ee+1]*256);return J}a.prototype.slice=function(S,_){const L=this.length;S=~~S,_=_===void 0?L:~~_,S<0?(S+=L,S<0&&(S=0)):S>L&&(S=L),_<0?(_+=L,_<0&&(_=0)):_>L&&(_=L),_<S&&(_=S);const J=this.subarray(S,_);return Object.setPrototypeOf(J,a.prototype),J};function q(N,S,_){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+S>_)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(S,_,L){S=S>>>0,_=_>>>0,L||q(S,_,this.length);let J=this[S],ee=1,ue=0;for(;++ue<_&&(ee*=256);)J+=this[S+ue]*ee;return J},a.prototype.readUintBE=a.prototype.readUIntBE=function(S,_,L){S=S>>>0,_=_>>>0,L||q(S,_,this.length);let J=this[S+--_],ee=1;for(;_>0&&(ee*=256);)J+=this[S+--_]*ee;return J},a.prototype.readUint8=a.prototype.readUInt8=function(S,_){return S=S>>>0,_||q(S,1,this.length),this[S]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(S,_){return S=S>>>0,_||q(S,2,this.length),this[S]|this[S+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(S,_){return S=S>>>0,_||q(S,2,this.length),this[S]<<8|this[S+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(S,_){return S=S>>>0,_||q(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(S,_){return S=S>>>0,_||q(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},a.prototype.readBigUInt64LE=ae(function(S){S=S>>>0,re(S,"offset");const _=this[S],L=this[S+7];(_===void 0||L===void 0)&&_e(S,this.length-8);const J=_+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,ee=this[++S]+this[++S]*2**8+this[++S]*2**16+L*2**24;return BigInt(J)+(BigInt(ee)<<BigInt(32))}),a.prototype.readBigUInt64BE=ae(function(S){S=S>>>0,re(S,"offset");const _=this[S],L=this[S+7];(_===void 0||L===void 0)&&_e(S,this.length-8);const J=_*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],ee=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+L;return(BigInt(J)<<BigInt(32))+BigInt(ee)}),a.prototype.readIntLE=function(S,_,L){S=S>>>0,_=_>>>0,L||q(S,_,this.length);let J=this[S],ee=1,ue=0;for(;++ue<_&&(ee*=256);)J+=this[S+ue]*ee;return ee*=128,J>=ee&&(J-=Math.pow(2,8*_)),J},a.prototype.readIntBE=function(S,_,L){S=S>>>0,_=_>>>0,L||q(S,_,this.length);let J=_,ee=1,ue=this[S+--J];for(;J>0&&(ee*=256);)ue+=this[S+--J]*ee;return ee*=128,ue>=ee&&(ue-=Math.pow(2,8*_)),ue},a.prototype.readInt8=function(S,_){return S=S>>>0,_||q(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},a.prototype.readInt16LE=function(S,_){S=S>>>0,_||q(S,2,this.length);const L=this[S]|this[S+1]<<8;return L&32768?L|4294901760:L},a.prototype.readInt16BE=function(S,_){S=S>>>0,_||q(S,2,this.length);const L=this[S+1]|this[S]<<8;return L&32768?L|4294901760:L},a.prototype.readInt32LE=function(S,_){return S=S>>>0,_||q(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},a.prototype.readInt32BE=function(S,_){return S=S>>>0,_||q(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},a.prototype.readBigInt64LE=ae(function(S){S=S>>>0,re(S,"offset");const _=this[S],L=this[S+7];(_===void 0||L===void 0)&&_e(S,this.length-8);const J=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(L<<24);return(BigInt(J)<<BigInt(32))+BigInt(_+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),a.prototype.readBigInt64BE=ae(function(S){S=S>>>0,re(S,"offset");const _=this[S],L=this[S+7];(_===void 0||L===void 0)&&_e(S,this.length-8);const J=(_<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(J)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+L)}),a.prototype.readFloatLE=function(S,_){return S=S>>>0,_||q(S,4,this.length),r.read(this,S,!0,23,4)},a.prototype.readFloatBE=function(S,_){return S=S>>>0,_||q(S,4,this.length),r.read(this,S,!1,23,4)},a.prototype.readDoubleLE=function(S,_){return S=S>>>0,_||q(S,8,this.length),r.read(this,S,!0,52,8)},a.prototype.readDoubleBE=function(S,_){return S=S>>>0,_||q(S,8,this.length),r.read(this,S,!1,52,8)};function v(N,S,_,L,J,ee){if(!a.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>J||S<ee)throw new RangeError('"value" argument is out of bounds');if(_+L>N.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(S,_,L,J){if(S=+S,_=_>>>0,L=L>>>0,!J){const ge=Math.pow(2,8*L)-1;v(this,S,_,L,ge,0)}let ee=1,ue=0;for(this[_]=S&255;++ue<L&&(ee*=256);)this[_+ue]=S/ee&255;return _+L},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(S,_,L,J){if(S=+S,_=_>>>0,L=L>>>0,!J){const ge=Math.pow(2,8*L)-1;v(this,S,_,L,ge,0)}let ee=L-1,ue=1;for(this[_+ee]=S&255;--ee>=0&&(ue*=256);)this[_+ee]=S/ue&255;return _+L},a.prototype.writeUint8=a.prototype.writeUInt8=function(S,_,L){return S=+S,_=_>>>0,L||v(this,S,_,1,255,0),this[_]=S&255,_+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(S,_,L){return S=+S,_=_>>>0,L||v(this,S,_,2,65535,0),this[_]=S&255,this[_+1]=S>>>8,_+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(S,_,L){return S=+S,_=_>>>0,L||v(this,S,_,2,65535,0),this[_]=S>>>8,this[_+1]=S&255,_+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(S,_,L){return S=+S,_=_>>>0,L||v(this,S,_,4,4294967295,0),this[_+3]=S>>>24,this[_+2]=S>>>16,this[_+1]=S>>>8,this[_]=S&255,_+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(S,_,L){return S=+S,_=_>>>0,L||v(this,S,_,4,4294967295,0),this[_]=S>>>24,this[_+1]=S>>>16,this[_+2]=S>>>8,this[_+3]=S&255,_+4};function C(N,S,_,L,J){H(S,L,J,N,_,7);let ee=Number(S&BigInt(4294967295));N[_++]=ee,ee=ee>>8,N[_++]=ee,ee=ee>>8,N[_++]=ee,ee=ee>>8,N[_++]=ee;let ue=Number(S>>BigInt(32)&BigInt(4294967295));return N[_++]=ue,ue=ue>>8,N[_++]=ue,ue=ue>>8,N[_++]=ue,ue=ue>>8,N[_++]=ue,_}function D(N,S,_,L,J){H(S,L,J,N,_,7);let ee=Number(S&BigInt(4294967295));N[_+7]=ee,ee=ee>>8,N[_+6]=ee,ee=ee>>8,N[_+5]=ee,ee=ee>>8,N[_+4]=ee;let ue=Number(S>>BigInt(32)&BigInt(4294967295));return N[_+3]=ue,ue=ue>>8,N[_+2]=ue,ue=ue>>8,N[_+1]=ue,ue=ue>>8,N[_]=ue,_+8}a.prototype.writeBigUInt64LE=ae(function(S,_=0){return C(this,S,_,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ae(function(S,_=0){return D(this,S,_,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(S,_,L,J){if(S=+S,_=_>>>0,!J){const Be=Math.pow(2,8*L-1);v(this,S,_,L,Be-1,-Be)}let ee=0,ue=1,ge=0;for(this[_]=S&255;++ee<L&&(ue*=256);)S<0&&ge===0&&this[_+ee-1]!==0&&(ge=1),this[_+ee]=(S/ue>>0)-ge&255;return _+L},a.prototype.writeIntBE=function(S,_,L,J){if(S=+S,_=_>>>0,!J){const Be=Math.pow(2,8*L-1);v(this,S,_,L,Be-1,-Be)}let ee=L-1,ue=1,ge=0;for(this[_+ee]=S&255;--ee>=0&&(ue*=256);)S<0&&ge===0&&this[_+ee+1]!==0&&(ge=1),this[_+ee]=(S/ue>>0)-ge&255;return _+L},a.prototype.writeInt8=function(S,_,L){return S=+S,_=_>>>0,L||v(this,S,_,1,127,-128),S<0&&(S=255+S+1),this[_]=S&255,_+1},a.prototype.writeInt16LE=function(S,_,L){return S=+S,_=_>>>0,L||v(this,S,_,2,32767,-32768),this[_]=S&255,this[_+1]=S>>>8,_+2},a.prototype.writeInt16BE=function(S,_,L){return S=+S,_=_>>>0,L||v(this,S,_,2,32767,-32768),this[_]=S>>>8,this[_+1]=S&255,_+2},a.prototype.writeInt32LE=function(S,_,L){return S=+S,_=_>>>0,L||v(this,S,_,4,2147483647,-2147483648),this[_]=S&255,this[_+1]=S>>>8,this[_+2]=S>>>16,this[_+3]=S>>>24,_+4},a.prototype.writeInt32BE=function(S,_,L){return S=+S,_=_>>>0,L||v(this,S,_,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[_]=S>>>24,this[_+1]=S>>>16,this[_+2]=S>>>8,this[_+3]=S&255,_+4},a.prototype.writeBigInt64LE=ae(function(S,_=0){return C(this,S,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ae(function(S,_=0){return D(this,S,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function g(N,S,_,L,J,ee){if(_+L>N.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function O(N,S,_,L,J){return S=+S,_=_>>>0,J||g(N,S,_,4),r.write(N,S,_,L,23,4),_+4}a.prototype.writeFloatLE=function(S,_,L){return O(this,S,_,!0,L)},a.prototype.writeFloatBE=function(S,_,L){return O(this,S,_,!1,L)};function b(N,S,_,L,J){return S=+S,_=_>>>0,J||g(N,S,_,8),r.write(N,S,_,L,52,8),_+8}a.prototype.writeDoubleLE=function(S,_,L){return b(this,S,_,!0,L)},a.prototype.writeDoubleBE=function(S,_,L){return b(this,S,_,!1,L)},a.prototype.copy=function(S,_,L,J){if(!a.isBuffer(S))throw new TypeError("argument should be a Buffer");if(L||(L=0),!J&&J!==0&&(J=this.length),_>=S.length&&(_=S.length),_||(_=0),J>0&&J<L&&(J=L),J===L||S.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),S.length-_<J-L&&(J=S.length-_+L);const ee=J-L;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,L,J):Uint8Array.prototype.set.call(S,this.subarray(L,J),_),ee},a.prototype.fill=function(S,_,L,J){if(typeof S=="string"){if(typeof _=="string"?(J=_,_=0,L=this.length):typeof L=="string"&&(J=L,L=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!a.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(S.length===1){const ue=S.charCodeAt(0);(J==="utf8"&&ue<128||J==="latin1")&&(S=ue)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(_<0||this.length<_||this.length<L)throw new RangeError("Out of range index");if(L<=_)return this;_=_>>>0,L=L===void 0?this.length:L>>>0,S||(S=0);let ee;if(typeof S=="number")for(ee=_;ee<L;++ee)this[ee]=S;else{const ue=a.isBuffer(S)?S:a.from(S,J),ge=ue.length;if(ge===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(ee=0;ee<L-_;++ee)this[ee+_]=ue[ee%ge]}return this};const w={};function x(N,S,_){w[N]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}x("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),x("ERR_INVALID_ARG_TYPE",function(N,S){return`The "${N}" argument must be of type number. Received type ${typeof S}`},TypeError),x("ERR_OUT_OF_RANGE",function(N,S,_){let L=`The value of "${N}" is out of range.`,J=_;return Number.isInteger(_)&&Math.abs(_)>2**32?J=k(String(_)):typeof _=="bigint"&&(J=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(J=k(J)),J+="n"),L+=` It must be ${S}. Received ${J}`,L},RangeError);function k(N){let S="",_=N.length;const L=N[0]==="-"?1:0;for(;_>=L+4;_-=3)S=`_${N.slice(_-3,_)}${S}`;return`${N.slice(0,_)}${S}`}function G(N,S,_){re(S,"offset"),(N[S]===void 0||N[S+_]===void 0)&&_e(S,N.length-(_+1))}function H(N,S,_,L,J,ee){if(N>_||N<S){const ue=typeof S=="bigint"?"n":"";let ge;throw ee>3?S===0||S===BigInt(0)?ge=`>= 0${ue} and < 2${ue} ** ${(ee+1)*8}${ue}`:ge=`>= -(2${ue} ** ${(ee+1)*8-1}${ue}) and < 2 ** ${(ee+1)*8-1}${ue}`:ge=`>= ${S}${ue} and <= ${_}${ue}`,new w.ERR_OUT_OF_RANGE("value",ge,N)}G(L,J,ee)}function re(N,S){if(typeof N!="number")throw new w.ERR_INVALID_ARG_TYPE(S,"number",N)}function _e(N,S,_){throw Math.floor(N)!==N?(re(N,_),new w.ERR_OUT_OF_RANGE(_||"offset","an integer",N)):S<0?new w.ERR_BUFFER_OUT_OF_BOUNDS:new w.ERR_OUT_OF_RANGE(_||"offset",`>= ${_?1:0} and <= ${S}`,N)}const Le=/[^+/0-9A-Za-z-_]/g;function Ue(N){if(N=N.split("=")[0],N=N.trim().replace(Le,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function Ge(N,S){S=S||1/0;let _;const L=N.length;let J=null;const ee=[];for(let ue=0;ue<L;++ue){if(_=N.charCodeAt(ue),_>55295&&_<57344){if(!J){if(_>56319){(S-=3)>-1&&ee.push(239,191,189);continue}else if(ue+1===L){(S-=3)>-1&&ee.push(239,191,189);continue}J=_;continue}if(_<56320){(S-=3)>-1&&ee.push(239,191,189),J=_;continue}_=(J-55296<<10|_-56320)+65536}else J&&(S-=3)>-1&&ee.push(239,191,189);if(J=null,_<128){if((S-=1)<0)break;ee.push(_)}else if(_<2048){if((S-=2)<0)break;ee.push(_>>6|192,_&63|128)}else if(_<65536){if((S-=3)<0)break;ee.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((S-=4)<0)break;ee.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return ee}function be(N){const S=[];for(let _=0;_<N.length;++_)S.push(N.charCodeAt(_)&255);return S}function je(N,S){let _,L,J;const ee=[];for(let ue=0;ue<N.length&&!((S-=2)<0);++ue)_=N.charCodeAt(ue),L=_>>8,J=_%256,ee.push(J),ee.push(L);return ee}function ke(N){return t.toByteArray(Ue(N))}function Ie(N,S,_,L){let J;for(J=0;J<L&&!(J+_>=S.length||J>=N.length);++J)S[J+_]=N[J];return J}function ce(N,S){return N instanceof S||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===S.name}function Te(N){return N!==N}const Z=function(){const N="0123456789abcdef",S=new Array(256);for(let _=0;_<16;++_){const L=_*16;for(let J=0;J<16;++J)S[L+J]=N[_]+N[J]}return S}();function ae(N){return typeof BigInt>"u"?le:N}function le(){throw new Error("BigInt not supported")}}(cd)),cd}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Oy;function CW(){return Oy||(Oy=1,function(e,t){var r=FW(),n=r.Buffer;function u(o,a){for(var i in o)a[i]=o[i]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(u(r,t),t.Buffer=s);function s(o,a,i){return n(o,a,i)}s.prototype=Object.create(n.prototype),u(n,s),s.from=function(o,a,i){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,i)},s.alloc=function(o,a,i){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=n(o);return a!==void 0?typeof i=="string"?c.fill(a,i):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(gW,gi)),gi}var ky;function bW(){if(ky)return id;ky=1;var e=CW().Buffer,t=e.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var y;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(y)return;m=(""+m).toLowerCase(),y=!0}}function n(m){var y=r(m);if(typeof y!="string"&&(e.isEncoding===t||!t(m)))throw new Error("Unknown encoding: "+m);return y||m}id.StringDecoder=u;function u(m){this.encoding=n(m);var y;switch(this.encoding){case"utf16le":this.text=p,this.end=f,y=4;break;case"utf8":this.fillLast=i,y=4;break;case"base64":this.text=d,this.end=h,y=3;break;default:this.write=E,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(y)}u.prototype.write=function(m){if(m.length===0)return"";var y,F;if(this.lastNeed){if(y=this.fillLast(m),y===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<m.length?y?y+this.text(m,F):this.text(m,F):y||""},u.prototype.end=l,u.prototype.text=c,u.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function s(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function o(m,y,F){var B=y.length-1;if(B<F)return 0;var P=s(y[B]);return P>=0?(P>0&&(m.lastNeed=P-1),P):--B<F||P===-2?0:(P=s(y[B]),P>=0?(P>0&&(m.lastNeed=P-2),P):--B<F||P===-2?0:(P=s(y[B]),P>=0?(P>0&&(P===2?P=0:m.lastNeed=P-3),P):0))}function a(m,y,F){if((y[0]&192)!==128)return m.lastNeed=0,"�";if(m.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return m.lastNeed=1,"�";if(m.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return m.lastNeed=2,"�"}}function i(m){var y=this.lastTotal-this.lastNeed,F=a(this,m);if(F!==void 0)return F;if(this.lastNeed<=m.length)return m.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,y,0,m.length),this.lastNeed-=m.length}function c(m,y){var F=o(this,m,y);if(!this.lastNeed)return m.toString("utf8",y);this.lastTotal=F;var B=m.length-(F-this.lastNeed);return m.copy(this.lastChar,0,B),m.toString("utf8",y,B)}function l(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+"�":y}function p(m,y){if((m.length-y)%2===0){var F=m.toString("utf16le",y);if(F){var B=F.charCodeAt(F.length-1);if(B>=55296&&B<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",y,m.length-1)}function f(m){var y=m&&m.length?this.write(m):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,F)}return y}function d(m,y){var F=(m.length-y)%3;return F===0?m.toString("base64",y):(this.lastNeed=3-F,this.lastTotal=3,F===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",y,m.length-F))}function h(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function E(m){return m.toString(this.encoding)}function A(m){return m&&m.length?this.write(m):""}return id}(function(e){(function(t){t.parser=function(b,w){return new n(b,w)},t.SAXParser=n,t.SAXStream=l,t.createStream=c,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(b,w){if(!(this instanceof n))return new n(b,w);var x=this;s(x),x.q=x.c="",x.bufferCheckPosition=t.MAX_BUFFER_LENGTH,x.opt=w||{},x.opt.lowercase=x.opt.lowercase||x.opt.lowercasetags,x.looseCase=x.opt.lowercase?"toLowerCase":"toUpperCase",x.tags=[],x.closed=x.closedRoot=x.sawRoot=!1,x.tag=x.error=null,x.strict=!!b,x.noscript=!!(b||x.opt.noscript),x.state=j.BEGIN,x.strictEntities=x.opt.strictEntities,x.ENTITIES=x.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),x.attribList=[],x.opt.xmlns&&(x.ns=Object.create(E)),x.trackPosition=x.opt.position!==!1,x.trackPosition&&(x.position=x.line=x.column=0),te(x,"onready")}Object.create||(Object.create=function(b){function w(){}w.prototype=b;var x=new w;return x}),Object.keys||(Object.keys=function(b){var w=[];for(var x in b)b.hasOwnProperty(x)&&w.push(x);return w});function u(b){for(var w=Math.max(t.MAX_BUFFER_LENGTH,10),x=0,k=0,G=r.length;k<G;k++){var H=b[r[k]].length;if(H>w)switch(r[k]){case"textNode":oe(b);break;case"cdata":Y(b,"oncdata",b.cdata),b.cdata="";break;case"script":Y(b,"onscript",b.script),b.script="";break;default:fe(b,"Max buffer length exceeded: "+r[k])}x=Math.max(x,H)}var re=t.MAX_BUFFER_LENGTH-x;b.bufferCheckPosition=re+b.position}function s(b){for(var w=0,x=r.length;w<x;w++)b[r[w]]=""}function o(b){oe(b),b.cdata!==""&&(Y(b,"oncdata",b.cdata),b.cdata=""),b.script!==""&&(Y(b,"onscript",b.script),b.script="")}n.prototype={end:function(){De(this)},write:O,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=yW().Stream}catch{a=function(){}}var i=t.EVENTS.filter(function(b){return b!=="error"&&b!=="end"});function c(b,w){return new l(b,w)}function l(b,w){if(!(this instanceof l))return new l(b,w);a.apply(this),this._parser=new n(b,w),this.writable=!0,this.readable=!0;var x=this;this._parser.onend=function(){x.emit("end")},this._parser.onerror=function(k){x.emit("error",k),x._parser.error=null},this._decoder=null,i.forEach(function(k){Object.defineProperty(x,"on"+k,{get:function(){return x._parser["on"+k]},set:function(G){if(!G)return x.removeAllListeners(k),x._parser["on"+k]=G,G;x.on(k,G)},enumerable:!0,configurable:!1})})}l.prototype=Object.create(a.prototype,{constructor:{value:l}}),l.prototype.write=function(b){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(b)){if(!this._decoder){var w=bW().StringDecoder;this._decoder=new w("utf8")}b=this._decoder.write(b)}return this._parser.write(b.toString()),this.emit("data",b),!0},l.prototype.end=function(b){return b&&b.length&&this.write(b),this._parser.end(),!0},l.prototype.on=function(b,w){var x=this;return!x._parser["on"+b]&&i.indexOf(b)!==-1&&(x._parser["on"+b]=function(){var k=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);k.splice(0,0,b),x.emit.apply(x,k)}),a.prototype.on.call(x,b,w)};var p="[CDATA[",f="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",E={xml:d,xmlns:h},A=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,F=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function B(b){return b===" "||b===`
`||b==="\r"||b==="	"}function P(b){return b==='"'||b==="'"}function $(b){return b===">"||B(b)}function I(b,w){return b.test(w)}function U(b,w){return!I(b,w)}var j=0;t.STATE={BEGIN:j++,BEGIN_WHITESPACE:j++,TEXT:j++,TEXT_ENTITY:j++,OPEN_WAKA:j++,SGML_DECL:j++,SGML_DECL_QUOTED:j++,DOCTYPE:j++,DOCTYPE_QUOTED:j++,DOCTYPE_DTD:j++,DOCTYPE_DTD_QUOTED:j++,COMMENT_STARTING:j++,COMMENT:j++,COMMENT_ENDING:j++,COMMENT_ENDED:j++,CDATA:j++,CDATA_ENDING:j++,CDATA_ENDING_2:j++,PROC_INST:j++,PROC_INST_BODY:j++,PROC_INST_ENDING:j++,OPEN_TAG:j++,OPEN_TAG_SLASH:j++,ATTRIB:j++,ATTRIB_NAME:j++,ATTRIB_NAME_SAW_WHITE:j++,ATTRIB_VALUE:j++,ATTRIB_VALUE_QUOTED:j++,ATTRIB_VALUE_CLOSED:j++,ATTRIB_VALUE_UNQUOTED:j++,ATTRIB_VALUE_ENTITY_Q:j++,ATTRIB_VALUE_ENTITY_U:j++,CLOSE_TAG:j++,CLOSE_TAG_SAW_WHITE:j++,SCRIPT:j++,SCRIPT_ENDING:j++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(b){var w=t.ENTITIES[b],x=typeof w=="number"?String.fromCharCode(w):w;t.ENTITIES[b]=x});for(var W in t.STATE)t.STATE[t.STATE[W]]=W;j=t.STATE;function te(b,w,x){b[w]&&b[w](x)}function Y(b,w,x){b.textNode&&oe(b),te(b,w,x)}function oe(b){b.textNode=ie(b.opt,b.textNode),b.textNode&&te(b,"ontext",b.textNode),b.textNode=""}function ie(b,w){return b.trim&&(w=w.trim()),b.normalize&&(w=w.replace(/\s+/g," ")),w}function fe(b,w){return oe(b),b.trackPosition&&(w+=`
Line: `+b.line+`
Column: `+b.column+`
Char: `+b.c),w=new Error(w),b.error=w,te(b,"onerror",w),b}function De(b){return b.sawRoot&&!b.closedRoot&&de(b,"Unclosed root tag"),b.state!==j.BEGIN&&b.state!==j.BEGIN_WHITESPACE&&b.state!==j.TEXT&&fe(b,"Unexpected end"),oe(b),b.c="",b.closed=!0,te(b,"onend"),n.call(b,b.strict,b.opt),b}function de(b,w){if(typeof b!="object"||!(b instanceof n))throw new Error("bad call to strictFail");b.strict&&fe(b,w)}function Ce(b){b.strict||(b.tagName=b.tagName[b.looseCase]());var w=b.tags[b.tags.length-1]||b,x=b.tag={name:b.tagName,attributes:{}};b.opt.xmlns&&(x.ns=w.ns),b.attribList.length=0,Y(b,"onopentagstart",x)}function pe(b,w){var x=b.indexOf(":"),k=x<0?["",b]:b.split(":"),G=k[0],H=k[1];return w&&b==="xmlns"&&(G="xmlns",H=""),{prefix:G,local:H}}function Q(b){if(b.strict||(b.attribName=b.attribName[b.looseCase]()),b.attribList.indexOf(b.attribName)!==-1||b.tag.attributes.hasOwnProperty(b.attribName)){b.attribName=b.attribValue="";return}if(b.opt.xmlns){var w=pe(b.attribName,!0),x=w.prefix,k=w.local;if(x==="xmlns")if(k==="xml"&&b.attribValue!==d)de(b,"xml: prefix must be bound to "+d+`
Actual: `+b.attribValue);else if(k==="xmlns"&&b.attribValue!==h)de(b,"xmlns: prefix must be bound to "+h+`
Actual: `+b.attribValue);else{var G=b.tag,H=b.tags[b.tags.length-1]||b;G.ns===H.ns&&(G.ns=Object.create(H.ns)),G.ns[k]=b.attribValue}b.attribList.push([b.attribName,b.attribValue])}else b.tag.attributes[b.attribName]=b.attribValue,Y(b,"onattribute",{name:b.attribName,value:b.attribValue});b.attribName=b.attribValue=""}function q(b,w){if(b.opt.xmlns){var x=b.tag,k=pe(b.tagName);x.prefix=k.prefix,x.local=k.local,x.uri=x.ns[k.prefix]||"",x.prefix&&!x.uri&&(de(b,"Unbound namespace prefix: "+JSON.stringify(b.tagName)),x.uri=k.prefix);var G=b.tags[b.tags.length-1]||b;x.ns&&G.ns!==x.ns&&Object.keys(x.ns).forEach(function(ce){Y(b,"onopennamespace",{prefix:ce,uri:x.ns[ce]})});for(var H=0,re=b.attribList.length;H<re;H++){var _e=b.attribList[H],Le=_e[0],Ue=_e[1],Ge=pe(Le,!0),be=Ge.prefix,je=Ge.local,ke=be===""?"":x.ns[be]||"",Ie={name:Le,value:Ue,prefix:be,local:je,uri:ke};be&&be!=="xmlns"&&!ke&&(de(b,"Unbound namespace prefix: "+JSON.stringify(be)),Ie.uri=be),b.tag.attributes[Le]=Ie,Y(b,"onattribute",Ie)}b.attribList.length=0}b.tag.isSelfClosing=!!w,b.sawRoot=!0,b.tags.push(b.tag),Y(b,"onopentag",b.tag),w||(!b.noscript&&b.tagName.toLowerCase()==="script"?b.state=j.SCRIPT:b.state=j.TEXT,b.tag=null,b.tagName=""),b.attribName=b.attribValue="",b.attribList.length=0}function v(b){if(!b.tagName){de(b,"Weird empty close tag."),b.textNode+="</>",b.state=j.TEXT;return}if(b.script){if(b.tagName!=="script"){b.script+="</"+b.tagName+">",b.tagName="",b.state=j.SCRIPT;return}Y(b,"onscript",b.script),b.script=""}var w=b.tags.length,x=b.tagName;b.strict||(x=x[b.looseCase]());for(var k=x;w--;){var G=b.tags[w];if(G.name!==k)de(b,"Unexpected close tag");else break}if(w<0){de(b,"Unmatched closing tag: "+b.tagName),b.textNode+="</"+b.tagName+">",b.state=j.TEXT;return}b.tagName=x;for(var H=b.tags.length;H-- >w;){var re=b.tag=b.tags.pop();b.tagName=b.tag.name,Y(b,"onclosetag",b.tagName);var _e={};for(var Le in re.ns)_e[Le]=re.ns[Le];var Ue=b.tags[b.tags.length-1]||b;b.opt.xmlns&&re.ns!==Ue.ns&&Object.keys(re.ns).forEach(function(Ge){var be=re.ns[Ge];Y(b,"onclosenamespace",{prefix:Ge,uri:be})})}w===0&&(b.closedRoot=!0),b.tagName=b.attribValue=b.attribName="",b.attribList.length=0,b.state=j.TEXT}function C(b){var w=b.entity,x=w.toLowerCase(),k,G="";return b.ENTITIES[w]?b.ENTITIES[w]:b.ENTITIES[x]?b.ENTITIES[x]:(w=x,w.charAt(0)==="#"&&(w.charAt(1)==="x"?(w=w.slice(2),k=parseInt(w,16),G=k.toString(16)):(w=w.slice(1),k=parseInt(w,10),G=k.toString(10))),w=w.replace(/^0+/,""),isNaN(k)||G.toLowerCase()!==w?(de(b,"Invalid character entity"),"&"+b.entity+";"):String.fromCodePoint(k))}function D(b,w){w==="<"?(b.state=j.OPEN_WAKA,b.startTagPosition=b.position):B(w)||(de(b,"Non-whitespace before first tag."),b.textNode=w,b.state=j.TEXT)}function g(b,w){var x="";return w<b.length&&(x=b.charAt(w)),x}function O(b){var w=this;if(this.error)throw this.error;if(w.closed)return fe(w,"Cannot write after close. Assign an onready handler.");if(b===null)return De(w);typeof b=="object"&&(b=b.toString());for(var x=0,k="";k=g(b,x++),w.c=k,!!k;)switch(w.trackPosition&&(w.position++,k===`
`?(w.line++,w.column=0):w.column++),w.state){case j.BEGIN:if(w.state=j.BEGIN_WHITESPACE,k==="\uFEFF")continue;D(w,k);continue;case j.BEGIN_WHITESPACE:D(w,k);continue;case j.TEXT:if(w.sawRoot&&!w.closedRoot){for(var G=x-1;k&&k!=="<"&&k!=="&";)k=g(b,x++),k&&w.trackPosition&&(w.position++,k===`
`?(w.line++,w.column=0):w.column++);w.textNode+=b.substring(G,x-1)}k==="<"&&!(w.sawRoot&&w.closedRoot&&!w.strict)?(w.state=j.OPEN_WAKA,w.startTagPosition=w.position):(!B(k)&&(!w.sawRoot||w.closedRoot)&&de(w,"Text data outside of root node."),k==="&"?w.state=j.TEXT_ENTITY:w.textNode+=k);continue;case j.SCRIPT:k==="<"?w.state=j.SCRIPT_ENDING:w.script+=k;continue;case j.SCRIPT_ENDING:k==="/"?w.state=j.CLOSE_TAG:(w.script+="<"+k,w.state=j.SCRIPT);continue;case j.OPEN_WAKA:if(k==="!")w.state=j.SGML_DECL,w.sgmlDecl="";else if(!B(k))if(I(A,k))w.state=j.OPEN_TAG,w.tagName=k;else if(k==="/")w.state=j.CLOSE_TAG,w.tagName="";else if(k==="?")w.state=j.PROC_INST,w.procInstName=w.procInstBody="";else{if(de(w,"Unencoded <"),w.startTagPosition+1<w.position){var H=w.position-w.startTagPosition;k=new Array(H).join(" ")+k}w.textNode+="<"+k,w.state=j.TEXT}continue;case j.SGML_DECL:(w.sgmlDecl+k).toUpperCase()===p?(Y(w,"onopencdata"),w.state=j.CDATA,w.sgmlDecl="",w.cdata=""):w.sgmlDecl+k==="--"?(w.state=j.COMMENT,w.comment="",w.sgmlDecl=""):(w.sgmlDecl+k).toUpperCase()===f?(w.state=j.DOCTYPE,(w.doctype||w.sawRoot)&&de(w,"Inappropriately located doctype declaration"),w.doctype="",w.sgmlDecl=""):k===">"?(Y(w,"onsgmldeclaration",w.sgmlDecl),w.sgmlDecl="",w.state=j.TEXT):(P(k)&&(w.state=j.SGML_DECL_QUOTED),w.sgmlDecl+=k);continue;case j.SGML_DECL_QUOTED:k===w.q&&(w.state=j.SGML_DECL,w.q=""),w.sgmlDecl+=k;continue;case j.DOCTYPE:k===">"?(w.state=j.TEXT,Y(w,"ondoctype",w.doctype),w.doctype=!0):(w.doctype+=k,k==="["?w.state=j.DOCTYPE_DTD:P(k)&&(w.state=j.DOCTYPE_QUOTED,w.q=k));continue;case j.DOCTYPE_QUOTED:w.doctype+=k,k===w.q&&(w.q="",w.state=j.DOCTYPE);continue;case j.DOCTYPE_DTD:w.doctype+=k,k==="]"?w.state=j.DOCTYPE:P(k)&&(w.state=j.DOCTYPE_DTD_QUOTED,w.q=k);continue;case j.DOCTYPE_DTD_QUOTED:w.doctype+=k,k===w.q&&(w.state=j.DOCTYPE_DTD,w.q="");continue;case j.COMMENT:k==="-"?w.state=j.COMMENT_ENDING:w.comment+=k;continue;case j.COMMENT_ENDING:k==="-"?(w.state=j.COMMENT_ENDED,w.comment=ie(w.opt,w.comment),w.comment&&Y(w,"oncomment",w.comment),w.comment=""):(w.comment+="-"+k,w.state=j.COMMENT);continue;case j.COMMENT_ENDED:k!==">"?(de(w,"Malformed comment"),w.comment+="--"+k,w.state=j.COMMENT):w.state=j.TEXT;continue;case j.CDATA:k==="]"?w.state=j.CDATA_ENDING:w.cdata+=k;continue;case j.CDATA_ENDING:k==="]"?w.state=j.CDATA_ENDING_2:(w.cdata+="]"+k,w.state=j.CDATA);continue;case j.CDATA_ENDING_2:k===">"?(w.cdata&&Y(w,"oncdata",w.cdata),Y(w,"onclosecdata"),w.cdata="",w.state=j.TEXT):k==="]"?w.cdata+="]":(w.cdata+="]]"+k,w.state=j.CDATA);continue;case j.PROC_INST:k==="?"?w.state=j.PROC_INST_ENDING:B(k)?w.state=j.PROC_INST_BODY:w.procInstName+=k;continue;case j.PROC_INST_BODY:if(!w.procInstBody&&B(k))continue;k==="?"?w.state=j.PROC_INST_ENDING:w.procInstBody+=k;continue;case j.PROC_INST_ENDING:k===">"?(Y(w,"onprocessinginstruction",{name:w.procInstName,body:w.procInstBody}),w.procInstName=w.procInstBody="",w.state=j.TEXT):(w.procInstBody+="?"+k,w.state=j.PROC_INST_BODY);continue;case j.OPEN_TAG:I(m,k)?w.tagName+=k:(Ce(w),k===">"?q(w):k==="/"?w.state=j.OPEN_TAG_SLASH:(B(k)||de(w,"Invalid character in tag name"),w.state=j.ATTRIB));continue;case j.OPEN_TAG_SLASH:k===">"?(q(w,!0),v(w)):(de(w,"Forward-slash in opening tag not followed by >"),w.state=j.ATTRIB);continue;case j.ATTRIB:if(B(k))continue;k===">"?q(w):k==="/"?w.state=j.OPEN_TAG_SLASH:I(A,k)?(w.attribName=k,w.attribValue="",w.state=j.ATTRIB_NAME):de(w,"Invalid attribute name");continue;case j.ATTRIB_NAME:k==="="?w.state=j.ATTRIB_VALUE:k===">"?(de(w,"Attribute without value"),w.attribValue=w.attribName,Q(w),q(w)):B(k)?w.state=j.ATTRIB_NAME_SAW_WHITE:I(m,k)?w.attribName+=k:de(w,"Invalid attribute name");continue;case j.ATTRIB_NAME_SAW_WHITE:if(k==="=")w.state=j.ATTRIB_VALUE;else{if(B(k))continue;de(w,"Attribute without value"),w.tag.attributes[w.attribName]="",w.attribValue="",Y(w,"onattribute",{name:w.attribName,value:""}),w.attribName="",k===">"?q(w):I(A,k)?(w.attribName=k,w.state=j.ATTRIB_NAME):(de(w,"Invalid attribute name"),w.state=j.ATTRIB)}continue;case j.ATTRIB_VALUE:if(B(k))continue;P(k)?(w.q=k,w.state=j.ATTRIB_VALUE_QUOTED):(de(w,"Unquoted attribute value"),w.state=j.ATTRIB_VALUE_UNQUOTED,w.attribValue=k);continue;case j.ATTRIB_VALUE_QUOTED:if(k!==w.q){k==="&"?w.state=j.ATTRIB_VALUE_ENTITY_Q:w.attribValue+=k;continue}Q(w),w.q="",w.state=j.ATTRIB_VALUE_CLOSED;continue;case j.ATTRIB_VALUE_CLOSED:B(k)?w.state=j.ATTRIB:k===">"?q(w):k==="/"?w.state=j.OPEN_TAG_SLASH:I(A,k)?(de(w,"No whitespace between attributes"),w.attribName=k,w.attribValue="",w.state=j.ATTRIB_NAME):de(w,"Invalid attribute name");continue;case j.ATTRIB_VALUE_UNQUOTED:if(!$(k)){k==="&"?w.state=j.ATTRIB_VALUE_ENTITY_U:w.attribValue+=k;continue}Q(w),k===">"?q(w):w.state=j.ATTRIB;continue;case j.CLOSE_TAG:if(w.tagName)k===">"?v(w):I(m,k)?w.tagName+=k:w.script?(w.script+="</"+w.tagName,w.tagName="",w.state=j.SCRIPT):(B(k)||de(w,"Invalid tagname in closing tag"),w.state=j.CLOSE_TAG_SAW_WHITE);else{if(B(k))continue;U(A,k)?w.script?(w.script+="</"+k,w.state=j.SCRIPT):de(w,"Invalid tagname in closing tag."):w.tagName=k}continue;case j.CLOSE_TAG_SAW_WHITE:if(B(k))continue;k===">"?v(w):de(w,"Invalid characters in closing tag");continue;case j.TEXT_ENTITY:case j.ATTRIB_VALUE_ENTITY_Q:case j.ATTRIB_VALUE_ENTITY_U:var re,_e;switch(w.state){case j.TEXT_ENTITY:re=j.TEXT,_e="textNode";break;case j.ATTRIB_VALUE_ENTITY_Q:re=j.ATTRIB_VALUE_QUOTED,_e="attribValue";break;case j.ATTRIB_VALUE_ENTITY_U:re=j.ATTRIB_VALUE_UNQUOTED,_e="attribValue";break}k===";"?(w[_e]+=C(w),w.entity="",w.state=re):I(w.entity.length?F:y,k)?w.entity+=k:(de(w,"Invalid character in entity name"),w[_e]+="&"+w.entity+k,w.entity="",w.state=re);continue;default:throw new Error(w,"Unknown state: "+w.state)}return w.position>=w.bufferCheckPosition&&u(w),w}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var b=String.fromCharCode,w=Math.floor,x=function(){var k=16384,G=[],H,re,_e=-1,Le=arguments.length;if(!Le)return"";for(var Ue="";++_e<Le;){var Ge=Number(arguments[_e]);if(!isFinite(Ge)||Ge<0||Ge>1114111||w(Ge)!==Ge)throw RangeError("Invalid code point: "+Ge);Ge<=65535?G.push(Ge):(Ge-=65536,H=(Ge>>10)+55296,re=Ge%1024+56320,G.push(H,re)),(_e+1===Le||G.length>k)&&(Ue+=b.apply(null,G),G.length=0)}return Ue};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:x,configurable:!0,writable:!0}):String.fromCodePoint=x}()})(e)})(r7);class SW{constructor(){this.sax=r7.parser(!0),this.sax.ontext=t=>this.handleSaxText(t),this.sax.onopentag=t=>this.handleSaxOpenTag(t),this.sax.onclosetag=t=>this.handleSaxCloseTag(t),this.lexed=[],this.elementStack=[],this.currentText="",this.openTagHandlers={usx:this.ignoreHandler,book:this.handleBookOpen,chapter:this.handleChapter,verse:this.handleVerses,para:this.handleParaOpen,table:this.ignoreHandler,row:this.handleRowOpen,cell:this.handleCellOpen,char:this.handleCharOpen,ms:this.handleMSOpen,note:this.handleNoteOpen,sidebar:this.handleSidebarOpen,periph:this.notHandledHandler,figure:this.handleFigureOpen,optbreak:this.handleOptBreakOpen,ref:this.ignoreHandler},this.closeTagHandlers={usx:this.ignoreHandler,book:this.handleBookClose,chapter:this.ignoreHandler,verse:this.ignoreHandler,para:this.handleParaClose,table:this.ignoreHandler,row:this.handleRowClose,cell:this.handleCellClose,char:this.handleCharClose,ms:this.handleMSClose,note:this.handleNoteClose,sidebar:this.handleSidebarClose,periph:this.notHandledHandler,figure:this.handleFigureClose,optbreak:this.handleOptBreakClose,ref:this.ignoreHandler}}lexAndParse(t,r){this.parser=r,this.lexed=[],this.elementStack=[],this.sax.write(t).close()}handleSaxText(t){this.currentText=this.replaceEntities(t),ne.match(this.currentText,e7,"all").map(r=>t7(r,ds)).forEach(r=>this.parser.parseItem(r))}replaceEntities(t){return t.replace("&lt;","<").replace("&gt;",">").replace("&apos;","'").replace("&quot;",'"').replace("&amp;","&")}handleSaxOpenTag(t){const r=t.name,n=t.attributes;if(r in this.openTagHandlers)this.openTagHandlers[r](this,"open",r,n);else throw new Error(`Unexpected open element tag '${r}' in UsxParser`)}handleSaxCloseTag(t){this.closeTagHandlers[t](this,"close",t)}notHandledHandler(t,r,n){console.error(`WARNING: ${r} element tag '${n}' is not handled by UsxParser`)}stackPush(t,r){this.elementStack.push([t,r])}stackPop(){return this.elementStack.pop()}splitTagNumber(t){const r=ne.exec(t,ne("([^1-9]+)(.*)")),n=r[1],u=r[2].length>0?r[2]:"1";return[n,u]}ignoreHandler(t,r,n){}handleParaOpen(t,r,n,u){t.currentText="";const[s,o]=t.splitTagNumber(u.style);["cp"].includes(s)||t.parser.parseItem(Xe.tag("startTag",[null,null,s,o])),t.stackPush(n,u)}handleParaClose(t){const r=t.stackPop()[1],[n,u]=t.splitTagNumber(r.style);["cp"].includes(n)?t.parser.parseItem(Xe.pubchapter("pubchapter",[null,null,t.currentText])):t.parser.parseItem(Xe.tag("endTag",[null,null,n,u])),t.currentText=""}handleCharOpen(t,r,n,u){const[s,o]=t.splitTagNumber(u.style);t.parser.parseItem(Xe.tag("startTag",[null,null,`+${s}`,o]));const a=["sid","eid","style","srcloc","link-href","link-title","link-id","closed"];for(const[i,c]of Object.entries(u))a.includes(i)||t.parser.parseItem(Xe.attribute("attribute",[null,null,i,c]));t.stackPush(n,u)}handleCharClose(t){const r=t.stackPop()[1],[n,u]=t.splitTagNumber(r.style);t.parser.parseItem(Xe.tag("endTag",[null,null,`+${n}`,u]))}handleRefOpen(t){t.parser.parseItem(Xe.tag("startTag",[null,null,"xt",""]))}handleRefClose(t){t.parser.parseItem(Xe.tag("endTag",[null,null,"xt",""]))}handleRowOpen(t,r,n,u){const[s,o]=t.splitTagNumber(u.style);t.parser.parseItem(Xe.tag("startTag",[null,null,s,o])),t.stackPush(n,u)}handleRowClose(t){const r=t.stackPop()[1],[n,u]=t.splitTagNumber(r.style);t.parser.parseItem(Xe.tag("endTag",[null,null,n,u]))}handleCellOpen(t,r,n,u){const[s,o]=t.splitTagNumber(u.style);t.parser.parseItem(Xe.tag("startTag",[null,null,s,o])),t.stackPush(n,u)}handleCellClose(t){const r=t.stackPop()[1],[n,u]=t.splitTagNumber(r.style);t.parser.parseItem(Xe.tag("endTag",[null,null,n,u]))}handleBookOpen(t,r,n,u){t.parser.parseItem(Xe.tag("startTag",[null,null,"id",""])),t.parser.parseItem(Xe.printable("wordLike",[u.code])),t.parser.parseItem(Xe.printable("lineSpace",[" "])),t.stackPush(n,u)}handleBookClose(t){t.stackPop(),t.parser.parseItem(Xe.tag("endTag",[null,null,"id",""]))}handleChapter(t,r,n,u){u.number&&(t.parser.parseItem(Xe.chapter("chapter",[null,null,u.number])),u.pubnumber&&t.parser.parseItem(Xe.pubchapter("pubchapter",[null,null,u.pubnumber])),u.altnumber&&(t.parser.parseItem(Xe.tag("startTag",[null,null,"+ca",""])),t.parser.parseItem(Xe.printable("wordLike",[u.altnumber])),t.parser.parseItem(Xe.tag("endTag",[null,null,"+ca",""]))))}handleVerses(t,r,n,u){u.number&&(t.parser.parseItem(Xe.verses("verses",[null,null,u.number])),u.pubnumber&&(t.parser.parseItem(Xe.tag("startTag",[null,null,"+vp",""])),t.parser.parseItem(Xe.printable("wordLike",[u.pubnumber])),t.parser.parseItem(Xe.tag("endTag",[null,null,"+vp",""]))),u.altnumber&&(t.parser.parseItem(Xe.tag("startTag",[null,null,"+va",""])),t.parser.parseItem(Xe.printable("wordLike",[u.altnumber])),t.parser.parseItem(Xe.tag("endTag",[null,null,"+va",""]))))}handleNoteOpen(t,r,n,u){t.parser.parseItem(Xe.tag("startTag",[null,null,u.style,""])),t.parser.parseItem(Xe.printable("punctuation",[u.caller])),t.stackPush(n,u)}handleNoteClose(t){const r=t.stackPop()[1];t.parser.parseItem(Xe.tag("endTag",[null,null,r.style,""]))}handleSidebarOpen(t,r,n,u){t.parser.parseItem(Xe.tag("startTag",[null,null,"esb",""])),"category"in u&&(t.parser.parseItem(Xe.tag("startTag",[null,null,"cat",""])),t.parser.parseItem(Xe.printable("wordLike",[u.category])),t.parser.parseItem(Xe.tag("endTag",[null,null,"cat",""]))),t.stackPush(n,u)}handleSidebarClose(t){t.stackPop(),t.parser.parseItem(Xe.tag("startTag",[null,null,"esbe",""]))}handleMSOpen(t,r,n,u){let s=ne.exec(u.style,ne("(([a-z1-9]+)-([se]))"));if(s){const o=Xe.milestone("startMilestoneTag",[null,null,s[2],s[3]]);t.parser.parseItem(o);const a=["sid","eid","style","srcloc","link-href","link-title","link-id"];for(const[i,c]of Object.entries(u))a.includes(i)||t.parser.parseItem(Xe.attribute("attribute",[null,null,i,c]));t.parser.parseItem(Xe.milestone("endMilestoneMarker"))}else{const o=Xe.milestone("emptyMilestone",[null,null,u.style,""]);t.parser.parseItem(o)}t.stackPush(n,u)}handleMSClose(t){t.stackPop()}handleFigureOpen(t,r,n,u){t.parser.parseItem(Xe.tag("startTag",[null,null,"+fig",""]));for(const[s,o]of Object.entries(u)){if(s==="style")continue;const a=s==="file"?"src":s;t.parser.parseItem(Xe.attribute("attribute",[null,null,a,o]))}t.stackPush(n,u)}handleFigureClose(t){t.stackPop()[1],t.parser.parseItem(Xe.tag("endTag",[null,null,"+fig",""]))}handleOptBreakOpen(t,r,n,u){t.parser.parseItem(Xe.printable("softLineBreak",["//"])),t.stackPush(n,u)}handleOptBreakClose(t){t.stackPop()}}const wW=(e,t)=>{new SW().lexAndParse(e,t)},Po=Ae.ByteArray,{pushSuccinctGraftBytes:_W,pushSuccinctScopeBytes:BW,pushSuccinctTokenBytes:TW}=Ae.succinct,{addTag:$W}=Ae.tags,{labelForScope:ld}=Ae.scopeDefs,{itemEnum:PW}=Ae.itemDefs,{scopeEnum:OW}=Ae.scopeDefs,{tokenCategory:kW,tokenEnum:IW}=Ae.tokenDefs,Cu=class{constructor(e){this.id=Ae.generateId(),this.type=e,this.tags=new Set([]),this.blocks=[],this.activeScopes=[]}addTag(e){$W(this.tags,e)}plainText(){return this.blocks.map(e=>e.plainText()).join("").trim()}addItem(e){this.lastBlock().addItem(e)}addBlockGraft(e){this.newBlock("hangingGraft"),this.lastBlock().bg.push(e)}lastBlock(){return this.blocks.length===0&&this.newBlock("orphanTokens"),this.blocks[this.blocks.length-1]}newBlock(e){this.blocks.length>0&&["orphanTokens","hangingGraft"].includes(this.blocks[this.blocks.length-1].bs.payload)?this.lastBlock().bs={type:"scope",subType:"start",payload:e}:this.blocks.push(new NW(e))}trim(){this.blocks.forEach(e=>e.trim())}reorderSpanWithAtts(){this.blocks.forEach(e=>e.reorderSpanWithAtts())}makeNoteGrafts(e){this.blocks.forEach(t=>t.makeNoteGrafts(e))}close(e){for(const t of this.activeScopes.filter(()=>!0).reverse())this.closeActiveScope(e,t);this.activeScopes=[]}closeActiveScope(e,t){this.addItem({type:"scope",subType:"end",payload:t.label}),t.onEnd&&t.onEnd(e,t.label)}filterGrafts(e){return this.blocks.map(t=>t.filterGrafts(e)).reduce((t,r)=>t.concat(r),[])}filterScopes(e){this.blocks.forEach(t=>t.filterScopes(e))}text(){return this.blocks.map(e=>e.text()).join("")}addTableScopes(){let e=!1;for(const[t,r]of this.blocks.entries())!e&&r.bs.payload==="blockTag/tr"?(e=!0,this.blocks[t].items.unshift({type:"scope",subType:"start",payload:ld("table",[])})):e&&r.bs.payload!=="blockTag/tr"&&(e=!1,this.blocks[t-1].items.push({type:"scope",subType:"end",payload:ld("table",[])}));e&&this.lastBlock().items.push({type:"scope",subType:"end",payload:ld("table",[])})}graftifyIntroductionHeadings(e){let t=[...this.blocks.entries()];t.reverse();const r=["iot","is"].concat(e.customTags.introHeading);for(const[n,u]of t){const s=u.bs.payload.split("/")[1].replace(/[0-9]/g,"");if(r.includes(s)){const o=new Cu("heading");e.sequences.heading.push(o),o.blocks.push(u);const a={type:"graft",subType:"heading",payload:o.id};this.blocks.length<n+2&&this.newBlock("blockTag/hangingGraft"),this.blocks[n+1].bg.unshift(a),this.blocks.splice(n,1)}else if(s.startsWith("imt")){const o=s.startsWith("imte")?"introEndTitle":"introTitle";let a;if(e.sequences[o])a=e.sequences[o];else{const i=s.startsWith("imte")?"endTitle":"title";a=new Cu(i),e.sequences[o]=a;const c={type:"graft",subType:i,payload:a.id};this.blocks.length<n+2&&this.newBlock("blockTag/hangingGraft"),this.blocks[n+1].bg.unshift(c)}this.blocks.splice(n,1),a.blocks.unshift(u)}}}moveOrphanScopes(){this.blocks.length>1&&(this.moveOrphanStartScopes(),this.moveOrphanEndScopes())}moveOrphanStartScopes(){for(const[e,t]of this.blocks.entries())if(!(e>=this.blocks.length-1))for(const r of[...t.items].reverse()){if(r.subType!=="start"||r.payload.startsWith("altChapter"))break;this.blocks[e+1].items.unshift(this.blocks[e].items.pop())}}moveOrphanStartScopes2(){for(const[e,t]of this.blocks.entries())if(!(e>=this.blocks.length-1))for(const r of[...t.items].reverse()){if(r.subType!=="start")break;this.blocks[e+1].items.unshift(this.blocks[e].items.pop())}}moveOrphanEndScopes(){for(const[e,t]of this.blocks.entries())if(e!==0)for(const r of[...t.items]){if(r.subType!=="end")break;this.blocks[e-1].items.push(this.blocks[e].items.shift())}}removeEmptyBlocks(e){const t=["blockTag/b","blockTag/ib"].concat(e),r=[];let n=!1;for(const u of this.blocks.entries())u[1].tokens().length===0&&!t.includes(u[1].bs.payload)&&r.push(u);for(const[u,s]of r.reverse())if(u<this.blocks.length-1){for(const o of[...s.bg].reverse())this.blocks[u+1].bg.unshift(o);for(const o of s.items.reverse())this.blocks[u+1].items.unshift(o);this.blocks.splice(u,1),n=!0}else s.bg.length===0&&s.items.length===0&&(this.blocks.splice(u,1),n=!0);n&&this.removeEmptyBlocks(e)}removeGraftsToEmptySequences(e){this.blocks.forEach(t=>t.removeGraftsToEmptySequences(e))}succinctifyBlocks(e){const t=[];let r=[];const n=s=>{s.subType==="start"?r.filter(a=>a.payload===s.payload).length===0&&r.push(s):r=r.filter(o=>o.payload!==s.payload)};let u=0;for(const s of this.blocks){const o=new Po(s.length),a=new Po(1),i=new Po(1),c=new Po(1),l=new Po(1);l.pushNByte(u);for(const d of s.bg)this.pushSuccinctGraft(a,e,d);for(const d of r)this.pushSuccinctScope(i,e,d);const p=[];for(const d of s.items)switch(d.type){case"token":this.pushSuccinctToken(o,e,d),d.subType==="wordLike"&&u++;break;case"graft":this.pushSuccinctGraft(o,e,d);break;case"scope":this.pushSuccinctScope(o,e,d),n(d),d.subType==="start"&&p.push(d);break;default:throw new Error(`Item type ${d.type} is not handled in succinctifyBlocks`)}const f=new Po(10);this.pushSuccinctScope(f,e,s.bs);for(const d of p)this.pushSuccinctScope(c,e,d);o.trim(),a.trim(),f.trim(),i.trim(),c.trim(),t.push({c:o,bs:f,bg:a,os:i,is:c,nt:l})}return t}pushSuccinctToken(e,t,r){const n=t.enumForCategoryValue(kW[r.subType],r.payload);TW(e,IW[r.subType],n)}pushSuccinctGraft(e,t,r){const n=t.enumForCategoryValue("graftTypes",r.subType),u=t.enumForCategoryValue("ids",r.payload);_W(e,n,u)}pushSuccinctScope(e,t,r){const n=r.payload.split("/"),u=OW[n[0]],s=n.slice(1).map(o=>t.enumForCategoryValue("scopeBits",o));BW(e,PW[`${r.subType}Scope`],u,s)}},NW=class{constructor(e){this.id=Ae.generateId(),this.items=[],this.bg=[],this.bs={type:"scope",subType:"start",payload:e},this.os=[]}addItem(e){this.items.push(e)}plainText(){return this.items.filter(e=>e.type==="token").map(e=>e.payload).join("")}trim(){this.items=this.trimEnd(this.trimStart(this.items))}reorderSpanWithAtts(){const e=[];for(const[t,r]of this.items.entries())r.subType==="start"&&r.payload.startsWith("spanWithAtts")&&e.push(t+1);for(const t of e){let r=t,n=[],u=[];for(;!(r>=this.items.length);){const s=this.items[r];if(s.type==="token")n.push(s);else if(s.subType==="start"&&s.payload.startsWith("attribute/spanWithAtts"))u.push(s);else break;r++}if(n.length!==0&&u.length!==0){let s=t;for(const o of u)this.items[s]=o,s++;for(const o of n)this.items[s]=o,s++}}}inlineToEnd(){let e=null;for(const[t,r]of this.items.entries())if(r.subType==="end"&&["inline/f","inline/fe","inline/x"].includes(r.payload)){e=r,this.items.splice(t,1);break}e&&this.addItem(e)}makeNoteGrafts(e){const t=[];for(const[r,n]of this.items.entries())n.subType==="start"&&(n.payload.startsWith("inline/f")||n.payload.startsWith("inline/x"))&&t.push(r);for(const r of t){const n=this.items[r].payload,u=this.items[r+1];if(u.type==="token"&&u.payload.length===1){const s=new Cu("noteCaller");s.newBlock(n),s.addItem(u),e.sequences.noteCaller.push(s),this.items[r+1]={type:"graft",subType:"noteCaller",payload:s.id}}}}trimStart(e){if(e.length===0)return e;const t=e[0];return["lineSpace","eol"].includes(t.subType)?this.trimStart(e.slice(1)):t.type==="token"?e:[t,...this.trimStart(e.slice(1))]}trimEnd(e){if(e.length===0)return e;const t=e[e.length-1];return["lineSpace","eol"].includes(t.subType)?this.trimEnd(e.slice(0,e.length-1)):t.type==="token"?e:[...this.trimEnd(e.slice(0,e.length-1)),t]}filterGrafts(e){const t=[];let r=[];for(const[n,u]of this.grafts())this.graftPassesOptions(u,e)?t.push(u.payload):r.push(n);for(const[n,u]of Array.from(r.entries()))this.items.splice(u-n,1);r=[];for(const[n,u]of this.bg.entries())this.graftPassesOptions(u,e)?t.push(u.payload):r.push(n);for(const[n,u]of Array.from(r.entries()))this.bg.splice(u-n,1);return t}filterScopes(e){const t=[];for(const[r,n]of this.scopes())this.scopePassesOptions(n,e)||t.push(r);for(const[r,n]of Array.from(t.entries()))this.items.splice(n-r,1)}graftPassesOptions(e,t){return(!("includeGrafts"in t)||t.includeGrafts.includes(e.subType))&&(!("excludeGrafts"in t)||!t.excludeGrafts.includes(e.subType))}scopePassesOptions(e,t){return(!("includeScopes"in t)||this.scopeMatchesOptionArray(e.payload,t.includeScopes))&&(!("excludeScopes"in t)||!this.scopeMatchesOptionArray(e.payload,t.excludeScopes))}scopeMatchesOptionArray(e,t){for(const r of t)if(e.startsWith(r))return!0;return!1}removeGraftsToEmptySequences(e){const t=[];let r=[];for(const[n,u]of this.grafts())e.includes(u.payload)&&r.push(n);for(const[n,u]of Array.from(r.entries()))this.items.splice(u-n,1);r=[];for(const[n,u]of this.bg.entries())e.includes(u.payload)&&r.push(n);for(const[n,u]of Array.from(r.entries()))this.bg.splice(u-n,1);return t}grafts(){return Array.from(this.items.entries()).filter(e=>e[1].type==="graft")}scopes(){return Array.from(this.items.entries()).filter(e=>e[1].type==="scope")}tokens(){return Array.from(this.items.entries()).filter(e=>!["scope","graft"].includes(e[1].type))}text(){return this.tokens().map(e=>e[1].payload).join("")}},ci={},n7=[];for(const e of ds)["wordLike","eol","lineSpace","punctuation","unknown"].includes(e[1])&&(ci[e[1]]=ne(`^${e[2].xregexp.source}$`),n7.push(e[2]));const u7=e=>{const t=ne.union(n7),r=[];for(const n of ne.match(e,t,"all")){let u;ne.test(n,ci.wordLike)?u="wordLike":ne.test(n,ci.punctuation)?u="punctuation":ne.test(n,ci.lineSpace)?u="lineSpace":ne.test(n,ci.eol)?u="eol":u="unknown",r.push([n,u])}return r},{labelForScope:qW}=Ae.scopeDefs,xW=(e,t,r)=>{const{rows:n}=JSON.parse(e);t.headers.id=r,t.headers.bookCode=r;const u=new Cu("table");for(const[s,o]of n.entries())for(const[a,i]of o.entries()){u.newBlock(qW("tTableRow",[`${s}`]));const c=u.lastBlock();c.addItem({type:"scope",subType:"start",payload:`tTableCol/${a}`});for(const[l,p]of u7(i))c.addItem({type:"token",subType:p,payload:l});c.addItem({type:"scope",subType:"end",payload:`tTableCol/${a}`})}t.sequences.table.push(u),t.sequences.main.addBlockGraft({type:"graft",subType:"table",payload:u.id})},{labelForScope:Wc}=Ae.scopeDefs;let pd=0;const s7=(e,t)=>{typeof t!="number"&&(pd=0);const r={...e,id:pd,parentId:typeof t=="number"?t:"none"};return pd++,e.children&&(r.children=e.children.map(n=>s7(n,r.id))),r},o7=e=>{const t=[{}];if(t[0].id=e.id,t[0].parentId=e.parentId,e.content&&(t[0].content=e.content),e.children){t[0].children=[];for(const r of e.children)t[0].children.push(r.id),o7(r).forEach(n=>t.push(n))}return t},RW=(e,t,r)=>{t.headers.id=r,t.headers.bookCode=r;const n=new Cu("tree");for(const u of o7(s7(JSON.parse(e)))){n.newBlock(Wc("tTreeNode",[`${u.id}`]));const s=Wc("tTreeParent",[`${u.parentId}`]);if(n.lastBlock().items.push({type:"scope",subType:"start",payload:s}),u.content)for(const[o,a]of Object.entries(u.content)){const i=n.lastBlock().items.length,c=u7(a),l=Wc("tTreeContent",[o,u.id,`${i}`,`${c.length}`]);n.lastBlock().items.push({type:"scope",subType:"start",payload:l});for(const[p,f]of c)n.lastBlock().items.push({type:"token",subType:f,payload:p});n.lastBlock().items.push({type:"scope",subType:"end",payload:l})}if(u.children)for(const[o,a]of u.children.entries()){const i=Wc("tTreeChild",[o,a]);n.lastBlock().items.push({type:"scope",subType:"start",payload:i}),n.lastBlock().items.push({type:"scope",subType:"end",payload:i})}n.lastBlock().items.push({type:"scope",subType:"end",payload:s})}t.sequences.tree.push(n),t.sequences.main.addBlockGraft({type:"graft",subType:"tree",payload:n.id})},{labelForScope:Pt}=Ae.scopeDefs,jW=e=>{const t={};for(const r of e)for(const n of r.contexts){n[0]in t||(t[n[0]]={});const u=n[1];if(!u)t[n[0]]._noAccessor=r.parser;else{u in t[n[0]]||(t[n[0]][u]={});for(const s of n[2])t[n[0]][u][s]=r.parser}}return t},MW=e=>[{contexts:[["startTag","tagName",["id","usfm","ide","sts","h","toc","toca","cl"]]],parser:{baseSequenceType:"header",forceNewSequence:!0,newBlock:!0,useTempSequence:!0,newScopes:[{label:t=>t.fullTagName,endedBy:["baseSequenceChange"],onEnd:(t,r)=>{if(t.headers[r]=t.current.sequence.plainText(),r==="id"&&(t.headers[r].length===3||t.headers[r].length>3&&t.headers[r].substring(3,4)===" ")){const n=t.headers[r].substring(0,3);t.headers.bookCode=n}}}]}},{contexts:[["startTag","tagName",["ms","mr","s","sr","r","qa","sp","sd"].concat(e.customTags.heading)]],parser:{baseSequenceType:"heading",forceNewSequence:!0,newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["mt"]]],parser:{baseSequenceType:"title",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["mte"]]],parser:{baseSequenceType:"endTitle",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["imt","is","ip","ipi","im","imi","ipq","imq","ipr","iq","ib","ili","iot","io","iex","imte"].concat(e.customTags.intro)]],parser:{baseSequenceType:"introduction",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["esb"]]],parser:{baseSequenceType:"sidebar",newBlock:!0,newScopes:[],after:t=>{t.mainLike=t.current.sequence}}},{contexts:[["startTag","tagName",["esbe"]]],parser:{baseSequenceType:"main",newBlock:!0,newScopes:[],after:t=>{t.mainLike=t.sequences.main}}},{contexts:[["startTag","tagName",["cat"]]],parser:{inlineSequenceType:"esbCat",forceNewSequence:!0,newScopes:[{label:t=>Pt("inline",[t.fullTagName]),endedBy:["endTag/cat","endBlock","implicitEnd"],onEnd:t=>t.returnToBaseSequence()}],during:(t,r)=>{const n=Ae.generateId(),u={label:()=>Pt("esbCat",[n]),endedBy:["startTag/esbe"]};t.openNewScope(r,u,!0,t.mainLike)}}},{contexts:[["startTag","tagName",["rem"]]],parser:{baseSequenceType:"remark",forceNewSequence:!0,newScopes:[]}},{contexts:[["startTag","tagName",["cd","p","m","po","pr","cls","pmo","pm","pmc","pmr","pi","mi","nb","pc","ph","b","q","qr","qc","qa","qm","qd","lh","li","lf","lim","d"].concat(e.customTags.paragraph)]],parser:{baseSequenceType:"mainLike",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["tr"]]],parser:{newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["f","fe"]]],parser:{inlineSequenceType:"footnote",forceNewSequence:!0,newScopes:[{label:t=>Pt("inline",[t.fullTagName]),endedBy:["endTag/f","endTag/fe","endBlock"],onEnd:t=>t.returnToBaseSequence()}]}},{contexts:[["startTag","tagName",["x"]]],parser:{inlineSequenceType:"xref",forceNewSequence:!0,newScopes:[{label:t=>Pt("inline",[t.fullTagName]),endedBy:["endTag/x","endBlock"],onEnd:t=>t.returnToBaseSequence()}]}},{contexts:[["startTag","tagName",["fig"]]],parser:{inlineSequenceType:"fig",forceNewSequence:!0,newScopes:[{label:t=>Pt("spanWithAtts",[t.tagName]),endedBy:["endBlock","endTag/$tagName$"],onEnd:t=>t.clearAttributeContext()}],during:(t,r)=>{t.setAttributeContext(Pt("spanWithAtts",[r.tagName]))}}},{contexts:[["chapter"]],parser:{mainSequence:!0,newScopes:[{label:t=>Pt("chapter",[t.number]),endedBy:["chapter"]}]}},{contexts:[["pubchapter"]],parser:{mainSequence:!0,newScopes:[{label:t=>Pt("pubChapter",[t.numberString]),endedBy:["pubchapter","chapter"]}]}},{contexts:[["startTag","tagName",["ca"]]],parser:{inlineSequenceType:"altNumber",forceNewSequence:!0,newScopes:[{label:t=>Pt("inline",[t.fullTagName]),endedBy:["endTag/ca","endBlock","implicitEnd"],onEnd:t=>t.returnToBaseSequence()}],during:(t,r)=>{const n=Ae.generateId(),u={label:()=>Pt("altChapter",[n]),endedBy:["startTag/ca","chapter"]};t.openNewScope(r,u,!0,t.sequences.main)}}},{contexts:[["verses"]],parser:{mainSequence:!0,newScopes:[{label:t=>Pt("verses",[t.numberString]),endedBy:["verses","chapter","pubchapter"]}],during:(t,r)=>{r.numbers.forEach(n=>{const u={label:()=>Pt("verse",[n]),endedBy:["verses","chapter","pubchapter"]};t.openNewScope(r,u,!0,t.sequences.main)})}}},{contexts:[["startTag","tagName",["vp"]]],parser:{inlineSequenceType:"pubNumber",forceNewSequence:!0,newScopes:[{label:t=>Pt("inline",[t.fullTagName]),endedBy:["endTag/vp","endBlock","implicitEnd"],onEnd:t=>t.returnToBaseSequence()}],during:(t,r)=>{const n=Ae.generateId(),u={label:()=>Pt("pubVerse",[n]),endedBy:["startTag/vp","verses","chapter","pubchapter"]};t.openNewScope(r,u,!0,t.sequences.main)}}},{contexts:[["startTag","tagName",["va"]]],parser:{inlineSequenceType:"altNumber",forceNewSequence:!0,newScopes:[{label:t=>Pt("inline",[t.fullTagName]),endedBy:["endTag/va","endBlock","implicitEnd"],onEnd:t=>t.returnToBaseSequence()}],during:(t,r)=>{const n=Ae.generateId(),u={label:()=>Pt("altVerse",[n]),endedBy:["startTag/va","verses","chapter","pubchapter"]};t.openNewScope(r,u,!0,t.sequences.main)}}},{contexts:[["startTag","tagName",["qs","qac","litl","lik","liv","fr","fq","fqa","fk","fl","fw","fp","fv","ft","fdc","fm","xo","xk","xq","xt","xta","xop","xot","xnt","xdc","rq","add","bk","dc","k","nd","ord","pn","png","qt","sig","sls","tl","wj","em","bd","it","bdit","no","sc","sup","ior","iqt"].concat(e.customTags.char)]],parser:{newScopes:[{label:t=>Pt("span",[t.fullTagName]),endedBy:["endBlock","endTag/$fullTagName$","implicitEnd"]}]}},{contexts:[["startTag","tagName",["th","thr","tc","tcr"]]],parser:{newScopes:[{label:t=>Pt("cell",[t.fullTagName]),endedBy:["startTag/th","startTag/thr","startTag/tc","startTag/tcr","startTag/th2","startTag/thr2","startTag/tc2","startTag/tcr2","startTag/th3","startTag/thr3","startTag/tc3","startTag/tcr3","endBlock","endTag/$fullTagName$"]}]}},{contexts:[["emptyMilestone"]],parser:{during:(t,r)=>t.addEmptyMilestone(Pt("milestone",[r.tagName]))}},{contexts:[["startMilestoneTag","sOrE","s"]],parser:{newScopes:[{label:t=>Pt("milestone",[t.tagName]),endedBy:["endMilestone/$tagName$"]}],during:(t,r)=>{t.setAttributeContext(Pt("milestone",[r.tagName]))}}},{contexts:[["endMilestoneMarker"]],parser:{during:t=>t.clearAttributeContext()}},{contexts:[["attribute"],["defaultAttribute"]],parser:{during:(t,r)=>{const n={w:"lemma",rb:"gloss",xt:"link-href"};if(t.current.attributeContext){const u=t.current.attributeContext.split("/");r.key==="default"&&u.length===2&&(r.key=n[u[1]]||`unknownDefault_${u[1]}`,r.printValue=r.printValue.replace(/default/,r.key)),[...r.values.entries()].forEach(s=>{const o={label:a=>Pt("attribute",[t.current.attributeContext,a.key,s[0],s[1]]),endedBy:["$attributeContext$"]};t.openNewScope(r,o)})}else t.addToken(Xe.printable("unknown",[r.printValue]))}}},{contexts:[["startTag","tagName",["w","rb"].concat(e.customTags.word)]],parser:{newScopes:[{label:t=>Pt("spanWithAtts",[t.tagName]),endedBy:["endBlock","endTag/$tagName$"],onEnd:t=>t.clearAttributeContext()}],during:(t,r)=>{t.setAttributeContext(Pt("spanWithAtts",[r.tagName]))}}},{contexts:[["wordLike"],["lineSpace"],["punctuation"],["eol"]],parser:{during:(t,r)=>t.addToken(r)}},{contexts:[["noBreakSpace"]],parser:{during:t=>{t.addToken(Xe.printable("lineSpace",[" "]))}}},{contexts:[["softLineBreak"]],parser:{during:t=>{t.addToken(Xe.printable("softLineBreak",["//"]))}}},{contexts:[["bareSlash"]],parser:{during:t=>{t.addToken(Xe.printable("bareSlash",["\\"]))}}},{contexts:[["unknown"]],parser:{during:(t,r)=>{t.addToken(Xe.printable("unknown",[r.printValue]))}}}],{labelForScope:fd}=Ae.scopeDefs,Iy=Ae.parserConstants,LW=class{constructor(e,t,r){this.filterOptions=e,this.customTags=t,this.emptyBlocks=r,this.specs=MW(this),this.specLookup=jW(this.specs),this.headers={},this.baseSequenceTypes=Iy.usfm.baseSequenceTypes,this.inlineSequenceTypes=Iy.usfm.inlineSequenceTypes,this.setSequences(),this.setCurrent()}setSequences(){this.sequences={};for(const[e,t]of Object.entries({...this.baseSequenceTypes,...this.inlineSequenceTypes}))switch(t){case"1":this.sequences[e]=new Cu(e);break;case"?":this.sequences[e]=null;break;case"*":this.sequences[e]=[];break;default:throw new Error(`Unexpected sequence arity '${t}' for '${e}'`)}this.mainLike=this.sequences.main}setCurrent(){this.current={sequence:this.sequences.main,parentSequence:null,baseSequenceType:"main",inlineSequenceType:null,attributeContext:null}}parseItem(e){let t=!1;["startTag"].includes(e.subclass)&&(this.closeActiveScopes(`startTag/${e.fullTagName}`),e.isNested||this.closeActiveScopes("implicitEnd")),["endTag"].includes(e.subclass)&&this.closeActiveScopes(`endTag/${e.fullTagName}`),["startMilestoneTag"].includes(e.subclass)&&e.sOrE==="e"&&this.closeActiveScopes(`endMilestone/${e.tagName}`),["chapter","pubchapter","verses"].includes(e.subclass)&&this.closeActiveScopes(e.subclass,this.sequences.main);const r=this.specForItem(e);r&&("before"in r.parser&&r.parser.before(this,e),t=!1,r.parser.baseSequenceType&&(t=(r.parser.baseSequenceType==="mainLike"?this.mainLike.type:r.parser.baseSequenceType)!==this.current.baseSequenceType||r.parser.forceNewSequence),t?(this.closeActiveScopes("baseSequenceChange"),this.changeBaseSequence(r.parser),"newBlock"in r.parser&&r.parser.newBlock&&(this.closeActiveScopes("endBlock"),this.current.sequence.newBlock(fd("blockTag",[e.fullTagName])))):r.parser.inlineSequenceType?(this.current.inlineSequenceType=r.parser.inlineSequenceType,this.current.parentSequence=this.current.sequence,this.current.parentSequence.type==="header"&&(this.current.parentSequence=this.sequences.main),this.current.sequence=new Cu(this.current.inlineSequenceType),this.current.sequence.newBlock(fd("inline",r.parser.inlineSequenceType)),this.sequences[this.current.inlineSequenceType].push(this.current.sequence),this.current.parentSequence.addItem({type:"graft",subType:this.current.inlineSequenceType,payload:this.current.sequence.id})):"newBlock"in r.parser&&r.parser.newBlock&&this.current.sequence.newBlock(fd("blockTag",[e.fullTagName])),"during"in r.parser&&r.parser.during(this,e),this.openNewScopes(r.parser,e),"after"in r.parser&&r.parser.after(this,e))}tidy(){for(const r of this.sequences.introduction)r.graftifyIntroductionHeadings(this);const e=this.allSequences();for(const r of e)r.trim(),r.reorderSpanWithAtts(),r.makeNoteGrafts(this),r.moveOrphanScopes(),r.removeEmptyBlocks(this.emptyBlocks);const t=this.emptySequences(e);for(const r of e)t&&r.removeGraftsToEmptySequences(t),r.addTableScopes(),r.close(this),this.substitutePubNumberScopes(r),r.moveOrphanStartScopes2(),r.type==="sidebar"&&this.substituteEsbCatScopes(r),["footnote","xref"].includes(r.type)&&r.lastBlock().inlineToEnd()}emptySequences(e){return e.filter(t=>t.blocks.length===0).map(t=>t.id)}substitutePubNumberScopes(e){const t={},r=this.sequenceById();for(const n of e.blocks){let u=0;const s=[...n.items];for(const[o,a]of s.entries())if(a.type==="graft"&&["pubNumber","altNumber"].includes(a.subType)){const i=r[a.payload].text().trim(),c=s[o+1].payload.split("/")[1];t[c]=i,n.items.splice(o-u,1),u++}}if(Object.keys(t).length>0)for(const n of e.blocks)for(const u of n.items.filter(s=>s.type==="scope")){const s=u.payload.split("/");["altChapter","pubVerse","altVerse"].includes(s[0])&&(u.payload=`${s[0]}/${t[s[1]]}`)}}substituteEsbCatScopes(e){const t={},r=this.sequenceById();for(const n of e.blocks){let u=0;const s=[...n.items];for(const[o,a]of s.entries())if(a.type==="graft"&&a.subType==="esbCat"){const i=r[a.payload].text().trim(),c=s[1].payload.split("/")[1];t[c]=i,n.items.splice(o-u,1),u++}}if(Object.keys(t).length>0)for(const n of e.blocks)for(const u of n.items.filter(s=>s.type==="scope")){const s=u.payload.split("/");s[0]==="esbCat"&&(u.payload=`${s[0]}/${t[s[1]]}`)}}allSequences(){const e=[];for(const[t,r]of Object.entries({...this.baseSequenceTypes,...this.inlineSequenceTypes}))switch(r){case"1":case"?":this.sequences[t]&&e.push(this.sequences[t]);break;case"*":this.sequences[t].forEach(n=>{e.push(n)});break;default:throw new Error(`Unexpected sequence arity '${r}' for '${t}'`)}return e}sequenceById(){const e={};return this.allSequences().forEach(t=>{e[t.id]=t}),e}filter(){const e=[],t=this.sequenceById();this.filterGrafts(this.sequences.main.id,t,e,this.filterOptions),this.removeUnusedSequences(e),this.filterScopes(Object.values(t),this.filterOptions)}filterGrafts(e,t,r,n){r.push(e);const u=t[e].filterGrafts(n);for(const s of u){if(t[s].type==="main")throw new Error("MAIN is child!",JSON.stringify(t[e],null,2));this.filterGrafts(s,t,r,n)}}removeUnusedSequences(e){for(const t of this.allSequences())if(!e.includes(t.id)){const r={...this.baseSequenceTypes,...this.inlineSequenceTypes}[t.type];switch(r){case"1":throw new Error("Attempting to remove sequence with arity of 1");case"?":this.sequences[t.type]=null;break;case"*":this.sequences[t.type]=this.sequences[t.type].filter(n=>n.id!==t.id);break;default:throw new Error(`Unexpected sequence arity '${r}' for '${t.type}'`)}}}filterScopes(e,t){e.forEach(r=>r.filterScopes(t))}specForItem(e){const t=e.subclass;if(!(t in this.specLookup))return null;for(const r of["tagName","sOrE"])if(r in e&&r in this.specLookup[t]&&e[r]in this.specLookup[t][r])return{parser:this.specLookup[t][r][e[r]]};return"_noAccessor"in this.specLookup[t]?{parser:this.specLookup[t]._noAccessor}:null}closeActiveScopes(e,t){t===void 0&&(t=this.current.sequence);const r=t.activeScopes.filter(n=>n.endedBy.includes(e)).reverse();t.activeScopes=t.activeScopes.filter(n=>!n.endedBy.includes(e)),r.forEach(n=>this.closeActiveScope(n,t))}closeActiveScope(e,t){this.addScope("end",e.label,t),e.onEnd&&e.onEnd(this,e.label)}changeBaseSequence(e){const t=e.baseSequenceType;if(t==="mainLike"){this.current.sequence=this.mainLike;return}this.current.baseSequenceType=t;const r=this.baseSequenceTypes[t];switch(r){case"1":this.current.sequence=this.sequences[t];break;case"?":this.sequences[t]||(this.sequences[t]=new Cu(t)),this.current.sequence=this.sequences[t];break;case"*":this.current.sequence=new Cu(t),e.useTempSequence||this.sequences[t].push(this.current.sequence);break;default:throw new Error(`Unexpected base sequence arity '${r}' for '${t}'`)}!e.useTempSequence&&this.current.sequence.type!=="main"&&this.mainLike.addBlockGraft({type:"graft",subType:this.current.baseSequenceType,payload:this.current.sequence.id})}returnToBaseSequence(){this.current.inlineSequenceType=null,this.current.sequence=this.current.parentSequence,this.current.parentSequence=null}openNewScopes(e,t){if(e.newScopes){let r=this.current.sequence;"mainSequence"in e&&e.mainSequence&&(r=this.sequences.main),e.newScopes.forEach(n=>this.openNewScope(t,n,!0,r))}}openNewScope(e,t,r,n){r===void 0&&(r=!0),n===void 0&&(n=this.current.sequence),r&&n.addItem({type:"scope",subType:"start",payload:t.label(e)});const u={label:t.label(e),endedBy:this.substituteEndedBys(t.endedBy,e)};"onEnd"in t&&(u.onEnd=t.onEnd),n.activeScopes.push(u)}substituteEndedBys(e,t){return e.map(r=>{let n=r.replace("$fullTagName$",t.fullTagName).replace("$tagName$",t.tagName);return this.current.attributeContext&&(n=n.replace("$attributeContext$",this.current.attributeContext.replace("milestone","endMilestone").replace("spanWithAtts","endTag"))),n})}addToken(e){this.current.sequence.addItem({type:"token",subType:e.subclass,payload:e.printValue})}addScope(e,t,r){r===void 0&&(r=this.current.sequence),r.addItem({type:"scope",subType:e,payload:t})}addEmptyMilestone(e){this.mainLike.addItem({type:"scope",subType:"start",payload:e}),this.mainLike.addItem({type:"scope",subType:"end",payload:e})}setAttributeContext(e){this.current.attributeContext=e}clearAttributeContext(){this.current.attributeContext=null}},UW=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Generate report",name:"calculateUsfmChapterPositions",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"report",type:"json"}],description:"Generate report from perf to calculate the position of the chapters"},{id:2,title:"PERF to USFM",name:"perf2usfm",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"report",type:"json",source:"Transform 1 report"}],outputs:[{name:"usfm",type:"text"}],description:"PERF=>USFM: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"usfm",type:"text",source:"Transform 2 usfm"}]}],GW=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"PERF to PkJSON",name:"perf2PkJson",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"pkJson",type:"json"}],documentation:"",description:"PERF=>JSON: Converts PERF to current Proskomma input format"},{id:999,type:"Outputs",outputs:[{name:"pkJson",type:"json",source:"Transform 1 pkJson"}]}],a7={perf2usfmPipeline:UW,perf2PkJsonPipeline:GW},Ny=e=>({type:e.sequences[0].block.type,subType:e.sequences[0].block.subType,pos:e.sequences[0].block.blockN,perfChapter:null}),VW={startDocument:[{description:"Set up storage",test:()=>!0,action:({workspace:e,output:t})=>{e.blockRecords=[],t.report={}}}],startParagraph:[{description:"Set up block record",test:()=>!0,action:({context:e,workspace:t})=>{t.blockRecords.push(Ny(e))}}],blockGraft:[{description:"Set up block record",test:()=>!0,action:({context:e,workspace:t})=>{t.blockRecords.push(Ny(e))}}],mark:[{description:"Add chapter number to block record",test:({context:e})=>e.sequences[0].element.subType==="chapter",action:({context:e,workspace:t})=>{t.blockRecords[t.blockRecords.length-1].perfChapter=e.sequences[0].element.atts.number}}],endDocument:[{description:"Populate report",test:()=>!0,action:({workspace:e,output:t})=>{for(const[r,n]of Object.entries(e.blockRecords)){if(!n.perfChapter)continue;let u=r,s=!1;for(;u>0&&!s;)e.blockRecords[u-1].type==="paragraph"||e.blockRecords[u-1].subType==="title"?s=!0:u--;t.report[u.toString()]=n.perfChapter}}}]},HW=function({perf:e}){const t=new Fu.PerfRenderFromJson({srcJson:e,actions:VW}),r={};return t.renderDocument({docId:"",config:{maxLength:60},output:r}),{report:r.report}},WW={name:"calculateUsfmChapterPositions",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:HW},Ir=e=>["toc","toca","mt","imt","s","ms","mte","sd"].includes(e)?e+"1":e,JW=(e,t)=>{let r=`\\${t}-s |`;for(let[n,u]of Object.entries(e))n==="x-morph"?r=r+Ir(n)+'="'+u.join(",")+'" ':r=r+Ir(n)+'="'+u+'" ';return r+"\\*"},zW=(e,t,r=!1)=>{let n="|";for(let[u,s]of Object.entries(e))n=n+Ir(u)+'="'+s+'" ';return n=n+"\\",r&&(n=n+"+"),n+t+"*"},KW={startDocument:[{description:"Set up environment",test:()=>!0,action:({context:e,workspace:t})=>{t.usfmBits=[""],t.nestedWrapper=0;for(let[r,n]of Object.entries(e.document.metadata.document).filter(u=>!["tags","properties","bookCode","cl"].includes(u[0])))t.usfmBits.push(`\\${Ir(r)} ${n}
`)}}],blockGraft:[{description:"Follow block grafts",test:({context:e})=>["title","heading","introduction"].includes(e.sequences[0].block.subType),action:e=>{let t=e.context.sequences[0],r=e.config.report[t.block.blockN.toString()];const n=t.block.target;r&&t.type==="main"&&e.workspace.usfmBits.push(`
\\c ${r}
`),n&&e.context.renderer.renderSequenceId(e,n)}}],inlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:e=>{const t=e.context.sequences[0].element.target;t&&e.context.renderer.renderSequenceId(e,t)}}],startParagraph:[{description:"Output footnote paragraph tag (footnote)",test:({context:e})=>e.sequences[0].block.subType==="usfm:f"&&e.sequences[0].type==="footnote"||e.sequences[0].block.subType==="usfm:x"&&e.sequences[0].type==="xref",action:({context:e,workspace:t})=>{t.nestedWrapper=0;let r=e.sequences[0];t.usfmBits.push(`\\${Ir(r.block.subType.split(":")[1])} `)}},{description:"Output footnote note_caller tag (footnote)",test:({context:e})=>e.sequences[0].block.subType==="usfm:f"||e.sequences[0].block.subType==="usfm:x",action:({workspace:e})=>{e.nestedWrapper=0}},{description:"Output paragraph tag (main)",test:()=>!0,action:({context:e,workspace:t,config:r})=>{t.nestedWrapper=0;let n=e.sequences[0],u=r.report[n.block.blockN.toString()];u&&n.type==="main"&&t.usfmBits.push(`
\\c ${u}
`),t.usfmBits.push(`
\\${Ir(n.block.subType.split(":")[1])}
`)}}],endParagraph:[{description:"Output footnote paragraph tag (footnote)",test:({context:e})=>e.sequences[0].block.subType==="usfm:f"&&e.sequences[0].type==="footnote"||e.sequences[0].block.subType==="usfm:x"&&e.sequences[0].type==="xref",action:({context:e,workspace:t})=>{let r=e.sequences[0];t.usfmBits.push(`\\${Ir(r.block.subType.split(":")[1])}*`)}},{description:"Output footnote note_caller tag (footnote)",test:({context:e})=>e.sequences[0].block.subType==="usfm:f"||e.sequences[0].block.subType==="usfm:x",action:()=>{}},{description:"Output nl",test:()=>!0,action:({workspace:e})=>{e.usfmBits.push(`
`)}}],startMilestone:[{description:"Output start milestone",test:()=>!0,action:({context:e,workspace:t})=>{let r=e.sequences[0].element,n=JW(r.atts,Ir(r.subType.split(":")[1]));t.usfmBits.push(n)}}],endMilestone:[{description:"Output end milestone",test:()=>!0,action:({context:e,workspace:t})=>{t.usfmBits.push(`\\${Ir(e.sequences[0].element.subType.split(":")[1])}-e\\*`)}}],text:[{description:"Output text",test:()=>!0,action:({context:e,workspace:t})=>{const r=e.sequences[0].element.text;t.usfmBits.push(r)}}],mark:[{description:"Output chapter or verses",test:()=>!0,action:({context:e,workspace:t})=>{const r=e.sequences[0].element;r.subType==="verses"&&t.usfmBits.push(`
\\v ${r.atts.number}
`)}}],endSequence:[{description:"Output \\cl",test:({context:e})=>e.document.metadata.document.cl&&e.sequences[0].type==="title",action:({context:e,workspace:t})=>{t.usfmBits.push(`
\\cl ${e.document.metadata.document.cl}
`)}}],startWrapper:[{description:"Output start tag",test:()=>!0,action:({workspace:e,context:t})=>{let r=t.sequences[0];e.nestedWrapper>0?e.usfmBits.push(`\\+${Ir(r.element.subType.split(":")[1])} `):e.usfmBits.push(`\\${Ir(r.element.subType.split(":")[1])} `),e.nestedWrapper+=1}}],endWrapper:[{description:"Output end tag",test:({context:e})=>!["fr","fq","fqa","fk","fl","fw","fp","ft","xo","xk","xq","xt","xta"].includes(e.sequences[0].element.subType.split(":")[1]),action:({workspace:e,context:t})=>{e.nestedWrapper-=1;let r=t.sequences[0],n=r.element.subType.split(":")[1],u=e.nestedWrapper>0;if(n==="w"){let s=zW(r.element.atts,Ir(n),u);e.usfmBits.push(s)}else u?e.usfmBits.push(`\\+${Ir(r.element.subType.split(":")[1])}*`):e.usfmBits.push(`\\${Ir(r.element.subType.split(":")[1])}*`)}},{description:"Do NOT output end tag",test:()=>!0,action:({workspace:e})=>{e.nestedWrapper-=1}}],endDocument:[{description:"Build output",test:()=>!0,action:({workspace:e,output:t})=>{t.usfm=e.usfmBits.join("").replace(/(\s*)\n(\s*)/gm,`
`)}}]},XW=function({perf:e,report:t}){const r=new Fu.PerfRenderFromJson({srcJson:e,actions:KW}),n={};return r.renderDocument({docId:"",config:{report:t},output:n}),{usfm:n.usfm}},YW={name:"perf2usfm",type:"Transform",description:"PERF=>USFM",inputs:[{name:"perf",type:"json",source:""},{name:"report",type:"json",source:""}],outputs:[{name:"usfm",type:"text"}],code:XW},ZW=ds.filter(e=>e[1]==="wordLike")[0][2],QW=ds.filter(e=>e[1]==="lineSpace")[0][2],eJ=ds.filter(e=>e[1]==="punctuation")[0][2],tJ=e=>{[...e.os].reverse().forEach(t=>{e.block.items.push({type:"scope",subType:"end",payload:t})}),e.os=[]},rJ=e=>{[...e.os.filter(t=>["span"].includes(t.split("/")[1]))].reverse().forEach(t=>{e.block.items.push({type:"scope",subType:"end",payload:t}),e.os=[...e.os.filter(r=>r!==t)]})},qy=e=>{[...e.os.filter(t=>["verse","verses"].includes(t.split("/")[0]))].reverse().forEach(t=>{e.block.items.push({type:"scope",subType:"end",payload:t}),e.os=[...e.os.filter(r=>r!==t)]})},nJ=e=>{[...e.os.filter(t=>["chapter"].includes(t.split("/")[0]))].reverse().forEach(t=>{e.block.items.push({type:"scope",subType:"end",payload:t}),e.os=[...e.os.filter(r=>r!==t)]})},uJ={startDocument:[{description:"Set up word object",test:()=>!0,action:({workspace:e,output:t})=>{t.pkJson={},e.sequenceId=null,e.block=null,e.os=[],e.waitingBlockGrafts=[]}}],startSequence:[{description:"Add sequence array to output",test:()=>!0,action:e=>{e.output.pkJson[e.context.sequences[0].id]=[],e.workspace.sequenceId=e.context.sequences[0].id}}],endSequence:[{description:"Reset sequenceId pointer",test:()=>!0,action:e=>{var t;tJ(e.workspace),e.workspace.sequenceId=(t=e.context.sequences[1])==null?void 0:t.id}}],unresolvedBlockGraft:[{description:"Stash for next para",test:()=>!0,action:({context:e,workspace:t})=>{e.sequences[0].block.target&&t.waitingBlockGrafts.push({type:"graft",subType:e.sequences[0].block.subType,payload:e.sequences[0].block.target})}}],unresolvedInlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:({context:e,workspace:t})=>{e.sequences[0].element.target&&t.block.items.push({type:"graft",subType:e.sequences[0].element.subType,payload:e.sequences[0].element.target})}}],startParagraph:[{description:"Add object for paragraph block",test:()=>!0,action:({context:e,workspace:t,output:r})=>{t.block={os:[...t.os],is:[],bs:{type:"scope",subType:"start",payload:`blockTag/${e.sequences[0].block.subType.split(":")[1]}`},bg:[...t.waitingBlockGrafts],items:[]},r.pkJson[t.sequenceId].push(t.block)}}],endParagraph:[{description:"Close open scopes",test:()=>!0,action:({workspace:e})=>{rJ(e),e.waitingBlockGrafts=[]}}],mark:[{description:"ts mark as milestone",test:({context:e})=>["usfm:ts"].includes(e.sequences[0].element.subType),action:({workspace:e})=>{const t="milestone/ts";e.block.is.includes(t)||e.block.is.push(t),e.os.push(t),e.block.items.push({type:"scope",subType:"start",payload:t}),e.block.items.push({type:"scope",subType:"end",payload:t})}},{description:"Chapter",test:({context:e})=>["chapter"].includes(e.sequences[0].element.subType),action:({context:e,workspace:t})=>{qy(t),nJ(t);const n=`chapter/${e.sequences[0].element.atts.number}`;t.block.is.includes(n)||t.block.is.push(n),t.os.push(n),t.block.items.push({type:"scope",subType:"start",payload:n})}},{description:"Verses",test:({context:e})=>["verses"].includes(e.sequences[0].element.subType),action:({context:e,workspace:t})=>{qy(t);const r=e.sequences[0].element,n=r.atts.number;let u=[parseInt(n)];if(n.includes("-")){let[o,a]=n.split("-").map(i=>parseInt(i));for(u=[o];o<=a;)o++,u.push(o)}for(const o of u){const a=`verse/${o}`;t.os.push(a),t.block.is.includes(a)||t.block.is.push(a),t.block.items.push({type:"scope",subType:"start",payload:a})}const s=`verses/${r.atts.number}`;t.block.is.includes(s)||t.block.is.push(s),t.os.push(s),t.block.items.push({type:"scope",subType:"start",payload:s})}}],startMilestone:[{description:"Add scope and update state",test:()=>!0,action:({context:e,workspace:t})=>{const r=e.sequences[0].element,n=`milestone/${r.subType.split(":")[1]}`;t.block.is.includes(n)||t.block.is.push(n),t.os.push(n),t.block.items.push({type:"scope",subType:"start",payload:n});for(const[u,s]of Object.entries(r.atts||{})){const o=s.toString().split(",");for(const[a,i]of o.entries()){const c=`attribute/milestone/${r.subType.split(":")[1]}/${u}/${a}/${i}`;t.block.is.includes(c)||t.block.is.push(c),t.os.push(c),t.block.items.push({type:"scope",subType:"start",payload:c})}}}}],endMilestone:[{description:"Remove scope and update state",test:()=>!0,action:({context:e,workspace:t})=>{const r=e.sequences[0].element,n=`attribute/milestone/${r.subType.split(":")[1]}`;for(const s of[...t.os.filter(o=>o.startsWith(n))].reverse())t.os=t.os.filter(o=>o!==s),t.block.items.push({type:"scope",subType:"end",payload:s});const u=`milestone/${r.subType.split(":")[1]}`;t.os=t.os.filter(s=>s!==u),t.block.items.push({type:"scope",subType:"end",payload:u})}}],startWrapper:[{description:"Add scope and update state",test:()=>!0,action:({context:e,workspace:t})=>{const r=e.sequences[0].element,n=`${r.subType==="usfm:w"?"spanWithAtts":"span"}/${r.subType.split(":")[1]}`;t.block.is.includes(n)||t.block.is.push(n),t.os.push(n),t.block.items.push({type:"scope",subType:"start",payload:n});for(const[u,s]of Object.entries(r.atts||{})){const o=s.toString().split(",");for(const[a,i]of o.entries()){const c=`attribute/spanWithAtts/w/${u}/${a}/${i}`;t.block.is.includes(c)||t.block.is.push(c),t.os.push(c),t.block.items.push({type:"scope",subType:"start",payload:c})}}}}],endWrapper:[{description:"Remove scope and update state",test:()=>!0,action:({context:e,workspace:t})=>{const r=e.sequences[0].element;for(const[u,s]of[...Object.entries(r.atts||{})].reverse()){const o=s.toString().split(",");for(const[a,i]of[...o.entries()].reverse()){const c=`attribute/spanWithAtts/w/${u}/${a}/${i}`;t.os=t.os.filter(l=>l!==c),t.block.items.push({type:"scope",subType:"end",payload:c})}}const n=`${r.subType==="usfm:w"?"spanWithAtts":"span"}/${r.subType.split(":")[1]}`;t.os=t.os.filter(u=>u!==n),t.block.items.push({type:"scope",subType:"end",payload:n})}}],text:[{description:"Log occurrences",test:()=>!0,action:({context:e,workspace:t})=>{const r=e.sequences[0].element.text,n=ne.union(ds.map(s=>s[2])),u=ne.match(r,n,"all");for(const s of u){let o;ne.test(s,ZW)?o="wordLike":ne.test(s,QW)?o="lineSpace":ne.test(s,eJ)&&(o="punctuation"),t.block.items.push({type:"token",subType:o,payload:s})}}}],endDocument:[{description:"Rework hanging end cv scopes",test:()=>!0,action:({output:e})=>{const t=Object.values(e.pkJson)[0];for(let r=1;r<t.length;r++){let n=t[r].items;const u=t[r-1].items;let s=0;for(;s<n.length;){const o=n[s];if(o.type!=="scope"||o.subType!=="end")break;s++}for(;s>0;){const o=n.shift();u.push(o),t[r].os=t[r].os.filter(a=>a!==o.payload),s--}}}}]},sJ=function({perf:e}){const t=new Fu.PerfRenderFromJson({srcJson:e,ignoreMissingSequences:!0,actions:uJ}),r={};return t.renderDocument({docId:"",config:{},output:r}),{pkJson:r.pkJson}},oJ={name:"perf2PkJson",type:"Transform",description:"PERF=>JSON: Converts PERF to current Proskomma input format",documentation:"",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"pkJson",type:"json"}],code:sJ},i7={calculateUsfmChapterPositions:WW,perf2usfm:YW,perf2PkJson:oJ},xy=Ae.ByteArray,{itemEnum:dd}=Ae.itemDefs,{tokenEnum:aJ}=Ae.tokenDefs,iJ=0,Zo=2,pp=3,Jc=e=>{const t=e.sequences[e.mainId],r=e.processor.docSets[e.docSetId];r.buildPreEnums(),r.buildEnumIndexes();const n={},u={};let s="0",o="0",a="1",i=0;if(t.chapterVerses={},r.enums.wordLike.length===0)throw new Error("No wordLike content in docSet - probably a USFM issue, maybe missing \\mt?");t.tokensPresent=new M5(new Array(r.enums.wordLike.length).fill(0).map(c=>c.toString()).join(""));for(const[c,l]of t.blocks.entries()){let p=0,f=l.c,d=-1;for(;p<f.length;){d++;const[h,E,A]=Ae.succinct.headerBytes(f,p);if(E===dd.startScope){let m=r.succinctScopeLabel(f,A,p);m.startsWith("chapter/")?(s=m.split("/")[1],n[s]={},u[s]={startBlock:c,startItem:d,nextToken:i}):m.startsWith("verse/")?(o=m.split("/")[1],o==="1"&&!("0"in n[s])&&u[s].nextToken<i&&(n[s][0]=[{startBlock:u[s].startBlock,startItem:u[s].startItem,endBlock:c,endItem:Math.max(d-1,0),nextToken:u[s].nextToken,verses:"0"}]),o in n[s]||(n[s][o]=[]),n[s][o].push({startBlock:c,startItem:d,nextToken:i})):m.startsWith("verses/")&&(a=m.split("/")[1])}else if(E===dd.endScope){let m=r.succinctScopeLabel(f,A,p);if(m.startsWith("chapter/")){s=m.split("/")[1];let y=u[s];y&&(y.endBlock=c,y.endItem=d)}else if(m.startsWith("verse/")&&(o=m.split("/")[1],n[s][o])){const F=n[s][o][n[s][o].length-1];F.endBlock=c,F.endItem=d,F.verses=a}}else E===dd.token&&A===aJ.wordLike&&(t.tokensPresent.set(f.nByte(p+2),1),i++);p+=h}}for(const[c,l]of Object.entries(n)){const p=new xy;t.chapterVerses[c]=p;const f=Object.keys(l).map(A=>parseInt(A)).sort((A,m)=>A-m);if(f.length===0)continue;const d=f[f.length-1],h=Array.from(Array(d+1).keys());let E=0;for(const A of h){const m=`${A}`;if(m in l){const y=l[m],F=y.length;for(const[B,P]of y.entries()){if(!P.verses){console.log(`** VerseElement without verses for ${A} in buildChapterVerseIndex`);continue}const $=r.enumForCategoryValue("scopeBits",P.verses),I=P.startBlock===P.endBlock?Zo:pp;p.pushByte(0),I===Zo?p.pushNBytes([P.startBlock,P.startItem,P.endItem,P.nextToken,$]):p.pushNBytes([P.startBlock,P.endBlock,P.startItem,P.endItem,P.nextToken,$]),p.setByte(E,Dd(I,B===F-1,p.length-E)),E=p.length}}else p.pushByte(Dd(iJ,!0,1)),E++}p.trim()}t.chapters={};for(const[c,l]of Object.entries(u)){if(!("startBlock"in l)||!("endBlock"in l))continue;const p=new xy;t.chapters[c]=p;const f=l.startBlock===l.endBlock?Zo:pp;p.pushByte(0),f===Zo?p.pushNBytes([l.startBlock,l.startItem,l.endItem,l.nextToken]):p.pushNBytes([l.startBlock,l.endBlock,l.startItem,l.endItem,l.nextToken]),p.setByte(0,Dd(f,!0,p.length)),p.trim()}},Ry=(e,t)=>{const r=e.processor.docSets[e.docSetId];r.buildEnumIndexes();const n=[],u=e.sequences[e.mainId].chapterVerses[t];if(u){let s=0,o=[];for(;s<u.length;){const[a,i,c]=c7(u,s);if(a===Zo){const l=u.nBytes(s+1,5);o.push({startBlock:l[0],endBlock:l[0],startItem:l[1],endItem:l[2],nextToken:l[3],verses:r.enums.scopeBits.countedString(r.enumIndexes.scopeBits[l[4]])})}else if(a===pp){const l=u.nBytes(s+1,6);o.push({startBlock:l[0],endBlock:l[1],startItem:l[2],endItem:l[3],nextToken:l[4],verses:r.enums.scopeBits.countedString(r.enumIndexes.scopeBits[l[5]])})}i&&(n.push(o),o=[]),s+=c}}return n},jy=(e,t)=>{const r=e.sequences[e.mainId].chapters[t];if(r){const n=c7(r,0)[0];if(n===Zo){const u=r.nBytes(1,4);return{startBlock:u[0],endBlock:u[0],startItem:u[1],endItem:u[2],nextToken:u[3]}}else if(n===pp){const u=r.nBytes(1,5);return{startBlock:u[0],endBlock:u[1],startItem:u[2],endItem:u[3],nextToken:u[4]}}}},Dd=(e,t,r)=>r+(t?32:0)+e*64,c7=(e,t)=>{const r=e.byte(t);return[r>>6,(r>>5)%2===1,r%32]},cJ=e=>{const t=new Set,r=e.processor.docSets[e.docSetId];r.maybeBuildEnumIndexes();const n=(s,o,a)=>{a.add(o.id);for(const i of o.blocks){for(const c of r.unsuccinctifyGrafts(i.bg))a.has(c[2])||n(s,s.sequences[c[2]],a);for(const c of r.unsuccinctifyItems(i.c,{grafts:!0},0))a.has(c[2])||n(s,s.sequences[c[2]],a)}};n(e,e.sequences[e.mainId],t);let u=!1;for(const s of Object.keys(e.sequences))t.has(s)||(delete e.sequences[s],u=!0);return u},lJ=(e,t,r)=>{const n=Ae.generateId();return e.sequences[n]={id:n,type:t,tags:new Set(r||[]),isBaseType:t in e.baseSequenceTypes,blocks:[]},n},pJ=(e,t)=>{if(!(t in e.sequences))return!1;if(e.sequences[t].type==="main")throw new Error("Cannot delete main sequence");return e.sequences[t].type in e.baseSequenceTypes?My(e,"block",t):My(e,"inline",t),delete e.sequences[t],e.buildChapterVerseIndex(globalThis),e.gcSequences(),!0},My=(e,t,r)=>{const n=e.processor.docSets[e.docSetId];for(const u of Object.values(e.sequences))for(const s of u.blocks){const o=t==="block"?s.bg:s.c;let a=0;for(;a<o.length;){const[i,c]=Ae.succinct.headerBytes(o,a);c!==Ae.itemDefs.itemEnum.graft?a+=i:Ae.succinct.succinctGraftSeqId(n.enums,n.enumIndexes,o,a)===r?o.deleteItem(a):a+=i}}},fJ=(e,t,r,n,u,s,o)=>{e.processor.docSets[e.docSetId].maybeBuildEnumIndexes(),r=r||(l=>l);const i=e.sequences[t],c=r({id:t,type:i.type,tags:i.tags,isBaseType:i.isBaseType,verseMapping:i.verseMapping});return dJ(i,c,n,u,s,o),e.sequences[t]=c,c.type==="main"&&e.buildChapterVerseIndex(),c},dJ=(e,t,r,n,u,s)=>{r=r||((o,a,i)=>!!i),n=n||((o,a,i,c,l,p,f)=>!!i||f),u=u||((o,a,i)=>i),s=s||((o,a,i,c,l,p,f,d,h)=>{for(let E=0;E<p;E++)c.c.pushByte(i.c.byte(h+E))}),t.blocks=[];for(const[o,a]of e.blocks.entries())if(r(e,o,a)){const i=u(e,o,X6(a));i.c.clear(),DJ(e,o,a,i,n,s),t.blocks.push(i)}},DJ=(e,t,r,n,u,s)=>{let o=0,a=-1;for(;o<r.c.length;){a++;const[i,c,l]=Ae.succinct.headerBytes(r.c,o);u(e,t,r,a,c,l,o)&&s(e,t,r,n,a,i,c,l,o),o+=i}},js=Ae.ByteArray,{pushSuccinctGraftBytes:hJ,pushSuccinctScopeBytes:l7,pushSuccinctTokenBytes:Ly}=Ae.succinct,{itemEnum:G2}=Ae.itemDefs,{scopeEnum:mJ,scopeEnumLabels:EJ,nComponentsForScope:p7}=Ae.scopeDefs,{tokenCategory:IYe,tokenEnum:vJ}=Ae.tokenDefs,{headerBytes:yJ}=Ae.succinct,gJ=(e,t,r,n)=>{if(n!==!1&&(n=!0),!(t in e.sequences))return!1;const u=e.sequences[t];return r<0||r>=u.blocks.length?!1:(u.blocks.splice(r,1),n&&e.buildChapterVerseIndex(globalThis),!0)},AJ=(e,t,r,n,u,s)=>{if(s!==!1&&(s=!0),!(t in e.sequences))return!1;const o=e.sequences[t];if(r<0||r>o.blocks.length)return!1;const a=e.processor.docSets[e.docSetId];a.maybeBuildPreEnums();const i={bs:new js(0),bg:new js(0),c:new js(0),os:new js(0),is:new js(0),nt:new js(0)},c=n.split("/"),l=mJ[c[0]],p=p7(c[0]);if(c.length!==p)throw new Error(`Scope ${n} has ${c.length} component(s) (expected ${p}`);const f=c.slice(1).map(d=>a.enumForCategoryValue("scopeBits",d,!0));return l7(i.bs,G2.startScope,l,f),i.bs.trim(),u&&e6(a,e.id,t,r,u),o.blocks.splice(r,0,i),s&&e.buildChapterVerseIndex(),!0},FJ=(e,t)=>{for(const r of["bs","bg","c","is","os"]){const n=e[r],u=new js(n.length);let s=0;for(;s<n.length;){const[o,a,i]=yJ(n,s);if(a===G2.token)i===vJ.wordLike?Ly(u,i,t.wordLike[n.nByte(s+2)]):Ly(u,i,t.notWordLike[n.nByte(s+2)]);else if(a===G2.graft)hJ(u,t.graftTypes[i],t.ids[n.nByte(s+2)]);else{let c=p7(EJ[i]);const l=[];let p=2;for(;c>1;){const f=t.scopeBits[n.nByte(s+p)];l.push(f),p+=n.nByteLength(f),c--}l7(u,a,i,l)}s+=o}u.trim(),e[r]=u}},CJ=Ae.ByteArray,{itemEnum:hd}=Ae.itemDefs,bJ=(e,t)=>{if(!t||Object.keys(t).length===0)return;const r=e.processor.docSets[e.docSetId],n=(s,o,a,i,c,l,p)=>{if(c===hd.token)return!0;if(c===hd.startScope||c===hd.endScope){if(!t.includeScopes&&!t.excludeScopes)return!0;{const f=r.unsuccinctifyScope(a.c,c,l,p);return(!t.includeScopes||t.includeScopes.filter(d=>f[2].startsWith(d)).length>0)&&(!t.excludeScopes||t.excludeScopes.filter(d=>f[2].startsWith(d)).length===0)}}else{if(!t.includeGrafts&&!t.excludeGrafts)return!0;const f=r.unsuccinctifyGraft(a.c,l,p);return(!t.includeGrafts||t.includeGrafts.filter(d=>f[1].startsWith(d)).length>0)&&(!t.excludeGrafts||t.excludeGrafts.filter(d=>f[1].startsWith(d)).length===0)}},u=(s,o,a)=>{const i=new CJ(a.bg.length);let c=0;for(;c<a.bg.length;){const[l,p,f]=Ae.succinct.headerBytes(a.bg,c),d=r.unsuccinctifyGraft(a.bg,f,c);if((!t.includeGrafts||t.includeGrafts.filter(h=>d[1].startsWith(h)).length>0)&&(!t.excludeGrafts||t.excludeGrafts.filter(h=>d[1].startsWith(h)).length===0))for(let h=0;h<l;h++)i.pushByte(a.bg.byte(c+h));c+=l}return i.trim(),a.bg=i,a};Object.keys(e.sequences).forEach(s=>{e.modifySequence(s,null,null,n,u,null)}),Object.values(e.sequences).forEach(s=>r.updateBlockIndexesAfterFilter(s)),e.gcSequences()},SJ=e=>{const t={sequences:{}};t.headers=e.headers,t.mainId=e.mainId,t.tags=Array.from(e.tags);for(const[r,n]of Object.entries(e.sequences))t.sequences[r]=wJ(n);return t},wJ=e=>{const t={type:e.type,blocks:e.blocks.map(r=>_J(r)),tags:Array.from(e.tags)};if(e.type==="main"){t.chapters={};for(const[r,n]of Object.entries(e.chapters||{}))n.trim(),t.chapters[r]=n.base64();t.chapterVerses={};for(const[r,n]of Object.entries(e.chapterVerses||{}))n.trim(),t.chapterVerses[r]=n.base64();"tokensPresent"in e&&(t.tokensPresent="0x"+e.tokensPresent.toString(16))}return t},_J=e=>{for(const t of["bs","bg","c","is","os","nt"])e[t].trim();return{bs:e.bs.base64(),bg:e.bg.base64(),c:e.c.base64(),is:e.is.base64(),os:e.os.base64(),nt:e.nt.base64()}},BJ=(e,t)=>{e.recordPreEnum("scopeBits","0");for(const[r,n]of t.blocks.entries())for(const[u,s]of[...n.items,n.bs,...n.bg].entries())if(s.subType==="wordLike")e.recordPreEnum("wordLike",s.payload);else if(["lineSpace","eol","punctuation","softLineBreak","bareSlash","unknown"].includes(s.subType))e.recordPreEnum("notWordLike",s.payload);else if(s.type==="graft")e.recordPreEnum("graftTypes",s.subType);else if(s.subType==="start"){const o=s.payload.split("/");if(o.length!==Ae.scopeDefs.nComponentsForScope(o[0]))throw new Error(`Scope ${s.payload} has unexpected number of components`);for(const a of o.slice(1))e.recordPreEnum("scopeBits",a)}},TJ=(e,t)=>{e.recordPreEnum("scopeBits","0"),e.recordPreEnum("ids",t.id);for(const r of t.blocks)for(const n of["bs","bg","c","is","os"])$J(e,r[n])},$J=(e,t)=>{for(const r of e.unsuccinctifyItems(t,{},0))if(r[0]==="token")r[1]==="wordLike"?e.recordPreEnum("wordLike",r[2]):e.recordPreEnum("notWordLike",r[2]);else if(r[0]==="graft")e.recordPreEnum("graftTypes",r[1]);else if(r[0]==="scope"&&r[1]==="start"){const n=r[2].split("/");if(n.length!==Ae.scopeDefs.nComponentsForScope(n[0]))throw new Error(`Scope ${r[2]} has unexpected number of components`);for(const u of n.slice(1))e.recordPreEnum("scopeBits",u)}},{addTag:PJ,removeTag:OJ,validateTags:kJ}=Ae.tags,IJ=Ae.parserConstants;let Uy=class{constructor(t,r,n,u,s,o,a,i){if(this.processor=t,this.docSetId=r,this.baseSequenceTypes=IJ.usfm.baseSequenceTypes,n)switch(this.id=Ae.generateId(),this.filterOptions=s,this.customTags=o,this.emptyBlocks=a,this.tags=new Set(i||[]),kJ(this.tags),this.headers={},this.mainId=null,this.sequences={},n.toLowerCase()){case"usfm":case"sfm":this.processUsfm(u);break;case"usx":this.processUsx(u);break;case"tsv":this.processTSV(u);break;case"nodes":this.processNodes(u);break;default:throw new Error(`Unknown document contentType '${n}'`)}}addTag(t){PJ(this.tags,t)}removeTag(t){OJ(this.tags,t)}makeParser(){return new LW(this.filterOptions,this.customTags,this.emptyBlocks)}processUsfm(t){const r=this.makeParser();EW(t,r),this.postParseScripture(r)}processUsx(t){const r=this.makeParser();wW(t,r),this.postParseScripture(r)}processTSV(t){const r=this.makeParser(),n=`T${this.processor.nextTable>9?this.processor.nextTable:"0"+this.processor.nextTable}`;this.processor.nextTable++,xW(t,r,n),this.headers=r.headers,this.succinctPass1(r),this.succinctPass2(r),Jc(this);const u=Object.values(this.sequences).filter(s=>s.type==="table")[0];for(const[s,o]of JSON.parse(t).headings.entries())u.tags.add(`col${s}:${o}`)}processNodes(t){const r=this.makeParser(),n=`N${this.processor.nextNodes>9?this.processor.nextNodes:"0"+this.processor.nextNodes}`;this.processor.nextNodes++,RW(t,r,n),this.headers=r.headers,this.succinctPass1(r),this.succinctPass2(r),Jc(this)}postParseScripture(t){t.tidy();const r=t.filterOptions;this.headers=t.headers,this.succinctPass1(t),this.succinctPass2(t),this.succinctFilter(r),Jc(this)}succinctFilter(t){bJ(this,t)}succinctPass1(t){const r=this.processor.docSets[this.docSetId];for(const n of t.allSequences())r.recordPreEnum("ids",n.id),this.recordPreEnums(r,n);r.enums.wordLike.length===0&&r.sortPreEnums(),r.buildEnums()}recordPreEnums(t,r){BJ(t,r)}rerecordPreEnums(t,r){TJ(t,r)}succinctPass2(t){const r=this.processor.docSets[this.docSetId];this.mainId=t.sequences.main.id;for(const n of t.allSequences())this.sequences[n.id]={id:n.id,type:n.type,tags:new Set(n.tags),isBaseType:n.type in t.baseSequenceTypes,blocks:n.succinctifyBlocks(r)};this.sequences[this.mainId].verseMapping={}}modifySequence(t,r,n,u,s,o){fJ(this,t,r,n,u,s,o)}buildChapterVerseIndex(){Jc(this)}chapterVerseIndexes(){const t={};for(const r of Object.keys(this.sequences[this.mainId].chapterVerses))t[r]=Ry(this,r);return t}chapterVerseIndex(t){return Ry(this,t)}chapterIndexes(){const t={};for(const r of Object.keys(this.sequences[this.mainId].chapters))t[r]=jy(this,r);return t}chapterIndex(t){return jy(this,t)}rewriteSequenceBlocks(t,r){const n=this.sequences[t];for(const u of n.blocks)this.rewriteSequenceBlock(u,r)}rewriteSequenceBlock(t,r){FJ(t,r)}serializeSuccinct(){return SJ(this)}gcSequences(){return cJ(this)}newSequence(t,r){return lJ(this,t,r)}deleteSequence(t){return pJ(this,t)}deleteBlock(t,r,n){return gJ(this,t,r,n)}newBlock(t,r,n,u,s){return AJ(this,t,r,n,u,s)}perf(t){const r=new Fu.PerfRenderFromProskomma({proskomma:this.processor,actions:Fu.render.perfToPerf.renderActions.identityActions}),n={};return r.renderDocument({docId:this.id,config:{},output:n}),t?JSON.stringify(n.perf,null,t):JSON.stringify(n.perf)}async usfm(){const t=JSON.parse(this.perf());try{return(await new Fu.PipelineHandler({pipelines:a7,transforms:i7,proskomma:this.processor}).runPipeline("perf2usfmPipeline",{perf:t})).usfm}catch(r){console.error(`pipelineHandler Error :
`,r)}}sofria(t,r){const n=new Fu.SofriaRenderFromProskomma({proskomma:this.processor,actions:Fu.render.sofriaToSofria.renderActions.identityActions}),u={},s={};r&&(s.chapters=[`${r}`]);try{n.renderDocument({docId:this.id,config:s,output:u})}catch(o){throw console.log(o),o}return t?JSON.stringify(u.sofria,null,t):JSON.stringify(u.sofria)}};const NJ=`
"""Key/Value tuple"""
type KeyValue {
    """The key"""
    key: String!
    """The value"""
    value: String!
}`,qJ={key:e=>e[0],value:e=>e[1]},xJ=`
"""A chapter-verse reference"""
type cv {
  """The chapter number"""
  chapter: Int
  """The verse number"""
  verse: Int
}
`,RJ={chapter:e=>e[0],verse:e=>e[1]},jJ=`
"""Type-dependent parts of the ID header"""
type idParts {
  """The type of the ID"""
  type: String
  """An array of parts of the ID"""
  parts: [String]
  """A part of the ID, by index"""
  part(
    """The numeric index of the part"""
    index: Int!
  ): String
}
`,MJ={type:e=>e[0],parts:e=>e[1],part:(e,t)=>!e[1]||t.index<0||t.index>=e[1].length?null:e[1][t.index]},LJ=`
"""Attribute Specification"""
input AttSpec {
"""The type of attribute, ie what type of thing it's connected to"""
attType: String!
"""The name of the USFM tag to which the attribute is connected"""
tagName: String!
"""The attribute key (ie the bit to the left of the equals sign in USX)"""
attKey: String!
"""The position of the value (which is 0 except for attributes with multiple values)"""
valueN: Int!
}`,UJ=`
"""Key/Regex tuple"""
input KeyMatches {
  """The key"""
  key: String!
  """The regex to match"""
  matches: String!
}
`,GJ=`
"""Input Key/Value Object"""
input InputKeyValue {
    """The key"""
    key: String!
    """The value"""
    value: String!
}
`,VJ=`
"""Input Key/Values Object"""
input KeyValues {
    """The key"""
    key: String!
    """The values"""
    values: [String!]!
}
`,HJ=`
"""Item for arguments"""
input InputItemObject {
    """The basic item type (token, scope or graft)'"""
    type: String!
    """The type-dependent subtype of the item"""
    subType: String!
    """The content of the item (the text for tokens, the label for scopes and the sequence id for grafts)"""
    payload: String!
}`,WJ=(e,t)=>{if(e.length===0)return!0;for(const r of e)if(t.startsWith(r))return!0;return!1},JJ=`
"""Item"""
type Item {
  """The basic item type (token, scope or graft)"""
  type: String!
  """The type-dependent subtype of the item"""
  subType: String!
  """The content of the item (the text for tokens, the label for scopes and the sequence id for grafts)"""
  payload(
    """If true, turn all whitespace into a normal space"""
    normalizeSpace: Boolean
    """A whitelist of characters to include"""
    includeChars: [String!]
    """A blacklist of characters to exclude"""
    excludeChars: [String!],
  ): String!
  """If 'includeContext' was selected, and for tokens, the index of the token from the start of the sequence"""
  position(
    """Only include scopes that begin with this value"""
    startsWith: [String!]
  ): Int
  """If 'includeContext' was selected, a list of scopes that are open around the item"""
  scopes(
    """Only include scopes that begin with this value"""
    startsWith: [String!]
  ): [String!]
}
`,zJ={type:e=>e[0],subType:e=>e[1],payload:(e,t)=>{let r=e[2];if(e[0]==="token"&&(t.normalizeSpace&&(r=e[2].replace(/[ \t\n\r]+/g," ")),t.includeChars||t.excludeChars)){let n=r.split("");n=n.filter(u=>!t.includeChars||t.includeChars.includes(u)),n=n.filter(u=>!t.excludeChars||!t.excludeChars.includes(u)),r=n.join("")}return r},position:e=>e[3],scopes:(e,t)=>e[4]?e[4].filter(r=>!t.startsWith||WJ(t.startsWith,r)):[]},KJ=e=>{let t;switch(e[0]){case"token":return`|${e[2]}`;case"scope":return t=e[1]==="start"?"+":"-",`${t}${e[2]}${t}`;case"graft":return`>${e[1]}<`}},Vp=e=>e.map(t=>KJ(t)).join(""),XJ=e=>{const t=["ItemGroup:"];return t.push(`   Open Scopes ${e[0].join(", ")}`),t.push(`   ${Vp(e[1])}`),t.join(`
`)},YJ=e=>{const t=["Block:"];return e.bg.length>0&&e.bg.forEach(r=>t.push(`   ${r[1]} graft to ${r[2]}`)),t.push(`   Scope ${e.bs[2]}`),t.push(`   ${Vp(e.c)}`),t.join(`
`)},ZJ=(e,t)=>{if(e.length===0)return!0;for(const r of e)if(t.startsWith(r))return!0;return!1},QJ=`
"""A collection of items, with scope context"""
type ItemGroup {
  """Items for this itemGroup"""
  items: [Item!]!
  """Tokens for this itemGroup"""
  tokens(
    """Return tokens whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return tokens with one of the specified subTypes"""
    withSubTypes: [String!]
  ): [Item!]!
  """The text of the itemGroup as a single string"""
  text(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
  """The labels of scopes that were open at the beginning of the itemGroup"""
  scopeLabels(
    """Only include scopes that begin with this value"""
    startsWith: [String!]
  ): [String!]!
  """The itemGroup content as a string in a compact eyeballable format"""
  dump: String!
  """A list of scopes from the items of the itemGroup"""
  includedScopes: [String!]!
} 
`,ez={items:e=>e[1],tokens:(e,t)=>e[1].filter(r=>r[0]==="token"&&(!t.withChars||t.withChars.includes(r[2]))&&(!t.withSubTypes||t.withSubTypes.includes(r[1]))),text:(e,t)=>{const r=e[1].filter(n=>n[0]==="token").map(n=>n[2]).join("");return t.normalizeSpace?r.replace(/[ \t\n\r]+/g," "):r},scopeLabels:(e,t)=>e[0].filter(r=>!t.startsWith||ZJ(t.startsWith,r)),dump:e=>XJ(e),includedScopes:e=>Array.from(new Set(e[1].filter(t=>t[0]==="scope"&&t[1]==="start").map(t=>t[2])))},tz=`
"""Key/Items tuple"""
type kvEntry {
    """The key"""
    key: String!
    """The secondary keys"""
    secondaryKeys: [KeyValue!]
    """The fields as itemGroups"""
    itemGroups: [ItemGroup]!
}`,rz={key:e=>e[0],secondaryKeys:e=>e[1],itemGroups:e=>e[2]},nz=`
"""Information about a regex match on an enum"""
type regexIndex {
    """The index in the enum"""
    index: String!
    """The string in the enum that matched"""
    matched: String!
}`,uz={index:e=>e[0],matched:e=>e[1]},sz=`
"""Row Equals Specification"""
input rowEqualsSpec {
  """The position of the column in which to search a match"""
  colN: Int!
  """The values to match"""
  values: [String!]!
}
`,oz=`
"""Row Match Specification"""
input rowMatchSpec {
  """The position of the column in which to search a match"""
  colN: Int!
  """The regex to match"""
  matching: String!
}
`,az=`
"""Information about a verse range (which may only cover one verse)"""
type verseRange {
  """The range, as it would be printed in a Bible"""
  range: String!
  """A list of verse numbers for this range"""
  numbers: [Int!]!
}
`,iz=`
"""Mapped verse information"""
type orig {
  """The book code"""
  book: String
  """A list of chapter-verse references"""
  cvs: [cv!]!
}
`,cz=`
"""Information about a verse number (which may be part of a verse range)"""
type verseNumber {
  """The verse number"""
  number: Int!
  """The verse range to which the verse number belongs"""
  range: String!
  """The reference for this verse when mapped to 'original' versification"""
  orig: orig!
}
`,lz={orig:(e,t,r)=>{const n=r.doc.headers.bookCode,u=r.cvIndex[0],s=e.number,o=r.doc.sequences[r.doc.mainId];if(o.verseMapping&&"forward"in o.verseMapping&&`${u}`in o.verseMapping.forward){const a=Ae.versification.mapVerse(o.verseMapping.forward[`${u}`],n,u,s);return{book:a[0],cvs:a[1]}}else return{book:n,cvs:[[u,s]]}}},pz=`
"""A table cell"""
type cell {
  """The row numbers"""
  rows: [Int!]!
  """The column numbers"""
  columns: [Int!]!
  """A list of items from the c (content) field of the cell"""
  items: [Item!]!
  """A list of tokens from the c (content) field of the cell"""
  tokens: [Item!]!
  """The text of the cell as a single string"""
  text(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
}
`,fz={rows:e=>e[0],columns:e=>e[1],items:e=>e[2],tokens:e=>e[2].filter(t=>t[0]==="token"),text:(e,t)=>{let r=e[2].filter(n=>n[0]==="token").map(n=>n[2]).join("").trim();return t.normalizeSpace&&(r=r.replace(/[ \t\n\r]+/g," ")),r}},dz=`
"""A chapter index entry"""
type cIndex {
  """The chapter number"""
  chapter: Int!
  """The zero-indexed number of the block where the chapter starts"""
  startBlock: Int
  """The zero-indexed number of the block where the chapter ends"""
  endBlock: Int
  """The zero-indexed position of the item where the chapter starts"""
  startItem: Int
  """The zero-indexed position of the item where the chapter ends"""
  endItem: Int
  """The value of nextToken at the beginning of the chapter"""
  nextToken: Int
  """A list of items for this chapter"""
  items(
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [Item]!
  """The items as a string in a compact eyeballable format"""
  dumpItems: String
  """A list of tokens for this chapter"""
  tokens(
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
    """Return tokens whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return tokens with one of the specified subTypes"""
    withSubTypes: [String!]
  ): [Item]!
  """The text of the chapter as a single string"""
  text(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
}
`,Dz={chapter:e=>e[0],startBlock:e=>e[1].startBlock,endBlock:e=>e[1].endBlock,startItem:e=>e[1].startItem,endItem:e=>e[1].endItem,nextToken:e=>e[1].nextToken,items:(e,t,r)=>r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],e[1],t.includeContext).reduce((n,u)=>n.concat([["token","lineSpace"," "]].concat(u)),[]),dumpItems:(e,t,r)=>{const n=r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],e[1],!1);return n.length>0?Vp(n.reduce((u,s)=>u.concat([["token","lineSpace"," ",null]].concat(s)))):""},tokens:(e,t,r)=>r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],e[1],t.includeContext).reduce((n,u)=>n.concat([["token","lineSpace"," "]].concat(u)),[]).filter(n=>n[0]==="token"&&(!t.withChars||t.withChars.includes(n[2]))&&(!t.withSubTypes||t.withSubTypes.includes(n[1]))),text:(e,t,r)=>{let n=r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],e[1]).reduce((u,s)=>u.concat([["token","lineSpace"," "]].concat(s)),[]).filter(u=>u[0]==="token").map(u=>u[1]==="lineSpace"?" ":u[2]).join("").trim();return t.normalizeSpace&&(n=n.replace(/[ \t\n\r]+/g," ")),n}},hz=`
""""""
type cvVerseElement {
  """The zero-indexed number of the block where the verse starts"""
  startBlock: Int
  """The zero-indexed number of the block where the verse ends"""
  endBlock: Int
  """The zero-indexed position of the item where the verse starts"""
  startItem: Int
  """The zero-indexed position of the item where the verse ends"""
  endItem: Int
  """The value of nextToken at the beginning of the verse"""
  nextToken: Int
  """The verse range for this verse as it would be printed in a Bible"""
  verseRange: String
  """A list of items for this verse"""
  items(
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [Item]!
  """The items as a string in a compact eyeballable format"""
  dumpItems: String
  """A list of tokens for this verse"""
  tokens(
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
    """Return tokens whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return tokens with one of the specified subTypes"""
    withSubTypes: [String!]
  ): [Item]!
  """The text of the verse as a single string"""
  text(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
}
`,mz={startBlock:e=>e.startBlock,endBlock:e=>e.endBlock,startItem:e=>e.startItem,endItem:e=>e.endItem,nextToken:e=>e.nextToken,verseRange:e=>e.verses,items:(e,t,r)=>r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],e,t.includeContext).reduce((n,u)=>n.concat([["token","lineSpace"," ",null]].concat(u))),dumpItems:(e,t,r)=>Vp(r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],e,t.includeContext).reduce((n,u)=>n.concat([["token","lineSpace"," ",null]].concat(u)))),tokens:(e,t,r)=>r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],e,t.includeContext).reduce((n,u)=>n.concat([["token","lineSpace"," ",null]].concat(u))).filter(n=>n[0]==="token"&&(!t.withChars||t.withChars.includes(n[2]))&&(!t.withSubTypes||t.withSubTypes.includes(n[1]))),text:(e,t,r)=>{let n=r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],e).reduce((u,s)=>u.concat([["token","lineSpace"," ",null]].concat(s))).filter(u=>u[0]==="token").map(u=>u[1]==="lineSpace"?" ":u[2]).join("").trim();return t.normalizeSpace&&(n=n.replace(/[ \t\n\r]+/g," ")),n}},Ez=`
"""Information about a verse in the chapter, which may be split into several pieces"""
type cvVerses {
  """The pieces of verse"""
  verse: [cvVerseElement]
}
`,vz={verse:e=>e},yz=`
"""A chapterVerse index entry"""
type cvIndex {
  """The chapter number"""
  chapter: Int!
  """Information about the verses in the chapter"""
  verses: [cvVerses]
  """A list of verse number and range information, organized by verse number"""
  verseNumbers: [verseNumber!]
  """A list of verse number and range information, organized by verse range"""
  verseRanges: [verseRange!]
}
`,gz={chapter:e=>e[0],verses:e=>e[1],verseNumbers:(e,t,r)=>(r.cvIndex=e,[...e[1].entries()].filter(n=>n[1].length>0).map(n=>({number:n[0],range:n[1][n[1].length-1].verses}))),verseRanges:e=>{const t=[];for(const[r,n]of[...e[1].entries()].filter(u=>u[1].length>0))t.length===0||t[t.length-1].range!==n[n.length-1].verses?t.push({range:n[n.length-1].verses,numbers:[r]}):t[t.length-1].numbers.push(r);return t}},Gy=(e,t)=>{const r=parseInt(e[0]),n=parseInt(e[1]);if(e[3].length<=n||e[3][n].length===0)return null;let u=null,s=r,o=n,a=e[3],i=a[n][0].verses,c=!1;for(;!u;)if(o+=1,o>=a.length){if(c||!e[4])break;o=-1,s+=1,a=e[4],c=!0}else a[o].length>0&&(!t||c||a[o][0].verses!==i)&&(u=[s,o]);return u},Vy=(e,t)=>{const r=parseInt(e[0]),n=parseInt(e[1]);if(e[3].length<=n||e[3][n].length===0)return null;let u=null,s=r,o=n,a=e[3],i=a[n][0].verses,c=!1;for(;!u;)if(o-=1,o<0){if(c||!e[2])break;o=e[2].length,s-=1,a=e[2],c=!0}else a[o].length>0&&(!t||c||a[o][0].verses!==i)&&(u=[s,o]);return u},Az=`
"""Various answers to 'previous' and 'next' with respect to a verse"""
type cvNavigation {
  """The verse number for the next verse"""
  nextVerse: cv
  """The verse number for the previous verse"""
  previousVerse: cv
  """The verse number for the next verse range"""
  nextVerseRangeVerse: cv
  """The verse number for the previous verse range"""
  previousVerseRangeVerse: cv
  """The next chapter number (as a string)"""
  nextChapter: String
  """The previous chapter number (as a string)"""
  previousChapter: String
}
`,Fz={nextVerse:e=>Gy(e,!1),previousVerse:e=>Vy(e,!1),nextVerseRangeVerse:e=>Gy(e,!0),previousVerseRangeVerse:e=>Vy(e,!0),nextChapter:e=>e[3].length>0&&e[4].length>0?(parseInt(e[0])+1).toString():null,previousChapter:e=>e[2].length>0&&e[3].length>0?(parseInt(e[0])-1).toString():null},Cz=`
"""A specification to create or update a block"""
input inputBlockSpec {
  """The block scope as an item"""
  bs: InputItemObject!
  """The block grafts as items"""
  bg: [InputItemObject!]!
  """The open scopes as items"""
  os: [InputItemObject!]!
  """The included scopes as items"""
  is: [InputItemObject!]!
  """The items"""
  items: [InputItemObject!]!
}
`,bz=`
"""A tree node"""
type node {
  """The node id"""
  id: String!
  """The node parent id"""
  parentId: String
  """The keys for content"""
  keys: [String!]!
  """The content as itemGroups"""
  itemGroups(
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [ItemGroup!]!
  """The node children ids"""
  childIds: [String!]!
}
`,Sz={id:(e,t,r)=>{const[n,u,s]=Ae.succinct.headerBytes(e.bs,0);return r.docSet.unsuccinctifyScope(e.bs,u,s,0)[2].split("/")[1]},parentId:(e,t,r)=>{const n=r.docSet.unsuccinctifyScopes(e.is).filter(u=>u[2].startsWith("tTreeParent"))[0][2].split("/")[1];return n==="none"?null:n},keys:(e,t,r)=>r.docSet.unsuccinctifyScopes(e.is).filter(n=>n[2].startsWith("tTreeContent")).map(n=>n[2].split("/")[1]),itemGroups:(e,t,r)=>r.docSet.sequenceItemsByScopes([e],["tTreeContent/"],t.includeContext||!1),childIds:(e,t,r)=>r.docSet.unsuccinctifyScopes(e.is).filter(n=>n[2].startsWith("tTreeChild")).map(n=>n[2].split("/")[2])},wz=`
"""A contiguous flow of content for key-values"""
type kvSequence {
  """The id of the sequence"""
  id: String!
  """The number of entries in the key-value sequence"""
  nEntries: Int!
  """The entries in the key-value sequence"""
  entries(
    """Only return entries whose key matches the specification"""
    keyMatches: String
    """Only return entries whose key equals one of the values in the specification"""
    keyEquals: [String!]
    """Only return entries whose secondary keys match the specification"""
    secondaryMatches: [KeyMatches!]
    """Only return entries whose secondary keys equal one of the values in the specification"""
    secondaryEquals: [KeyValues!]
    """Only return entries whose content matches the specification"""
    contentMatches: [KeyMatches!]
    """Only return entries whose content equals one of the values in the specification"""
    contentEquals: [KeyValues!]
  ): [kvEntry!]
  """A list of the tags of this sequence"""
  tags: [String!]!
  """A list of the tags of this sequence as key/value tuples"""
  tagsKv: [KeyValue!]!
  """Whether or not the sequence has the specified tag"""
  hasTag(
    """The tag name"""
    tagName: String
  ): Boolean!
}
`,_z={nEntries:e=>e.blocks.length,entries:(e,t,r)=>{let n=e.blocks.map(u=>[r.docSet.unsuccinctifyScopes(u.bs).map(s=>s[2].split("/")[1])[0],r.docSet.unsuccinctifyScopes(u.is).filter(s=>s[2].startsWith("kvSecondary/")).map(s=>[s[2].split("/")[1],s[2].split("/")[2]]),r.docSet.sequenceItemsByScopes([u],["kvField/"],!1)]);if(t.keyMatches&&(n=n.filter(u=>ne.test(u[0],ne(t.keyMatches)))),t.keyEquals&&(n=n.filter(u=>t.keyEquals.includes(u[0]))),t.secondaryMatches){const u={};t.secondaryMatches.forEach(s=>u[s.key]=s.matches),n=n.filter(s=>{const o={};s[1].forEach(a=>o[a[0]]=a[1]);for(const a of Object.entries(u)){const i=o[a[0]];if(!i||!ne.test(i,ne(a[1])))return!1}return!0})}if(t.secondaryEquals){const u={};t.secondaryEquals.forEach(s=>u[s.key]=s.values),n=n.filter(s=>{const o={};s[1].forEach(a=>o[a[0]]=a[1]);for(const a of Object.entries(u)){const i=o[a[0]];if(!i||!a[1].includes(i))return!1}return!0})}if(t.contentMatches){const u={};t.contentMatches.forEach(s=>u[s.key]=s.matches),n=n.filter(s=>{const o={};s[2].forEach(a=>o[a[0].filter(i=>i.startsWith("kvField"))[0].split("/")[1]]=a[1].filter(i=>i[0]==="token").map(i=>i[2]).join(""));for(const a of Object.entries(u)){const i=o[a[0]];if(!i||!ne.test(i,ne(a[1])))return!1}return!0})}if(t.contentEquals){const u={};t.contentEquals.forEach(s=>u[s.key]=s.values),n=n.filter(s=>{const o={};s[2].forEach(a=>o[a[0].filter(i=>i.startsWith("kvField"))[0].split("/")[1]]=a[1].filter(i=>i[0]==="token").map(i=>i[2]).join(""));for(const a of Object.entries(u)){const i=o[a[0]];if(!i||!i.includes(a[1]))return!1}return!0})}return n},tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map(t=>t.includes(":")?[t.substring(0,t.indexOf(":")),t.substring(t.indexOf(":")+1)]:[t,""]),hasTag:(e,t)=>e.tags.has(t.tagName)},Bz=`
"""A contiguous flow of content for a table"""
type tableSequence {
  """The id of the sequence"""
  id: String!
  """The number of cells in the table sequence"""
  nCells: Int!
  """The number of rows in the table sequence"""
  nRows: Int!
  """The number of columns in the table sequence"""
  nColumns: Int!
  """The cells in the table sequence"""
  cells: [cell!]!
  """The rows in the table sequence"""
  rows(
    """Only return rows whose zero-indexed position is in the list"""
    positions: [Int!]
    """Only return columns whose zero-indexed position is in the list"""
    columns: [Int!]
    """Only return rows whose cells match the specification"""
    matches: [rowMatchSpec!]
    """'Only return rows whose cells contain one of the values in the specification"""
    equals: [rowEqualsSpec!]
  ): [[cell!]!]!
  """A list of the tags of this sequence"""
  tags: [String!]!
  """A list of the tags of this sequence as key/value tuples"""
  tagsKv: [KeyValue!]!
  """Whether or not the sequence has the specified tag"""
  hasTag(
    """The tag name"""
    tagName: String
  ): Boolean!
  """A list of column headings for this tableSequence, derived from the sequence tags"""
  headings: [String!]!
}
`,Tz={nCells:e=>e.blocks.length,nRows:(e,t,r)=>{const n=new Set([]);for(const u of e.blocks){const[s,o,a]=Ae.succinct.headerBytes(u.bs,0),i=r.docSet.unsuccinctifyScope(u.bs,o,a,0)[2];n.add(i.split("/")[1])}return n.size},nColumns:(e,t,r)=>{const n=new Set([]);for(const u of e.blocks)for(const s of r.docSet.unsuccinctifyScopes(u.is).map(o=>o[2]))s.startsWith("tTableCol")&&n.add(s.split("/")[1]);return n.size},cells:(e,t,r)=>{const n=[];for(const u of e.blocks)n.push([r.docSet.unsuccinctifyScopes(u.bs).map(s=>parseInt(s[2].split("/")[1])),Array.from(new Set(r.docSet.unsuccinctifyScopes(u.is).filter(s=>s[2].startsWith("tTableCol")).map(s=>parseInt(s[2].split("/")[1])))),r.docSet.unsuccinctifyItems(u.c,{},0)]);return n},rows:(e,t,r)=>{const n=(c,l)=>{if(c[l.colN]===void 0)return!1;const p=c[l.colN][2].filter(f=>f[0]==="token").map(f=>f[2]).join("");return ne.test(p,ne(l.matching))},u=(c,l)=>l.length===0?!0:n(c,l[0])?u(c,l.slice(1)):!1,s=(c,l)=>{if(c[l.colN]===void 0)return!1;const p=c[l.colN][2].filter(f=>f[0]==="token").map(f=>f[2]).join("");return l.values.includes(p)},o=(c,l)=>l.length===0?!0:s(c,l[0])?o(c,l.slice(1)):!1;let a=[],i=-1;for(const c of e.blocks){const l=r.docSet.unsuccinctifyScopes(c.bs).map(p=>parseInt(p[2].split("/")[1]));t.positions&&!t.positions.includes(l[0])||(l[0]!==i&&(a.push([]),i=l[0]),a[a.length-1].push([l,Array.from(new Set(r.docSet.unsuccinctifyScopes(c.is).filter(p=>p[2].startsWith("tTableCol")).map(p=>parseInt(p[2].split("/")[1])))),r.docSet.unsuccinctifyItems(c.c,{},0)]))}return t.matches&&(a=a.filter(c=>u(c,t.matches))),t.equals&&(a=a.filter(c=>o(c,t.equals))),t.columns&&(a=a.map(c=>[...c.entries()].filter(l=>t.columns.includes(l[0])).map(l=>l[1]))),a},tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map(t=>t.includes(":")?[t.substring(0,t.indexOf(":")),t.substring(t.indexOf(":")+1)]:[t,""]),hasTag:(e,t)=>e.tags.has(t.tagName),headings:e=>Array.from(e.tags).filter(t=>t.startsWith("col")).sort((t,r)=>parseInt(t.split(":")[0].substring(3))-parseInt(r.split(":")[0].substring(3))).map(t=>t.split(":")[1])},$z={equals:(e,t,r,n)=>r===n,notEqual:(e,t,r,n)=>r!==n,and:(e,t,...r)=>r.filter(n=>!n).length===0,or:(e,t,...r)=>r.filter(n=>n).length>0,not:(e,t,r)=>!r,idRef:(e,t)=>e.unsuccinctifyScopes(t.bs)[0][2].split("/")[1],parentIdRef:(e,t)=>e.unsuccinctifyScopes(t.is).filter(r=>r[2].startsWith("tTreeParent"))[0][2].split("/")[1],nChildren:(e,t)=>e.unsuccinctifyScopes(t.is).filter(r=>r[2].startsWith("tTreeChild")).length,contentRef:(e,t,r)=>{const n=e.sequenceItemsByScopes([t],["tTreeContent/"],!1).filter(u=>u[0].filter(o=>o.startsWith("tTreeContent"))[0].split("/")[1]===r);return n[0]?n[0][1].filter(u=>u[0]==="token").map(u=>u[2]).join(""):""},hasContent:(e,t,r)=>e.sequenceItemsByScopes([t],["tTreeContent/"],!1).filter(u=>u[0].filter(o=>o.startsWith("tTreeContent"))[0].split("/")[1]===r).length>0,concat:(e,t,...r)=>r.join(""),startsWith:(e,t,r,n)=>r.startsWith(n),endsWith:(e,t,r,n)=>r.endsWith(n),contains:(e,t,r,n)=>r.includes(n),matches:(e,t,r,n)=>ne.test(r,ne(n)),int:(e,t,r)=>parseInt(r),string:(e,t,r)=>`${r}`,left:(e,t,r,n)=>r.substring(0,n),right:(e,t,r,n)=>r.substring(r.length-n),length:(e,t,r)=>r.length,indexOf:(e,t,r,n)=>r.indexOf(n),add:(e,t,...r)=>r.reduce((n,u)=>n+u),mul:(e,t,...r)=>r.reduce((n,u)=>n*u),sub:(e,t,r,n)=>r-n,div:(e,t,r,n)=>Math.floor(r/n),mod:(e,t,r,n)=>r%n,gt:(e,t,r,n)=>r>n,lt:(e,t,r,n)=>r<n,ge:(e,t,r,n)=>r>=n,le:(e,t,r,n)=>r<=n},Pz={quotedString:e=>e.substring(1,e.length-1),int:e=>parseInt(e),true:()=>!0,false:()=>!1},Oz=e=>{const t=[[]];let r=0,n=0,u=!1;for(;e&&r<e.length;){switch(e[r]){case"\\":t[t.length-1].push(e[r]),e[r+1]==="'"&&(t[t.length-1].push(e[r+1]),r++);break;case"'":t[t.length-1].push(e[r]),u=!u;break;case"(":u?t[t.length-1].push(e[r]):(t[t.length-1].push(e[r]),n++);break;case")":u?t[t.length-1].push(e[r]):(t[t.length-1].push(e[r]),n--);break;case",":if(!u&&n===0)for(t.push([]);e[r+1]===" ";)r++;else t[t.length-1].push(e[r]);break;default:t[t.length-1].push(e[r])}r++}return t.map(s=>s.join(""))},Km={expression:{oneOf:["stringExpression","intExpression","booleanExpression"]},booleanExpression:{oneOf:["booleanPrimitive","equals","notEqual","and","or","not","contains","startsWith","endsWith","matches","gt","lt","ge","le","hasContent"]},stringExpression:{oneOf:["concat","left","right","string","idRef","parentIdRef","contentRef","stringPrimitive"]},intExpression:{oneOf:["length","indexOf","int","nChildren","intPrimitive","add","sub","mul","div","mod"]},equals:{regex:ne("^==\\((.+)\\)$"),doc:{operator:"==",args:["expression","expression"],result:"boolean",description:"Are the arguments strictly equal?"},argStructure:[["expression",[2,2]]]},notEqual:{regex:ne("^!=\\((.+)\\)$"),doc:{operator:"!=",args:["expression","expression"],result:"boolean",description:"Are the arguments not strictly equal?"},argStructure:[["expression",[2,2]]]},and:{regex:ne("^and\\((.+)\\)$"),doc:{operator:"and",args:["boolean","boolean","..."],result:"boolean",description:"Are all the arguments true?"},breakOn:!1,argStructure:[["booleanExpression",[2,null]]]},or:{regex:ne("^or\\((.+)\\)$"),doc:{operator:"or",args:["boolean","boolean"],result:"boolean",description:"Are any arguments true?"},breakOn:!0,argStructure:[["booleanExpression",[2,null]]]},concat:{regex:ne("^concat\\((.+)\\)$"),doc:{operator:"concat",args:["string","string","..."],result:"string",description:"Concatenates string arguments"},argStructure:[["stringExpression",[2,null]]]},contentRef:{regex:ne("^content\\((.+)\\)$"),doc:{operator:"content",args:["string"],result:"string",description:"String value of the specified content for the node"},argStructure:[["stringExpression",[1,1]]]},hasContent:{regex:ne("^hasContent\\((.+)\\)$"),doc:{operator:"hasContent",args:["string"],result:"boolean",description:"Does the node have this content?"},argStructure:[["stringExpression",[1,1]]]},contains:{regex:ne("^contains\\((.+)\\)$"),doc:{operator:"contains",args:["string","string"],result:"boolean",description:"Does the first string contain the second string?"},argStructure:[["stringExpression",[2,2]]]},startsWith:{regex:ne("^startsWith\\((.+)\\)$"),doc:{operator:"startsWith",args:["string","string"],result:"boolean",description:"Does the first string start with the second string?"},argStructure:[["stringExpression",[2,2]]]},endsWith:{regex:ne("^endsWith\\((.+)\\)$"),doc:{operator:"endsWith",args:["string","string"],result:"boolean",description:"Does the first string end with the second string?"},argStructure:[["stringExpression",[2,2]]]},matches:{regex:ne("^matches\\((.+)\\)$"),doc:{operator:"matches",args:["string","regex"],result:"boolean",description:"Does the first string match the regex in the second string?"},argStructure:[["stringExpression",[2,2]]]},left:{regex:ne("^left\\((.+)\\)$"),doc:{operator:"left",args:["string","integer"],result:"string",description:"The first n characters of the string"},argStructure:[["stringExpression",[1,1]],["intExpression",[1,1]]]},right:{regex:ne("^right\\((.+)\\)$"),doc:{operator:"right",args:["string","integer"],result:"string",description:"The last n characters of the string"},argStructure:[["stringExpression",[1,1]],["intExpression",[1,1]]]},length:{regex:ne("^length\\((.+)\\)$"),doc:{operator:"length",args:["string"],result:"integer",description:"The number of characters in the string"},argStructure:[["stringExpression",[1,1]]]},indexOf:{regex:ne("^indexOf\\((.+)\\)$"),doc:{operator:"indexOf",args:["string","string"],result:"number",description:"The integer position at which the second string starts in the first string"},argStructure:[["stringExpression",[2,2]]]},not:{regex:ne("^not\\((.+)\\)$"),doc:{operator:"not",args:["boolean"],result:"boolean",description:"The inverse boolean value of the argument"},argStructure:[["booleanExpression",[1,1]]]},int:{regex:ne("^int\\((.+)\\)$"),doc:{operator:"int",args:["string"],result:"integer",description:"The integer value of the string"},argStructure:[["stringExpression",[1,1]]]},string:{regex:ne("^string\\((.+)\\)$"),doc:{operator:"string",args:["integer"],result:"string",description:"The string value of the integer"},argStructure:[["intExpression",[1,1]]]},idRef:{regex:ne("^id$"),doc:{operator:"id",args:[],result:"string",description:"The node ID"},argStructure:[]},parentIdRef:{regex:ne("^parentId$"),doc:{operator:"parentId",args:[],result:"string",description:"The node's parent ID"},argStructure:[]},nChildren:{regex:ne("^nChildren$"),doc:{operator:"nChildren",args:[],result:"int",description:"The number of children of the node"},argStructure:[]},add:{regex:ne("^add\\((.+)\\)$"),doc:{operator:"add",args:["integer","..."],result:"integer",description:"The numeric sum of the arguments"},argStructure:[["intExpression",[2,null]]]},mul:{regex:ne("^mul\\((.+)\\)$"),doc:{operator:"mul",args:["integer","..."],result:"integer",description:"The numeric product of the arguments"},argStructure:[["intExpression",[2,null]]]},sub:{regex:ne("^sub\\((.+)\\)$"),doc:{operator:"sub",args:["integer","integer"],result:"integer",description:"The first integer minus the second"},argStructure:[["intExpression",[2,2]]]},div:{regex:ne("^div\\((.+)\\)$"),doc:{operator:"div",args:["integer","integer"],result:"integer",description:"The first integer divided by the second"},argStructure:[["intExpression",[2,2]]]},mod:{regex:ne("^mod\\((.+)\\)$"),doc:{operator:"mod",args:["integer","integer"],result:"integer",description:"The modulus of the first integer when divided by the second"},argStructure:[["intExpression",[2,2]]]},gt:{regex:ne("^>\\((.+)\\)$"),doc:{operator:">",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically greater than the second?"},argStructure:[["intExpression",[2,2]]]},lt:{regex:ne("^<\\((.+)\\)$"),doc:{operator:"<",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically less than the second?"},argStructure:[["intExpression",[2,2]]]},ge:{regex:ne("^>=\\((.+)\\)$"),doc:{operator:">=",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically greater than or equal to the second?"},argStructure:[["intExpression",[2,2]]]},le:{regex:ne("^<=\\((.+)\\)$"),doc:{operator:"<=",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically less than or equal to the second?"},argStructure:[["intExpression",[2,2]]]},stringPrimitive:{regex:ne("^('([^']|\\\\')*')$"),parseFunctions:[null,"quotedString"]},intPrimitive:{regex:ne("^(-?[0-9]+)$"),parseFunctions:[null,"int"]},booleanPrimitive:{regex:ne("^(true)|(false)$"),parseFunctions:[null,"true","false"]}},kz=(e,t,r,n,u)=>{const s=Km[n];if(!s)throw new Error(`Unknown expression ${n} for predicate ${r}`);const o=a=>[a.map(i=>i[1][0]).reduce((i,c)=>i+c),a.filter(i=>i[1][1]===null).length>0];if(s.parseFunctions){let a=!1;for(const[i,c]of s.parseFunctions.entries())if(!(!c||!u[i]))return a=!0,{data:Pz[c](u[i])};if(!a)return{errors:`Could not parse predicate ${r}`}}else{const a=Oz(u[1]),i=s.argStructure,c=[];if(i.length>0){const l=o(i);if(a.length<l[0])return{errors:`Expected at least ${l[0]} args for '${n}', found ${a.length}`};if(!l[1]&&a.length>l[0])return{errors:`Expected at most ${l[0]} args for '${n}', found ${a.length}`};let p=0,f=0,d=0;for(;p<a.length;){const h=a[p],E=Xm(e,t,h,i[f][0]);if("breakOn"in s&&!h.errors&&E.data===s.breakOn)return E;c.push(E),p++,d++,i[f][1][1]&&d>=i[f][1][1]&&(f++,d=0)}}if(c.filter(l=>l.errors).length===0){const l=c.map(f=>f.data);return{data:$z[n](e,t,...l)}}return{errors:`Could not parse arguments to ${n}: ${a.filter(l=>l.errors).map(l=>l.errors).join("; ")}`}}},Xm=(e,t,r,n)=>{const u=Km[n];if(!u)throw new Error(`Unknown expression ${n} for predicate ${r}`);if(u.oneOf){let s=null;for(const o of u.oneOf){const a=Xm(e,t,r,o);if(a.errors)(!s||a.errors.length<s.length)&&(s=a.errors);else return a}return{errors:s}}else{const s=ne.exec(r,u.regex);return s?kz(e,t,r,n,s):{errors:`Could not match ${r}`}}},Iz=(e,t,r)=>({data:t.data.filter(n=>{const u=Xm(e,n,r,"booleanExpression");if(u.errors)throw new Error(`Predicate - ${u.errors}`);return u.data})}),cn="(\\[(([^\\]']|'([^']|\\\\')*')+)\\])*",Nz=(e,t,r,n,u,s)=>{const o=s[1].split(",").map(a=>a.trim());return{data:Array.from(o).map(a=>t[r.get(a)])}},qz=(e,t)=>({data:[t[0]]}),xz=(e,t)=>({data:t}),Rz=(e,t,r,n,u,s)=>{const o=s[2],a=new Set([]);for(const i of n.data){const c=e.unsuccinctifyScopes(i.is).map(l=>l[2].split("/")).filter(l=>l[0]==="tTreeChild").filter(l=>!o||l[1]===o).map(l=>l[2]);for(const l of c)a.add(l)}return{data:Array.from(a).map(i=>t[r.get(i)])}},jz=(e,t,r,n)=>{const u=new Set([]);for(const s of n.data){const o=e.unsuccinctifyScopes(s.is).filter(a=>a[2].startsWith("tTreeParent")).map(a=>a[2].split("/")[1])[0];u.add(o)}return{data:Array.from(u).map(s=>t[r.get(s)])}},Mz=(e,t,r,n,u,s)=>{let o=parseInt(s[2]);if(o<1)return{errors:`Expected a positive integer argument for ancestor, found ${u}`};let a=n.data;for(;o>0;){const i=new Set([]);for(const c of a){const l=e.unsuccinctifyScopes(c.is).filter(p=>p[2].startsWith("tTreeParent")).map(p=>p[2].split("/")[1])[0];i.add(l)}a=Array.from(i).map(c=>t[r.get(c)]),o--}return{data:a}},Lz=(e,t,r,n,u,s)=>{const o=new Set([]),a=(l,p)=>{const f=e.unsuccinctifyScopes(l.is).filter(d=>d[2].startsWith("tTreeChild")).map(d=>d[2].split("/")[2]);(p<=1||p===null)&&f.forEach(d=>o.add(d)),(p===null||p>1)&&f.map(d=>t[r.get(d)]).forEach(d=>a(d,p-1))};let i=null;s[3]&&(i=parseInt(s[3]));let c=-1;s[5]&&(c=parseInt(s[5]));for(const l of n.data)a(l,i);return{data:[...Array.from(o).entries()].filter(l=>c<0||l[0]===c).map(l=>l[1]).map(l=>t[r.get(l)])}},Uz=(e,t,r,n)=>{const u=new Set([]),s=o=>{const a=e.unsuccinctifyScopes(o.is).filter(i=>i[2].startsWith("tTreeChild")).map(i=>i[2].split("/")[2]);a.length===0?u.add(e.unsuccinctifyScopes(o.bs)[0][2].split("/")[1]):a.map(i=>t[r.get(i)]).forEach(i=>s(i))};for(const o of n.data)s(o);return{data:Array.from(u).map(o=>t[r.get(o)])}},Gz=(e,t,r,n)=>{const u=new Set([]);for(const a of n.data){const i=e.unsuccinctifyScopes(a.is).filter(c=>c[2].startsWith("tTreeParent")).map(c=>c[2].split("/")[1])[0];u.add(i)}const s=t.filter(a=>u.has(e.unsuccinctifyScopes(a.bs)[0][2].split("/")[1])),o=new Set([]);for(const a of s){const i=e.unsuccinctifyScopes(a.is).filter(c=>c[2].startsWith("tTreeChild")).map(c=>c[2].split("/")[2]);for(const c of i)o.add(c)}return{data:Array.from(o).map(a=>t[r.get(a)])}},Hp=(e,t,r,n,u,s)=>{const o={};(u.size===0||u.has("id"))&&(o.id=e.unsuccinctifyScopes(t.bs)[0][2].split("/")[1]),(u.size===0||u.has("parentId"))&&(o.parentId=e.unsuccinctifyScopes(t.is).filter(c=>c[2].startsWith("tTreeParent")).map(c=>c[2].split("/")[1])[0]);const a={};for(const[c,l]of e.sequenceItemsByScopes([t],["tTreeContent/"],!1)){const p=c.filter(f=>f.startsWith("tTreeContent"))[0].split("/")[1];(u.size===0||u.has("content")||u.has(`@${p}`))&&(a[p]=l.filter(f=>f[0]==="token").map(f=>f[2]).join(""))}Object.keys(a).length>0&&(o.content=a);const i=[];if(u.has("children"))for(const c of e.unsuccinctifyScopes(t.is).filter(l=>l[2].startsWith("tTreeChild")).map(l=>l[2].split("/")[2]))i.push(c);return i.length>0&&(s?o.children=i.map(c=>r[n.get(c)]).map(c=>Hp(e,c,r,n,u,!0)):o.children=i),o},Vz=(e,t,r,n,u,s)=>{const o=[];let a=new Set([]);s[2]&&(a=new Set(s[2].split(",").map(i=>i.trim())));for(const i of n.data)o.push(Hp(e,i,t,r,a,!0));return{data:o}},Hz=(e,t,r,n,u,s)=>{const o=[];let a=new Set([]);s[2]&&(a=new Set(s[2].split(",").map(c=>c.trim()).filter(c=>c.startsWith("@"))));for(const c of n.data)o.push(Hp(e,c,t,r,a,!0));const i={};for(const c of Array.from(a).map(l=>l.substring(1)))i[c]=Array.from(new Set(o.filter(l=>l.content).map(l=>l.content).filter(l=>c in l).map(l=>l[c]).sort()));return{data:i}},Wz=(e,t,r,n,u,s)=>{const o=[];let a=new Set([]);s[2]&&(a=new Set(s[2].split(",").map(i=>i.trim())));for(const i of n.data)o.push(Hp(e,i,t,r,a,!1));return{data:o}},Hy=[{regex:ne(`^#\\{([^}]+)\\}${cn}$`),doc:{title:"Nodes by Id",syntax:"#(id, id, ...)",description:"Returns nodes whose id is listed"},predicateCapture:3,inputType:null,outputType:"nodes",function:Nz},{regex:ne(`^root${cn}$`),doc:{title:"Root Node",syntax:"root",description:"Returns the root node"},predicateCapture:2,inputType:null,outputType:"nodes",function:qz},{regex:ne(`^nodes${cn}$`),doc:{title:"Nodes",syntax:"nodes",description:"Returns all the nodes"},predicateCapture:2,function:xz,inputType:null,outputType:"nodes"},{regex:ne(`^children(\\((\\d+)\\))?${cn}$`),doc:{title:"Children",syntax:"children; children(pos)",description:"Returns the children of the current node(s), optionally filtered by position within the parent node"},predicateCapture:4,inputType:"nodes",outputType:"nodes",function:Rz},{regex:ne(`^descendants((\\((\\d+)(,\\s*(\\d+))?\\))?)${cn}$`),doc:{title:"Descendants",syntax:"descendants; descendants(depth); descendants(depth, pos)",description:"Returns the descendants of the current node(s), optionally at the specified level, optionally filtered by position"},predicateCapture:7,inputType:"nodes",outputType:"nodes",function:Lz},{regex:ne(`^leaves${cn}$`),doc:{title:"Leaves",syntax:"leaves",description:"Returns the leaves (ie the nodes with no children) below the current node"},predicateCapture:2,inputType:"nodes",outputType:"nodes",function:Uz},{regex:ne(`^parent${cn}$`),doc:{title:"Parent",syntax:"parent",description:"Returns the parent of the current node"},predicateCapture:2,inputType:"nodes",outputType:"nodes",function:jz},{regex:ne(`^ancestor(\\((\\d+)\\))${cn}$`),doc:{title:"Ancestor",syntax:"ancestor(depth)",description:"Returns the nth ancestor of the node"},predicateCapture:5,inputType:"nodes",outputType:"nodes",function:Mz},{regex:ne(`^siblings${cn}$`),doc:{title:"Siblings",syntax:"siblings",description:"Returns the children of the parent of the current node"},predicateCapture:2,inputType:"nodes",outputType:"nodes",function:Gz},{regex:ne(`^node(\\{([^}]+)\\})?${cn}$`),doc:{title:"Node Details",syntax:"node; node{ id, parentId, content, children, @foo }",description:"Returns an object containing the specified content"},predicateCapture:4,inputType:"nodes",outputType:"node",function:Wz},{regex:ne(`^branch(\\{([^}]+)\\})?${cn}$`),doc:{title:"Branch",syntax:"branch; branch{ id, parentId, content, children, @foo }",description:"Returns nested objects containing the specified content"},predicateCapture:4,inputType:"nodes",outputType:"node",function:Vz},{regex:ne(`^values(\\{([^}]+)\\})?${cn}$`),doc:{title:"Values",syntax:"values{ @foo ... }",description:"Returns all values across nodes for the specified fields"},predicateCapture:4,inputType:"nodes",outputType:"values",function:Hz}];class md{constructor(){this.currentStepType=null}doStep(t,r,n,u,s){for(const o of Hy){const a=ne.exec(s,o.regex);if(a&&o.inputType===this.currentStepType){let i=o.function(t,r,n,u,s,a);return a[o.predicateCapture]&&(i=Iz(t,i,a[o.predicateCapture])),this.currentStepType=o.outputType,i}}return{errors:`Unable to match step ${s}`}}parse1(t,r,n,u,s){if(s.length>0){const o=this.doStep(t,r,n,u,s[0]);return o.errors||o.data.length===0?o:this.parse1(t,r,n,o,s.slice(1))}else return u}queryArray(t){const r=[];for(const n of t.split("/"))r.push(n);return r}indexNodes(t,r){const n=new Map;for(const[u,s]of r.entries()){const o=t.unsuccinctifyScopes(s.bs)[0][2].split("/")[1];n.set(o,u)}return n}doc(){return`** Steps **

`+Hy.map(t=>t.doc).map(t=>`* ${t.title} *
${t.syntax}
${t.description}`).join(`

`)+`** Predicate Operators **

`+Object.values(Km).filter(t=>t.doc).map(t=>`${t.doc.operator}(${t.doc.args.map(r=>"<"+r+">").join(", ")}) => ${t.doc.result}
${t.doc.description}`).join(`

`)}parse(t,r,n){const u=this.parse1(t,r,this.indexNodes(t,r),{data:r},this.queryArray(n));if(u.data)switch(this.currentStepType){case"nodes":u.data=u.data.map(o=>({id:t.unsuccinctifyScopes(o.bs)[0][2].split("/")[1]}))}return JSON.stringify(u,null,2)}}const Jz=`
"""The nodes of a tree"""
type treeSequence {
  """The id of the sequence"""
  id: String!
  """The number of nodes in the tree sequence"""
  nNodes: Int!
  """The nodes in the tree sequence"""
  nodes: [node!]!
  """The JSON result for a Tribos query, as a string"""
  tribos(
    """The Tribos query string"""
    query: String!
  ): String!
  """The JSON results for the Tribos queries, as an array of strings"""
  triboi(
    """The Tribos query strings"""
    queries: [String!]!
  ): [String!]!
  """Tribos documentation"""
  tribosDoc: String!
  """A list of the tags of this sequence"""
  tags: [String!]!
  """A list of the tags of this sequence as key/value tuples"""
  tagsKv: [KeyValue!]!
  """Whether or not the sequence has the specified tag"""
  hasTag(
    """The tag name"""
    tagName: String
  ): Boolean!
}
`,zz={nNodes:e=>e.blocks.length,nodes:e=>e.blocks,tribos:(e,t,r)=>new md().parse(r.docSet,e.blocks,t.query),triboi:(e,t,r)=>t.queries.map(n=>new md().parse(r.docSet,e.blocks,n)),tribosDoc:()=>new md().doc(),tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map(t=>t.includes(":")?[t.substring(0,t.indexOf(":")),t.substring(t.indexOf(":")+1)]:[t,""]),hasTag:(e,t)=>e.tags.has(t.tagName)},Kz=(e,t)=>{if(e.length===0)return!0;for(const r of e)if(t.startsWith(r))return!0;return!1},Xz=`
"""Part of a sequence, roughly equivalent to a USFM paragraph"""
type Block {
  """The length in bytes of the succinct representation of c (block items)"""
  cBL: Int!
  """The length in bytes of the succinct representation of bg (block grafts)"""
  bgBL: Int!
  """The length in bytes of the succinct representation of os (open scopes)"""
  osBL: Int!
  """The length in bytes of the succinct representation of is (included scopes)"""
  isBL: Int!
  """The length in bytes of the succinct representation of nt (nextToken at the start of the block)"""
  ntBL: Int!
  """The number of items in the succinct representation of c (block items)"""
  cL: Int!
  """The number of items in the succinct representation of bg (block grafts)"""
  bgL: Int!
  """The number of items in the succinct representation of os (open scopes)"""
  osL: Int!
  """The number of items in the succinct representation of is (included scopes)"""
  isL: Int!
  """A list of included scopes for this block"""
  is: [Item!]!
  """A list of open scopes for this block"""
  os: [Item!]!
  """The block scope for this block"""
  bs: Item!
  """A list of block grafts for this block"""
  bg: [Item!]!
  """The value of nextToken at the start of this block"""
  nt: Int!
  """A list of items from the c (content) field of the block"""
  items(
    """Only return items that are within specific scopes"""
    withScopes: [String!]
    """If true, withScopes filtering matches items within at least one of the specified scopes"""
    anyScope: Boolean
    """Only return items that are within a chapterVerse range (ch or ch:v or ch:v-v or ch:v-ch:v)"""
    withScriptureCV: String
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
    """Do not return scopes types in list (eg milestone)"""
    excludeScopeTypes: [String!]
  ) : [Item!]! 
  """A list of tokens from the c (content) field of the block"""
  tokens(
    """Only return tokens that are within specific scopes"""
    withScopes: [String!]
    """If true, withScopes filtering matches tokens within at least one of the specified scopes"""
    anyScope: Boolean
    """Only return tokens that are within a chapterVerse range (ch or ch:v or ch:v-v or ch:v-ch:v)"""
    withScriptureCV: String
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
    """Return tokens whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return tokens whose payload matches one of the specified regexes"""
    withMatchingChars: [String!]
    """Return tokens with one of the specified subTypes"""
    withSubTypes: [String!]
  ) : [Item!]!
  """The text of the block as a single string"""
  text(
    """Only return text that is within a chapterVerse range (ch or ch:v or ch:v-v or ch:v-ch:v)"""
    withScriptureCV: String
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
  """'Block items grouped by scopes or milestones"""
  itemGroups(
    """Produce one itemGroup for every match of the list of scopes"""
    byScopes: [String!]
    """Start a new itemGroup whenever a milestone in the list is encountered"""
    byMilestones: [String!]
  ): [ItemGroup]!
  """The block content as a string in a compact eyeballable format"""
  dump: String!
  """A list of the labels for the block\\'s bs, os and is scopes"""
  scopeLabels(
    """Only include scopes that begin with this value"""
    startsWith: [String!]
  ): [String!]!
}
`,Yz={cBL:e=>e.c.length,bgBL:e=>e.bg.length,osBL:e=>e.os.length,isBL:e=>e.is.length,ntBL:e=>e.nt.length,cL:(e,t,r)=>r.docSet.countItems(e.c),bgL:(e,t,r)=>r.docSet.countItems(e.bg),osL:(e,t,r)=>r.docSet.countItems(e.os),isL:(e,t,r)=>r.docSet.countItems(e.is),is:(e,t,r)=>r.docSet.unsuccinctifyScopes(e.is),os:(e,t,r)=>r.docSet.unsuccinctifyScopes(e.os),bs:(e,t,r)=>{const[n,u,s]=Ae.succinct.headerBytes(e.bs,0);return r.docSet.unsuccinctifyScope(e.bs,u,s,0)},bg:(e,t,r)=>r.docSet.unsuccinctifyGrafts(e.bg),nt:e=>e.nt.nByte(0),items:(e,t,r)=>{if(t.withScopes&&t.withScriptureCV)throw new Error("Cannot specify both withScopes and withScriptureCV");return t.withScriptureCV?r.docSet.unsuccinctifyItemsWithScriptureCV(e,t.withScriptureCV,{},t.includeContext||!1):r.docSet.unsuccinctifyPrunedItems(e,{tokens:!0,scopes:!0,grafts:!0,excludeScopeTypes:t.excludeScopeTypes||[],requiredScopes:t.withScopes||[],anyScope:t.anyScope||!1})},tokens:(e,t,r)=>{if(Object.keys(t).filter(u=>u.includes("Chars")).length>1)throw new Error('Only one of "withChars", "withAnyCaseChars" and "withCharsMatchingRegex" may be specified');let n;return t.withScriptureCV?n=r.docSet.unsuccinctifyItemsWithScriptureCV(e,t.withScriptureCV,{tokens:!0},t.includeContext||!1):n=r.docSet.unsuccinctifyPrunedItems(e,{tokens:!0,scopes:!0,requiredScopes:t.withScopes||[],anyScope:t.anyScope||!1}),t.withSubTypes&&(n=n.filter(u=>t.withSubTypes.includes(u[1]))),t.withChars?n=n.filter(u=>t.withChars.includes(u[2])):t.withMatchingChars&&(n=n.filter(u=>{for(const s of t.withMatchingChars)if(ne.test(u,ne(s)))return!0;return!1})),n.filter(u=>u[0]==="token")},text:(e,t,r)=>{let u=(t.withScriptureCV?r.docSet.unsuccinctifyItemsWithScriptureCV(e,t.withScriptureCV,{tokens:!0},!1):r.docSet.unsuccinctifyItems(e.c,{tokens:!0},null)).map(s=>s[2]).join("").trim();return t.normalizeSpace&&(u=u.replace(/[ \t\n\r]+/g," ")),u},itemGroups:(e,t,r)=>{if(t.byScopes&&t.byMilestones)throw new Error("Cannot specify both byScopes and byMilestones");if(!t.byScopes&&!t.byMilestones)throw new Error("Must specify either byScopes or byMilestones");return t.byScopes?r.docSet.sequenceItemsByScopes([e],t.byScopes):r.docSet.sequenceItemsByMilestones([e],t.byMilestones)},dump:(e,t,r)=>YJ(r.docSet.unsuccinctifyBlock(e,{},null)),scopeLabels:(e,t,r)=>[...r.docSet.unsuccinctifyBlockScopeLabelsSet(e)].filter(n=>!t.startsWith||Kz(t.startsWith,n))},f7=(e,t,r)=>{let n=[t.map(u=>[Ae.enums.enumStringIndex(e.enums.wordLike,u)])];return r?n=n[0]:n=n.map(u=>u.reduce((s,o)=>s.concat(o))),n},d7=(e,t,r)=>{let n=[t.map(u=>Ae.enums.enumRegexIndexTuples(e.enums.wordLike,u).map(s=>s[0]))];return r?n=n[0]:n=n.map(u=>u.reduce((s,o)=>s.concat(o))),n},D7=(e,t,r)=>{if(r&&t.filter(n=>n.length===0).length>0||(t=t.filter(n=>n.length>0),t.length===0))return!1;for(const n of t){let u=!1;for(const s of n)if(s>=0&&e.tokensPresent.get(s)>0){u=!0;break}if(r&&!u)return!1;if(!r&&u)return!0}return r},V2=(e,t,r,n)=>{let u=f7(e,r,n);return D7(t,u,n)},H2=(e,t,r,n)=>{let u=d7(e,r,n);return D7(t,u,n)},Zz={tokens:!1,scopes:!0,grafts:!1,requiredScopes:[]},Qz=(e,t,r,n,u)=>{let s=new Set([]);for(const o of e.unsuccinctifyPrunedItems(t,Zz,!1)){const[a,i,c,l,p,f]=o[2].split("/");for(const[d,h]of r.entries()){for(const E of h)if(i===E.attType&&c===E.tagName&&l===E.attKey&&parseInt(p)===E.valueN&&n[d].includes(f)){if(!u)return!0;s.add(d);break}if(s.size===r.length)return!0}}return!1},eK=`
"""A contiguous flow of content"""
type Sequence {
  """The id of the sequence"""
  id: String!
  """The type of the sequence (main, heading...)"""
  type: String!
  """The number of blocks in the sequence"""
  nBlocks: Int!
  """The blocks in the sequence"""
  blocks(
    """Only return blocks where the list of scopes is open"""
    withScopes: [String!]
    """Only return blocks whose zero-indexed position is in the list"""
    positions: [Int!]
    """Only return blocks with the specified block scope (eg 'blockScope/p'"""
    withBlockScope: String
    """Only return blocks that contain items within the specified chapter, verse or chapterVerse range"""
    withScriptureCV: String
    """Ordered list of attribute specs whose values must match those in 'attValues'"""
    attSpecs: [[AttSpec!]!]
    """Ordered list of attribute values, used in conjunction with \\'attSpecs\\'"""
    attValues: [[String!]!]
    """If true, blocks where all attSpecs match will be included"""
    allAtts: Boolean
    """Return blocks containing a token whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return blocks containing a token whose payload matches the specified regexes"""
    withMatchingChars: [String!]
    """If true, blocks where all regexes match will be included"""
    allChars: Boolean
  ): [Block!]!
  """The items for each block in the sequence"""
  blocksItems: [[Item!]!]
  """The tokens for each block in the sequence"""
  blocksTokens: [[Item!]!]
  """The text for each block in the sequence"""
  blocksText(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): [String!]
  """The text for the sequence"""
  text(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ) : String!
  """Sequence content grouped by scopes or milestones"""
  itemGroups(
    """Produce one itemGroup for every different match of the list of scopes"""
    byScopes: [String!]
    """Start a new itemGroup whenever a milestone in the list is encountered"""
    byMilestones: [String!]
  ) : [ItemGroup!]!
  """A list of the tags of this sequence"""
  tags: [String!]!
  """A list of the tags of this sequence as key/value tuples"""
  tagsKv: [KeyValue!]!
  """Whether or not the sequence has the specified tag"""
  hasTag(
    """The specified tag"""
    tagName: String!
  ): Boolean!
  """A list of wordLike token strings in a main sequence"""
  wordLikes(
    """Whether to coerce the strings (toLower|toUpper|none)"""
    coerceCase: String
  ) : [String!]!
  """Returns true if a main sequence contains the specified tokens"""
  hasChars(
    """Token strings to be matched exactly"""
    chars: [String!]
    """If true all tokens must match"""
    allChars: Boolean
  ): Boolean!
  """Returns true if a main sequence contains a match for specified regexes"""
  hasMatchingChars(
    """Regexes to be matched"""
    chars: [String!]
    """If true all regexes must match"""
    allChars: Boolean
  ): Boolean!
}
`,tK={nBlocks:e=>e.blocks.length,blocks:(e,t,r)=>{if(r.docSet.maybeBuildEnumIndexes(),t.withScopes&&t.withScriptureCV)throw new Error("Cannot specify both withScopes and withScriptureCV");if(t.attSpecs&&!t.attValues)throw new Error("Cannot specify attSpecs without attValues");if(!t.attSpecs&&t.attValues)throw new Error("Cannot specify attValues without attSpecs");if(t.attSpecs&&t.attValues&&t.attSpecs.length!==t.attValues.length)throw new Error("attSpecs and attValues must be same length");if(t.withChars&&t.withMatchingChars)throw new Error("Cannot specify both withChars and withMatchingChars");let n=e.blocks;if(t.positions&&(n=Array.from(n.entries()).filter(u=>t.positions.includes(u[0])).map(u=>u[1])),t.withScopes&&(n=n.filter(u=>r.docSet.allScopesInBlock(u,t.withScopes))),t.withScriptureCV&&(n=r.docSet.blocksWithScriptureCV(n,t.withScriptureCV)),t.attSpecs&&(n=n.filter(u=>Qz(r.docSet,u,t.attSpecs,t.attValues,t.allAtts||!1))),t.withBlockScope&&(n=n.filter(u=>r.docSet.blockHasBlockScope(u,t.withBlockScope))),t.withChars){if(e.type==="main"&&!V2(r.docSet,e,t.withChars,t.allChars))return[];let u=f7(r.docSet,t.withChars,t.allChars);for(const s of u)n=n.filter(o=>r.docSet.blockHasChars(o,s))}if(t.withMatchingChars){if(e.type==="main"&&!H2(r.docSet,e,t.withMatchingChars,t.allChars))return[];let u=d7(r.docSet,t.withMatchingChars,t.allChars);for(const s of u)n=n.filter(o=>r.docSet.blockHasChars(o,s))}return n},blocksItems:(e,t,r)=>e.blocks.map(n=>r.docSet.unsuccinctifyItems(n.c,{},null)),blocksTokens:(e,t,r)=>e.blocks.map(n=>r.docSet.unsuccinctifyItems(n.c,{tokens:!0},null)),blocksText:(e,t,r)=>e.blocks.map(n=>{let u=r.docSet.unsuccinctifyItems(n.c,{tokens:!0},null).map(s=>s[2]).join("");return t.normalizeSpace&&(u=u.replace(/[ \t\n\r]+/g," ")),u}),text:(e,t,r)=>{let n=e.blocks.map(u=>r.docSet.unsuccinctifyItems(u.c,{tokens:!0},null).map(s=>s[2]).join("")).join(`
`);return t.normalizeSpace&&(n=n.replace(/[ \t\n\r]+/g," ")),n},itemGroups:(e,t,r)=>{if(t.byScopes&&t.byMilestones)throw new Error("Cannot specify both byScopes and byMilestones");if(!t.byScopes&&!t.byMilestones)throw new Error("Must specify either byScopes or byMilestones");return t.byScopes?r.docSet.sequenceItemsByScopes(e.blocks,t.byScopes):r.docSet.sequenceItemsByMilestones(e.blocks,t.byMilestones)},tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map(t=>t.includes(":")?[t.substring(0,t.indexOf(":")),t.substring(t.indexOf(":")+1)]:[t,""]),hasTag:(e,t)=>e.tags.has(t.tagName),wordLikes:(e,t,r)=>{if(e.type!=="main")throw new Error(`Only available for the main sequence, not ${e.type}`);if(t.coerceCase&&!["toLower","toUpper","none"].includes(t.coerceCase))throw new Error(`coerceCase, when present, must be 'toLower', 'toUpper' or 'none', not '${t.coerceCase}'`);r.docSet.maybeBuildEnumIndexes();let n=new Set,u=0;for(const s of e.tokensPresent){if(s){const o=r.docSet.enumIndexes.wordLike[u];let a=r.docSet.enums.wordLike.countedString(o);t.coerceCase==="toLower"&&(a=a.toLowerCase()),t.coerceCase==="toUpper"&&(a=a.toUpperCase()),n.add(a)}u++}return Array.from(n).sort()},hasChars:(e,t,r)=>{if(e.type!=="main")throw new Error(`Only available for the main sequence, not ${e.type}`);return V2(r.docSet,e,t.chars,t.allChars||!1)},hasMatchingChars:(e,t,r)=>{if(e.type!=="main")throw new Error(`Only available for the main sequence, not ${e.type}`);return H2(r.docSet,e,t.chars,t.allChars)}},h7=(e,t)=>{let r=e;for(const n of t)n[0]==="scope"&&(n[1]==="start"?r.filter(s=>s===n[2]).length===0&&r.push(n[2]):r=r.filter(u=>u!==n[2]));return r},rK=(e,t,r,n,u)=>{const s=e.chapterIndex(n);if(s){const o=r.blocks[s.startBlock];return o?[[h7(t.docSet.unsuccinctifyScopes(o.os).map(a=>a[2]),t.docSet.unsuccinctifyItems(o.c,{},0,[]).slice(0,s.startItem+1).filter(a=>a[0]==="scope")),t.docSet.itemsByIndex(r,s,u||!1).reduce((a,i)=>a.concat([["token","lineSpace"," "]].concat(i)))]]:[]}else return[]},nK=(e,t,r,n,u,s,o,a)=>{let i=t.docSet,c=e.headers.bookCode,l=u.map(E=>[parseInt(n),parseInt(E)]);if(o){const E=e.processor.docSets[a];if(E&&(i=E),"forward"in r.verseMapping&&n in r.verseMapping.forward){let m=[];for(const F of u)m.push(Ae.versification.mapVerse(r.verseMapping.forward[n],e.headers.bookCode,n,F));const y=m[0];c=y[0],l=y[1]}const A=i.documentWithBook(c);if(A){const m=A.sequences[A.mainId];if(m.verseMapping&&"reversed"in m.verseMapping){const y=[];for(const[F,B]of l)`${F}`in m.verseMapping.reversed?y.push(Ae.versification.mapVerse(m.verseMapping.reversed[`${F}`],c,F,B)):y.push([c,[[F,B]]]),c=y[0][0],l=y.map(P=>P[1]).reduce((P,$)=>P.concat($))}}}const p={},f=i.documentWithBook(c);if(!f)return[];const d=f.sequences[f.mainId];for(const E of l.map(A=>A[0]))E in p||(p[E]=f.chapterVerseIndex(E));const h=[];for(const[E,A]of l)if(p[E]){let m=[],y=0,F=0;if(p[E][A]){for(const P of p[E][A])y||(y=P.startBlock,F=P.startItem),m=m.concat(i.itemsByIndex(d,P,s||null).reduce(($,I)=>$.concat([["token","lineSpace"," "]].concat(I))));const B=d.blocks[y];h.push(B?[h7(i.unsuccinctifyScopes(B.os).map(P=>P[2]),i.unsuccinctifyItems(B.c,{},0,[]).slice(0,F+1).filter(P=>P[0]==="scope")),m]:[])}}return h},m7=(e,t)=>t.length===0?!1:e.includes(`chapter/${t[0][0]}`)&&(!t[0][1]||e.filter(r=>r.startsWith("verse/")&&parseInt(r.split("/")[1])>=t[0][1]).length>0)&&(!t[0][2]||e.filter(r=>r.startsWith("verse/")&&parseInt(r.split("/")[1])<=t[0][2]).length>0)?!0:m7(e,t.slice(1)),zc=(e,t,r,n,u,s)=>{const[o,a]=n.split(":").map(f=>parseInt(f)),[i,c]=u.split(":").map(f=>parseInt(f));if(i<o)throw new Error(`cv chapterVerses requires fromChapter <= toChapter, not ${o} to ${i}`);const l=[];let p=o;for(;p<=i;)l.push([p,p===o?a:null,p===i?c:null]),p++;return t.docSet.sequenceItemsByScopes(r.blocks,["chapter/","verse/"],s).filter(f=>m7(f[0],l))},uK=(e,t,r,n,u,s)=>{if(t.chapter&&!t.verses)return rK(e,r,n,t.chapter,t.includeContext);if(t.verses)return nK(e,r,n,t.chapter,t.verses,t.includeContext,u,s);throw new Error("Unexpected args to do_cv_separate_args")},sK=(e,t,r,n)=>{if(ne.test(t.chapterVerses,ne("^[0-9]+:[0-9]+-[0-9]+:[0-9]+$"))){const[u,s]=t.chapterVerses.split("-");return zc(e,r,n,u,s,t.includeContext)}else if(ne.test(t.chapterVerses,ne("^[0-9]+:[0-9]+-[0-9]+$"))){const[u,s]=t.chapterVerses.split(":"),[o,a]=s.split("-");return zc(e,r,n,`${u}:${o}`,`${u}:${a}`,t.includeContext)}else if(ne.test(t.chapterVerses,ne("^[0-9]+:[0-9]+$"))){const[u,s]=t.chapterVerses.split(":");return zc(e,r,n,`${u}:${s}`,`${u}:${s}`,t.includeContext)}else if(ne.test(t.chapterVerses,ne("^[0-9]+$"))){const u=t.chapterVerses,s=e.chapterVerseIndex(u);if(!s)throw new Error(`No chapter ${u} found`);const o=s.map((a,i)=>[i,a]).filter(a=>a[1].length>0).map(a=>a[0]);return zc(e,r,n,`${u}:${Math.min(o)}`,`${u}:${Math.max(o)}`,t.includeContext)}else throw new Error(`Could not parse chapterVerses string '${t.chapterVerses}'`)},Ed=(e,t,r,n,u)=>{r.docSet=e.processor.docSets[e.docSetId];const s=e.sequences[e.mainId];if(!t.chapter&&!t.chapterVerses)throw new Error("Must specify either chapter or chapterVerses for cv");if(t.chapter&&t.chapterVerses)throw new Error("Must not specify both chapter and chapterVerses for cv");if(t.chapterVerses&&t.verses)throw new Error("Must not specify both chapterVerses and verses for cv");return t.chapter?uK(e,t,r,s,n,u):sK(e,t,r,s)},Wy=(e,t)=>t in e.headers?e.headers[t]:null,oK=`
"""A document, typically corresponding to USFM for one book"""
type Document {
  """The id of the document"""
  id: String!
  """A parsed version of the id header"""
  idParts: idParts!
  """The id of the docSet to which this document belongs"""
  docSetId: String!
  """USFM header information such as TOC"""
  headers: [KeyValue!]!
  """One USFM header"""
  header(
    """The header id, corresponding to the tag name minus any trailing '1'"""
    id: String!
  ): String
  """The main sequence"""
  mainSequence: Sequence!
  """The number of sequences"""
  nSequences: Int!
  """A list of sequences for this document"""
  sequences(
    """ids of sequences to include, if found"""
    ids: [String!]
    """types of sequences to include, if found"""
    types: [String!]
    """Only return sequences with all the specified tags"""
    withTags: [String!]
    """Only return sequences with none of the specified tags"""
    withoutTags: [String!]
  ): [Sequence!]!
  """A list of table sequences for this document"""
  tableSequences(
    """ids of sequences to include, if found"""
    ids: [String!]
    """Only return sequences with all the specified tags"""
    withTags: [String!]
    """Only return sequences with none of the specified tags"""
    withoutTags: [String!]
  ): [tableSequence!]!
  """A list of tree sequences for this document"""
  treeSequences(
    """ids of sequences to include, if found"""
    ids: [String!]
    """Only return sequences with all the specified tags"""
    withTags: [String!]
    """Only return sequences with none of the specified tags"""
    withoutTags: [String!]
  ): [treeSequence!]!
  """A list of key-value sequences for this document"""
  kvSequences(
    """ids of sequences to include, if found"""
    ids: [String!]
    """Only return sequences with all the specified tags"""
    withTags: [String!]
    """Only return sequences with none of the specified tags"""
    withoutTags: [String!]
  ): [kvSequence!]!
  """A list of text (ie non-table, non-tree, non-kv) sequences for this document"""
  textSequences(
    """ids of sequences to include, if found"""
    ids: [String!]
    """Only return sequences with all the specified tags"""
    withTags: [String!]
    """Only return sequences with none of the specified tags"""
    withoutTags: [String!]
  ): [Sequence!]!
  """The sequence with the specified id"""
  sequence(
    """id of the sequence"""
    id: String!
  ): Sequence
  """The table sequence with the specified id"""
  tableSequence(
    """id of the sequence"""
    id: String!
  ): tableSequence
  """The tree sequence with the specified id"""
  treeSequence(
    """id of the sequence"""
    id: String!
  ): treeSequence
  """The key-value sequence with the specified id"""
  kvSequence(
    """id of the sequence"""
    id: String!
  ): kvSequence
  """The blocks of the main sequence"""
  mainBlocks: [Block!]!
  """The items for each block of the main sequence"""
  mainBlocksItems: [[Item!]!]!
  """The tokens for each block of the main sequence"""
  mainBlocksTokens: [[Item!]!]!
  """The text for each block of the main sequence"""
  mainBlocksText(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): [String!]!
  """The text for the main sequence"""
  mainText(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
  """A list of the tags of this document"""
  tags: [String!]!
  """A list of the tags of this document as key/value tuples"""
  tagsKv: [KeyValue!]!
  """'Whether or not the document has the specified tag"""
  hasTag(
    tagName: String!
  ): Boolean!
  """Content for a Scripture reference within this document, using local versification"""
  cv(
    """The chapter number (as a string)"""
    chapter: String
    """'A list of verse numbers (as strings)"""
    verses: [String!]
    """A chapterVerse Reference (ch:v-ch:v)"""
    chapterVerses: String
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [ItemGroup!]!
  """Content for a Scripture reference within this document, using the versification of the specified docSet"""
  mappedCv(
    """The chapter number (as a string)"""
    chapter: String!
    """The id of the mapped docSet"""
    mappedDocSetId: String!
    """A list of verse numbers (as strings)"""
    verses: [String!]!
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [ItemGroup!]!
  """Content for each verse of a chapter within this document, using the versification of the specified docSet"""
  mappedCvs(
    """The chapter number (as a string)"""
    chapter: String!
    """The id of the mapped docSet"""
    mappedDocSetId: String!
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [[ItemGroup!]!]!
  """What's previous and next with respect to the specified verse"""
  cvNavigation(
    """The chapter number (as a string)"""
    chapter: String!
    """A verse number (as a string)"""
    verse: String!
  ): cvNavigation
  """The content of the main sequence indexed by chapterVerse"""
  cvIndexes: [cvIndex]!
  """The content of the specified chapter indexed by chapterVerse"""
  cvIndex(
    """The chapter number"""
    chapter: Int!
  ): cvIndex!
  """The content of the main sequence indexed by chapter"""
  cIndexes: [cIndex]!
  """The content of a chapter"""
  cIndex(
    """'The chapter number"""
    chapter: Int!
  ): cIndex!
  """Verses matching the arguments"""
  cvMatching(
    """Return verses containing a token whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return verses containing a token whose payload matches the specified regexes"""
    withMatchingChars: [String!]
    """Only return blocks where the list of scopes is open"""
    withScopes: [String!]
    """If true, verses where all regexes match will be included"""
    allChars: Boolean
    """If true, verses where all scopes match will be included"""
    allScopes: Boolean
  ): [ItemGroup!]!
  """A string of PERF JSON for this document"""
  perf(
    """Format JSON string with this indent"""
    indent: Int
  ): String! 
  """A string of USFM for this document"""
  usfm: String! 
  """A string of SOFRIA JSON for this document"""
  sofria(
    """Format JSON string with this indent"""
    indent: Int
    """Return SOFRIA for this chapter only"""
    chapter: Int
  ): String! 
}
`,aK={idParts:e=>{const t=Wy(e,"id");if(!t)return[null,null];const r=ne.exec(t,/^(P\d\d)\s+([A-Z0-6]{3})\s+(\S+)\s+-\s+(.*)/);if(r)return["periph",r.slice(1)];const n=ne.exec(t,/^([A-Z0-6]{3})\s+(.*)/);return n?["book",n.slice(1)]:[null,[t]]},headers:e=>Object.entries(e.headers),header:(e,t)=>Wy(e,t.id),mainSequence:(e,t,r)=>(r.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId]),nSequences:(e,t,r)=>(r.docSet=e.processor.docSets[e.docSetId],Object.keys(e.sequences).length),sequences:(e,t,r)=>{r.docSet=e.processor.docSets[e.docSetId];let n=Object.values(e.sequences);return t.ids&&(n=n.filter(u=>t.ids.includes(u.id))),t.types&&(n=n.filter(u=>t.types.includes(u.type))),t.withTags&&(n=n.filter(u=>t.withTags.filter(s=>u.tags.has(s)).length===t.withTags.length)),t.withoutTags&&(n=n.filter(u=>t.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},tableSequences:(e,t,r)=>{r.docSet=e.processor.docSets[e.docSetId];let n=Object.values(e.sequences);return n=n.filter(u=>u.type==="table"),t.ids&&(n=n.filter(u=>t.ids.includes(u.id))),t.withTags&&(n=n.filter(u=>t.withTags.filter(s=>u.tags.has(s)).length===t.withTags.length)),t.withoutTags&&(n=n.filter(u=>t.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},treeSequences:(e,t,r)=>{r.docSet=e.processor.docSets[e.docSetId];let n=Object.values(e.sequences);return n=n.filter(u=>u.type==="tree"),t.ids&&(n=n.filter(u=>t.ids.includes(u.id))),t.withTags&&(n=n.filter(u=>t.withTags.filter(s=>u.tags.has(s)).length===t.withTags.length)),t.withoutTags&&(n=n.filter(u=>t.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},kvSequences:(e,t,r)=>{r.docSet=e.processor.docSets[e.docSetId];let n=Object.values(e.sequences);return n=n.filter(u=>u.type==="kv"),t.ids&&(n=n.filter(u=>t.ids.includes(u.id))),t.withTags&&(n=n.filter(u=>t.withTags.filter(s=>u.tags.has(s)).length===t.withTags.length)),t.withoutTags&&(n=n.filter(u=>t.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},textSequences:(e,t,r)=>{r.docSet=e.processor.docSets[e.docSetId];let n=Object.values(e.sequences);return n=n.filter(u=>u.type!=="tree"&&u.type!=="table"&&u.type!=="kv"),t.ids&&(n=n.filter(u=>t.ids.includes(u.id))),t.withTags&&(n=n.filter(u=>t.withTags.filter(s=>u.tags.has(s)).length===t.withTags.length)),t.withoutTags&&(n=n.filter(u=>t.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},sequence:(e,t,r)=>{r.docSet=e.processor.docSets[e.docSetId];let n=Object.values(e.sequences);return n=n.filter(u=>t.id.includes(u.id)),n[0]||null},tableSequence:(e,t,r)=>{r.docSet=e.processor.docSets[e.docSetId];let n=Object.values(e.sequences);if(n=n.filter(u=>t.id.includes(u.id)),n[0]&&n[0].type!=="table")throw new Error(`Expected sequence id ${n[0].id} to be of type 'table', not '${n[0].type}'`);return n[0]||null},treeSequence:(e,t,r)=>{r.docSet=e.processor.docSets[e.docSetId];let n=Object.values(e.sequences);if(n=n.filter(u=>t.id.includes(u.id)),n[0]&&n[0].type!=="tree")throw new Error(`Expected sequence id ${n[0].id} to be of type 'tree', not '${n[0].type}'`);return n[0]||null},kvSequence:(e,t,r)=>{r.docSet=e.processor.docSets[e.docSetId];let n=Object.values(e.sequences);if(n=n.filter(u=>t.id.includes(u.id)),n[0]&&n[0].type!=="vk")throw new Error(`Expected sequence id ${n[0].id} to be of type 'kv', not '${n[0].type}'`);return n[0]||null},mainBlocks:(e,t,r)=>(r.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId].blocks),mainBlocksItems:(e,t,r)=>(r.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId].blocks.map(n=>r.docSet.unsuccinctifyItems(n.c,{},null))),mainBlocksTokens:(e,t,r)=>(r.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId].blocks.map(n=>r.docSet.unsuccinctifyItems(n.c,{tokens:!0},null))),mainBlocksText:(e,t,r)=>(r.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId].blocks.map(n=>{let s=r.docSet.unsuccinctifyItems(n.c,{tokens:!0},null).map(o=>o[2]).join("").trim();return t.normalizeSpace&&(s=s.replace(/[ \t\n\r]+/g," ")),s})),mainText:(e,t,r)=>(r.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId].blocks.map(n=>{let s=r.docSet.unsuccinctifyItems(n.c,{tokens:!0},null).map(o=>o[2]).join("").trim();return t.normalizeSpace&&(s=s.replace(/[ \t\n\r]+/g," ")),s}).join(`
`)),tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map(t=>t.includes(":")?[t.substring(0,t.indexOf(":")),t.substring(t.indexOf(":")+1)]:[t,""]),hasTag:(e,t)=>e.tags.has(t.tagName),cv:(e,t,r)=>Ed(e,t,r,!1),mappedCv:(e,t,r)=>{if(t.verses.length!==1)throw new Error(`mappedCv expects exactly one verse, not ${t.verses.length}`);return Ed(e,t,r,!0,t.mappedDocSetId)},mappedCvs:(e,t,r)=>{const u=e.chapterVerseIndex(t.chapter).filter(o=>o.length>0).map(o=>o[0].verses);let s=[];for(const o of u)s.push(Ed(e,{...t,verses:[o]},r,!0,t.mappedDocSetId).map(a=>[[`fromChapter/${t.chapter}`,`fromVerse/${o}`,...a[0]],a[1]]));return s},cvNavigation:(e,t)=>[t.chapter,t.verse,e.chapterVerseIndex((parseInt(t.chapter)-1).toString()),e.chapterVerseIndex(t.chapter),e.chapterVerseIndex((parseInt(t.chapter)+1).toString())],cvIndexes:(e,t,r)=>(r.docSet=e.processor.docSets[e.docSetId],r.doc=e,Object.entries(e.chapterVerseIndexes())),cvIndex:(e,t,r)=>(r.docSet=e.processor.docSets[e.docSetId],r.doc=e,[t.chapter,e.chapterVerseIndex(t.chapter)||[]]),cIndexes:(e,t,r)=>(r.docSet=e.processor.docSets[e.docSetId],r.doc=e,Object.entries(e.chapterIndexes())),cIndex:(e,t,r)=>{r.docSet=e.processor.docSets[e.docSetId],r.doc=e;const n=e.chapterIndex(t.chapter);return[t.chapter,n||{}]},cvMatching:(e,t,r)=>{if(!t.withChars&&!t.withMatchingChars&&!t.withScopes)throw new Error("Must specify at least one of withChars or withMatchingChars or withScopes");if(t.withChars&&t.withMatchingChars)throw new Error("Must not specify both withChars and withMatchingChars");r.docSet=e.processor.docSets[e.docSetId];let n;t.withChars&&t.allChars?n=t.withChars.map(i=>ne(`^${i}$`)):t.withChars?n=[ne.union(t.withChars.map(i=>ne(`^${i}$`,"i")))]:t.withMatchingChars&&t.allChars?n=t.withMatchingChars.map(i=>ne(i,"i")):t.withMatchingChars&&(n=[ne.union(t.withMatchingChars.map(i=>ne(i,"i")))]);const u=i=>{for(const c of t.withScopes||[])if(!i.includes(c))return!1;return!0},s=i=>{const c=t.withScopes||[];for(const l of c)if(i.includes(l))return!0;return c.length===0},o=i=>{for(const c of n||[]){let l=!1;for(const p of i)if(ne.test(p[2],c)){l=!0;break}if(!l)return!1}return!0};return r.docSet.sequenceItemsByScopes(e.sequences[e.mainId].blocks,["chapter/","verses/"]).filter(i=>(t.allScopes?u:s)(i[1].filter(c=>c[0]==="scope"&&c[1]==="start").map(c=>c[2]))&&o(i[1]))},perf:(e,t)=>e.perf(t.indent),usfm:e=>e.usfm(),sofria:(e,t)=>e.sofria(t.indent,t.chapter)},iK=(e,t)=>{const r=e.headers.bookCode||"GEN",n=t.headers.bookCode||"GEN",u=Ae.canons.ptBooks[r]?Ae.canons.ptBooks[r].position:999,s=Ae.canons.ptBooks[n]?Ae.canons.ptBooks[n].position:999;return u-s},cK=(e,t)=>{const r=e.headers.bookCode||"GEN",n=t.headers.bookCode||"GEN";return r.localeCompare(n)},lK=(e,t)=>{const r=[1,2,3,4,5,6];let n=e.headers.bookCode||"GEN";r.includes(n[0])&&(n=n.substring(1)+n[0]);let u=t.headers.bookCode||"GEN";return r.includes(u[0])&&(u=u.substring(1)+u[0]),n.localeCompare(u)},us={paratext:iK,alpha:cK,alpha2:lK},pK=`
"""A collection of documents that share the same set of selector values"""
type DocSet {
  """The id of the docSet, which is formed by concatenating the docSet's selector values"""
  id: String!
  """The selectors of the docSet"""
  selectors: [KeyValue!]!
  """A selector for this docSet"""
  selector(
    """The id of the selector"""
    id: String!
  ): String!
  """A list of the tags of this docSet"""
  tags: [String!]!
  """A list of the tags of this docSet as key/value tuples"""
  tagsKv: [KeyValue!]!
  """Whether or not the docSet has the specified tag"""
  hasTag(
    """The tag"""
    tagName: String!
  ): Boolean!
  """The documents in the docSet"""
  documents(
    """A whitelist of ids of documents to include"""
    ids: [String!]
    """A whitelist of ids of documents to include"""
    withChars: [String!]
    """Return documents whose main sequence contains a token whose payload is an exact match to one of the specified strings"""
    withMatchingChars: [String!]
    """If true, documents where all search terms match will be included"""
    allChars: Boolean
    """Only return documents where the list of scopes is used"""
    withScopes: [String!]
    """If true, documents where all scopes are found will be included"""
    allScopes: Boolean
    """Only return documents with the specified header key/values"""
    withHeaderValues: [InputKeyValue!]
    """Only return documents with all the specified tags"""
    withTags: [String!]
    """Only return documents with none of the specified tags"""
    withoutTags: [String!]
    """Sort returned documents by the designated method (currently ${Object.keys(us).join(", ")})\`"""
    sortedBy: String
  ): [Document!]!
  """The number of documents in the docSet"""
  nDocuments: Int!
  """A document in the docSet, if present"""
  document(
    """The book code of the required document"""
    bookCode: String!
  ): Document
  """Whether the docSet has versification information loaded"""
  hasMapping: Boolean!
  """The internal index number corresponding to a string in a given docSet enum"""
  enumIndexForString(
    """The enum to be searched"""
    enumType: String!
    """The string to match"""
    searchString: String!
  ): Int!
  """Information about internal indexes matching the case-insensitive regex in a given docSet enum"""
  enumRegexIndexesForString(
    """The enum to be searched"""
    enumType: String!
    """The regex to match"""
    searchRegex: String!
  ): [regexIndex!]!
  """A list of wordLike token strings in the docSet"""
  wordLikes(
    """Whether to coerce the strings (toLower|toUpper|none)"""
    coerceCase: String
  ): [String!]!
  """A list of unique characters in the docSet"""
  uniqueChars: [String!]!
  """A string containing the unique characters in the docSet"""
  uniqueCharsString: String!
  }
`,fK={selectors:e=>Object.entries(e.selectors),selector:(e,t)=>e.selectors[t.id],tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map(t=>t.includes(":")?[t.substring(0,t.indexOf(":")),t.substring(t.indexOf(":")+1)]:[t,""]),hasTag:(e,t)=>e.tags.has(t.tagName),documents:(e,t,r)=>{const n=(s,o)=>{for(const a of o||[])if(!(a.key in s)||s[a.key]!==a.value)return!1;return!0};if(t.withChars&&t.withMatchingChars)throw new Error("Cannot specify both withChars and withMatchingChars");r.docSet=e;let u=e.documents();if(t.ids&&(u=u.filter(s=>t.ids.includes(s.id))),t.withChars&&(u=u.filter(s=>V2(e,s.sequences[s.mainId],t.withChars,t.allChars))),t.withMatchingChars&&(u=u.filter(s=>H2(e,s.sequences[s.mainId],t.withMatchingChars,t.allChars))),t.withScopes){const s=o=>new Set(o.sequences[o.mainId].blocks.map(a=>r.docSet.unsuccinctifyBlockScopeLabelsSet(a)).map(a=>Array.from(a)).reduce((a,i)=>a.concat(i)));u=u.filter(o=>{const a=s(o),i=t.allScopes?t.withScopes.length:1;return t.withScopes.filter(c=>a.has(c)).length>=i})}if(t.withHeaderValues&&(u=u.filter(s=>n(s.headers,t.withHeaderValues))),t.withTags&&(u=u.filter(s=>t.withTags.filter(o=>s.tags.has(o)).length===t.withTags.length)),t.withoutTags&&(u=u.filter(s=>t.withoutTags.filter(o=>s.tags.has(o)).length===0)),t.sortedBy){if(!(t.sortedBy in us))throw new Error(`sortedBy value must be one of [${Object.keys(us)}], not ${t.sortedBy}`);u.sort(us[t.sortedBy])}return u},nDocuments:(e,t,r)=>(r.docSet=e,e.documents().length),document:(e,t)=>e.documentWithBook(t.bookCode),hasMapping:e=>e.tags.has("hasMapping"),enumIndexForString:(e,t)=>Ae.enums.enumStringIndex(e.enums[t.enumType],t.searchString),enumRegexIndexesForString:(e,t)=>Ae.enums.enumRegexIndexTuples(e.enums[t.enumType],t.searchRegex),wordLikes:(e,t)=>{if(t.coerceCase&&!["toLower","toUpper","none"].includes(t.coerceCase))throw new Error(`coerceCase, when present, must be 'toLower', 'toUpper' or 'none', not '${t.coerceCase}'`);let r=Ae.succinct.unpackEnum(e.enums.wordLike);return t.coerceCase==="toLower"&&(r=r.map(n=>n.toLowerCase())),t.coerceCase==="toUpper"&&(r=r.map(n=>n.toUpperCase())),Array.from(new Set(r))},uniqueChars:e=>{const t=new Set([]);for(const r of[...Ae.succinct.unpackEnum(e.enums.wordLike),...Ae.succinct.unpackEnum(e.enums.notWordLike)])for(const n of r.split(""))t.add(n);return Array.from(t).sort()},uniqueCharsString:e=>{const t=new Set([]);for(const r of[...Ae.succinct.unpackEnum(e.enums.wordLike),...Ae.succinct.unpackEnum(e.enums.notWordLike)])for(const n of r.split(""))t.add(n);return Array.from(t).sort().join("")}},dK=`# Versification  "English"
# Version=2.0
#
# modifications by Reinier de Blois 13/March/2012
# modified mappings Psalms by adding verse #0 to the mappings
# many of the subscripts that are part of verses 1,2 in the original text end up as verse #0 in English translations

# modifications by Studge 26/June/2009
# book definitions are for all books printed in any English of Spanish Bible
# this includes books for Protestant, Catholic and Protestant-Catholic-EasternOrthodox Interconfessional editions
#
# This is the versification used by most English (e.g. RSV) and Spanish Bibles (e.g. RVR)
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
#--------------------------------------------------
# Old Testament
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38
LEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:16 13:33 14:45 15:41 16:50 17:13 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:40 30:16 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:42 21:15 22:23 23:29 24:22 25:44 26:25 27:12 28:25 29:11 30:31 31:13
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25
1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:53
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:47 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44
NEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31
EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:30 40:24 41:34 42:17
PSA 1:6 2:12 3:8 4:8 5:12 6:10 7:17 8:9 9:20 10:18 11:7 12:8 13:6 14:7 15:5 16:11 17:15 18:50 19:14 20:9 21:13 22:31 23:6 24:10 25:22 26:12 27:14 28:9 29:11 30:12 31:24 32:11 33:22 34:22 35:28 36:12 37:40 38:22 39:13 40:17 41:13 42:11 43:5 44:26 45:17 46:11 47:9 48:14 49:20 50:23 51:19 52:9 53:6 54:7 55:23 56:13 57:11 58:11 59:17 60:12 61:8 62:12 63:11 64:10 65:13 66:20 67:7 68:35 69:36 70:5 71:24 72:20 73:28 74:23 75:10 76:12 77:20 78:72 79:13 80:19 81:16 82:8 83:18 84:12 85:13 86:17 87:7 88:18 89:52 90:17 91:16 92:15 93:5 94:23 95:11 96:13 97:12 98:9 99:9 100:5 101:8 102:28 103:22 104:35 105:45 106:48 107:43 108:13 109:31 110:7 111:10 112:10 113:9 114:8 115:18 116:19 117:2 118:29 119:176 120:7 121:8 122:9 123:4 124:8 125:5 126:6 127:5 128:6 129:8 130:8 131:3 132:18 133:3 134:3 135:21 136:26 137:9 138:8 139:24 140:13 141:10 142:7 143:12 144:15 145:21 146:10 147:20 148:14 149:9 150:6
PRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:16 5:20 6:12 7:29 8:17 9:18 10:20 11:10 12:14
SNG 1:17 2:17 3:11 4:16 5:16 6:13 7:13 8:14
ISA 1:31 2:22 3:26 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
DAN 1:21 2:49 3:30 4:37 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13
HOS 1:11 2:23 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:16 14:9
JOL 1:20 2:32 3:21
AMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15
OBA 1:21
JON 1:17 2:10 3:10 4:11
MIC 1:16 2:13 3:12 4:13 5:15 6:16 7:20
NAM 1:15 2:13 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:15 2:23
ZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:18 4:6
#-----------------------------------------------
# New Testament
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:41 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
#2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:14
# Note sometimes 2CO 13 has 14 verses e.g. KJV. but 13 verses in modern translations
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:14
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
# sometimes called the Apocalypse
#---------------------------------------------------------
# Deuterocanonical books
TOB 1:22 2:14 3:17 4:21 5:21 6:17 7:18 8:21 9:6 10:13 11:19 12:22 13:18 14:15
JDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:13 16:25
#-----------------------
# This is the definition for "Additions to Daniel" as in the KJV [Studge]
# ESG 1:13 2:12 3:6 4:18 5:19 6:16 7:24
# more commonly UBS Bibles have ESG which is the full Esther Greek for modern Bibles e.g. RSV, CEV, GNB etc
ESG 1:39 2:23 3:22 4:47 5:28 6:14 7:10 8:39 9:32 10:13
#-----------------------
WIS 1:16 2:24 3:19 4:20 5:23 6:25 7:30 8:21 9:18 10:21 11:26 12:27 13:19 14:31 15:19 16:29 17:21 18:25 19:22
SIR 1:30 2:18 3:31 4:31 5:15 6:37 7:36 8:19 9:18 10:31 11:34 12:18 13:26 14:27 15:20 16:30 17:32 18:33 19:30 20:32 21:28 22:27 23:27 24:34 25:26 26:29 27:30 28:26 29:28 30:25 31:31 32:24 33:31 34:26 35:20 36:26 37:31 38:34 39:35 40:30 41:23 42:25 43:33 44:23 45:26 46:20 47:25 48:25 49:16 50:29 51:30
#
# In English Bibles Baruch sometimes has 5 chapters and sometimes 6 in Catholic Bibles [Studge]
BAR 1:21 2:35 3:37 4:37 5:9 6:73
#
LJE 1:73
S3Y 1:68
SUS 1:64
BEL 1:42
1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24
2MA 1:36 2:32 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39
#-----------------------------------------------------
# Additional Orthodox Books in Interconfessional Bibles e.g. RSV, NRSV
3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23
4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24
1ES 1:58 2:30 3:24 4:63 5:73 6:34 7:15 8:96 9:55
2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:140 8:63 9:47 10:59 11:46 12:51 13:58 14:48 15:63 16:78
MAN 1:15
PS2 1:7
#-----------------------------------------------------
# ODA and PSS are only used in LXX and SYR projects and are not needed here
# ODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46
# PSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12
#-----------------------------------------------------
# Obselete books used for LXX variant texts, in LXX only in PT 6, and obselete in PT 7, not used in English, Spanish or any other Bibles.  If these codes were used they were used for the wrong books and these definitions were not relevant
JSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
TBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
SST 1:64
DNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
BLT 1:42
#------------------------------------------------------
# Daniel Greek used in some English Catholic Bibles
DAG 1:21 2:49 3:97 4:37 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:64 14:42
# Letter to the Laodiceans which was in the John Wycliffe Bible
LAO 1:20
#
#-----------------------------------------------------
# Mapping
#-----------------------------------------------------
# English = BHS (see org.vrs)
#
# (Note: ranges must not span a chapter, e.g. 4:10-5:11 is illegal)
#
GEN 31:55 = GEN 32:1
GEN 32:1-32 = GEN 32:2-33
EXO 8:1-4 = EXO 7:26-29
EXO 8:5-32 = EXO 8:1-28
EXO 22:1 = EXO 21:37
EXO 22:2-31 = EXO 22:1-30
LEV 6:1-7 = LEV 5:20-26
LEV 6:8-30 = LEV 6:1-23
NUM 16:36-50 = NUM 17:1-15
NUM 17:1-13 = NUM 17:16-28
# NUM 26:1a = NUM 25:19b  # no support for splits yet
# NUM 26:1b = NUM 26:1  # no support for splits yet
NUM 29:40 = NUM 30:1
NUM 30:1-16 = NUM 30:2-17
DEU 12:32 = DEU 13:1
DEU 13:1-18 = DEU 13:2-19
DEU 22:30 = DEU 23:1
DEU 23:1-25 = DEU 23:2-26
DEU 29:1 = DEU 28:69
DEU 29:2-29 = DEU 29:1-28
#
# removed see PTSIL-113
#1SA 20:42 = 1SA 20:41
#
1SA 20:42 = 1SA 21:1
1SA 21:1-15 = 1SA 21:2-16
1SA 23:29 = 1SA 24:1
1SA 24:1-22 = 1SA 24:2-23
2SA 18:33 = 2SA 19:1
2SA 19:1-43 = 2SA 19:2-44
1KI 4:21-34 = 1KI 5:1-14
1KI 5:1-18 = 1KI 5:15-32
# 1KI 18:33a = 1KI 18:33  # no support for splits yet
# 1KI 18:33b = 1KI 18:34  # no support for splits yet
# 1KI 22:43a = 1KI 22:43b  # no support for splits yet
1KI 22:43-53 = 1KI 22:44-54
2KI 11:21 = 2KI 12:1
2KI 12:1-21 = 2KI 12:2-22
1CH 6:1-15 = 1CH 5:27-41
1CH 6:16-81 = 1CH 6:1-66
# 1CH 12:4b = 1CH 12:4  # no support for splits yet
1CH 12:4-40 = 1CH 12:5-41
2CH 2:1 = 2CH 1:18
2CH 2:2-18 = 2CH 2:1-17
2CH 14:1 = 2CH 13:23
2CH 14:2-15 = 2CH 14:1-14
NEH 4:1-6 = NEH 3:33-38
NEH 4:7-23 = NEH 4:1-17
NEH 7:69-73 = NEH 7:68-72
NEH 9:38 = NEH 10:1
NEH 10:1-39 = NEH 10:2-40
JOB 41:1-8 = JOB 40:25-32
JOB 41:9-34 = JOB 41:1-26
PSA 3:0-8 = PSA 3:1-9
PSA 4:0-8 = PSA 4:1-9
PSA 5:0-12 = PSA 5:1-13
PSA 6:0-10 = PSA 6:1-11
PSA 7:0-17 = PSA 7:1-18
PSA 8:0-9 = PSA 8:1-10
PSA 9:0-20 = PSA 9:1-21
PSA 12:0-8 = PSA 12:1-9
PSA 13:0-5 = PSA 13:1-6
PSA 18:0-50 = PSA 18:1-51
PSA 19:0-14 = PSA 19:1-15
PSA 20:0-9 = PSA 20:1-10
PSA 21:0-13 = PSA 21:1-14
PSA 22:0-31 = PSA 22:1-32
PSA 30:0-12 = PSA 30:1-13
PSA 31:0-24 = PSA 31:1-25
PSA 34:0-22 = PSA 34:1-23
PSA 36:0-12 = PSA 36:1-13
PSA 38:0-22 = PSA 38:1-23
PSA 39:0-13 = PSA 39:1-14
PSA 40:0-17 = PSA 40:1-18
PSA 41:0-13 = PSA 41:1-14
PSA 42:0-11 = PSA 42:1-12
PSA 44:0-26 = PSA 44:1-27
PSA 45:0-17 = PSA 45:1-18
PSA 46:0-11 = PSA 46:1-12
PSA 47:0-9 = PSA 47:1-10
PSA 48:0-14 = PSA 48:1-15
PSA 49:0-20 = PSA 49:1-21
PSA 51:0 = PSA 51:1
PSA 51:0 = PSA 51:2
PSA 51:1-19 = PSA 51:3-21
PSA 52:0 = PSA 52:1
PSA 52:0 = PSA 52:2
PSA 52:1-9 = PSA 52:3-11
PSA 53:0-6 = PSA 53:1-7
PSA 54:0 = PSA 54:1
PSA 54:0 = PSA 54:2
PSA 54:1-7 = PSA 54:3-9
PSA 55:0-23 = PSA 55:1-24
PSA 56:0-13 = PSA 56:1-14
PSA 57:0-11 = PSA 57:1-12
PSA 58:0-11 = PSA 58:1-12
PSA 59:0-17 = PSA 59:1-18
PSA 60:0 = PSA 60:1
PSA 60:0 = PSA 60:2
PSA 60:1-12 = PSA 60:3-14
PSA 61:0-8 = PSA 61:1-9
PSA 62:0-12 = PSA 62:1-13
PSA 63:0-11 = PSA 63:1-12
PSA 64:0-10 = PSA 64:1-11
PSA 65:0-13 = PSA 65:1-14
PSA 67:0-7 = PSA 67:1-8
PSA 68:0-35 = PSA 68:1-36
PSA 69:0-36 = PSA 69:1-37
PSA 70:0-5 = PSA 70:1-6
PSA 75:0-10 = PSA 75:1-11
PSA 76:0-12 = PSA 76:1-13
PSA 77:0-20 = PSA 77:1-21
PSA 80:0-19 = PSA 80:1-20
PSA 81:0-16 = PSA 81:1-17
PSA 83:0-18 = PSA 83:1-19
PSA 84:0-12 = PSA 84:1-13
PSA 85:0-13 = PSA 85:1-14
PSA 88:0-18 = PSA 88:1-19
PSA 89:0-52 = PSA 89:1-53
PSA 92:0-15 = PSA 92:1-16
PSA 102:0-28 = PSA 102:1-29
PSA 108:0-13 = PSA 108:1-14
PSA 140:0-13 = PSA 140:1-14
PSA 142:0-7 = PSA 142:1-8
ECC 5:1 = ECC 4:17
ECC 5:2-20 = ECC 5:1-19
SNG 6:13 = SNG 7:1
SNG 7:1-13 = SNG 7:2-14
ISA 9:1 = ISA 8:23
ISA 9:2-21 = ISA 9:1-20
ISA 64:2-12 = ISA 64:1-11
JER 9:1 = JER 8:23
JER 9:2-26 = JER 9:1-25
EZK 20:45-46 = EZK 21:1-2
EZK 20:47 = EZK 21:3
EZK 20:48-49 = EZK 21:4-5
EZK 21:1-32 = EZK 21:6-37
DAN 4:1-3 = DAN 3:31-33
DAN 4:4-37 = DAN 4:1-34
DAN 5:31 = DAN 6:1
DAN 6:1-28 = DAN 6:2-29
HOS 1:10-11 = HOS 2:1-2
HOS 2:1-23 = HOS 2:3-25
HOS 11:12 = HOS 12:1
HOS 12:1-14 = HOS 12:2-15
HOS 13:16 = HOS 14:1
HOS 14:1-9 = HOS 14:2-10
JOL 2:28-32 = JOL 3:1-5
JOL 3:1-21 = JOL 4:1-21
JON 1:17 = JON 2:1
JON 2:1-10 = JON 2:2-11
MIC 5:1 = MIC 4:14
MIC 5:2-15 = MIC 5:1-14
NAM 1:15 = NAM 2:1
NAM 2:1-13 = NAM 2:2-14
ZEC 1:18-21 = ZEC 2:1-4
ZEC 2:1-13 = ZEC 2:5-17
MAL 4:1-6 = MAL 3:19-24
# 40 + 41 -> 40 (per Peter Kirk)
#! &ACT 19:40-41 = ACT 19:40
#
#---------------------------------
# map Baruch 6 onto Letter of Jeremiah [Studge]
BAR 6:1-73 = LJE 1:1-73
#
#------------------------------
# Susanna
DAG 13:1-63 = SUS 1:1-63
# Bel and the Dragon
DAG 14:1-42 = BEL 1:1-42
#----------------------------------
# Mapping Esther Greek onto LXX Esther Greek
#
# This maps the standard verses generated by Create Book
# to the actual verse numbers and segments found in the LXX
# ESG chapter 1
ESG 1:1 = ESG 1:1a
ESG 1:2 = ESG 1:1b
ESG 1:3 = ESG 1:1c
ESG 1:4 = ESG 1:1d
ESG 1:5 = ESG 1:1e
ESG 1:6 = ESG 1:1f
ESG 1:7 = ESG 1:1g
ESG 1:8 = ESG 1:1h
ESG 1:9 = ESG 1:1i
ESG 1:10 = ESG 1:1k
ESG 1:11 = ESG 1:1l
ESG 1:12 = ESG 1:1m
ESG 1:13 = ESG 1:1n
ESG 1:14 = ESG 1:1o
ESG 1:15 = ESG 1:1p
ESG 1:16 = ESG 1:1q
ESG 1:17 = ESG 1:1r
ESG 1:18 = ESG 1:1s
ESG 1:19-39 = ESG 1:2-22
# ESG chapter 3
ESG 3:14 = ESG 3:13a
ESG 3:15 = ESG 3:13b
ESG 3:16 = ESG 3:13c
ESG 3:17 = ESG 3:13d
ESG 3:18 = ESG 3:13e
ESG 3:19 = ESG 3:13f
ESG 3:20 = ESG 3:13g
ESG 3:21 = ESG 3:14
ESG 3:22 = ESG 3:15
# ESG chapter 4
ESG 4:18 = ESG 4:17a
ESG 4:19 = ESG 4:17b
ESG 4:20 = ESG 4:17c
ESG 4:21 = ESG 4:17c
ESG 4:22 = ESG 4:17d
ESG 4:23 = ESG 4:17d
ESG 4:24 = ESG 4:17e
ESG 4:25 = ESG 4:17f
ESG 4:26 = ESG 4:17g
ESG 4:27 = ESG 4:17h
ESG 4:28 = ESG 4:17i
ESG 4:29 = ESG 4:17k
ESG 4:30 = ESG 4:17k
ESG 4:31 = ESG 4:17k
ESG 4:32 = ESG 4:17l
ESG 4:33 = ESG 4:17m
ESG 4:34 = ESG 4:17n
ESG 4:35 = ESG 4:17n
ESG 4:36 = ESG 4:17o
ESG 4:37 = ESG 4:17o
ESG 4:38 = ESG 4:17p
ESG 4:39 = ESG 4:17q
ESG 4:40 = ESG 4:17r
ESG 4:41 = ESG 4:17s
ESG 4:42 = ESG 4:17t
ESG 4:43 = ESG 4:17u
ESG 4:44 = ESG 4:17w
ESG 4:45 = ESG 4:17x
ESG 4:46 = ESG 4:17y
ESG 4:47 = ESG 4:17z
# ESG chapter 5
ESG 5:2 = ESG 5:1a
ESG 5:3 = ESG 5:1a
ESG 5:4 = ESG 5:1a
ESG 5:5 = ESG 5:1b
ESG 5:6 = ESG 5:1c
ESG 5:7 = ESG 5:1d
ESG 5:8 = ESG 5:1e
ESG 5:9 = ESG 5:1f
ESG 5:10 = ESG 5:1f
ESG 5:11 = ESG 5:2
ESG 5:12 = ESG 5:2
ESG 5:13 = ESG 5:2a
ESG 5:14 = ESG 5:2a
ESG 5:15 = ESG 5:2b
ESG 5:16 = ESG 5:2b
ESG 5:17-28 = ESG 5:3-14
# ESG chapter 8
ESG 8:13 = ESG 8:12a
ESG 8:14 = ESG 8:12b
ESG 8:15 = ESG 8:12c
ESG 8:16 = ESG 8:12d
ESG 8:17 = ESG 8:12e
ESG 8:18 = ESG 8:12f
ESG 8:19 = ESG 8:12g
ESG 8:20 = ESG 8:12h
ESG 8:21 = ESG 8:12i
ESG 8:22 = ESG 8:12k
ESG 8:23 = ESG 8:12l
ESG 8:24 = ESG 8:12m
ESG 8:25 = ESG 8:12n
ESG 8:26 = ESG 8:12o
ESG 8:27 = ESG 8:12p
ESG 8:28 = ESG 8:12q
ESG 8:29 = ESG 8:12r
ESG 8:30 = ESG 8:12s
ESG 8:31 = ESG 8:12t
ESG 8:32 = ESG 8:12u
ESG 8:33 = ESG 8:12x
ESG 8:34 = ESG 8:12y
ESG 8:35 = ESG 8:12y
ESG 8:36 = ESG 8:12y
ESG 8:37-41 = ESG 8:13-17
# ESG chapter 10
ESG 10:4 = ESG 10:3a
ESG 10:5 = ESG 10:3b
ESG 10:6 = ESG 10:3c
ESG 10:7 = ESG 10:3d
ESG 10:8 = ESG 10:3e
ESG 10:9 = ESG 10:3f
ESG 10:10 = ESG 10:3g
ESG 10:11 = ESG 10:3h
ESG 10:12 = ESG 10:3i
ESG 10:13 = ESG 10:3k
ESG 10:14 = ESG 10:3l
# S3Y is a small section of the DAG LXX pulled out and translated as a separate book.
# Map it back to the LXX.  This section allow's texts such as TOB (French) which do
# this to scroll correctly with the LXX.
# S3Y is not present in the GRK, HEB, or LXX(Ralphs) text.
# If a text has DAG present, this section must NOT be included in its versification file because
# that would cause references in other texts to DAG to be redirected to a non-existant S3Y.
S3Y 1:1-29 = DAG 3:24-52
S3Y 1:30-31 = DAG 3:52-53
S3Y 1:33 = DAG 3:54
S3Y 1:32 = DAG 3:55
S3Y 1:34-35 = DAG 3:56-57
S3Y 1:37 = DAG 3:58
S3Y 1:36 = DAG 3:59
S3Y 1:38-68 = DAG 3:60-90
`,DK=`# Versification  "Septuagint"
# Version=1.7
# 
# modifications by Studge 26/ June/ 2009
# This should include the versifications for Bibles which follow LXX versificatio mainly Orthodox Bibles. [Studge]
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
# modifications by Reinier 20/ April/ 2010
# all data that are not part of the LXX itself have been commented out with ##
#
# modifications by Michael Lothers 1/ June/ 2011
# added verse segment information in the format: *GEN 1:22,-,a,b
# which indicates GEN 1:22 has three segments, the first has no marking followed by two segments: 1a and 1b
# The lines are preceded by #! so that versions of Paratext prior to 7.3 will ignore them rather than crash.
#
# modifications by Tim Steenwyk 15/ September/ 2011
# removed mapping references to PS3 since they shouldn't be in LXX (Septuagint)
#------------------------------------------------
# Old Testament
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:54 32:33 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:29 8:28 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:37 22:30 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:21 38:27 39:23 40:38
LEV 1:17 2:16 3:17 4:35 5:26 6:23 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:26 7:89 8:26 9:23 10:36 11:35 12:16 13:33 14:45 15:41 16:35 17:28 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:31 13:19 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:29 23:26 24:22 25:19 26:19 27:26 28:69 29:28 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:29 9:27 10:42 11:23 12:24 13:32 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:54 18:29 19:24 20:42 21:16 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13
# 1SA called 1 Kings in the Orthodox tradition
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:32 19:44 20:26 21:22 22:51 23:39 24:25
# 2SA called 2 Kings in the Orthodox tradition
1KI 1:53 2:46 3:28 4:19 5:32 6:36 7:50 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:29 21:43 22:54
# 1KI called 3 Kings in the Orthodox tradition
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:20 12:22 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
# 2KI called 4 Kings in the Orthodox tradition
1CH 1:54 2:55 3:24 4:43 5:41 6:66 7:40 8:40 9:44 10:14 11:47 12:41 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:18 2:17 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:23 14:14 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23
#
# Edited by Studge
# Added EZR which is Ezra-Nehemiah, which had been put under 2ES by mistake
# Edited chapters 13 and 20 / SS 14.6.2014
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44 11:11 12:20 13:37 14:23 15:19 16:19 17:73 18:18 19:38 20:40 21:36 22:47 23:31
#
# most projects based on LXX will use Nehemiah so we ought to add it in.
##NEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31
#
# Edited by Studge
# should not have ESG here but amongst the Deuterocanonical books for PT order
# ESG 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
#
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:30 40:32 41:26 42:17
PSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:39 10:7 11:9 12:6 13:7 14:5 15:11 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:27 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:14 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:10 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:8 142:12 143:15 144:21 145:10 146:11 147:9 148:14 149:9 150:6 151:7
# Psalms has 151 psalms in the Septuagint tradition
PRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:22 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14
SNG 1:17 2:17 3:11 4:16 5:16 6:12 7:14 8:14
ISA 1:31 2:21 3:26 4:6 5:30 6:13 7:25 8:23 9:20 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:11 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:11 65:25 66:24
#
# Edited by SS 25.3.2003
# Original: JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:23 9:25 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
#
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:23 9:25 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:20 26:28 27:46 28:64 29:7 30:33 31:44 32:38 33:24 34:22 35:17 36:32 37:24 38:40 39:44 40:13 41:22 42:19 43:32 44:21 45:28 46:18 47:16 48:18 49:22 50:13 51:35 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:44 21:37 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
#
# There really should not be an entry for DAN in the LXX.vrs. All this material should be in DAG to match Ralhfs.
# However, there are no doubt many projects that incorrectly but the material in DAN so we leave this here
# for backward compatibility
# Following line commented out and DAG-DAN mapping brought up from end of file to allow DAG text to sychronize with HEB where they match
# Edited by Sarah Lind Oct 6 2015
# DAN 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
DAG 1:1-21 = DAN 1:1-21 
DAG 2:1-49 = DAN 2:1-49
DAG 3:1-23 = DAN 3:1-23
DAG 3:91-97 = DAN 3:24-30
DAG 4:1-3 = DAN 3:31-33
DAG 4:4-37 = DAN 4:1-34
DAG 4:1-2 = DAN 4:4-5
DAG 5:1-30 = DAN 5:1-30
DAG 6:1-29 = DAN 6:1-29
DAG 7:1-28 = DAN 7:1-28
DAG 8:1-27 = DAN 8:1-27
DAG 9:1-27 = DAN 9:1-27
DAG 10:1-21 = DAN 10:1-21
DAG 11:1-45 = DAN 11:1-45
DAG 12:1-13 = DAN 12:1-13
#
HOS 1:9 2:25 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:11 12:15 13:15 14:10
JOL 1:20 2:27 3:5 4:21
AMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15
OBA 1:21
JON 1:16 2:11 3:10 4:11
MIC 1:16 2:13 3:12 4:14 5:14 6:16 7:20
NAM 1:14 2:14 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:15 2:23
ZEC 1:17 2:17 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:24
#
#  It feels a bit odd to include NT in "Septuagint" but I think there are
#  Bibles that follow the _versification_ of OT LXX but also have a NT.
#
# ------------------------------------------------------
# New Testament books
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:13
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
#--------------------------------------------------
# Deuterocanonical Books
TOB 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
JDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:14 16:25
# added ESG definition in its right PT order
ESG 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
# note chapter 4 v17 is 17a-z
# note chapter 8 v12 is 12a-x
# note chapter 10 v3 is 3a-l
WIS 1:16 2:24 3:19 4:20 5:23 6:25 7:30 8:21 9:18 10:21 11:26 12:27 13:19 14:31 15:19 16:29 17:20 18:25 19:22
SIR 1:30 2:18 3:31 4:31 5:15 6:37 7:36 8:19 9:18 10:31 11:34 12:18 13:26 14:27 15:20 16:30 17:32 18:33 19:30 20:31 21:28 22:27 23:27 24:34 25:26 26:29 27:30 28:26 29:28 30:25 31:31 32:24 33:33 34:26 35:24 36:27 37:31 38:34 39:35 40:30 41:27 42:25 43:33 44:23 45:26 46:20 47:25 48:25 49:16 50:29 51:30
BAR 1:22 2:35 3:38 4:37 5:9
LJE 1:72
# Edited SUS / SS 14.6.2014
SUS 1:64
BEL 1:42
1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24
2MA 1:36 2:32 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39
3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23
4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24
# 1ES Ezra (Greek)
1ES 1:55 2:26 3:24 4:63 5:71 6:33 7:15 8:92 9:55
#-----------------------------------------------------
# Edited by Studge - Had the wrong definition of 2ES
# 2ES 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44 11:11 12:20 13:37 14:17 15:19 16:19 17:73 18:18 19:37 20:40 21:36 22:47 23:31
# 2ES is not a LXX book but is from the Vulgate and has 16 chapters
# edited by Studge added the correct definition of 2ES
2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:140 8:63 9:47 10:59 11:46 12:51 13:58 14:48 15:63 16:78
#
# Edited by Studge
#MAN and PS2 were not defined which are in LXX
MAN 1:15
PS2 1:7
#-------------------------------------------------------
# ODA and PSS are in the PT 6 files but now missing from the LXX files in PT 7
ODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46
PSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12
#-------------------------------------------------------
# NR: LXX variant texts now obselete, kep for backward compatability
JSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:45 20:9 21:45 22:34 23:16 24:33
JDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
TBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
SST 1:64
DNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
BLT 1:42
#--------------------------------------------------------
# Greek Daniel
# Edited chapter 5 and 6 and removed chapters 13 and 14 that are not in Rahlfs / SS 14.6.2014
DAG 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
#--------------------------------------------------------
# Syriac books for Peshitta projects SYR and SYA
#
# Syriac Psalms 152-155
##PS3 1:17 2:20 3:6 4:6
#
# Apocalypse of Baruch
##2BA 1:5 2:2 3:9 4:7 5:7 6:10 7:2 8:5 9:1 10:19 11:7 12:5 13:12 14:19 15:8 16:1 17:4 18:2 19:8 20:6 21:26 22:8 23:7 24:4 25:4 26:1 27:15 28:7 29:8 30:5 31:5 32:9 33:3 34:1 35:5 36:10 37:1 38:4 39:8 40:4 41:6 42:8 43:3 44:15 45:2 46:7 47:2 48:50 49:3 50:4 51:16 52:8 53:12 54:22 55:8 56:16 57:3 58:2 59:12 60:2 61:8 62:8 63:11 64:10 65:2 66:8 67:9 68:8 69:5 70:10 71:3 72:6 73:7 74:4 75:8 76:5 77:26
#
# Letter of Baruch
##LBA 78:7 79:3 80:7 81:4 82:9 83:23 84:11 85:15 86:3
#--------------------------------------------------------
# Books for Ethiopian Canon
# Jubilees (Ethiopian canon)
##JUB 1:26 2:17 3:19 4:24 5:36 6:34 7:37 8:40 9:27 10:48 11:39 12:56 13:34 14:55 15:20 16:28 17:30 18:31 19:59 20:66 21:30 22:38 23:59 24:30 25:50 26:48 27:37 28:38 29:27 30:29 31:31 32:24 33:30 34:20
# Enoch (Ethiopian canon)
##ENO 1:28 2:42 3:30 4:88 5:40 6:42 7:39 8:46 9:42 10:16 11:19 12:40 13:34 14:35 15:45 16:41 17:69 18:42 19:29 20:53 21:57 22:14 23:26 24:16 25:30 26:37 27:21 28:34 29:28 30:23 31:29 32:82 33:59 34:49 35:36 36:30 37:34 38:36 39:24 40:40 41:22 42:16
# 1 Meqabyan (Ethiopian canon)
##1MQ 1:28 2:28 3:38 4:37 5:39 6:38 7:33 8:35 9:10 10:8 11:8 12:44 13:27 14:23 15:20 16:9 17:8 18:12 19:17 20:4 21:31 22:11 23:7 4:22 25:18 26:5 27:20 28:49 29:17 30:16 31:7 32:4 33:11 34:18 35:8 36:46
# 2 Meqabyan (Ethiopian canon)
##2MQ 1:13 2:11 3:29 4:32 5:18 6:24 7:9 8:24 9:27 10:28 11:25 12:15 13:14 14:36 15:21 16:15 17:12 18:14 19:15 20:14 
# 3 Meqabyan (Ethiopian canon)
##3MQ 1:24 2:23 3:11 4:36 5:16 6:16 7:5 8:12 9:36 10:29
# Reproof (Ethiopian canon)
##REP 1:28 2:28 3:27 4:28 5:27 6:22
# 4 Baruch / Rest of the Words of Baruch (Ethiopian canon)
##4BA 1:30 2:29 3:30 4:33 5:62
#---------------------------------------------------------
# Edited by SS 14.6.2014 added deliberatelly omitted verses
-GEN 31:51
-GEN 35:21

-EXO 25:6
-EXO 28:23
-EXO 28:24
-EXO 28:25
-EXO 28:26
-EXO 28:27
-EXO 28:28
-EXO 32:9
-EXO 35:8
-EXO 35:15
-EXO 35:17
-EXO 35:18
-EXO 40:7
-EXO 40:11
-EXO 40:28
-EXO 40:30
-EXO 40:31
-EXO 40:32

-JOS 6:4
-JOS 8:13
-JOS 8:26
-JOS 10:15
-JOS 20:4
-JOS 20:5
-JOS 20:6

-1SA 13:1
-1SA 17:21
-1SA 17:22
-1SA 17:23
-1SA 17:24
-1SA 17:25
-1SA 17:26
-1SA 17:27
-1SA 17:28
-1SA 17:29
-1SA 17:30
-1SA 17:31
-1SA 17:41
-1SA 17:50
-1SA 18:1
-1SA 18:2
-1SA 18:3
-1SA 18:4
-1SA 18:5
-1SA 18:10
-1SA 18:11
-1SA 18:17
-1SA 18:18
-1SA 18:19
-1SA 23:12

-1KI 3:1
-1KI 5:5
-1KI 5:6
-1KI 5:7
-1KI 5:8
-1KI 5:31
-1KI 6:11
-1KI 6:12
-1KI 6:13
-1KI 6:14
-1KI 6:18
-1KI 8:12
-1KI 8:13
-1KI 9:15
-1KI 9:16
-1KI 9:17
-1KI 9:18
-1KI 9:19
-1KI 9:20
-1KI 9:21
-1KI 9:22
-1KI 9:23
-1KI 9:24
-1KI 9:25
-1KI 11:3
-1KI 11:23
-1KI 11:24
-1KI 11:39
-1KI 12:2
-1KI 12:17
-1KI 13:27
-1KI 14:1
-1KI 14:2
-1KI 14:3
-1KI 14:4
-1KI 14:5
-1KI 14:6
-1KI 14:7
-1KI 14:8
-1KI 14:9
-1KI 14:10
-1KI 14:11
-1KI 14:12
-1KI 14:13
-1KI 14:14
-1KI 14:15
-1KI 14:16
-1KI 14:17
-1KI 14:18
-1KI 14:19
-1KI 14:20
-1KI 15:6
-1KI 15:32
-1KI 22:47
-1KI 22:48
-1KI 22:49
-1KI 22:50

-1SA 17:12
-1SA 17:13
-1SA 17:14
-1SA 17:15
-1SA 17:16
-1SA 17:17
-1SA 17:18
-1SA 17:19
-1SA 17:20

-1CH 1:11
-1CH 1:12
-1CH 1:13
-1CH 1:14
-1CH 1:15
-1CH 1:16
-1CH 1:18
-1CH 1:19
-1CH 1:20
-1CH 1:21
-1CH 1:22
-1CH 1:23
-1CH 16:24

-2CH 27:8

-EZR 13:7
-EZR 14:18
-EZR 14:19
-EZR 14:20
-EZR 14:21
-EZR 14:22
-EZR 14:23
-EZR 19:38
-EZR 21:16
-EZR 21:20
-EZR 21:21
-EZR 21:28
-EZR 21:29
-EZR 21:32
-EZR 21:33
-EZR 21:34
-EZR 21:35
-EZR 22:4
-EZR 22:5
-EZR 22:6

-JOB 23:14

-PSA 115:5

-PRO 4:7
-PRO 8:33
-PRO 11:4
-PRO 15:31
-PRO 16:1
-PRO 16:3
-PRO 16:4
-PRO 16:6
-PRO 19:1
-PRO 19:2
-PRO 20:14
-PRO 20:15
-PRO 20:16
-PRO 20:17
-PRO 20:18
-PRO 20:19
-PRO 20:20
-PRO 20:21
-PRO 20:22
-PRO 21:5
-PRO 22:6
-PRO 23:23

-JER 2:1
-JER 7:1
-JER 8:11
-JER 8:12
-JER 10:6
-JER 10:7
-JER 10:8
-JER 10:10
-JER 11:7
-JER 17:1
-JER 17:2
-JER 17:3
-JER 17:4
-JER 26:1
-JER 26:26
-JER 28:45
-JER 28:46
-JER 28:47
-JER 28:48
-JER 30:22
-JER 32:1
-JER 32:2
-JER 32:3
-JER 32:4
-JER 32:5
-JER 32:6
-JER 32:7
-JER 32:8
-JER 32:9
-JER 32:10
-JER 32:11
-JER 32:12
-JER 32:14
-JER 34:1
-JER 34:7
-JER 34:13
-JER 34:17
-JER 34:21
-JER 36:16
-JER 36:17
-JER 36:18
-JER 36:19
-JER 36:20
-JER 37:10
-JER 37:11
-JER 37:15
-JER 37:22
-JER 46:4
-JER 46:5
-JER 46:6
-JER 46:7
-JER 46:8
-JER 46:9
-JER 46:10
-JER 46:11
-JER 46:12
-JER 46:13
-JER 52:2
-JER 52:3
-JER 52:15
-JER 52:28
-JER 52:29
-JER 52:30

-LAM 3:22
-LAM 3:23
-LAM 3:24
-LAM 3:29

-EZK 1:14
-EZK 10:14
-EZK 27:31
-EZK 32:19
-EZK 33:26
-EZK 40:30

#------------- DC books ------------

-TOB 4:8
-TOB 4:9
-TOB 4:10
-TOB 4:11
-TOB 4:12
-TOB 4:13
-TOB 4:14
-TOB 4:15
-TOB 4:16
-TOB 4:17
-TOB 4:18
-TOB 13:8
-TOB 13:9
-TOB 13:10

-ESG 4:6
-ESG 9:5
-ESG 9:30

-SIR 1:5
-SIR 1:7
-SIR 1:21
-SIR 3:19
-SIR 3:25
-SIR 6:1
-SIR 10:21
-SIR 11:15
-SIR 11:16
-SIR 13:14
-SIR 16:15
-SIR 16:16
-SIR 17:5
-SIR 17:9
-SIR 17:16
-SIR 17:18
-SIR 17:21
-SIR 18:3
-SIR 19:18
-SIR 19:19
-SIR 19:21
-SIR 22:7
-SIR 22:8
-SIR 24:18
-SIR 24:24
-SIR 25:12
-SIR 26:19
-SIR 26:20
-SIR 26:21
-SIR 26:22
-SIR 26:23
-SIR 26:24
-SIR 26:25
-SIR 26:26
-SIR 26:27

-4MA 10:4
-4MA 11:7
-4MA 11:8

#---------------------------------------------------------
# Mapping
# LXX = BHS (see org.vrs)
#
# (Note: for performance reasons ranges must not span a chapter, e.g. 4:10-5:11 is illegal)
#
# 2ES = EZR and NEH
#
EXO 20:13 = EXO 20:14
EXO 20:14 = EXO 20:15
EXO 20:15 = EXO 20:13
EXO 21:16 = EXO 21:17
EXO 21:17 = EXO 21:16
EXO 36:9 = EXO 39:2
EXO 36:10 = EXO 39:3
EXO 36:11 = EXO 39:4
EXO 36:12 = EXO 39:5
EXO 36:13 = EXO 39:6
EXO 36:14 = EXO 39:7
EXO 36:15 = EXO 39:8
EXO 36:16 = EXO 39:9
EXO 36:17 = EXO 39:10
EXO 36:20 = EXO 39:13
EXO 36:21 = EXO 39:14
EXO 36:22 = EXO 39:15
EXO 36:23 = EXO 39:16
EXO 36:25 = EXO 39:17
EXO 36:26 = EXO 39:18
EXO 36:27 = EXO 39:19
EXO 36:28 = EXO 39:20
EXO 36:29 = EXO 39:21
EXO 36:30 = EXO 39:22
EXO 36:31 = EXO 39:23
EXO 36:32 = EXO 39:24
EXO 36:33 = EXO 39:25
EXO 36:34 = EXO 39:26
EXO 36:35 = EXO 39:27
EXO 36:36 = EXO 39:28
EXO 36:37 = EXO 39:29
EXO 36:38 = EXO 39:30

DEU 5:17 = DEU 5:18
DEU 5:18 = DEU 5:17

1KI 20:1-29 = 1KI 21:1-29 
1KI 21:1-43 = 1KI 20:1-43

#
# Map The Greek versioin of Esther onto the Hebrew version of Esther
# using the Hebrew version as the reference point.
# Normally DC material would not have any entries in this part of the lxx.vrs file
# because the LXX serves as the reference point for DC material.
# Material which is placed in separate books in HEB and LXX (i.e. EST and ESG)
# is however placed here and referenced to the HEB reference points.
ESG 1:1-22 = EST 1:1-22
ESG 2:1-23 = EST 2:1-23
ESG 3:1-15 = EST 3:1-15
ESG 4:1-17 = EST 4:1-17
ESG 5:1-14 = EST 5:1-14
ESG 6:1-14 = EST 6:1-14
ESG 7:1-10 = EST 7:1-10
ESG 8:1-17 = EST 8:1-17
ESG 9:1-32 = EST 9:1-32
ESG 10:1-3 = EST 10:1-3
#
# PSA 9 = 9+10
PSA 9:22 = PSA 10:0
PSA 9:22-39 = PSA 10:1-18
PSA 10:0-7 = PSA 11:0-7
PSA 11:0-9 = PSA 12:0-9
PSA 12:0-6 = PSA 13:0-6
PSA 13:0-7 = PSA 14:0-7
PSA 14:0-5 = PSA 15:0-5
PSA 15:0-11 = PSA 16:0-11
PSA 16:0-15 = PSA 17:0-15
PSA 17:0-51 = PSA 18:0-51
PSA 18:0-15 = PSA 19:0-15
PSA 19:0-10 = PSA 20:0-10
PSA 20:0-14 = PSA 21:0-14
PSA 21:0-32 = PSA 22:0-32
PSA 22:0-6 = PSA 23:0-6
PSA 23:0-10 = PSA 24:0-10
PSA 24:0-22 = PSA 25:0-22
PSA 25:0-12 = PSA 26:0-12
PSA 26:0-14 = PSA 27:0-14
PSA 27:0-9 = PSA 28:0-9
PSA 28:0-11 = PSA 29:0-11
PSA 29:0-13 = PSA 30:0-13
PSA 30:0-25 = PSA 31:0-25
PSA 31:0-11 = PSA 32:0-11
PSA 32:0-22 = PSA 33:0-22
PSA 33:0-23 = PSA 34:0-23
PSA 34:0-28 = PSA 35:0-28
PSA 35:0-13 = PSA 36:0-13
PSA 36:0-40 = PSA 37:0-40
PSA 37:0-23 = PSA 38:0-23
PSA 38:0-14 = PSA 39:0-14
PSA 39:0-18 = PSA 40:0-18
PSA 40:0-14 = PSA 41:0-14
PSA 41:0-12 = PSA 42:0-12
PSA 42:0-5 = PSA 43:0-5
PSA 43:0-27 = PSA 44:0-27
PSA 44:0-18 = PSA 45:0-18
PSA 45:0-12 = PSA 46:0-12
PSA 46:0-10 = PSA 47:0-10
PSA 47:0-15 = PSA 48:0-15
PSA 48:0-21 = PSA 49:0-21
PSA 49:0-23 = PSA 50:0-23
PSA 50:0-21 = PSA 51:0-21
PSA 51:0-11 = PSA 52:0-11
PSA 52:0-7 = PSA 53:0-7
PSA 53:0-9 = PSA 54:0-9
PSA 54:0-24 = PSA 55:0-24
PSA 55:0-14 = PSA 56:0-14
PSA 56:0-12 = PSA 57:0-12
PSA 57:0-12 = PSA 58:0-12
PSA 58:0-18 = PSA 59:0-18
PSA 59:0-14 = PSA 60:0-14
PSA 60:0-9 = PSA 61:0-9
PSA 61:0-13 = PSA 62:0-13
PSA 62:0-12 = PSA 63:0-12
PSA 63:0-11 = PSA 64:0-11
PSA 64:0-14 = PSA 65:0-14
PSA 65:0-20 = PSA 66:0-20
PSA 66:0-8 = PSA 67:0-8
PSA 67:0-36 = PSA 68:0-36
PSA 68:0-37 = PSA 69:0-37
PSA 69:0-6 = PSA 70:0-6
PSA 70:0-24 = PSA 71:0-24
PSA 71:0-20 = PSA 72:0-20
PSA 72:0-28 = PSA 73:0-28
PSA 73:0-23 = PSA 74:0-23
PSA 74:0-11 = PSA 75:0-11
PSA 75:0-13 = PSA 76:0-13
PSA 76:0-21 = PSA 77:0-21
PSA 77:0-72 = PSA 78:0-72
PSA 78:0-13 = PSA 79:0-13
PSA 79:0-20 = PSA 80:0-20
PSA 80:0-17 = PSA 81:0-17
PSA 81:0-8 = PSA 82:0-8
PSA 82:0-19 = PSA 83:0-19
PSA 83:0-13 = PSA 84:0-13
PSA 84:0-14 = PSA 85:0-14
PSA 85:0-17 = PSA 86:0-17
PSA 86:0-7 = PSA 87:0-7
PSA 87:0-19 = PSA 88:0-19
PSA 88:0-53 = PSA 89:0-53
PSA 89:0-17 = PSA 90:0-17
PSA 90:0-16 = PSA 91:0-16
PSA 91:0-16 = PSA 92:0-16
PSA 92:0-5 = PSA 93:0-5
PSA 93:0-23 = PSA 94:0-23
PSA 94:0-11 = PSA 95:0-11
PSA 95:0-13 = PSA 96:0-13
PSA 96:0-12 = PSA 97:0-12
PSA 97:0-9 = PSA 98:0-9
PSA 98:0-9 = PSA 99:0-9
PSA 99:0-5 = PSA 100:0-5
PSA 100:0-8 = PSA 101:0-8
PSA 101:0-29 = PSA 102:0-29
PSA 102:0-22 = PSA 103:0-22
PSA 103:0-35 = PSA 104:0-35
PSA 104:0-45 = PSA 105:0-45
PSA 105:0-48 = PSA 106:0-48
PSA 106:0-43 = PSA 107:0-43
PSA 107:0-14 = PSA 108:0-14
PSA 108:0-31 = PSA 109:0-31
PSA 109:0-7 = PSA 110:0-7
PSA 110:0-10 = PSA 111:0-10
PSA 111:0-10 = PSA 112:0-10
PSA 112:0-9 = PSA 113:0-9
PSA 113:0-8 = PSA 114:0-8
PSA 113:9 = PSA 115:0
PSA 113:9-26 = PSA 115:1-18
PSA 114:0-9 = PSA 116:0-9
PSA 115:0 = PSA 116:10
PSA 115:1-10 = PSA 116:10-19	
PSA 116:0-2 = PSA 117:0-2
PSA 117:0-29 = PSA 118:0-29
PSA 118:0-176 = PSA 119:0-176
PSA 119:0-7 = PSA 120:0-7
PSA 120:0-8 = PSA 121:0-8
PSA 121:0-9 = PSA 122:0-9
PSA 122:0-4 = PSA 123:0-4
PSA 123:0-8 = PSA 124:0-8
PSA 124:0-5 = PSA 125:0-5
PSA 125:0-6 = PSA 126:0-6
PSA 126:0-5 = PSA 127:0-5
PSA 127:0-6 = PSA 128:0-6
PSA 128:0-8 = PSA 129:0-8
PSA 129:0-8 = PSA 130:0-8
PSA 130:0-3 = PSA 131:0-3
PSA 131:0-18 = PSA 132:0-18
PSA 132:0-3 = PSA 133:0-3
PSA 133:0-3 = PSA 134:0-3
PSA 134:0-21 = PSA 135:0-21
PSA 135:0-26 = PSA 136:0-26
PSA 136:0-9 = PSA 137:0-9
PSA 137:0-8 = PSA 138:0-8
PSA 138:0-24 = PSA 139:0-24
PSA 139:0-14 = PSA 140:0-14
PSA 140:0-10 = PSA 141:0-10
PSA 141:0-8 = PSA 142:0-8
PSA 142:0-12 = PSA 143:0-12
PSA 143:0-15 = PSA 144:0-15
PSA 144:0-21 = PSA 145:0-21
PSA 145:0-10 = PSA 146:0-10
# 146 + 147 -> 147
PSA 146:0-11 = PSA 147:0-11
PSA 147:0 = PSA 147:12
PSA 147:1-9 = PSA 147:12-20
# PSA 151 -> PS2
PSA 151:0-7 = PS2 1:0-7
#
# Jeremiah according to Rahlfs
# Added by SS 25.3.2003
#
# JER 1-25:13 = JER 1-25:13
# JER 25:14 = part of JER 49:34
# JER 25:20 = part of JER 49:34
# JER 52 = JER 52
#
JER 25:14-19 = JER 49:34-39
JER 25:20 = JER 49:34
JER 26:1-28 = JER 46:1-28
JER 27:1-46 = JER 50:1-46
JER 28:1-64 = JER 51:1-64
JER 29:1-7 = JER 47:1-7
JER 30:1-16 = JER 49:7-22
JER 30:17-22 = JER 49:1-6
JER 30:23-28 = JER 49:28-33
JER 30:29-33 = JER 49:23-27
JER 31:1-44 = JER 48:1-44
# Verses 31:1-13 do not exist
JER 32:13 = JER 25:13
# Verse 32:14 does not exist
JER 32:15-38 = JER 25:15-38
JER 33:1-24 = JER 26:1-24
JER 34:1-22 = JER 27:1-22
JER 35:1-17 = JER 28:1-17
JER 36:1-32 = JER 29:1-32
JER 37:1-24 = JER 30:1-24
JER 38:1-40 = JER 31:1-40
JER 39:1-44 = JER 32:1-44
JER 40:1-13 = JER 33:1-13
JER 41:1-22 = JER 34:1-22
JER 42:1-19 = JER 35:1-19
JER 43:1-32 = JER 36:1-32
JER 44:1-21 = JER 37:1-21
JER 45:1-28 = JER 38:1-28
JER 46:1-3 = JER 39:1-3
# Verses 46:4-13 do not exist
JER 46:14-18 = JER 39:14-18
JER 47:1-16 = JER 40:1-16
JER 48:1-18 = JER 41:1-18
JER 49:1-22 = JER 42:1-22
JER 50:1-13 = JER 43:1-13
JER 51:1-30 = JER 44:1-30
JER 51:31-35 = JER 45:1-5
#
# Map The Greek versioin of Daniel onto the Hebrew version of Daniel
# using the Hebrew version as the reference point.
# Normally DC material would not have any entries in this part of the lxx.vrs file
# because the LXX serves as the reference point for DC material.
# Material which is placed in separate books in HEB and LXX (i.e. DAN and DAG)
# is however placed here and referenced to the HEB reference point.
#
# If you have a text in which the DAG material has been (incorrectly) placed into DAN
# you must create a versification file in which DAN appears as the first book in 
# the following section.  You cannot have both DAN = DAN and DAG = DAN entries
# in a single file.
DAG 1:1-21 = DAN 1:1-21
DAG 2:1-49 = DAN 2:1-49
DAG 3:1-23 = DAN 3:1-23
DAG 3:91-97 = DAN 3:24-30
DAG 4:1-3 = DAN 3:31-33
DAG 4:4-37 = DAN 4:1-34
DAG 5:1-31 = DAN 5:1-31
DAG 6:1-28 = DAN 6:1-28
DAG 7:1-28 = DAN 7:1-28
DAG 8:1-27 = DAN 8:1-27
DAG 9:1-27 = DAN 9:1-27
DAG 10:1-21 = DAN 10:1-21
DAG 11:1-45 = DAN 11:1-45 
DAG 12:1-13 = DAN 12:1-13
#
# No entries present for S3Y because this book would not normally be present in a text based
# on the LXX versification. The S3Y material would instead start at DAG 3:24.
#
# When Ezra-Nehemiah is one book Ezra 11-23 maps onto Nehemiah
# LXX mapping onto BHS
EZR 11:1-11 = NEH 1:1-11
EZR 12:1-20 = NEH 2:1-20
EZR 13:1-38 = NEH 3:1-38
EZR 14:1-17 = NEH 4:1-17
EZR 15:1-19 = NEH 5:1-19
EZR 16:1-19 = NEH 6:1-19
EZR 17:1-72 = NEH 7:1-72
EZR 18:1-18 = NEH 8:1-18
EZR 19:1-37 = NEH 9:1-37
EZR 20:1-40 = NEH 10:1-40
EZR 21:1-36 = NEH 11:1-36
EZR 22:1-47 = NEH 12:1-47
EZR 23:1-31 = NEH 13:1-31
#---------------------------
# Mapping 2 Esdras onto the older Apocalypse of Ezra [Studge]
2ES 3:1-36 = EZA 1:1-36
2ES 4:1-52 = EZA 2:1-52
2ES 5:1-56 = EZA 3:1-56
2ES 6:1-59 = EZA 4:1-59
2ES 7:1-35 = EZA 5:1-35
2ES 7:106-140 = EZA 5:36-70
2ES 8:1-63 = EZA 6:1-63
2ES 9:1-47 = EZA 7:1-47
2ES 10:1-60 = EZA 8:1-60
2ES 11:1-46 = EZA 9:1-46
2ES 12:1-51 = EZA 10:1-51
2ES 13:1-58 = EZA 11:1-58
2ES 14:1-48 = EZA 12:1-48
#----------------------------
# Some texts (but not LXX) contain SUS and BEL as chapters 13 and 14 of DAG.
# There should not be any entries for DAG 13 and DAG 14 in the lxx.vrs because these chapters do not 
# exist in the LXX.
# If you have a text which has DAG 13 and 14 you will need to have a .vrs file that includes the following
# two mapping.
#
# Susanna
# DAG 13:1-63 = SUS 1:1-63
# Bel and the Dragon
# DAG 14:1-42 = BEL 1:1-42
#
#----------------------------
# Verse segment information for the Septuagint.
# The verse segment information is preceded by a '#!' so that it will be ignored by versions 
# of Paratext prior to Paratext 7.3 (and thus avoid crashing it with an unexpected format). 
#! *EXO 28:29,-,a 
#! *EXO 35:12,-,a 
#! *JOS 9:2,-,a,b,c,d,e,f 
#! *JOS 15:59,-,a 
#! *JOS 19:47,-,a 
#! *JOS 19:48,-,a 
#! *JOS 21:42,-,a,b,c,d 
#! *JOS 24:31,-,a 
#! *JOS 24:33,-,a,b 
#! *1SA 30:28,-,a 
#! *2SA 5:16,-,a 
#! *1KI 2:35,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o 
#! *1KI 2:46,-,a,b,c,d,e,f,g,h,i,k,l 
#! *1KI 5:14,-,a,b 
#! *1KI 6:1,-,a,b,c,d 
#! *1KI 6:36,-,a 
#! *1KI 8:53,-,a 
#! *1KI 9:9,-,a 
#! *1KI 10:22,-,a,b,c 
#! *1KI 10:26,-,a 
#! *1KI 12:24,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,x,y,z 
#! *1KI 16:28,-,a,b,c,d,e,f,g,h 
#! *2KI 1:18,-,a,b,c,d 
#! *2CH 35:19,-,a,b,c,d 
#! *2CH 36:2,-,a,b,c 
#! *2CH 36:4,-,a 
#! *2CH 36:5,-,a,b,c,d 
#! *JOB 2:9,-,a,b,c,d,e 
#! *JOB 19:4,-,a 
#! *JOB 23:15,-,a 
#! *JOB 36:28,-,a,b 
#! *JOB 42:17,-,a,b,c,d,e 
#! *PSA 144:13,-,a 
#! *PRO 3:16,-,a 
#! *PRO 3:22,-,a 
#! *PRO 4:27,-,a,b 
#! *PRO 6:8,-,a,b,c 
#! *PRO 6:11,-,a 
#! *PRO 7:1,-,a 
#! *PRO 8:21,-,a 
#! *PRO 9:10,-,a 
#! *PRO 9:12,-,a,b,c 
#! *PRO 9:18,-,a,b,c,d 
#! *PRO 10:4,-,a 
#! *PRO 12:11,-,a 
#! *PRO 12:13,-,a 
#! *PRO 13:9,-,a 
#! *PRO 13:13,-,a 
#! *PRO 15:18,-,a 
#! *PRO 15:27,-,a 
#! *PRO 15:28,-,a 
#! *PRO 15:29,-,a,b 
#! *PRO 17:6,-,a 
#! *PRO 17:16,-,a 
#! *PRO 18:22,-,a 
#! *PRO 20:9,-,a,b,c 
#! *PRO 22:8,-,a 
#! *PRO 22:9,-,a 
#! *PRO 22:14,-,a 
#! *PRO 24:22,-,a,b,c,d,e 
#! *PRO 25:10,-,a 
#! *PRO 25:20,-,a 
#! *PRO 26:11,-,a 
#! *PRO 27:20,-,a 
#! *PRO 27:21,-,a 
#! *PRO 28:17,-,a 
#! *ESG 1:1,-,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s 
#! *ESG 3:13,-,a,b,c,d,e,f,g 
#! *ESG 4:17,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,w,x,y,z 
#! *ESG 5:1,-,a,b,c,d,e,f 
#! *ESG 5:2,-,a,b 
#! *ESG 8:12,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,x 
#! *ESG 10:3,-,a,b,c,d,e,f,g,h,i,k,l 
#! *SIR 1:1,-,a,b,c,d,e,f,g,h 
`,hK=`# Versification  "Original" 
# Version=1.200
# (not a very good name but I have not heard a better suggestion)
#
# modifications by Studge 26/June/2009
#
# BHS versification for OT, UBS GNT versification for NT
# following the Masoretic order
# OT translations using Masorteic verse structures should map onto this text
# NT versifications maps onto Nestle-Aland
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
#---------------------------------------------------------------
# Old Testament
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:54 32:33 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:29 8:28 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:37 22:30 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38
LEV 1:17 2:16 3:17 4:35 5:26 6:23 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:16 13:33 14:45 15:41 16:35 17:28 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:19 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:31 13:19 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:29 23:26 24:22 25:19 26:19 27:26 28:69 29:28 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:42 21:16 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:32 19:44 20:26 21:22 22:51 23:39 24:25
1KI 1:53 2:46 3:28 4:20 5:32 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:54
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:20 12:22 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
1CH 1:54 2:55 3:24 4:43 5:41 6:66 7:40 8:40 9:44 10:14 11:47 12:41 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:18 2:17 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:23 14:14 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44
NEH 1:11 2:20 3:38 4:17 5:19 6:19 7:72 8:18 9:37 10:40 11:36 12:47 13:31
EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:30 40:32 41:26 42:17
PSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:21 10:18 11:7 12:9 13:6 14:7 15:5 16:11 17:15 18:51 19:15 20:10 21:14 22:32 23:6 24:10 25:22 26:12 27:14 28:9 29:11 30:13 31:25 32:11 33:22 34:23 35:28 36:13 37:40 38:23 39:14 40:18 41:14 42:12 43:5 44:27 45:18 46:12 47:10 48:15 49:21 50:23 51:21 52:11 53:7 54:9 55:24 56:14 57:12 58:12 59:18 60:14 61:9 62:13 63:12 64:11 65:14 66:20 67:8 68:36 69:37 70:6 71:24 72:20 73:28 74:23 75:11 76:13 77:21 78:72 79:13 80:20 81:17 82:8 83:19 84:13 85:14 86:17 87:7 88:19 89:53 90:17 91:16 92:16 93:5 94:23 95:11 96:13 97:12 98:9 99:9 100:5 101:8 102:29 103:22 104:35 105:45 106:48 107:43 108:14 109:31 110:7 111:10 112:10 113:9 114:8 115:18 116:19 117:2 118:29 119:176 120:7 121:8 122:9 123:4 124:8 125:5 126:6 127:5 128:6 129:8 130:8 131:3 132:18 133:3 134:3 135:21 136:26 137:9 138:8 139:24 140:14 141:10 142:8 143:12 144:15 145:21 146:10 147:20 148:14 149:9 150:6
PRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14
SNG 1:17 2:17 3:11 4:16 5:16 6:12 7:14 8:14
ISA 1:31 2:22 3:26 4:6 5:30 6:13 7:25 8:23 9:20 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:11 65:25 66:24
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:23 9:25 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:44 21:37 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
DAN 1:21 2:49 3:33 4:34 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
HOS 1:9 2:25 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:11 12:15 13:15 14:10
JOL 1:20 2:27 3:5 4:21
AMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15
OBA 1:21
JON 1:16 2:11 3:10 4:11
MIC 1:16 2:13 3:12 4:14 5:14 6:16 7:20
NAM 1:14 2:14 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:15 2:23
ZEC 1:17 2:17 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:24
#---------------------------------------------------------
# New Testament books
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:13
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
#------------------------------------------------
# Deuterocanonical books from the LXX which are in the Catholic tradition
TOB 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
JDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:14 16:25
ESG 1:39 2:23 3:22 4:47 5:28 6:14 7:10 8:39 9:32 10:13
WIS 1:16 2:24 3:19 4:20 5:23 6:25 7:30 8:21 9:18 10:21 11:26 12:27 13:19 14:31 15:19 16:29 17:20 18:25 19:22
SIR 1:30 2:18 3:31 4:31 5:15 6:37 7:36 8:19 9:18 10:31 11:34 12:18 13:26 14:27 15:20 16:30 17:32 18:33 19:30 20:31 21:28 22:27 23:27 24:34 25:26 26:29 27:30 28:26 29:28 30:25 31:31 32:24 33:33 34:26 35:24 36:27 37:31 38:34 39:35 40:30 41:27 42:25 43:33 44:23 45:26 46:20 47:25 48:25 49:16 50:29 51:30
BAR 1:22 2:35 3:38 4:37 5:9
LJE 1:72
S3Y 1:67
SUS 1:64
BEL 1:42
1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24
2MA 1:36 2:32 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39
#---------------------------------------------------
# Additional Orthodox books from the LXX
3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23
4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24
1ES 1:55 2:26 3:24 4:63 5:71 6:33 7:15 8:92 9:55
# This was the wrong definition for 2ES
# 2ES 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44 11:11 12:20 13:37 14:17 15:19 16:19 17:73 18:18 19:37 20:40 21:36 22:47 23:31
# This is the correct definition of 2ES, the "original" book was EZA
2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:140 8:63 9:47 10:59 11:46 12:51 13:58 14:48 15:63 16:78
MAN 1:15
PS2 1:7
#-------------------------------------------------------
# ODA and PSS are only in the LXX and SYR projects. 
ODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46
PSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12
#-------------------------------------------------------
# the following codes are for obselete LXX variants only in LXX and not supported in PT 7
JSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
TBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
SST 1:64
DNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
BLT 1:42
#
# No mappings are present for this versification since it represents
# the "standard" versification to which all OT and NT texts are mapped in these files.
# (DC texts follow the LXX)
#
#-------------------------------------------------------
# Apocalypse of Ezra [Studge]
EZA 1:36 2:52 3:56 4:59 5:139 6:63 7:47 8:60 9:46 10:51 11:58 12:48
#--------------------------------------------------------
# Jubilees and Enoch have both been found in the Hebrew [Studge]
# might be needed if we add Dead Sea Scrolls
# Jubilees (Ethiopian canon)
JUB 1:26 2:17 3:19 4:24 5:36 6:34 7:37 8:40 9:27 10:48 11:39 12:56 13:34 14:55 15:20 16:28 17:30 18:31 19:59 20:66 21:30 22:38 23:59 24:30 25:50 26:48 27:37 28:38 29:27 30:29 31:31 32:24 33:30 34:20
# Enoch (Ethiopian canon)
ENO 1:28 2:42 3:30 4:88 5:40 6:42 7:39 8:46 9:42 10:16 11:19 12:40 13:34 14:35 15:45 16:41 17:69 18:42 19:29 20:53 21:57 22:14 23:26 24:16 25:30 26:37 27:21 28:34 29:28 30:23 31:29 32:82 33:59 34:49 35:36 36:30 37:34 38:36 39:24 40:40 41:22 42:16
#
# S3Y is a small section of the DAG LXX pulled out and translated as a separate book.
# Map it back to the LXX.  This section allow's texts such as TOB (French) which do
# this to scroll correctly with the LXX.
# S3Y is not present in the GRK, HEB, or LXX(Ralphs) text.
# If a text has DAG present, this section must NOT be included in its versification file because
# that would cause references in other texts to DAG to be redirected to a non-existant S3Y.
S3Y 1:1-29 = DAG 3:24-52
S3Y 1:30-31 = DAG 3:52-53
S3Y 1:33 = DAG 3:54
S3Y 1:32 = DAG 3:55
S3Y 1:34-35 = DAG 3:56-57
S3Y 1:37 = DAG 3:58
S3Y 1:36 = DAG 3:59
S3Y 1:38-68 = DAG 3:60-90
`,mK=`# Versification  "Russian Protestant"
# Version=1.4
#
# This is the versification used by the "Canonical" (Protestant) edition of the Russian Synodal Bible
# Initial version provided by Peter_Kirk@sil.org
# Corrected 27/May/2003 by matjaz.crnivec@drustvo-svds.si:
#   Number of vss: ISA 3; REV 12
#   Mappings: LEV 14; 1KI 22; 1CH 12; NEH 7; ISA 3; 2CO 11; REV 13
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
#------------------------------------------------------------
# Old Testament
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38
LEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:56 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:15 13:34 14:45 15:41 16:50 17:13 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:24 5:16 6:26 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:43 21:15 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25
1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:53
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:47 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44
NEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31
EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:35 40:27 41:26 42:17
PSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:39 10:7 11:9 12:6 13:7 14:5 15:11 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:27 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:14 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:10 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:7 142:12 143:15 144:21 145:10 146:11 147:9 148:14 149:9 150:6
PRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14
SNG 1:16 2:17 3:11 4:16 5:16 6:12 7:14 8:14
ISA 1:31 2:22 3:25 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
DAN 1:21 2:49 3:33 4:34 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13
HOS 1:11 2:23 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:15 14:10
JOL 1:20 2:32 3:21
AMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15
OBA 1:21
JON 1:16 2:11 3:10 4:11
MIC 1:16 2:13 3:12 4:13 5:15 6:16 7:20
NAM 1:15 2:13 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:15 2:23
ZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:18 4:6
#-------------------------------------------------------
# New Testament books
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:26 15:33 16:24
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:32 12:21 13:13
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:17 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
#
#------------------------------------------------------------
# Mapping
#-------------------------------------------------------------
# Russian = BHS (see org.vrs)
#
# (Note: ranges must not span a chapter, e.g. 4:10-5:11 is illegal)
#
GEN 31:55 = GEN 32:1
GEN 32:1-32 = GEN 32:2-33
EXO 8:1-4 = EXO 7:26-29
EXO 8:5-32 = EXO 8:1-28
EXO 22:1 = EXO 21:37
EXO 22:2-31 = EXO 22:1-30
LEV 6:1-7 = LEV 5:20-26
LEV 6:8-30 = LEV 6:1-23
# LEV 14:55b = LEV 14:56   # cant handle split verses yet
LEV 14:55 = LEV 14:55
LEV 14:55 = LEV 14:56
LEV 14:56 = LEV 14:57
NUM 13:1 = NUM 12:16
NUM 13:2-34 = NUM 13:1-33
NUM 16:36-50 = NUM 17:1-15
NUM 17:1-13 = NUM 17:16-28
NUM 26:1 = NUM 25:19
NUM 26:1 = NUM 26:1
DEU 12:32 = DEU 13:1
DEU 13:1-18 = DEU 13:2-19
DEU 22:30 = DEU 23:1
DEU 23:1-25 = DEU 23:2-26
DEU 29:1 = DEU 28:69
DEU 29:2-29 = DEU 29:1-28
JOS 5:16 = JOS 6:1
JOS 6:1-26 = JOS 6:2-27
1SA 20:43 = 1SA 21:1
1SA 21:1-15 = 1SA 21:2-16
2SA 18:33 = 2SA 19:1
2SA 19:1-43 = 2SA 19:2-44
1KI 4:21-34 = 1KI 5:1-14
1KI 5:1-18 = 1KI 5:15-32
#1KI 22:43b = 1KI 22:44   # cant handle split verses yet
1KI 22:43 = 1KI 22:43
1KI 22:43 = 1KI 22:44
1KI 22:44-53 = 1KI 22:45-54
2KI 11:21 = 2KI 12:1
2KI 12:1-21 = 2KI 12:2-22
1CH 6:1-15 = 1CH 5:27-41
1CH 6:16-81 = 1CH 6:1-66
# 1CH 12:4b = 1CH 12:5   # cant handle split verses yet
1CH 12:4 = 1CH 12:4
1CH 12:4 = 1CH 12:5
1CH 12:5-40 = 1CH 12:6-41
2CH 2:1 = 2CH 1:18
2CH 2:2-18 = 2CH 2:1-17
2CH 14:1 = 2CH 13:23
2CH 14:2-15 = 2CH 14:1-14
NEH 4:1-6 = NEH 3:33-38
NEH 4:7-23 = NEH 4:1-17
# NEH 7:68 = NEH 7:67b   # cant handle split verses yet
NEH 7:67 = NEH 7:67
NEH 7:68 = NEH 7:67
NEH 7:69-73 = NEH 7:68-72
NEH 9:38 = NEH 10:1
NEH 10:1-39 = NEH 10:2-40
JOB 39:31-35 = JOB 40:1-5
JOB 40:1-19 = JOB 40:6-24
JOB 40:20-27 = JOB 40:25-32
# PSA 9 = 9+10
PSA 9:22 = PSA 10:0
PSA 9:22-39 = PSA 10:1-18
PSA 10:0-7 = PSA 11:0-7
PSA 11:0-9 = PSA 12:0-9
PSA 12:0-6 = PSA 13:0-6
PSA 13:0-7 = PSA 14:0-7
PSA 14:0-5 = PSA 15:0-5
PSA 15:0-11 = PSA 16:0-11
PSA 16:0-15 = PSA 17:0-15
PSA 17:0-51 = PSA 18:0-51
PSA 18:0-15 = PSA 19:0-15
PSA 19:0-10 = PSA 20:0-10
PSA 20:0-14 = PSA 21:0-14
PSA 21:0-32 = PSA 22:0-32
PSA 22:0-6 = PSA 23:0-6
PSA 23:0-10 = PSA 24:0-10
PSA 24:0-22 = PSA 25:0-22
PSA 25:0-12 = PSA 26:0-12
PSA 26:0-14 = PSA 27:0-14
PSA 27:0-9 = PSA 28:0-9
PSA 28:0-11 = PSA 29:0-11
PSA 29:0-13 = PSA 30:0-13
PSA 30:0-25 = PSA 31:0-25
PSA 31:0-11 = PSA 32:0-11
PSA 32:0-22 = PSA 33:0-22
PSA 33:0-23 = PSA 34:0-23
PSA 34:0-28 = PSA 35:0-28
PSA 35:0-13 = PSA 36:0-13
PSA 36:0-40 = PSA 37:0-40
PSA 37:0-23 = PSA 38:0-23
PSA 38:0-14 = PSA 39:0-14
PSA 39:0-18 = PSA 40:0-18
PSA 40:0-14 = PSA 41:0-14
PSA 41:0-12 = PSA 42:0-12
PSA 42:0-5 = PSA 43:0-5
PSA 43:0-27 = PSA 44:0-27
PSA 44:0-18 = PSA 45:0-18
PSA 45:0-12 = PSA 46:0-12
PSA 46:0-10 = PSA 47:0-10
PSA 47:0-15 = PSA 48:0-15
PSA 48:0-21 = PSA 49:0-21
PSA 49:0-23 = PSA 50:0-23
PSA 50:0-21 = PSA 51:0-21
PSA 51:0-11 = PSA 52:0-11
PSA 52:0-7 = PSA 53:0-7
PSA 53:0-9 = PSA 54:0-9
PSA 54:0-24 = PSA 55:0-24
PSA 55:0-14 = PSA 56:0-14
PSA 56:0-12 = PSA 57:0-12
PSA 57:0-12 = PSA 58:0-12
PSA 58:0-18 = PSA 59:0-18
PSA 59:0-14 = PSA 60:0-14
PSA 60:0-9 = PSA 61:0-9
PSA 61:0-13 = PSA 62:0-13
PSA 62:0-12 = PSA 63:0-12
PSA 63:0-11 = PSA 64:0-11
PSA 64:0-14 = PSA 65:0-14
PSA 65:0-20 = PSA 66:0-20
PSA 66:0-8 = PSA 67:0-8
PSA 67:0-36 = PSA 68:0-36
PSA 68:0-37 = PSA 69:0-37
PSA 69:0-6 = PSA 70:0-6
PSA 70:0-24 = PSA 71:0-24
PSA 71:0-20 = PSA 72:0-20
PSA 72:0-28 = PSA 73:0-28
PSA 73:0-23 = PSA 74:0-23
PSA 74:0-11 = PSA 75:0-11
PSA 75:0-13 = PSA 76:0-13
PSA 76:0-21 = PSA 77:0-21
PSA 77:0-72 = PSA 78:0-72
PSA 78:0-13 = PSA 79:0-13
PSA 79:0-20 = PSA 80:0-20
PSA 80:0-17 = PSA 81:0-17
PSA 81:0-8 = PSA 82:0-8
PSA 82:0-19 = PSA 83:0-19
PSA 83:0-13 = PSA 84:0-13
PSA 84:0-14 = PSA 85:0-14
PSA 85:0-17 = PSA 86:0-17
PSA 86:0-1 = PSA 87:0-1
PSA 86:2 = PSA 87:1
PSA 86:2-7 = PSA 87:2-7
PSA 87:0-19 = PSA 88:0-19
PSA 88:0-53 = PSA 89:0-53
PSA 89:0-1 = PSA 90:0
PSA 89:2-6 = PSA 90:1-5
PSA 89:6 = PSA 90:6
PSA 89:7-17 = PSA 90:7-17
PSA 90:0-16 = PSA 91:0-16
PSA 91:0-16 = PSA 92:0-16
PSA 92:0-5 = PSA 93:0-5
PSA 93:0-23 = PSA 94:0-23
PSA 94:0-11 = PSA 95:0-11
PSA 95:0-13 = PSA 96:0-13
PSA 96:0-12 = PSA 97:0-12
PSA 97:0-9 = PSA 98:0-9
PSA 98:0-9 = PSA 99:0-9
PSA 99:0-5 = PSA 100:0-5
PSA 100:0-8 = PSA 101:0-8
PSA 101:0-29 = PSA 102:0-29
PSA 102:0-22 = PSA 103:0-22
PSA 103:0-35 = PSA 104:0-35
PSA 104:0-45 = PSA 105:0-45
PSA 105:0-48 = PSA 106:0-48
PSA 106:0-43 = PSA 107:0-43
PSA 107:0-14 = PSA 108:0-14
PSA 108:0-31 = PSA 109:0-31
PSA 109:0-7 = PSA 110:0-7
PSA 110:0-10 = PSA 111:0-10
PSA 111:0-10 = PSA 112:0-10
PSA 112:0-9 = PSA 113:0-9
PSA 113:0-8 = PSA 114:0-8
PSA 113:9 = PSA 115:0
PSA 113:9-26 = PSA 115:1-18
PSA 114:0-9 = PSA 116:0-9
PSA 115:0 = PSA 116:10
PSA 115:1-10 = PSA 116:10-19	
PSA 116:0-2 = PSA 117:0-2
PSA 117:0-29 = PSA 118:0-29
PSA 118:0-176 = PSA 119:0-176
PSA 119:0-7 = PSA 120:0-7
PSA 120:0-8 = PSA 121:0-8
PSA 121:0-9 = PSA 122:0-9
PSA 122:0-4 = PSA 123:0-4
PSA 123:0-8 = PSA 124:0-8
PSA 124:0-5 = PSA 125:0-5
PSA 125:0-6 = PSA 126:0-6
PSA 126:0-5 = PSA 127:0-5
PSA 127:0-6 = PSA 128:0-6
PSA 128:0-8 = PSA 129:0-8
PSA 129:0-8 = PSA 130:0-8
PSA 130:0-3 = PSA 131:0-3
PSA 131:0-18 = PSA 132:0-18
PSA 132:0-3 = PSA 133:0-3
PSA 133:0-3 = PSA 134:0-3
PSA 134:0-21 = PSA 135:0-21
PSA 135:0-26 = PSA 136:0-26
PSA 136:0-9 = PSA 137:0-9
PSA 137:0-8 = PSA 138:0-8
PSA 138:0-24 = PSA 139:0-24
PSA 139:0-14 = PSA 140:0-14
PSA 140:0-10 = PSA 141:0-10
PSA 141:0 = PSA 142:0-1
PSA 141:1-7 = PSA 142:2-8
PSA 142:0-12 = PSA 143:0-12
PSA 143:0-15 = PSA 144:0-15
PSA 144:0-21 = PSA 145:0-21
PSA 145:0-10 = PSA 146:0-10
# 146 + 147 -> 147
PSA 146:0-11 = PSA 147:0-11
PSA 147:0 = PSA 147:12
PSA 147:1-9 = PSA 147:12-20
SNG 1:1-16 = SNG 1:2-17
# ISA 3:19b = ISA 3:20   # cant handle split verses yet
ISA 3:19 = ISA 3:19
ISA 3:19 = ISA 3:20
ISA 3:20-25 = ISA 3:21-26
ISA 9:1 = ISA 8:23
ISA 9:2-21 = ISA 9:1-20
ISA 63:19 = ISA 63:19
ISA 64:1 = ISA 63:19
ISA 64:2-12 = ISA 64:1-11
JER 9:1 = JER 8:23
JER 9:2-26 = JER 9:1-25
EZK 20:45-49 = EZK 21:1-5
EZK 21:1-32 = EZK 21:6-37
DAN 5:31 = DAN 6:1
DAN 6:1-28 = DAN 6:2-29
HOS 1:10-11 = HOS 2:1-2
HOS 2:1-23 = HOS 2:3-25
HOS 11:12 = HOS 12:1
HOS 12:1-14 = HOS 12:2-15
JOL 2:28-32 = JOL 3:1-5
JOL 3:1-21 = JOL 4:1-21
MIC 5:1 = MIC 4:14
MIC 5:2-15 = MIC 5:1-14
NAM 1:15 = NAM 2:1
NAM 2:1-13 = NAM 2:2-14
ZEC 1:18-21 = ZEC 2:1-4
ZEC 2:1-13 = ZEC 2:5-17
MAL 4:1-6 = MAL 3:19-24
ROM 14:24-26 = ROM 16:25-27
# 2CO 11:32b = 2CO 11:33   # cant handle split verses yet
2CO 11:32 = 2CO 11:32
2CO 11:32 = 2CO 11:33
# REV 13:1a = REV 12:18   # cant handle split verses yet
# REV 13:1b = REV 13:1    # cant handle split verses yet
REV 13:1 = REV 12:18
REV 13:1 = REV 13:1
`,EK=`# Versification  "Russian Orthodox"
# Version=1.3
#
# This is the versification used by the Orthodox (or "non-canonical") edition of the Russian Synodal Bible
# Initial version provided by Peter_Kirk@sil.org
# Corrected 27/May/2003 by matjaz.crnivec@drustvo-svds.si:
#   Number of vss: 2CH 37; PSA 114; ISA 3; REV 12; 2ES (whole book added),
#   Mappings: LEV 14; 1KI 22; 1CH 12; 2CH 37; NEH 7; PSA 114; ISA 3; 2CO 11; REV 13; 2ES 7; 10
#
# modifications by Studge 26/June/2009
# amended by HAB April 2010
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
#----------------------------------------------------------
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38
LEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:56 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:15 13:34 14:45 15:41 16:50 17:13 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:24 5:16 6:26 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:36
JDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:43 21:15 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25
1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:53
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:47 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23 37:12
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44
NEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31
#--------------
# Notes EST is the Greek Esther which should have been under ESG
EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
#--------------
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:35 40:27 41:26 42:17
PSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:39 10:7 11:9 12:6 13:7 14:5 15:11 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:27 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:14 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:8 115:10 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:7 142:12 143:15 144:21 145:10 146:11 147:9 148:14 149:9 150:6 151:7
PRO 1:33 2:22 3:35 4:29 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:26 14:35 15:33 16:33 17:28 18:25 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14
SNG 1:16 2:17 3:11 4:16 5:16 6:12 7:14 8:14
ISA 1:31 2:22 3:25 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
DAN 1:21 2:49 3:100 4:34 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:64 14:42
HOS 1:11 2:23 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:15 14:10
JOL 1:20 2:32 3:21
AMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15
OBA 1:21
JON 1:16 2:11 3:10 4:11
MIC 1:16 2:13 3:12 4:13 5:15 6:16 7:20
NAM 1:15 2:13 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:15 2:23
ZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:18 4:6
#----------------------------------------------------
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:26 15:33 16:24
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:32 12:21 13:13
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:17 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
#---------------------------------------------
TOB 1:22 2:14 3:17 4:21 5:22 6:18 7:17 8:21 9:6 10:13 11:18 12:22 13:18 14:15
JDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:14 16:25
# ESG added which ought to replace EST
ESG 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
WIS 1:16 2:24 3:19 4:20 5:24 6:27 7:30 8:21 9:19 10:21 11:27 12:28 13:19 14:31 15:19 16:29 17:20 18:25 19:21
SIR 1:30 2:18 3:31 4:35 5:18 6:37 7:39 8:22 9:23 10:34 11:34 12:18 13:32 14:27 15:20 16:31 17:31 18:33 19:28 20:31 21:31 22:31 23:37 24:37 25:29 26:27 27:33 28:30 29:31 30:27 31:37 32:25 33:33 34:26 35:23 36:29 37:34 38:39 39:42 40:32 41:29 42:26 43:36 44:27 45:31 46:23 47:31 48:28 49:18 50:31 51:38
BAR 1:22 2:35 3:38 4:37 5:9
LJE 1:72
1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24
2MA 1:36 2:33 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39
3MA 1:25 2:24 3:22 4:16 5:36 6:37 7:20
1ES 1:58 2:31 3:24 4:63 5:70 6:34 7:15 8:92 9:55
# in the Russian tradition the book of 1ES is called 2 Esdras [Studge]
2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:70 8:63 9:47 10:60 11:46 12:51 13:58 14:48 15:63 16:78
# in the Russian tradition the book of 2ES is called 3 Esdras [Studge]
# added Prayer of Manasseh which is appended to 2 Chronicles in RSO
MAN 1:15
#
#----------------------------------------------
# Mapping
#----------------------------------------------
# Russian = BHS (see org.vrs)
#
# (Note: ranges must not span a chapter, e.g. 4:10-5:11 is illegal)
#
GEN 31:55 = GEN 32:1
GEN 32:1-32 = GEN 32:2-33
EXO 8:1-4 = EXO 7:26-29
EXO 8:5-32 = EXO 8:1-28
EXO 22:1 = EXO 21:37
EXO 22:2-31 = EXO 22:1-30
LEV 6:1-7 = LEV 5:20-26
LEV 6:8-30 = LEV 6:1-23
# LEV 14:55 = LEV 14:55-56
LEV 14:55 = LEV 14:55
LEV 14:55 = LEV 14:56
LEV 14:56 = LEV 14:57
NUM 13:1 = NUM 12:16
NUM 13:2-34 = NUM 13:1-33
NUM 16:36-50 = NUM 17:1-15
NUM 17:1-13 = NUM 17:16-28
NUM 26:1 = NUM 25:19
NUM 26:1 = NUM 26:1
DEU 12:32 = DEU 13:1
DEU 13:1-18 = DEU 13:2-19
DEU 22:30 = DEU 23:1
DEU 23:1-25 = DEU 23:2-26
DEU 29:1 = DEU 28:69
DEU 29:2-29 = DEU 29:1-28
JOS 5:16 = JOS 6:1
JOS 6:1-26 = JOS 6:2-27
1SA 20:43 = 1SA 21:1
1SA 21:1-15 = 1SA 21:2-16
2SA 18:33 = 2SA 19:1
2SA 19:1-43 = 2SA 19:2-44
1KI 4:21-34 = 1KI 5:1-14
1KI 5:1-18 = 1KI 5:15-32
# 1KI 22:43 = 1KI 22:43-44
1KI 22:43 = 1KI 22:43
1KI 22:43 = 1KI 22:44
1KI 22:44-53 = 1KI 22:45-54
2KI 11:21 = 2KI 12:1
2KI 12:1-21 = 2KI 12:2-22
1CH 6:1-15 = 1CH 5:27-41
1CH 6:16-81 = 1CH 6:1-66
# 1CH 12:4 = 1CH 12:4-5
1CH 12:4 = 1CH 12:4
1CH 12:4 = 1CH 12:5
1CH 12:5-40 = 1CH 12:6-41
2CH 2:1 = 2CH 1:18
2CH 2:2-18 = 2CH 2:1-17
2CH 14:1 = 2CH 13:23
2CH 14:2-15 = 2CH 14:1-14
# All the 37th chapter maps across verse boundaries!
#-----------------------
# Prayer of Manasseh
2CH 37:1 = MAN 1:1
2CH 37:2 = MAN 1:2
2CH 37:2 = MAN 1:3
2CH 37:2 = MAN 1:4
2CH 37:2 = MAN 1:5
2CH 37:3 = MAN 1:5
2CH 37:4 = MAN 1:6
2CH 37:5 = MAN 1:7
2CH 37:6 = MAN 1:7
2CH 37:6 = MAN 1:8
2CH 37:7 = MAN 1:8
2CH 37:7 = MAN 1:9
2CH 37:8 = MAN 1:9
2CH 37:8 = MAN 1:10
2CH 37:9 = MAN 1:10
2CH 37:10 = MAN 1:10
2CH 37:10 = MAN 1:11
2CH 37:11 = MAN 1:12
2CH 37:11 = MAN 1:13
2CH 37:11 = MAN 1:14
2CH 37:11 = MAN 1:15
2CH 37:12 = MAN 1:15
#--------------------------
NEH 4:1-6 = NEH 3:33-38
NEH 4:7-23 = NEH 4:1-17
# NEH 7:67-68 = NEH 7:67
NEH 7:67 = NEH 7:67
NEH 7:68 = NEH 7:67
NEH 7:69-73 = NEH 7:68-72
NEH 9:38 = NEH 10:1
NEH 10:1-39 = NEH 10:2-40
JOB 39:31-35 = JOB 40:1-5
JOB 40:1-19 = JOB 40:6-24
JOB 40:20-27 = JOB 40:25-32
# PSA 9 = 9+10
PSA 9:22 = PSA 10:0
PSA 9:22-39 = PSA 10:1-18
PSA 10:0-7 = PSA 11:0-7
PSA 11:0-9 = PSA 12:0-9
PSA 12:0-6 = PSA 13:0-6
PSA 13:0-7 = PSA 14:0-7
PSA 14:0-5 = PSA 15:0-5
PSA 15:0-11 = PSA 16:0-11
PSA 16:0-15 = PSA 17:0-15
PSA 17:0-51 = PSA 18:0-51
PSA 18:0-15 = PSA 19:0-15
PSA 19:0-10 = PSA 20:0-10
PSA 20:0-14 = PSA 21:0-14
PSA 21:0-32 = PSA 22:0-32
PSA 22:0-6 = PSA 23:0-6
PSA 23:0-10 = PSA 24:0-10
PSA 24:0-22 = PSA 25:0-22
PSA 25:0-12 = PSA 26:0-12
PSA 26:0-14 = PSA 27:0-14
PSA 27:0-9 = PSA 28:0-9
PSA 28:0-11 = PSA 29:0-11
PSA 29:0-13 = PSA 30:0-13
PSA 30:0-25 = PSA 31:0-25
PSA 31:0-11 = PSA 32:0-11
PSA 32:0-22 = PSA 33:0-22
PSA 33:0-23 = PSA 34:0-23
PSA 34:0-28 = PSA 35:0-28
PSA 35:0-13 = PSA 36:0-13
PSA 36:0-40 = PSA 37:0-40
PSA 37:0-23 = PSA 38:0-23
PSA 38:0-14 = PSA 39:0-14
PSA 39:0-18 = PSA 40:0-18
PSA 40:0-14 = PSA 41:0-14
PSA 41:0-12 = PSA 42:0-12
PSA 42:0-5 = PSA 43:0-5
PSA 43:0-27 = PSA 44:0-27
PSA 44:0-18 = PSA 45:0-18
PSA 45:0-12 = PSA 46:0-12
PSA 46:0-10 = PSA 47:0-10
PSA 47:0-15 = PSA 48:0-15
PSA 48:0-21 = PSA 49:0-21
PSA 49:0-23 = PSA 50:0-23
PSA 50:0-21 = PSA 51:0-21
PSA 51:0-11 = PSA 52:0-11
PSA 52:0-7 = PSA 53:0-7
PSA 53:0-9 = PSA 54:0-9
PSA 54:0-24 = PSA 55:0-24
PSA 55:0-14 = PSA 56:0-14
PSA 56:0-12 = PSA 57:0-12
PSA 57:0-12 = PSA 58:0-12
PSA 58:0-18 = PSA 59:0-18
PSA 59:0-14 = PSA 60:0-14
PSA 60:0-9 = PSA 61:0-9
PSA 61:0-13 = PSA 62:0-13
PSA 62:0-12 = PSA 63:0-12
PSA 63:0-11 = PSA 64:0-11
PSA 64:0-14 = PSA 65:0-14
PSA 65:0-20 = PSA 66:0-20
PSA 66:0-8 = PSA 67:0-8
PSA 67:0-36 = PSA 68:0-36
PSA 68:0-37 = PSA 69:0-37
PSA 69:0-6 = PSA 70:0-6
PSA 70:0-24 = PSA 71:0-24
PSA 71:0-20 = PSA 72:0-20
PSA 72:0-28 = PSA 73:0-28
PSA 73:0-23 = PSA 74:0-23
PSA 74:0-11 = PSA 75:0-11
PSA 75:0-13 = PSA 76:0-13
PSA 76:0-21 = PSA 77:0-21
PSA 77:0-72 = PSA 78:0-72
PSA 78:0-13 = PSA 79:0-13
PSA 79:0-20 = PSA 80:0-20
PSA 80:0-17 = PSA 81:0-17
PSA 81:0-8 = PSA 82:0-8
PSA 82:0-19 = PSA 83:0-19
PSA 83:0-13 = PSA 84:0-13
PSA 84:0-14 = PSA 85:0-14
PSA 85:0-17 = PSA 86:0-17
PSA 86:0-1 = PSA 87:1
PSA 86:2 = PSA 87:1
PSA 86:2-7 = PSA 87:2-7
PSA 87:0-19 = PSA 88:0-19
PSA 88:0-53 = PSA 89:0-53
PSA 89:0-1 = PSA 90:0-1
PSA 89:2-6 = PSA 90:1-6
PSA 89:7-17 = PSA 90:7-17
PSA 90:0-16 = PSA 91:0-16
PSA 91:0-16 = PSA 92:0-16
PSA 92:0-5 = PSA 93:0-5
PSA 93:0-23 = PSA 94:0-23
PSA 94:0-11 = PSA 95:0-11
PSA 95:0-13 = PSA 96:0-13
PSA 96:0-12 = PSA 97:0-12
PSA 97:0-9 = PSA 98:0-9
PSA 98:0-9 = PSA 99:0-9
PSA 99:0-5 = PSA 100:0-5
PSA 100:0-8 = PSA 101:0-8
PSA 101:0-29 = PSA 102:0-29
PSA 102:0-22 = PSA 103:0-22
PSA 103:0-35 = PSA 104:0-35
PSA 104:0-45 = PSA 105:0-45
PSA 105:0-48 = PSA 106:0-48
PSA 106:0-43 = PSA 107:0-43
PSA 107:0-14 = PSA 108:0-14
PSA 108:0-31 = PSA 109:0-31
PSA 109:0-7 = PSA 110:0-7
PSA 110:0-10 = PSA 111:0-10
PSA 111:0-10 = PSA 112:0-10
PSA 112:0-9 = PSA 113:0-9
PSA 113:0-8 = PSA 114:0-8
PSA 113:9 = PSA 115:0
PSA 113:9-26 = PSA 115:1-18
PSA 114:0-8 = PSA 116:0-8
PSA 114:8 = PSA 116:9
PSA 115:0-10 = PSA 116:10-19	
PSA 116:0-2 = PSA 117:0-2
PSA 117:0-29 = PSA 118:0-29
PSA 118:0-176 = PSA 119:0-176
PSA 119:0-7 = PSA 120:0-7
PSA 120:0-8 = PSA 121:0-8
PSA 121:0-9 = PSA 122:0-9
PSA 122:0-4 = PSA 123:0-4
PSA 123:0-8 = PSA 124:0-8
PSA 124:0-5 = PSA 125:0-5
PSA 125:0-6 = PSA 126:0-6
PSA 126:0-5 = PSA 127:0-5
PSA 127:0-6 = PSA 128:0-6
PSA 128:0-8 = PSA 129:0-8
PSA 129:0-8 = PSA 130:0-8
PSA 130:0-3 = PSA 131:0-3
PSA 131:0-18 = PSA 132:0-18
PSA 132:0-3 = PSA 133:0-3
PSA 133:0-3 = PSA 134:0-3
PSA 134:0-21 = PSA 135:0-21
PSA 135:0-26 = PSA 136:0-26
PSA 136:0-9 = PSA 137:0-9
PSA 137:0-8 = PSA 138:0-8
PSA 138:0-24 = PSA 139:0-24
PSA 139:0-14 = PSA 140:0-14
PSA 140:0-10 = PSA 141:0-10
PSA 141:0 = PSA 142:0
PSA 141:1-7 = PSA 142:2-8
PSA 142:0-12 = PSA 143:0-12
PSA 143:0-15 = PSA 144:0-15
PSA 144:0-21 = PSA 145:0-21
PSA 145:0-10 = PSA 146:0-10
# 146 + 147 -> 147
PSA 146:0-11 = PSA 147:0-11
PSA 147:0 = PSA 147:12
PSA 147:1-9 = PSA 147:12-20
#---------------------------
# additional LXX Psalm
PSA 151:1-7 = PS2 1:1-7
#----------------------------
PRO 13:15-26 = PRO 13:14-25
PRO 18:9-25 = PRO 18:8-24
SNG 1:1-16 = SNG 1:2-17
# ISA 3:19 = ISA 3:19-20
ISA 3:19 = ISA 3:19
ISA 3:19 = ISA 3:20
ISA 3:20-25 = ISA 3:16-21
ISA 9:1 = ISA 8:23
ISA 9:2-21 = ISA 9:1-20
ISA 63:19 = ISA 63:19
ISA 64:1 = ISA 63:19
ISA 64:2-12 = ISA 64:1-11
JER 9:1 = JER 8:23
JER 9:2-26 = JER 9:1-25
EZK 20:45-49 = EZK 21:1-5
EZK 21:1-32 = EZK 21:6-37
HOS 1:10-11 = HOS 2:1-2
HOS 2:1-23 = HOS 2:3-25
HOS 11:12 = HOS 12:1
HOS 12:1-14 = HOS 12:2-15
JOL 2:28-32 = JOL 3:1-5
JOL 3:1-21 = JOL 4:1-21
MIC 5:1 = MIC 4:14
MIC 5:2-15 = MIC 5:1-14
NAM 1:15 = NAM 2:1
NAM 2:1-13 = NAM 2:2-14
ZEC 1:18-21 = ZEC 2:1-4
ZEC 2:1-13 = ZEC 2:5-17
MAL 4:1-6 = MAL 3:19-24
ROM 14:24-26 = ROM 16:25-27
# 2CO 11:32 = 2CO 11:32-33
2CO 11:32 = 2CO 11:32
2CO 11:32 = 2CO 11:33
# REV 13:1 = REV 12:18-13:1
REV 13:1 = REV 12:18
REV 13:1 = REV 13:1
#----------------------------
2ES 7:36-70 = 2ES 7:106-140
# 2ES 10:59-60 = 2ES 10:59
2ES 10:59 = 2ES 10:59
2ES 10:60 = 2ES 10:59
#---------------------------------------------------------
# Mapping 2 Esdras onto the older Apocalypse of Ezra [Studge]
2ES 3:1-36 = EZA 1:1-36
2ES 4:1-52 = EZA 2:1-52
2ES 5:1-56 = EZA 3:1-56
2ES 6:1-59 = EZA 4:1-59
2ES 7:1-35 = EZA 5:1-35
2ES 7:106-140 = EZA 5:36-70
2ES 8:1-63 = EZA 6:1-63
2ES 9:1-47 = EZA 7:1-47
2ES 10:1-60 = EZA 8:1-60
2ES 11:1-46 = EZA 9:1-46
2ES 12:1-51 = EZA 10:1-51
2ES 13:1-58 = EZA 11:1-58
2ES 14:1-48 = EZA 12:1-48
#----------------------------------------------------
# Mapping Daniel to Hebrew Daniel and Greek additions [HAB]
DAN 3:24-90 = DAG 3:24-90
DAN 3:91-100 = DAN 3:24-33
# Susanna
DAN 13:1-64 = SUS 1:1-64
# Bel and the Dragon
DAN 14:1-42 = BEL 1:1-42
#--------------------------------------------------
# Mapping Esther Greek onto LXX Esther Greek
#
# This maps the standard verses generated by Create Book
# to the actual verse numbers and segments found in the LXX
# ESG chapter 1
ESG 1:1 = ESG 1:1a
ESG 1:2 = ESG 1:1b
ESG 1:3 = ESG 1:1c
ESG 1:4 = ESG 1:1d
ESG 1:5 = ESG 1:1e
ESG 1:6 = ESG 1:1f
ESG 1:7 = ESG 1:1g
ESG 1:8 = ESG 1:1h
ESG 1:9 = ESG 1:1i
ESG 1:10 = ESG 1:1k
ESG 1:11 = ESG 1:1l
ESG 1:12 = ESG 1:1m
ESG 1:13 = ESG 1:1n
ESG 1:14 = ESG 1:1o
ESG 1:15 = ESG 1:1p
ESG 1:16 = ESG 1:1q
ESG 1:17 = ESG 1:1r
ESG 1:18 = ESG 1:1s
ESG 1:19-39 = ESG 1:2-22
# ESG chapter 3
ESG 3:14 = ESG 3:13a
ESG 3:15 = ESG 3:13b
ESG 3:16 = ESG 3:13c
ESG 3:17 = ESG 3:13d
ESG 3:18 = ESG 3:13e
ESG 3:19 = ESG 3:13f
ESG 3:20 = ESG 3:13g
ESG 3:21 = ESG 3:14
ESG 3:22 = ESG 3:15
# ESG chapter 4
ESG 4:18 = ESG 4:17a
ESG 4:19 = ESG 4:17b
ESG 4:20 = ESG 4:17c
ESG 4:21 = ESG 4:17c
ESG 4:22 = ESG 4:17d
ESG 4:23 = ESG 4:17d
ESG 4:24 = ESG 4:17e
ESG 4:25 = ESG 4:17f
ESG 4:26 = ESG 4:17g
ESG 4:27 = ESG 4:17h
ESG 4:28 = ESG 4:17i
ESG 4:29 = ESG 4:17k
ESG 4:30 = ESG 4:17k
ESG 4:31 = ESG 4:17k
ESG 4:32 = ESG 4:17l
ESG 4:33 = ESG 4:17m
ESG 4:34 = ESG 4:17n
ESG 4:35 = ESG 4:17n
ESG 4:36 = ESG 4:17o
ESG 4:37 = ESG 4:17o
ESG 4:38 = ESG 4:17p
ESG 4:39 = ESG 4:17q
ESG 4:40 = ESG 4:17r
ESG 4:41 = ESG 4:17s
ESG 4:42 = ESG 4:17t
ESG 4:43 = ESG 4:17u
ESG 4:44 = ESG 4:17w
ESG 4:45 = ESG 4:17x
ESG 4:46 = ESG 4:17y
ESG 4:47 = ESG 4:17z
# ESG chapter 5
ESG 5:2 = ESG 5:1a
ESG 5:3 = ESG 5:1a
ESG 5:4 = ESG 5:1a
ESG 5:5 = ESG 5:1b
ESG 5:6 = ESG 5:1c
ESG 5:7 = ESG 5:1d
ESG 5:8 = ESG 5:1e
ESG 5:9 = ESG 5:1f
ESG 5:10 = ESG 5:1f
ESG 5:11 = ESG 5:2
ESG 5:12 = ESG 5:2
ESG 5:13 = ESG 5:2a
ESG 5:14 = ESG 5:2a
ESG 5:15 = ESG 5:2b
ESG 5:16 = ESG 5:2b
ESG 5:17-28 = ESG 5:3-14
# ESG chapter 8
ESG 8:13 = ESG 8:12a
ESG 8:14 = ESG 8:12b
ESG 8:15 = ESG 8:12c
ESG 8:16 = ESG 8:12d
ESG 8:17 = ESG 8:12e
ESG 8:18 = ESG 8:12f
ESG 8:19 = ESG 8:12g
ESG 8:20 = ESG 8:12h
ESG 8:21 = ESG 8:12i
ESG 8:22 = ESG 8:12k
ESG 8:23 = ESG 8:12l
ESG 8:24 = ESG 8:12m
ESG 8:25 = ESG 8:12n
ESG 8:26 = ESG 8:12o
ESG 8:27 = ESG 8:12p
ESG 8:28 = ESG 8:12q
ESG 8:29 = ESG 8:12r
ESG 8:30 = ESG 8:12s
ESG 8:31 = ESG 8:12t
ESG 8:32 = ESG 8:12u
ESG 8:33 = ESG 8:12x
ESG 8:34 = ESG 8:12y
ESG 8:35 = ESG 8:12y
ESG 8:36 = ESG 8:12y
ESG 8:37-41 = ESG 8:13-17
# ESG chapter 10
ESG 10:4 = ESG 10:3a
ESG 10:5 = ESG 10:3b
ESG 10:6 = ESG 10:3c
ESG 10:7 = ESG 10:3d
ESG 10:8 = ESG 10:3e
ESG 10:9 = ESG 10:3f
ESG 10:10 = ESG 10:3g
ESG 10:11 = ESG 10:3h
ESG 10:12 = ESG 10:3i
ESG 10:13 = ESG 10:3k
ESG 10:14 = ESG 10:3l
`,vK=`# Versification  "Vulgate"
# Version=1.5
# 
# modifications by Studge 26/June/2009
# this is for Bibles which follow the versification of the Vulgate, mainly Catholic Bibles
# therefore this includes deuterocanonical books from Vulgate and Latin manuscripts
# Vulgate projects in Paratext are VUL83 (Stuttgart text) and NVL98 (Nova Vulgata) [Studge]
#
# mapping for XXA -> PSA has been deleted  [requested by RdB - Barb]
# XXB has been moved to LAO [Barb] Jan 2011
#
# No mapping done for TOB, JDT and SIR, since they seem to follow another 'vorlage' than LXX
# The versification of 2ES present here should become THE standard/original versification of this book! (Vulgate is 'the original' text of this book)
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
#-----------------------------------------------------------
# Old Testament
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:32 50:25
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:36
LEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:45 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:34 12:15 13:34 14:45 15:41 16:50 17:13 18:32 19:22 20:30 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:25 5:16 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:43 22:34 23:16 24:33
JDG 1:36 2:23 3:31 4:24 5:32 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:24
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:43 21:15 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25
1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:54
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:46 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:7 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44
# EZR is for the Vulgate book called 1 Esdras
NEH 1:11 2:20 3:31 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:46 13:31
# NEH is for the Vulgate book called 2 Esdras
#------------------------------------
# In the Vulgate projects VUL83 Esther is the Greek Esther not Hebrew Esther, this definition is for Greek Esther. The book has been put under EST instead of ESG [Studge]
# in VUL83 the definition of EST is
#EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:13 11:12 12:6 13:18 14:19 15:19 16:24
# in NVL98 Nova Vulgata the definition of EST is
EST 1:32 2:23 3:15 4:47 5:28 6:14 7:10 8:41 9:32 10:13 
# Note that chapter 3 v 15 is 15a-i
# Note that chapter 4 v 47 is 17aa-kk
#-----------------------------------
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:23 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:35 40:28 41:25 42:16
PSA 1:6 2:13 3:9 4:10 5:13 6:11 7:18 8:10 9:39 10:8 11:9 12:6 13:7 14:5 15:10 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:26 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:13 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:19 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:8 142:12 143:15 144:21 145:10 146:11 147:20 148:14 149:9 150:6
PRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:17 5:19 6:11 7:30 8:17 9:18 10:20 11:10 12:14
SNG 1:16 2:17 3:11 4:16 5:17 6:12 7:13 8:14
ISA 1:31 2:22 3:26 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:20 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:9 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
#-------------------
# Daniel in NVL98 has 14 chapters and is Greek LXX Daniel
# the Additions to Daniel are repeated in S3Y, SUS and BEL in NVL98
# in NVL98 and VUL83, DAN is used for Greek Daniel and it should be under DAG
DAN 1:21 2:49 3:100 4:34 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:65 14:41
#
#--------------------
HOS 1:11 2:24 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:15 14:10
JOL 1:20 2:32 3:21
AMO 1:15 2:16 3:15 4:13 5:27 6:15 7:17 8:14 9:15
OBA 1:21
JON 1:16 2:11 3:10 4:11
MIC 1:16 2:13 3:12 4:13 5:14 6:16 7:20
NAM 1:15 2:13 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:14 2:24
ZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:18 4:6
#--------------------------------------
# New Testament books
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:26 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:40 5:43 6:56 7:37 8:39 9:49 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:72 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:59 8:40 9:43 10:48 11:30 12:25 13:52 14:27 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:13
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
#-------------------------------------------------
# Deuterocanonical books in the Catholic tradition
TOB 1:25 2:23 3:25 4:23 5:28 6:22 7:20 8:24 9:12 10:13 11:21 12:22 13:23 14:17
JDT 1:12 2:18 3:15 4:17 5:29 6:21 7:25 8:34 9:19 10:20 11:21 12:20 13:31 14:18 15:15 16:31
#---------
# ESG for Esther Greek has been put under EST in NVL98, a blank ESG was included in VUL83
# this definition for ESG is for the full Esther Greek which is in the Vulgate NVL98 [Studge]
ESG 1:39 2:23 3:22 4:47 5:28 6:14 7:10 8:39 9:32 10:13
#---------
WIS 1:16 2:25 3:19 4:20 5:24 6:27 7:30 8:21 9:19 10:21 11:27 12:27 13:19 14:31 15:19 16:29 17:20 18:25 19:20
SIR 1:40 2:23 3:34 4:36 5:18 6:37 7:40 8:22 9:25 10:34 11:36 12:19 13:32 14:27 15:22 16:31 17:31 18:33 19:28 20:33 21:31 22:33 23:38 24:47 25:36 26:28 27:33 28:30 29:35 30:27 31:42 32:28 33:33 34:31 35:26 36:28 37:34 38:39 39:41 40:32 41:28 42:26 43:37 44:27 45:31 46:23 47:31 48:28 49:19 50:31 51:38 52:13
BAR 1:22 2:35 3:38 4:37 5:9 6:72
LJE 1:72
# NB Letter of Jeremiah is chapter 6 of Baruch in the Vulgate tradition [Studge]
# the 3 additions to Daniel are part of Daniel in the Vulgate tradition [Studge]
S3Y 1:67
SUS 1:64
BEL 1:42
1MA 1:67 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:54 13:54 14:49 15:41 16:24
2MA 1:36 2:33 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:46 13:26 14:46 15:40
#--------------------------------------------------
# Note that 3MA and 4MA are in the LXX tradition but not in the Vulgate, and not in VUL83 Latin critical text, but maybe in Interconfessional editions [Studge]
3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23
4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24
#----------------------------------------------------
# 1ES, 2ES, MAN and PS2 are in the Vulgate Apocrypha, but not in modern Catholic Bibles, but maybe in Interconfessional editions [Studge]
1ES 1:58 2:31 3:24 4:63 5:73 6:34 7:15 8:97 9:56
# 1ES is for the Vulgate book called 3 Esdras
2ES 1:40 2:48 3:36 4:52 5:55 6:59 7:139 8:63 9:47 10:60 11:46 12:51 13:58 14:47 15:63 16:78
# 2ES is for the Vulgate book called 4 Esdras
MAN 1:15
PS2 1:7
#-----------------------------------------------------
# ODA and PSS are only in LXX and SYR and not needed in any Vulgate manuscripts or any Catholic Bibles, I am not convinced they are needed in this versification file [Studge]
#ODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46
#PSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12
#------------------------------------------------------
# Variant LXX books, only used in LXX, now obselete in Paratext 7, never part of Vulgate
# if these codes were used in any Vulgate versification projects they used the wrong code, and so the definitions are not relevant [Studge]
# JSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
# JDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
# TBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
# SST 1:64
# DNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
# BLT 1:42
#------------------------------------------------------
# add in versifications for 4,5 & 6 Ezra which are in Latin manuscripts [Studge]
5EZ 1:40 2:48 
EZA 1:36 2:52 3:55 4:59 5:139 6:63 7:47 8:60 9:46 10:51 11:58 12:47 
6EZ 1:63 12:78
#------------------------------------------------------
# XXA and XXB books in project VUL83, left for backward compatability
# XXA was used for a variant form of Psalms, but should be in a Latin Variant project [Studge]
# XXA 1:6 2:13 3:9 4:10 5:13 6:11 7:18 8:10 9:39 10:8 11:9 12:6 13:7 14:5 15:10 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:26 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:13 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:19 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:8 142:12 143:15 144:21 145:10 146:11 147:20 148:14 149:9 150:6
# XXB was used for the Letter to the Laodiceans, but should be under LAO [Studge]
# XXB 1:20
#----------------------------------------------------------
# Daniel Greek is currently under DAN [Studge]
DAG 1:21 2:49 3:97 4:37 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:64 14:42
# Letter to the Laodiceans in the VUL83 and some mediaeval translations of the Vulgate e.g. John Wycliffe's English Bible, appeared after Revelation [Studge]
LAO 1:20
#----------------------------------------------------------
# Mapping
#----------------------------------------------------------
# Vulgate = BHS (see org.vrs)
#
# (Note: for performance reasons ranges must not span a chapter, e.g. 4:10-5:11 is illegal)
#
GEN 31:55 = GEN 32:1
GEN 32:1-32 = GEN 32:2-33
# missing <- GEN 49:32
GEN 49:31 = GEN 49:31
GEN 49:31 = GEN 49:32
GEN 49:32 = GEN 49:33
# GEN 50:22 <- GEN 50:22-23
GEN 50:22 = GEN 50:22
GEN 50:22 = GEN 50:23
GEN 50:23-25 = GEN 50:24-26
EXO 8:1-4 = EXO 7:26-29
EXO 8:5-32 = EXO 8:1-28
EXO 22:1 = EXO 21:37
EXO 22:2-31 = EXO 22:1-30
# EXO 40:13 <- EXO 40:13-15
EXO 40:13 = EXO 40:13
EXO 40:13 = EXO 40:14
EXO 40:13 = EXO 40:15
EXO 40:14-36 = EXO 40:16-38
LEV 6:1-7 = LEV 5:20-26
LEV 6:8-30 = LEV 6:1-23
# LEV 26:45 <- LEV 26:45-46
LEV 26:45 = LEV 26:45
LEV 26:45 = LEV 26:46
# NUM 11:34 <- NUM 11:34-35
NUM 11:34 = NUM 11:34
NUM 11:34 = NUM 11:35
NUM 13:1 = NUM 12:16
NUM 13:2-34 = NUM 13:1-33
NUM 16:36-50 = NUM 17:1-15
NUM 17:1-13 = NUM 17:16-28
# NUM 20:28-29 -> NUM 20:28
NUM 20:28 = NUM 20:28
NUM 20:29 = NUM 20:28
NUM 20:30 = NUM 20:29
# NUM 26:1 <- NUM 25:19--26:1
NUM 26:1 = NUM 25:19
NUM 26:1 = NUM 26:1
DEU 12:32 = DEU 13:1
DEU 13:1-18 = DEU 13:2-19
DEU 22:30 = DEU 23:1
DEU 23:1-25 = DEU 23:2-26
DEU 29:1 = DEU 28:69
DEU 29:2-29 = DEU 29:1-28
# JOS 4:23-24 -> JOS 4:23
JOS 4:23 = JOS 4:23
JOS 4:24 = JOS 4:23
JOS 4:25 = JOS 4:24
# JOS 5:14-15 -> JOS 5:14
JOS 5:14 = JOS 5:14
JOS 5:15 = JOS 5:14
JOS 5:16 = JOS 5:15
# JOS 21:36 (missing) <- JOS 21:36-37
JOS 21:36 = JOS 21:36
JOS 21:36 = JOS 21:37
# JOS 21:37 <- JOS 21:38-39
JOS 21:37 = JOS 21:38
JOS 21:37 = JOS 21:39
JOS 21:38-43 = JOS 21:40-45
# JDG 5:31-32 -> JDG 5:31
JDG 5:31 = JDG 5:31
JDG 5:32 = JDG 5:31
# JDG 21:24 <- JDG 21:24-25
JDG 21:24 = JDG 21:24
JDG 21:24 = JDG 21:25
1SA 20:43 = 1SA 21:1
1SA 21:1-15 = 1SA 21:2-16
2SA 18:33 = 2SA 19:1
2SA 19:1-43 = 2SA 19:2-44
1KI 4:21-34 = 1KI 5:1-14
1KI 5:1-18 = 1KI 5:15-32
2KI 11:21 = 2KI 12:1
2KI 12:1-21 = 2KI 12:2-22
1CH 6:1-15 = 1CH 5:27-41
1CH 6:16-81 = 1CH 6:1-66
# 1CH 11:46 <- 1CH 11:46-47
1CH 11:46 = 1CH 11:46
1CH 11:46 = 1CH 11:47
# 1CH 12:4 <- 1CH 12:4-5
1CH 12:4 = 1CH 12:4
1CH 12:4 = 1CH 12:5
1CH 12:5-40 = 1CH 12:6-41
# 1CH 20:7 <- 1CH 20:7-8
1CH 20:7 = 1CH 20:7
1CH 20:7 = 1CH 20:8
2CH 2:1 = 2CH 1:18
2CH 2:2-18 = 2CH 2:1-17
2CH 14:1 = 2CH 13:23
2CH 14:2-15 = 2CH 14:1-14
# NEH 3:30 <- NEH 3:30-31
NEH 3:30 = NEH 3:30
NEH 3:30 = NEH 3:31
NEH 3:31 = NEH 3:32
NEH 4:1-6 = NEH 3:33-38
NEH 4:7-23 = NEH 4:1-17
# NEH 7:68 (missing) -> NEH 7:67b
NEH 7:67 = NEH 7:67
NEH 7:68 = NEH 7:67
NEH 7:69-73 = NEH 7:68-72
NEH 9:38 = NEH 10:1
NEH 10:1-39 = NEH 10:2-40
# NEH 12:33 <- NEH 12:33-34
NEH 12:33 = NEH 12:33
NEH 12:33 = NEH 12:34
NEH 12:34-46 = NEH 12:35-47
# mapping EST onto ESG, it should map ESG onto EST
#EST 10:4-13 = ESG 1:4-13
#EST 11:1-12 = ESG 2:1-12
#EST 12:1-6 = ESG 3:1-6
#EST 13:1-18 = ESG 4:1-18
#EST 14:1-19 = ESG 5:1-19
#EST 15:1-16 = ESG 6:1-16
#EST 16:1-24 = ESG 7:1-24
# JOB 16:4-5 -> JOB 16:4
JOB 16:4 = JOB 16:4
JOB 16:5 = JOB 16:4
JOB 16:6-23 = JOB 16:5-22
JOB 39:31-35 = JOB 40:1-5
JOB 40:1-27 = JOB 40:6-32
JOB 40:28 = JOB 41:1
JOB 41:1-25 = JOB 41:2-26
# JOB 42:16 <- JOB 42:16-17
JOB 42:16 = JOB 42:16
JOB 42:16 = JOB 42:17
# In PSA, the equivalent mappings (in chs. 1-9; 147-150) are given too, because XXA is mapped to PSA as well !!!
# There could still be some errors regarding the irregular mapping of psalm titles (like in PSA 12:1 <- PSA 13:1-2)
PSA 1:0-6 = PSA 1:0-6
PSA 2:0-11 = PSA 2:0-11
# PSA 2:12-13 -> PSA 2:12
PSA 2:12 = PSA 2:12
PSA 2:13 = PSA 2:12
PSA 3:0-9 = PSA 3:0-9
PSA 4:0-8 = PSA 4:0-8
# PSA 4:9-10 -> PSA 4:9
PSA 4:9 = PSA 4:9
PSA 4:10 = PSA 4:9
PSA 5:0-13 = PSA 5:0-13
PSA 6:0-11 = PSA 6:0-11
PSA 7:0-18 = PSA 7:0-18
PSA 8:0-10 = PSA 8:0-10
PSA 9:0-21 = PSA 9:0-21
PSA 9:22 = PSA 10:0
PSA 9:22-39 = PSA 10:1-18
# PSA 10:1-2 -> PSA 11:1
PSA 10:0-1 = PSA 11:0-1
PSA 10:2 = PSA 11:1
PSA 10:3-8 = PSA 11:2-7
PSA 11:0-9 = PSA 12:0-9
# PSA 12:1 <- PSA 13:1-2
PSA 12:0-1 = PSA 13:0-1
PSA 12:1 = PSA 13:2
# PSA 12:2-3 -> PSA 13:3
PSA 12:2 = PSA 13:3
PSA 12:3 = PSA 13:3
PSA 12:4-6 = PSA 13:4-6
PSA 13:0-7 = PSA 14:0-7
PSA 14:0-1 = PSA 15:0-1
# PSA 14:3a = PSA 15:2b
PSA 14:2 = PSA 15:2
PSA 14:3 = PSA 15:2
PSA 14:3 = PSA 15:3
PSA 14:4-5 = PSA 15:4-5
PSA 15:0-9 = PSA 16:0-9
# PSA 15:10 <- PSA 16:10-11
PSA 15:10 = PSA 16:10
PSA 15:10 = PSA 16:11
PSA 16:0-15 = PSA 17:0-15
PSA 17:0-51 = PSA 18:0-51
PSA 18:0-15 = PSA 19:0-15
PSA 19:0-10 = PSA 20:0-10
PSA 20:0-14 = PSA 21:0-14
PSA 21:0-32 = PSA 22:0-32
PSA 22:0-6 = PSA 23:0-6
PSA 23:0-10 = PSA 24:0-10
PSA 24:0-22 = PSA 25:0-22
PSA 25:0-12 = PSA 26:0-12
PSA 26:0-14 = PSA 27:0-14
PSA 27:0-9 = PSA 28:0-9
PSA 28:0-11 = PSA 29:0-11
PSA 29:0-13 = PSA 30:0-13
PSA 30:0-25 = PSA 31:0-25
PSA 31:0-11 = PSA 32:0-11
PSA 32:0-22 = PSA 33:0-22
PSA 33:0-23 = PSA 34:0-23
PSA 34:0-28 = PSA 35:0-28
PSA 35:0-13 = PSA 36:0-13
PSA 36:0-40 = PSA 37:0-40
PSA 37:0-23 = PSA 38:0-23
PSA 38:0-14 = PSA 39:0-14
PSA 39:0-18 = PSA 40:0-18
PSA 40:0-14 = PSA 41:0-14
PSA 41:0-12 = PSA 42:0-12
PSA 42:0-5 = PSA 43:0-5
PSA 43:0-21 = PSA 44:0-21
# PSA 43:22 <- PSA 44:22-23
PSA 43:22 = PSA 44:22
PSA 43:22 = PSA 44:23
PSA 43:23-26 = PSA 44:24-27
PSA 44:0-18 = PSA 45:0-18
PSA 45:0-12 = PSA 46:0-12
PSA 46:0-10 = PSA 47:0-10
PSA 47:0-15 = PSA 48:0-15
PSA 48:0-21 = PSA 49:0-21
PSA 49:0-23 = PSA 50:0-23
PSA 50:0-21 = PSA 51:0-21
PSA 51:0-11 = PSA 52:0-11
PSA 52:0-7 = PSA 53:0-7
PSA 53:0-9 = PSA 54:0-9
PSA 54:0-24 = PSA 55:0-24
PSA 55:0-10 = PSA 56:0-10
# PSA 55:11 <- PSA 56:11-12
PSA 55:11 = PSA 56:11
PSA 55:11 = PSA 56:12
PSA 55:12-13 = PSA 56:13-14
PSA 56:0-12 = PSA 57:0-12
PSA 57:0-12 = PSA 58:0-12
PSA 58:0-18 = PSA 59:0-18
PSA 59:0-14 = PSA 60:0-14
PSA 60:0-9 = PSA 61:0-9
PSA 61:0-13 = PSA 62:0-13
PSA 62:0-12 = PSA 63:0-12
PSA 63:0-11 = PSA 64:0-11
PSA 64:0-14 = PSA 65:0-14
PSA 65:0-20 = PSA 66:0-20
PSA 66:0-8 = PSA 67:0-8
PSA 67:0-36 = PSA 68:0-36
PSA 68:0-37 = PSA 69:0-37
PSA 69:0-6 = PSA 70:0-6
PSA 70:0-24 = PSA 71:0-24
PSA 71:0-20 = PSA 72:0-20
PSA 72:0-28 = PSA 73:0-28
PSA 73:0-23 = PSA 74:0-23
PSA 74:0-11 = PSA 75:0-11
PSA 75:0-13 = PSA 76:0-13
PSA 76:0-21 = PSA 77:0-21
PSA 77:0-72 = PSA 78:0-72
PSA 78:0-13 = PSA 79:0-13
PSA 79:0-20 = PSA 80:0-20
PSA 80:0-17 = PSA 81:0-17
PSA 81:0-8 = PSA 82:0-8
PSA 82:0-19 = PSA 83:0-19
PSA 83:0-13 = PSA 84:0-13
PSA 84:0-14 = PSA 85:0-14
PSA 85:0-17 = PSA 86:0-17
PSA 86:0-7 = PSA 87:0-7
PSA 87:0-19 = PSA 88:0-19
PSA 88:0-53 = PSA 89:0-53
PSA 89:0-17 = PSA 90:0-17
PSA 90:0-16 = PSA 91:0-16
PSA 91:0-16 = PSA 92:0-16
PSA 92:0-5 = PSA 93:0-5
PSA 93:0-23 = PSA 94:0-23
PSA 94:0-11 = PSA 95:0-11
PSA 95:0-13 = PSA 96:0-13
PSA 96:0-12 = PSA 97:0-12
PSA 97:0-9 = PSA 98:0-9
PSA 98:0-9 = PSA 99:0-9
PSA 99:0-5 = PSA 100:0-5
PSA 100:0-8 = PSA 101:0-8
PSA 101:0-29 = PSA 102:0-29
PSA 102:0-22 = PSA 103:0-22
PSA 103:0-35 = PSA 104:0-35
PSA 104:0-45 = PSA 105:0-45
PSA 105:0-48 = PSA 106:0-48
PSA 106:0-43 = PSA 107:0-43
PSA 107:0-14 = PSA 108:0-14
PSA 108:0-31 = PSA 109:0-31
PSA 109:0-7 = PSA 110:0-7
PSA 110:0-10 = PSA 111:0-10
PSA 111:0-10 = PSA 112:0-10
PSA 112:0-9 = PSA 113:0-9
PSA 113:0-8 = PSA 114:0-8
PSA 113:9 = PSA 115:0
PSA 113:9-26 = PSA 115:1-18
PSA 114:1-9 = PSA 116:1-9
# What does 115:1-9 map to?  this seems very wrong
PSA 115:10-19 = PSA 116:10-19
PSA 116:0-2 = PSA 117:0-2
PSA 117:0-29 = PSA 118:0-29
PSA 118:0-176 = PSA 119:0-176
PSA 119:0-7 = PSA 120:0-7
PSA 120:0-8 = PSA 121:0-8
PSA 121:0-9 = PSA 122:0-9
PSA 122:0-4 = PSA 123:0-4
PSA 123:0-8 = PSA 124:0-8
PSA 124:0-5 = PSA 125:0-5
PSA 125:0-6 = PSA 126:0-6
PSA 126:0-5 = PSA 127:0-5
PSA 127:0-6 = PSA 128:0-6
PSA 128:0-8 = PSA 129:0-8
PSA 129:0-8 = PSA 130:0-8
PSA 130:0-3 = PSA 131:0-3
PSA 131:0-18 = PSA 132:0-18
PSA 132:0-3 = PSA 133:0-3
PSA 133:0-3 = PSA 134:0-3
PSA 134:0-21 = PSA 135:0-21
PSA 135:0-26 = PSA 136:0-26
PSA 136:0-9 = PSA 137:0-9
PSA 137:0-8 = PSA 138:0-8
PSA 138:0-24 = PSA 139:0-24
PSA 139:0-14 = PSA 140:0-14
PSA 140:0-10 = PSA 141:0-10
PSA 141:0-8 = PSA 142:0-8
PSA 142:0-12 = PSA 143:0-12
PSA 143:0-15 = PSA 144:0-15
PSA 144:0-21 = PSA 145:0-21
# PSA 145:2a = PSA 146:1b
PSA 145:0-1 = PSA 146:0-1
PSA 145:2 = PSA 146:1
PSA 145:2 = PSA 146:2
PSA 145:3-10 = PSA 146:3-10
PSA 146:0-11 = PSA 147:0-11
PSA 147:12-20 = PSA 147:12-20
PSA 148:0-14 = PSA 148:0-14
PSA 149:0-9 = PSA 149:0-9
PSA 150:0-6 = PSA 150:0-6
ECC 7:1 = ECC 6:12
ECC 7:2-30 = ECC 7:1-29
SNG 1:1 = SNG 1:1
SNG 1:1-16 = SNG 1:2-17
SNG 5:17 = SNG 6:1
SNG 6:1-11 = SNG 6:2-12
# SNG 6:12 -> SNG 7:1a
# SNG 7:1 <- SNG 7:1b-2
# or:  SNG 6:12--7:1 = SNG 7:1-2
SNG 6:12 = SNG 7:1
SNG 7:1 = SNG 7:1
SNG 7:1 = SNG 7:2
SNG 7:2-13 = SNG 7:3-14
# ISA 8:22d = ISA 8:23a
ISA 8:22 = ISA 8:22
ISA 8:22 = ISA 8:23
ISA 9:1 = ISA 8:23
ISA 9:2-21 = ISA 9:1-20
# ISA 9:20d = ISA 9:20ab
ISA 9:20 = ISA 9:19
ISA 9:20 = ISA 9:20
ISA 9:21 = ISA 9:20
# ISA 64:1 -> ISA 63:19cd
ISA 63:19 = ISA 63:19
ISA 64:1 = ISA 63:19
ISA 64:2-12 = ISA 64:1-11
JER 9:1 = JER 8:23
JER 9:2-26 = JER 9:1-25
# JER 37:4 <- JER 37:4-5
JER 37:4 = JER 37:4
JER 37:4 = JER 37:5
JER 37:5-20 = JER 37:6-21
# EZK 2:9 <- EZK 2:9-10
EZK 2:9 = EZK 2:9
EZK 2:9 = EZK 2:10
EZK 20:45-49 = EZK 21:1-5
EZK 21:1-32 = EZK 21:6-37
DAN 3:24-90 = S3Y 1:1-67
DAN 3:91-100 = DAN 3:24-33
DAN 5:31 = DAN 6:1
DAN 6:1-28 = DAN 6:2-29
DAN 13:1-64 = SUS 1:1-64
DAN 13:65 = BEL 1:1
DAN 14:1 = BEL 1:1
DAN 14:2-41 = BEL 1:2-41
HOS 1:10-11 = HOS 2:1-2
HOS 2:1-22 = HOS 2:3-24
# HOS 2:23-24 -> HOS 2:25
HOS 2:23 = HOS 2:25
HOS 2:24 = HOS 2:25
HOS 11:12 = HOS 12:1
HOS 12:1-14 = HOS 12:2-15
JOL 2:28-32 = JOL 3:1-5
JOL 3:1-21 = JOL 4:1-21
# AMO 6:10-11 -> AMO 6:10
AMO 6:10 = AMO 6:10
AMO 6:11 = AMO 6:10
AMO 6:12-15 = AMO 6:11-14
MIC 5:1 = MIC 4:14
MIC 5:2-10 = MIC 5:1-9
# MIC 5:11 <- MIC 5:10-11
MIC 5:11 = MIC 5:10
MIC 5:11 = MIC 5:11
# MIC 5:12-14 = MIC 5:12-14
JON 1:17 = JON 2:1
JON 2:1-10 = JON 2:2-11
NAM 1:15 = NAM 2:1
NAM 2:1-13 = NAM 2:2-14
HAG 2:1 = HAG 1:15
HAG 2:2-24 = HAG 2:1-23
ZEC 1:18-21 = ZEC 2:1-4
ZEC 2:1-13 = ZEC 2:5-17
MAL 4:1-6 = MAL 3:19-24
#
#
# Mapping
# Vulgate = UBS GNT
#
#
# MAT 17:14 <- MAT 17:14-15
MAT 17:15-26 = MAT 17:16-27
# MRK 4:40 <- MRK 4:40-41
MRK 4:40 = MRK 4:40
MRK 4:40 = MRK 4:41
MRK 8:39 = MRK 9:1
MRK 9:1-49 = MRK 9:2-50
# JHN 6:51-52 -> JHN 6:51
JHN 6:51 = JHN 6:51
JHN 6:52 = JHN 6:51
JHN 6:53-72 = JHN 6:52-71
# ACT 7:55 <- ACT 7:55-56
ACT 7:55 = ACT 7:55
ACT 7:55 = ACT 7:56
ACT 7:56-59 = ACT 7:57-60
# ACT 14:6 <- ACT 14:6-7
ACT 14:6 = ACT 14:6
ACT 14:6 = ACT 14:7
ACT 14:7-27 = ACT 14:8-28
#
#
#
# Mapping
# Vulgate = +/-LXX
#
#
# WIS 2:24-25 -> WIS 2:24
WIS 2:24 = WIS 2:24
WIS 2:25 = WIS 2:24
# WIS 5:13-14 -> WIS 5:13
WIS 5:13 = WIS 5:13
WIS 5:14 = WIS 5:13
WIS 5:15-24 = WIS 5:14-23
# WIS 6:1 -> missing
WIS 6:2-21 = WIS 6:1-20
WIS 6:22 = WIS 6:21
WIS 6:23 = WIS 6:21
# WIS 6:23 -> missing
WIS 6:24-27 = WIS 6:22-25
# WIS 9:18-19 -> WIS 9:18
WIS 9:18 = WIS 9:18
WIS 9:19 = WIS 9:18
# WIS 11:5-6 -> WIS 11:5
WIS 11:5 = WIS 11:5
WIS 11:6 = WIS 11:5
WIS 11:7-27 = WIS 11:6-26
# WIS 19:12 <- WIS 19:12-13
WIS 19:12 = WIS 19:12
WIS 19:12 = WIS 19:13
WIS 19:13-19 = WIS 19:14-20
# WIS 19:20 <- WIS 19:21-22
WIS 19:20 = WIS 19:21
WIS 19:20 = WIS 19:22
BAR 6:1-72 = LJE 1:1-72
# 1MA 1:4-5 -> 1MA 1:4
1MA 1:4 = 1MA 1:4
1MA 1:5 = 1MA 1:4
1MA 1:6-31 = 1MA 1:5-30
# 1MA 1:31-32 -> 1MA 1:30
1MA 1:31 = 1MA 1:30
1MA 1:32 = 1MA 1:30
1MA 1:33-35 = 1MA 1:31-33
# 1MA 1:36ab <- 1MA 1:34
# 1MA 1:36bc = 1MA 1:35a
# 1MA 1:37 -> 1MA 1:35b
1MA 1:36 = 1MA 1:34
1MA 1:36 = 1MA 1:35
1MA 1:37 = 1MA 1:35
1MA 1:38-46 = 1MA 1:36-44
# 1MA 1:47-48 -> 1MA 1:45
1MA 1:47 = 1MA 1:45
1MA 1:48 = 1MA 1:45
1MA 1:49-67 = 1MA 1:46-64
# 1MA 12:53-54 -> 1MA 12:53
1MA 12:53 = 1MA 12:53
1MA 12:54 = 1MA 12:53
# 1MA 13:52-53 -> 1MA 13:52
1MA 13:52 = 1MA 13:52
1MA 13:53 = 1MA 13:52
1MA 13:54 = 1MA 13:53
# 2MA 2:18-19 -> 2MA 2:18
2MA 2:18 = 2MA 2:18
2MA 2:19 = 2MA 2:18
2MA 2:20-33 = 2MA 2:19-32
# 2MA 12:45-46 -> 2MA 12:45
2MA 12:45 = 2MA 12:45
2MA 12:46 = 2MA 12:45
# 2MA 15:36-37 -> 2MA 15:36
2MA 15:36 = 2MA 15:36
2MA 15:37 = 2MA 15:36
2MA 15:38-40 = 2MA 15:37-39
#
#
# For 1ES the mapping info is taken from the Bible Works program
# mapping Vulgate onto LXX
#
1ES 1:4 = 1ES 1:3
1ES 1:4 = 1ES 1:4
1ES 1:5 = 1ES 1:4
1ES 1:5 = 1ES 1:5
1ES 1:10 = 1ES 1:10
1ES 1:10 = 1ES 1:11
1ES 1:11 = 1ES 1:12
1ES 1:12 = 1ES 1:13
1ES 1:13 = 1ES 1:13
1ES 1:13 = 1ES 1:14
1ES 1:14 = 1ES 1:14
1ES 1:15 = 1ES 1:15
1ES 1:16 = 1ES 1:15
1ES 1:17 = 1ES 1:16
1ES 1:18 = 1ES 1:16
1ES 1:19-50 = 1ES 1:17-48
1ES 1:51 = 1ES 1:49
1ES 1:52 = 1ES 1:49
1ES 1:53-58 = 1ES 1:50-55
1ES 2:1 = 1ES 2:1
1ES 2:2 = 1ES 2:1
1ES 2:3 = 1ES 2:2
1ES 2:4 = 1ES 2:2
1ES 2:5 = 1ES 2:3
1ES 2:6 = 1ES 2:4
1ES 2:7 = 1ES 2:4
1ES 2:8 = 1ES 2:5
1ES 2:9 = 1ES 2:6
1ES 2:10 = 1ES 2:7
1ES 2:11 = 1ES 2:8
1ES 2:12 = 1ES 2:8
1ES 2:13 = 1ES 2:9
1ES 2:13 = 1ES 2:10
1ES 2:14 = 1ES 2:11
1ES 2:15 = 1ES 2:11
1ES 2:16-19 = 1ES 2:12-15
1ES 2:20 = 1ES 2:16
1ES 2:21 = 1ES 2:16
1ES 2:22 = 1ES 2:17
1ES 2:23 = 1ES 2:17
1ES 2:24 = 1ES 2:18
1ES 2:25 = 1ES 2:19
1ES 2:26 = 1ES 2:20
1ES 2:26 = 1ES 2:21
1ES 2:27 = 1ES 2:21
1ES 2:27 = 1ES 2:22
1ES 2:28 = 1ES 2:23
1ES 2:29 = 1ES 2:24
1ES 2:30 = 1ES 2:25
1ES 2:30 = 1ES 2:26
1ES 3:14 = 1ES 3:14
1ES 3:15 = 1ES 3:14
1ES 3:16 = 1ES 3:15
1ES 3:17 = 1ES 3:16
1ES 3:17 = 1ES 3:17
1ES 4:10 = 1ES 4:10
1ES 4:10 = 1ES 4:11
1ES 4:11 = 1ES 4:11
1ES 4:33 = 1ES 4:33
1ES 4:33 = 1ES 4:34
1ES 4:39 = 1ES 4:39
1ES 4:40 = 1ES 4:39
1ES 4:40 = 1ES 4:40
1ES 5:41 = 1ES 5:41
1ES 5:42 = 1ES 5:41
1ES 5:43-53 = 1ES 5:42-52
1ES 5:54 = 1ES 5:53
1ES 5:55 = 1ES 5:53
1ES 5:56 = 1ES 5:54
1ES 5:57 = 1ES 5:55
1ES 5:58 = 1ES 5:56
1ES 5:58 = 1ES 5:57
1ES 5:59 = 1ES 5:57
1ES 5:60 = 1ES 5:57
1ES 5:61-72 = 1ES 5:58-69
1ES 5:73 = 1ES 5:70
1ES 5:73 = 1ES 5:71
1ES 6:8 = 1ES 6:8
1ES 6:9 = 1ES 6:8
1ES 6:10-34 = 1ES 6:9-33
1ES 8:5 = 1ES 8:5
1ES 8:6 = 1ES 8:5
1ES 8:6 = 1ES 8:6
1ES 8:13 = 1ES 8:13
1ES 8:14 = 1ES 8:13
1ES 8:14 = 1ES 8:14
1ES 8:19 = 1ES 8:19
1ES 8:20 = 1ES 8:19
1ES 8:20 = 1ES 8:20
1ES 8:43 = 1ES 8:43
1ES 8:44 = 1ES 8:43
1ES 8:45-49 = 1ES 8:44-48
1ES 8:50 = 1ES 8:49
1ES 8:50 = 1ES 8:50
1ES 8:56 = 1ES 8:56
1ES 8:57 = 1ES 8:56
1ES 8:58-62 = 1ES 8:57-61
1ES 8:63 = 1ES 8:62
1ES 8:64 = 1ES 8:62
1ES 8:65 = 1ES 8:63
1ES 8:66 = 1ES 8:63
1ES 8:67-85 = 1ES 8:64-82
1ES 8:86 = 1ES 8:83
1ES 8:86 = 1ES 8:84
1ES 8:87 = 1ES 8:84
1ES 8:88-92 = 1ES 8:85-89
1ES 8:93 = 1ES 8:90
1ES 8:94 = 1ES 8:90
1ES 8:95 = 1ES 8:91
1ES 8:96 = 1ES 8:92
#
#--------------------------------------------------------------------------
# mapping XXA onto PSA, XXA should be in a variant Vulgate project [Studge]
# Both PSA and XXA are synchronized to PSA in the original versification.
# Is this allowed???
# by request of RdB, XXA mapping to PSA has been deleted - [Barb] 20110127
# XXA has been moved to PSA and the old PSA is now the Resource VULGP83 [Barb]
# There could still be some errors regarding the irregular mapping of psalm titles (like in PSA 12:1 <- PSA 13:1-2)
#
#
#-------------------------------------------------------
# Removing the following lines (FB 52696)
#2ES 3:1-36 = EZA 1:1-36
#2ES 4:1-52 = EZA 2:1-52
#2ES 5:1-56 = EZA 3:1-56
#2ES 6:1-59 = EZA 4:1-59
#2ES 7:1-35 = EZA 5:1-35
#2ES 7:106-140 = EZA 5:36-70
#2ES 8:1-63 = EZA 6:1-63
#2ES 9:1-47 = EZA 7:1-47
#2ES 10:1-60 = EZA 8:1-60
#2ES 11:1-46 = EZA 9:1-46
#2ES 12:1-51 = EZA 10:1-51
#2ES 13:1-58 = EZA 11:1-58
#2ES 14:1-48 = EZA 12:1-48
#-----------------------------------------------------
# map Letter to the Laodiceans [Studge]
# XXB 1:1-7 = LAO 1:1-7
#-----------------------------------------------------
# map Esther Greek onto Hebrew Esther [Studge]
# to be added in
#-----------------------------------------------------
# Mapping Additions to Daniel onto Hebrew Daniel [Studge]
DAG 1:1-21 = DAN 1:1-21
DAG 2:1-49 = DAN 2:1-49
DAG 3:24-52 = S3Y 1:1-29
DAG 3:52-23 = S3Y 1:30-31
DAG 3:54 = S3Y 1:33
DAG 3:55 = S3Y 1:32
DAG 3:56-57 = S3Y 1:34-35
DAG 3:58 = S3Y 1:37
DAG 3:59 = S3Y 1:36
DAG 3:60-90 = S3Y 1:38-68
DAG 3:91-97 = DAN 3:24-30
DAG 4:1-3 = DAN 3:31-33
DAG 4:4-37 = DAN 4:1-34
DAG 5:1-31 = DAN 5:1-31
DAG 6:1-28 = DAN 6:1-28
DAG 7:1-28 = DAN 7:1-28
DAG 8:1-27 = DAN 8:1-27
DAG 9:1-27 = DAN 9:1-27
DAG 10:1-21 = DAN 10:1-21
DAG 11:1-45 = DAN 11:1-45 
DAG 12:1-13 = DAN 12:1-13
# Susanna
DAG 13:1-63 = SUS 1:63
# Bel and the Dragon
DAG 14:1-42 = BEL 1:42
#-------------------------------------------------------
`,W2={eng:{raw:dK},lxx:{raw:DK},org:{raw:hK},rsc:{raw:mK},rso:{raw:EK},vul:{raw:vK}},yK=/^([A-Z0-9]{3}) (([0-9]+:[0-9]+) ?)*$/;for(const[e,t]of Object.entries(W2)){t.cv={};const r=t.raw.split(`
`).filter(n=>n.match(yK));if(r)for(const n of r){const u=n.slice(0,3);t.cv[u]={};for(const s of n.substr(4).split(" ")){const[o,a]=s.split(":");t.cv[u][o]=a}}}const gK=`
"""The top level of Proskomma queries"""
type Query {
  """The id of the processor, which is different for each Proskomma instance"""
  id: String!
  """A string describing the processor class"""
  processor: String!
  """The NPM package version"""
  packageVersion: String!
  """The selectors used to define docSets"""
  selectors: [selectorSpec!]!
  """The number of docSets"""
  nDocSets: Int!
  """The docSets in the processor"""
  docSets(
    """A whitelist of ids of docSets to include"""
    ids: [String!]
    """Only return docSets that match the list of selector values"""
    withSelectors: [InputKeyValue!]
    """Only return docSets containing a document with the specified bookCode"""
    withBook: String
    """Only return docSets with all the specified tags"""
    withTags: [String!]
    """Only return docSets with none of the specified tags"""
    withoutTags: [String!]
  ): [DocSet!]!
  """The docSet with the specified id"""
  docSet(
    """The id of the docSet"""
    id: String!
  ): DocSet
  """The number of documents in the processor"""
  nDocuments: Int!
  """The documents in the processor"""
  documents(
    """A whitelist of ids of documents to include"""
    ids: [String!]
    """Only return documents with the specified bookCode"""
    withBook: String
    """Only return documents with the specified header key/values"""
    withHeaderValues: [InputKeyValue!]
    """Only return documents with all the specified tags"""
    withTags: [String!]
    """Only return documents with none of the specified tags"""
    withoutTags: [String!]
    """Sort returned documents by the designated method (currently ${Object.keys(us).join(", ")})"""
    sortedBy: String
  ): [Document!]!
  """The document with the specified id, or the specified docSet and withBook"""
  document(
    """The id of the document"""
    id: String
    """The docSet of the document (use with withBook)"""
    docSetId: String
    """The book of the document (use with docSetId)"""
    withBook: String
  ) : Document
  """Reference information about standard versifications"""
  versifications: [versification!]!
  """Reference information about a named, standard versification"""
  versification(
    """The id of the versification"""
    id: String!
  ) : versification!
}
`,AK={id:e=>e.processorId,selectors:e=>e.selectors,docSets:(e,t)=>{const r=(u,s)=>{for(const o of s)if(u.selectors[o.key].toString()!==o.value)return!1;return!0};let n=("withBook"in t?e.docSetsWithBook(t.withBook):Object.values(e.docSets)).filter(u=>!t.ids||t.ids.includes(u.id));return t.withSelectors&&(n=n.filter(u=>r(u,t.withSelectors))),t.withTags&&(n=n.filter(u=>t.withTags.filter(s=>u.tags.has(s)).length===t.withTags.length)),t.withoutTags&&(n=n.filter(u=>t.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},docSet:(e,t)=>e.docSetById(t.id),documents:(e,t)=>{const r=(u,s)=>{for(const o of s||[])if(!(o.key in u)||u[o.key]!==o.value)return!1;return!0};let n=t.withBook?e.documentsWithBook(t.withBook):e.documentList();if(n=n.filter(u=>!t.ids||t.ids.includes(u.id)),t.withHeaderValues&&(n=n.filter(u=>r(u.headers,t.withHeaderValues))),t.withTags&&(n=n.filter(u=>t.withTags.filter(s=>u.tags.has(s)).length===t.withTags.length)),t.withoutTags&&(n=n.filter(u=>t.withoutTags.filter(s=>u.tags.has(s)).length===0)),t.sortedBy){if(!(t.sortedBy in us))throw new Error(`sortedBy value must be one of [${Object.keys(us).join(", ")}], not ${t.sortedBy}`);n.sort(us[t.sortedBy])}return n},document:(e,t)=>{if(t.id&&!t.docSetId&&!t.withBook)return e.documentById(t.id);if(!t.id&&t.docSetId&&t.withBook)return e.documentsWithBook(t.withBook).filter(r=>r.docSetId===t.docSetId)[0];throw new Error("document requires either id or both docSetId and withBook (but not all three)")},versifications:()=>Object.entries(W2),versification:(e,t)=>Object.entries(W2).filter(r=>r[0]===t.id)[0]},FK=`
"""Specification of a selector"""
type selectorSpec {
  """Name (ie the key)"""
  name: String!
  """Data type (string or integer)"""
  type: String!
  """Regex for validating string selector"""
  regex: String
  """Inclusive minimum value for integer selector"""
  min: String
  """Inclusive maximum value for integer selector"""
  max: String
  """Enum of permitted string values"""
  enum: [String!]
}
`,CK={regex:e=>e.regex||null,min:e=>e.min||null,max:e=>e.max||null,enum:e=>e.enum||null},bK=`
"""Input specification of a selector"""
input inputSelectorSpec {
  """Name (ie the key)"""
  name: String!
  """Data type (string or integer)"""
  type: String!
  """Regex for validating string selector"""
  regex: String
  """Inclusive minimum value for integer selector"""
  min: String
  """Inclusive maximum value for integer selector"""
  max: String
  """Enum of permitted string values"""
  enum: [String!]
}
`,J2=(e,t,r,n)=>{const u=r.blocks.length;for(let s=0;s<u;s++)t.deleteBlock(r.id,0,!1);for(let s=0;s<n.length;s++){const o=n[s];if(t.newBlock(r.id,s,o.bs.payload,null,!1),!e.updateBlockGrafts(t.id,r.id,s,o.bg)||!e.updateOpenScopes(t.id,r.id,s,o.os)||!e.updateIncludedScopes(t.id,r.id,s,o.is)||!e.updateItems(t.id,r.id,s,o.items))return!1}},SK=`
  """Adds a document which will be assigned to an existing or new docSet on the basis of the specified selectors"""
  addDocument(
    """The selectors for this document, the keys of which must match those of the Proskomma instance"""
    selectors: [InputKeyValue!]!
    """The format of the content (probably usfm or usx)"""
    contentType: String!
    """The document content as a string"""
    content: String!
    """A list of tags to be added"""
    tags: [String!]
  ): Boolean!
  """Creates a new, empty sequence"""
  newSequence(
    """The id of the document to which the sequence will be added"""
    documentId: String!
    """The type of the new sequence (main, heading...)"""
    type: String!
    """The JSON describing blocks, if any, for the new sequence"""
    blocksSpec: [inputBlockSpec!]
    """If true, graft to the first block of the main sequence"""
    graftToMain: Boolean
    """'A list of tags to be added"""
    tags: [String!]
  ): String!
  """Adds a new block to a sequence"""
  newBlock(
    """The id of the document containing the sequence to which the block will be added"""
    documentId: String!
    """The id of the sequence to which the block will be added"""
    sequenceId: String!
    """The zero-indexed position at which to add the block"""
    blockN: Int!
    """The scope to be applied to the block, eg blockScope/p"""
    blockScope: String!
  ): Boolean!
`,wK={addDocument:(e,t)=>{const r={};return t.selectors.forEach(n=>{r[n.key]=n.value}),!!e.importDocument(r,t.contentType,t.content,null,null,null,t.tags||[])},newSequence:(e,t)=>{const r=e.documents[t.documentId],n=r.processor.docSets[r.docSetId];if(!r)throw new Error(`Document '${t.documentId}' not found`);const u=r.newSequence(t.type,t.tags);if(t.blocksSpec&&(J2(n,r,r.sequences[u],t.blocksSpec),r.buildChapterVerseIndex()),t.graftToMain){n.maybeBuildPreEnums();const s=r.sequences[r.mainId].blocks[0].bg,o=n.enumForCategoryValue("graftTypes",t.type,!0),a=n.enumForCategoryValue("ids",u,!0);Ae.succinct.pushSuccinctGraftBytes(s,o,a)}return u},newBlock:(e,t)=>{const r=e.documents[t.documentId];if(!r)throw new Error(`Document '${t.documentId}' not found`);return r.newBlock(t.sequenceId,t.blockN,t.blockScope)}},_K=`
  """Deletes a docSet"""
  deleteDocSet(
    """The id of the docSet containing the document to be deleted"""
    docSetId: String!
  ): Boolean
  """Deletes a document"""
  deleteDocument(
    """The id of the docSet containing the document to be deleted"""
    docSetId: String!
    """The id of the document to be deleted"""
    documentId: String!
  ): Boolean
  """Deletes a sequence from a document"""
  deleteSequence(
    """The id of the document containing the sequence to be deleted"""
    documentId: String!
    """The id of the sequence to be deleted"""
    sequenceId: String!
  ): Boolean
  """Deletes a block from a sequence"""
  deleteBlock(
    """The id of the document containing the sequence from which the block will be deleted"""
    documentId: String!
    """The id of the sequence from which the block will be deleted"""
    sequenceId: String!
    """The zero-indexed number of the block to be deleted"""
    blockN: Int!
  ): Boolean
`,BK={deleteDocSet:(e,t)=>e.deleteDocSet(t.docSetId),deleteDocument:(e,t)=>e.deleteDocument(t.docSetId,t.documentId),deleteSequence:(e,t)=>{const r=e.documents[t.documentId];if(!r)throw new Error(`Document '${t.documentId}' not found`);return r.deleteSequence(t.sequenceId)},deleteBlock:(e,t)=>{const r=e.documents[t.documentId];if(!r)throw new Error(`Document '${t.documentId}' not found`);return r.deleteBlock(t.sequenceId,t.blockN)}},TK=`
  """Explicitly rebuild the text lookup tables for a docSet. (You probably don't need to do this)"""
  rehashDocSet(
    """The id of the docSet"""
    docSetId: String!
  ): Boolean!
`,$K={rehashDocSet:(e,t)=>e.rehashDocSet(t.docSetId)},PK=`
  """Add one or more tags to a docSet, if they are not already present"""
  addDocSetTags(
    """The id of the docSet to which the tags will be added"""
    docSetId: String!
    """A list of tags to be added"""
    tags: [String]!
  ): [String!]!
  """Add one or more tags to a document, if they are not already present"""
  addDocumentTags(
    """The id of the docSet containing the document to which the tags will be added"""
    docSetId: String!
    """The id of the document to which the tags will be added"""
    documentId: String!
    """A list of tags to be added"""
    tags: [String]!
  ): [String!]
  """Add one or more tags to a sequence, if they are not already present"""
  addSequenceTags(
    """The id of the docSet containing the document containing the sequence to which the tags will be added"""
    docSetId: String!
    """The id of the document containing the sequence to which the tags will be added"""
    documentId: String!
    """The id of the sequence to which the tags will be added"""
    sequenceId: String!
    """A list of tags to be added"""
    tags: [String]!
  ) : [String!]
  """Remove one or more tags from a docSet, if they are present"""
  removeDocSetTags(
    """The id of the docSet from which the tags will be removed"""
    docSetId: String!
    """A list of tags to be removed"""
    tags: [String]!
  ): [String!]
  """Remove one or more tags from a document, if they are present"""
  removeDocumentTags(
    """The id of the docSet containing the document from which the tags will be removed"""
    docSetId: String!
    """The id of the document from which the tags will be removed"""
    documentId: String!
    """A list of tags to be removed"""
    tags: [String]!
  ): [String!]
  """Remove one or more tags from a sequence, if they are present"""
  removeSequenceTags(
    """The id of the docSet containing the document containing the sequence from which the tags will be removed"""
    docSetId: String!
    """The id of the document containing the sequence from which the tags will be removed"""
    documentId: String!
    """The id of the sequence from which the tags will be removed"""
    sequenceId: String!
    """A list of tags to be removed"""
    tags: [String]!
  ) : [String!]
`,OK={addDocSetTags:(e,t)=>{const r=e.docSets[t.docSetId];for(const n of t.tags)r.addTag(n);return Array.from(r.tags)},addDocumentTags:(e,t)=>{const n=e.docSets[t.docSetId].processor.documents[t.documentId];for(const u of t.tags)n.addTag(u);return Array.from(n.tags)},addSequenceTags:(e,t)=>{const u=e.docSets[t.docSetId].processor.documents[t.documentId].sequences[t.sequenceId];for(const s of t.tags)Ae.tags.addTag(u.tags,s);return Array.from(u.tags)},removeDocSetTags:(e,t)=>{const r=e.docSets[t.docSetId];for(const n of t.tags)r.removeTag(n);return Array.from(r.tags)},removeDocumentTags:(e,t)=>{const n=e.docSets[t.docSetId].processor.documents[t.documentId];for(const u of t.tags)n.removeTag(u);return Array.from(n.tags)},removeSequenceTags:(e,t)=>{const u=e.docSets[t.docSetId].processor.documents[t.documentId].sequences[t.sequenceId];for(const s of t.tags)Ae.tags.removeTag(u.tags,s);return Array.from(u.tags)}},kK=`
  """Replaces the items of a block with a new set of items"""
  updateItems(
    """The id of the docSet containing the document containing the sequence containing the block for which the items will be updated"""
    docSetId: String!
    """The id of the document containing the sequence containing the block for which the items will be updated"""
    documentId: String!
    """The id of the sequence containing the block for which the items will be updated (defaults to the main sequence)"""
    sequenceId: String
    """The zero-indexed number of the block for which the items will be updated"""
    blockPosition: Int!
    """The new content for the block as item objects"""
    items: [InputItemObject!]
    """BlockGrafts for the block as item objects"""
    blockGrafts: [InputItemObject!]
    """Optional blockScope for the block as an item object"""
    blockScope: InputItemObject
  ): Boolean!
  """Replaces all the blocks of a sequence with a new set of blocks"""
  updateAllBlocks(
    """The id of the docSet containing the document containing the sequence for which the blocks will be updated"""
    docSetId: String!
    """The id of the document containing the sequence for which the blocks will be updated"""
    documentId: String!
    """The id of the sequence for which the blocks will be updated (defaults to the main sequence)"""
    sequenceId: String
    """The JSON describing blocks"""
    blocksSpec: [inputBlockSpec!]!
  ): Boolean!
  """Replaces all the blocks of a sequence with a new set of blocks derived from PERF"""
  updateSequenceFromPerf(
    """The id of the docSet containing the document containing the sequence for which the blocks will be updated"""
    docSetId: String!
    """The id of the document containing the sequence for which the blocks will be updated"""
    documentId: String!
    """The id of the sequence for which the blocks will be updated (defaults to the main sequence)"""
    sequenceId: String
    """The JSON describing blocks"""
    perf: String!
  ): Boolean!
  """Garbage collects unused sequences within a document. (You probably don\\'t need to do this.)"""
  gcSequences(
    """The id of the docSet containing the document to be garbage collected"""
    docSetId: String!
    """The id of the document to be garbage collected"""
    documentId: String!
  ) : Boolean!
 
`,IK={updateItems:(e,t)=>{const r=e.docSets[t.docSetId];if(!r)throw new Error(`DocSet '${t.docSetId}' not found`);if(!t.items)throw new Error("Must provide items");return!(!r.updateItems(t.documentId,t.sequenceId,t.blockPosition,t.items)||t.blockGrafts&&!r.updateBlockGrafts(t.documentId,t.sequenceId,t.blockPosition,t.blockGrafts)||t.blockScope&&!r.updateBlockScope(t.documentId,t.sequenceId,t.blockPosition,t.blockScope))},updateAllBlocks:(e,t)=>{const r=e.docSets[t.docSetId];if(!r)throw new Error(`DocSet '${t.docSetId}' not found`);const n=e.documents[t.documentId];if(!n)throw new Error(`Document '${t.documentId}' not found`);const u=n.sequences[t.sequenceId||n.mainId];if(!u)throw new Error(`Sequence '${t.sequenceId||n.mainId}' not found`);return J2(r,n,u,t.blocksSpec),n.buildChapterVerseIndex(),!0},updateSequenceFromPerf:async(e,t)=>{const r=e.docSets[t.docSetId];if(!r)throw new Error(`DocSet '${t.docSetId}' not found`);const n=e.documents[t.documentId];if(!n)throw new Error(`Document '${t.documentId}' not found`);const u=n.sequences[t.sequenceId||n.mainId];if(!u)throw new Error(`Sequence '${t.sequenceId||n.mainId}' not found`);const s=JSON.parse(t.perf),o={schema:{structure:"flat",structure_version:"0.3.0",constraints:[{name:"perf",version:"0.3.0"}]},metadata:{translation:{},document:{}},sequences:{},main_sequence_id:t.sequenceId};o.sequences[t.sequenceId]=s;let a={};try{const c=await new Fu.PipelineHandler({pipelines:a7,transforms:i7,proskomma:e}).runPipeline("perf2PkJsonPipeline",{perf:o});a=Object.values(c.pkJson)[0]}catch(i){return console.error(`pipelineHandler Error :
`,i),!1}return J2(r,n,u,a),n.buildChapterVerseIndex(),!0},gcSequences:(e,t)=>{const r=e.docSets[t.docSetId];if(!r)throw new Error(`DocSet '${t.docSetId}' not found`);const n=e.documents[t.documentId];if(!n)throw new Error(`Document '${t.documentId}' not found`);return n.gcSequences()?(r.rehash(),!0):!1}},NK=`
  """Adds verse mapping tables to the documents in a docSet, where the verse mapping may be provided in legacy .vrs or JSON format"""
  setVerseMapping(
    """the id of the docSet to which the verse mapping will be added"""
    docSetId: String!
    """The verse mapping, in legacy .vrs format (as a string)"""
    vrsSource: String
    """The verse mapping, in JSON format (as a string)"""
    jsonSource: String
  ): Boolean!
  """Removes verse mapping tables from the documents in a docSet"""
  unsetVerseMapping(
    """The id of the docSet from which verse mapping will be removed"""
    docSetId: String!
  ): Boolean!
`,qK={setVerseMapping:(e,t)=>{if(t.vrsSource&&t.jsonSource)throw new Error("Cannot specify both vrsSource and jsonSource");if(!t.vrsSource&&!t.jsonSource)throw new Error("Must specify either vrsSource or jsonSource");const r=e.docSets[t.docSetId];if(!r)return!1;let n;t.vrsSource?n=Ae.versification.vrs2json(t.vrsSource):n=t.jsonSource;const u=Ae.versification.succinctifyVerseMappings(n.mappedVerses),s=Ae.versification.reverseVersification(n),o=Ae.versification.succinctifyVerseMappings(s.reverseMappedVerses);for(const a of r.documents().filter(i=>"bookCode"in i.headers)){const i=a.headers.bookCode,c=r.documentWithBook(i);if(!c)continue;const l=c.sequences[c.mainId];l.verseMapping={},i in u&&(l.verseMapping.forward=u[i]),i in o&&(l.verseMapping.reversed=o[i])}return r.tags.add("hasMapping"),!0},unsetVerseMapping:(e,t)=>{const r=e.docSets[t.docSetId];if(!r)return!1;for(const n of r.documents().filter(u=>"bookCode"in u.headers)){const u=n.headers.bookCode,s=r.documentWithBook(u);if(s){const o=s.sequences[s.mainId];o.verseMapping={}}}return r.tags.delete("hasMapping"),!0}},xK=`
type Mutation {
${SK}
${_K}
${TK}
${PK}
${kK}
${NK}
}`,RK={...wK,...BK,...$K,...OK,...IK,...qK},jK=`
"""Information about a standard versification scheme"""
type versification {
  """id, derived from the Paratext vrs filename"""
  id: String!
  """A string of the original vrs file"""
  vrs: String!
  """Chapter/verse information for each book"""
  cvBooks: [cvBook!]!
  """Chapter/verse information for one book"""
  cvBook(
    """The bookCode"""
    bookCode: String!
  ): cvBook!
}
`,MK={id:e=>e[0],vrs:e=>e[1].raw,cvBooks:e=>Object.entries(e[1].cv),cvBook:(e,t)=>Object.entries(e[1].cv).filter(r=>r[0]===t.bookCode)[0]},LK=`
"""Chapter/verse information for a book"""
type cvBook {
  """The bookCode"""
  bookCode: String!
  """The chapter records"""
  chapters: [cvChapter!]!
}
`,UK={bookCode:e=>e[0],chapters:e=>Object.entries(e[1])},GK=`
"""Information for a chapter"""
type cvChapter {
  """The chapter"""
  chapter: Int!
  """The maximum verse number"""
  maxVerse: Int!
}
`,VK={chapter:e=>parseInt(e[0]),maxVerse:e=>parseInt(e[1])},HK=`
      ${gK}
      ${xK}
      ${NJ}
      ${xJ}
      ${jJ}
      ${LJ}
      ${UJ}
      ${GJ}
      ${VJ}
      ${HJ}
      ${JJ}
      ${QJ}
      ${tz}
      ${nz}
      ${sz}
      ${oz}
      ${az}
      ${iz}
      ${cz}
      ${pz}
      ${dz}
      ${hz}
      ${Ez}
      ${yz}
      ${Az}
      ${Cz}
      ${bz}
      ${wz}
      ${Bz}
      ${Jz}
      ${Xz}
      ${eK}
      ${oK}
      ${pK}
      ${FK}
      ${bK}
      ${jK}
      ${LK}
      ${GK}
  `,WK={Mutation:RK,Query:AK,KeyValue:qJ,cv:RJ,idParts:MJ,Item:zJ,ItemGroup:ez,kvEntry:rz,regexIndex:uz,verseNumber:lz,cell:fz,cIndex:Dz,cvVerseElement:mz,cvVerses:vz,cvIndex:gz,cvNavigation:Fz,node:Sz,kvSequence:_z,tableSequence:Tz,treeSequence:zz,Block:Yz,Sequence:tK,Document:aK,DocSet:fK,selectorSpec:CK,versification:MK,cvBook:UK,cvChapter:VK},Jy=JO({typeDefs:HK,resolvers:WK});class JK{constructor(t){this.processorId=Ae.generateId(),this.documents={},this.docSetsBySelector={},this.docSets={},this.filters={},this.customTags={heading:[],paragraph:[],char:[],word:[],intro:[],introHeading:[]},this.emptyBlocks=[],this.selectors=t||[{name:"lang",type:"string",regex:"[a-z]{3}"},{name:"abbr",type:"string"}],this.validateSelectorSpec(this.selectors),this.mutex=new ZO,this.nextPeriph=0,this.nextTable=0,this.nextNodes=0}validateSelectors(){if(this.selectors.length===0)throw new Error("No selectors found");for(const[t,r]of this.selectors.entries()){if(!("name"in r))throw new Error(`Selector ${t} has no name`);if(!("type"in r))throw new Error(`Selector ${t} has no type`);if(!["string","integer"].includes(r.type))throw new Error(`Type for selector ${t} must be string or number, not ${r.type}`);if(r.type==="string"){if("min"in r)throw new Error("String selector should not include 'min'");if("max"in r)throw new Error("String selector should not include 'max'");if("regex"in r)try{ne(r.regex)}catch(n){throw new Error(`Regex '${r.regex}' is not valid: ${n}`)}if("enum"in r){for(const n of r.enum)if(typeof n!="string")throw new Error(`Enum values for selector ${r.name} should be strings, not '${n}'`)}}else{if("regex"in r)throw new Error("Integer selector should not include 'regex'");if("min"in r&&typeof r.min!="number")throw new Error(`'min' must be a number, not '${r.min}'`);if("max"in r&&typeof r.max!="number")throw new Error(`'max' must be a number, not '${r.max}'`);if("min"in r&&"max"in r&&r.min>r.max)throw new Error(`'min' cannot be greater than 'max' (${r.min} > ${r.max})`);if("enum"in r){for(const n of r.enum)if(typeof n!="number")throw new Error(`Enum values for selector ${r.name} should be numbers, not '${n}'`)}}for(const n of Object.keys(r))if(!["name","type","regex","min","max","enum"].includes(n))throw new Error(`Unexpected key '${n}' in selector ${t}`)}}validateSelectorSpec(t){for(const r of t){if(!r.name)throw new Error(`name not found in selector spec element '${JSON.stringify(r)}'`);if(!r.type)throw new Error(`type not found in selector spec element '${JSON.stringify(r)}'`);if(!["string","integer"].includes(r.type))throw new Error(`Type for spec element must be string or number, not ${r.type}`);for(const n of Object.keys(r))if(!["name","type","regex","min","max","enum"].includes(n))throw new Error(`Unexpected key '${n}' in selectorSpec`)}}selectorString(t){return this.selectors.map(r=>r.name).map(r=>`${t[r]}`).join("_")}processor(){return"Proskomma JS"}packageVersion(){return yk.version}docSetList(){return Object.values(this.docSets)}docSetsById(t){return Object.values(this.docSets).filter(r=>t.includes(r.id))}docSetById(t){return this.docSets[t]}docSetsWithBook(t){const r=Object.values(this.documents).filter(u=>"bookCode"in u.headers&&u.headers.bookCode===t).map(u=>u.id),n=u=>{for(const s of r)if(u.docIds.includes(s))return!0;return!1};return Object.values(this.docSets).filter(u=>n(u))}nDocSets(){return this.docSetList().length}nDocuments(){return this.documentList().length}documentList(){return Object.values(this.documents)}documentById(t){return this.documents[t]}documentsById(t){return Object.values(this.documents).filter(r=>t.includes(r.id))}documentsWithBook(t){return Object.values(this.documents).filter(r=>"bookCode"in r.headers&&r.headers.bookCode===t)}importDocument(t,r,n,u,s,o,a){return this.importDocuments(t,r,[n],u,s,o,a)[0]}importDocuments(t,r,n,u,s,o,a){u||(u=this.filters),s||(s=this.customTags),o||(o=this.emptyBlocks),a||(a=[]);const i=this.findOrMakeDocSet(t),c=this.docSets[i];c.buildPreEnums();const l=[];for(const p of n){let f=new Uy(this,i,r,p,u,s,o,a);const d=f.headers.bookCode;if(Object.values(this.documents).filter(E=>c.docIds.includes(E.id)).map(E=>E.headers.bookCode).includes(d))throw new Error(`Attempt to import document with bookCode '${d}' which already exists in docSet ${i}`);this.addDocument(f,i),l.push(f)}return c.preEnums={},l}importUsfmPeriph(t,r,n,u,s,o){const a=r.toString().split(/[\n\r]+/),i=a[0].substring(4,7);if(!["FRT","BAK","INT"].includes(i))throw new Error(`importUsfmInt() expected bookCode of FRT, BAK or INT, not '${i}'`);let c=[];for(const l of a)if(l.substring(0,7)==="\\periph"){let p=ne.exec(l,ne('^\\\\periph (.*)\\|\\s*id\\s*=\\s*"([^"]+)"\\s*$'));if(!p)throw new Error(`Unable to parse periph line '${l}'`);const f=p[1],d=p[2],h=`\\id P${this.nextPeriph>9?this.nextPeriph:"0"+this.nextPeriph}`;c.push([`${h} INT ${d} - ${f}`]),this.nextPeriph++}else c.length>0&&l.substring(0,3)!=="\\id"&&c[c.length-1].push(l);this.importDocuments(t,"usfm",c.map(l=>l.join(`
`)),n,u,s,o)}cleanUsfm(t,r){r=r||{};const n=t.toString().split(/[\n\r]+/),u=[];let s=!0;const o=["\\id","\\ide","\\usfm","\\sts","\\rem","\\h","\\toc"];for(const a of n){const i=a.split(" ")[0].replace(/[0-9]+/g,"");if("remove"in r&&r.remove.includes(i))continue;const c=o.includes(i);s&&!c&&i!=="\\mt"&&u.push("\\mt1 USFM"),u.push(a),c||(s=!1)}return u.join(`
`)}deleteDocSet(t){if(!(t in this.docSets))return!1;for(const o of Object.entries(this.documents).filter(a=>a[1].docSetId===t).map(a=>a[0]))this.deleteDocument(t,o,!1,!1);let r=this.docSetsBySelector;const n=this.selectors.slice(0,this.selectors.length-1);for(const o of n)r=r[this.docSets[t].selectors[o.name]];const u=this.selectors[this.selectors.length-1].name,s=this.docSets[t].selectors[u];if(!r[s])throw new Error(`Could not find docSetId '${t}' in docSetsBySelector in deleteDocSet`);return delete r[s],delete this.docSets[t],!0}deleteDocument(t,r,n,u){return n=n===void 0?!0:n,u=u===void 0?!0:u,!(t in this.docSets)||!(r in this.documents)?!1:(delete this.documents[r],this.docSets[t].docIds.length>1?(this.docSets[t].docIds=this.docSets[t].docIds.filter(s=>s!==r),u&&this.rehashDocSet(t)):n&&this.deleteDocSet(t),!0)}rehashDocSet(t){return t in this.docSets?this.docSets[t].rehash():!1}addDocument(t,r){this.documents[t.id]=t,this.docSets[r].docIds.push(t.id),this.docSets[r].buildEnumIndexes()}loadSuccinctDocSet(t){const r=t.id;if(r in this.docSets)throw new Error(`Attempting to succinct load docSet ${r} which is already loaded`);const n=new xv(this,null,null,t),u=n.id;this.docSets[u]=n;let s=this.docSetsBySelector;const o=t.metadata.selectors;for(const i of this.selectors)i.name===this.selectors[this.selectors.length-1].name?o[i.name]in s||(s[o[i.name]]=n,this.docSets[n.id]=n):(o[i.name]in s||(s[o[i.name]]={}),s=s[o[i.name]]);n.buildPreEnums();const a=[];for(const i of Object.keys(t.docs)){let c=this.newDocumentFromSuccinct(i,t);a.push(c)}return n.preEnums={},a}newDocumentFromSuccinct(t,r){const n=new Uy(this,r.id);n.id=t;const u=r.docs[t];n.filterOptions={},n.customTags=[],n.emptyBlocks=[],n.tags=new Set(u.tags),n.headers=u.headers,n.mainId=u.mainId,n.sequences={};for(const[s,o]of Object.entries(u.sequences)){if(n.sequences[s]={id:s,type:o.type,tags:new Set(o.tags),blocks:[]},o.type==="main"){if(n.sequences[s].chapters={},!("chapters"in o))throw new Error("chapters not found in main sequence");for(const[a,i]of Object.entries(o.chapters)){const c=new Ae.ByteArray;c.fromBase64(i),n.sequences[s].chapters[a]=c}if(n.sequences[s].chapterVerses={},!("chapterVerses"in o))throw new Error("chapterVerses not found in main sequence");for(const[a,i]of Object.entries(o.chapterVerses)){const c=new Ae.ByteArray;c.fromBase64(i),n.sequences[s].chapterVerses[a]=c}if(!("tokensPresent"in o))throw new Error("tokensPresent not found in main sequence");n.sequences[s].tokensPresent=new M5(o.tokensPresent)}for(const a of o.blocks){const i={};for(const[c,l]of Object.entries(a)){const p=new Ae.ByteArray(256);p.fromBase64(l),i[c]=p}n.sequences[s].blocks.push(i)}}return this.addDocument(n,r.id),n}findOrMakeDocSet(t){let r=this.docSetsBySelector,n;for(const u of this.selectors)u.name===this.selectors[this.selectors.length-1].name?t[u.name]in r?n=r[t[u.name]]:(n=new xv(this,t),r[t[u.name]]=n,this.docSets[n.id]=n):(t[u.name]in r||(r[t[u.name]]={}),r=r[t[u.name]]);return n.id}async gqlQuery(t,r){const n=await this.mutex.acquire();try{const u=await hP({schema:Jy,source:t,rootValue:this,contextValue:{}});return r&&r(u),u}finally{n()}}gqlQuerySync(t,r){const n=mP({schema:Jy,source:t,rootValue:this,contextValue:{}});return r&&r(n),n}serializeSuccinct(t){return this.docSets[t].serializeSuccinct()}checksum(){const t=Object.values(this.docSets).map(r=>r.checksum()).sort().join(" ");return j5.calculate(t)}}const zK=e=>{let t,r,n;try{const u=new JK;u.importDocument({lang:"xxx",abbr:"XXX"},"usfm",e);const s=u.gqlQuerySync("{documents {id docSetId perf} }").data.documents[0];t=JSON.parse(s.perf),n=s.id,r=s.docSetId}catch(u){console.log(u),t=null}return{perf:t,docSetId:r,id:n}},KK=({scrollToChapter:e,bookCode:t,setBookCode:r})=>{const[n,u]=Et.useState(null),[s,o]=Et.useState(null),[a,i]=Et.useState(null),[c,l]=Et.useState(null),[p,f]=Et.useState(1);return Et.useEffect(()=>{Oh.setMessageListeners(d=>{switch(d.data.type){case"update-usfm":{const{usfm:h,bookID:E,chapter:A,verse:m}=d.data.payload;console.log("useDocument",{bookCode:t,bookID:E,chapter:A,verse:m}),e(A,m),console.log("scrolling to chapter",A),console.log("received",{usfm:h,bookID:E,chapter:A,verse:m}),u(d.data.payload.usfm),f(d.data.payload.chapter);const{perf:y,id:F,docSetId:B}=zK(d.data.payload.usfm);console.log({perf:y,id:F,docSetId:B}),y&&y.metadata.document.bookCode&&r(y.metadata.document.bookCode),o(y),l(F),i(B);break}case"fileOpened":console.log(`received message from extension :${d.data.type}`);break}})},[]),{document:n,perf:s,bookCode:t,id:c,docSetId:a,chapter:p}};var Ym={},Kc={},E7={exports:{}},XK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YK=XK,ZK=YK;function v7(){}function y7(){}y7.resetWarningCache=v7;var QK=function(){function e(n,u,s,o,a,i){if(i!==ZK){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y7,resetWarningCache:v7};return r.PropTypes=r,r};E7.exports=QK();var ku=E7.exports;function z2(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array&&(n=e.length)===t.length){for(;n--&&z2(e[n],t[n]););return n===-1}if(r===Object){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(n in e)if(!(n in t)||!z2(e[n],t[n]))return!1;return!0}}return e!==e&&t!==t}function Zm(e){const t=Gi.useRef([]);return z2(e,t.current)||(t.current=e),t.current}function eX(e,t){return Gi.useCallback(e,Zm(t))}function fp(e,t){Gi.useEffect(e,Zm(t))}function g7(e,t){return Gi.useMemo(e,Zm(t))}const tX=Object.freeze(Object.defineProperty({__proto__:null,useDeepCompareCallback:eX,useDeepCompareEffect:fp,useDeepCompareMemo:g7},Symbol.toStringTag,{value:"Module"})),Wp=D8(tX);var dp={exports:{}};dp.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",u=1,s=2,o=9007199254740991,a="[object Arguments]",i="[object Array]",c="[object AsyncFunction]",l="[object Boolean]",p="[object Date]",f="[object Error]",d="[object Function]",h="[object GeneratorFunction]",E="[object Map]",A="[object Number]",m="[object Null]",y="[object Object]",F="[object Promise]",B="[object Proxy]",P="[object RegExp]",$="[object Set]",I="[object String]",U="[object Symbol]",j="[object Undefined]",W="[object WeakMap]",te="[object ArrayBuffer]",Y="[object DataView]",oe="[object Float32Array]",ie="[object Float64Array]",fe="[object Int8Array]",De="[object Int16Array]",de="[object Int32Array]",Ce="[object Uint8Array]",pe="[object Uint8ClampedArray]",Q="[object Uint16Array]",q="[object Uint32Array]",v=/[\\^$.*+?()[\]{}|]/g,C=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,g={};g[oe]=g[ie]=g[fe]=g[De]=g[de]=g[Ce]=g[pe]=g[Q]=g[q]=!0,g[a]=g[i]=g[te]=g[l]=g[Y]=g[p]=g[f]=g[d]=g[E]=g[A]=g[y]=g[P]=g[$]=g[I]=g[W]=!1;var O=typeof we=="object"&&we&&we.Object===Object&&we,b=typeof self=="object"&&self&&self.Object===Object&&self,w=O||b||Function("return this")(),x=t&&!t.nodeType&&t,k=x&&!0&&e&&!e.nodeType&&e,G=k&&k.exports===x,H=G&&O.process,re=function(){try{return H&&H.binding&&H.binding("util")}catch{}}(),_e=re&&re.isTypedArray;function Le(X,se){for(var ye=-1,Ne=X==null?0:X.length,St=0,st=[];++ye<Ne;){var Lt=X[ye];se(Lt,ye,X)&&(st[St++]=Lt)}return st}function Ue(X,se){for(var ye=-1,Ne=se.length,St=X.length;++ye<Ne;)X[St+ye]=se[ye];return X}function Ge(X,se){for(var ye=-1,Ne=X==null?0:X.length;++ye<Ne;)if(se(X[ye],ye,X))return!0;return!1}function be(X,se){for(var ye=-1,Ne=Array(X);++ye<X;)Ne[ye]=se(ye);return Ne}function je(X){return function(se){return X(se)}}function ke(X,se){return X.has(se)}function Ie(X,se){return X==null?void 0:X[se]}function ce(X){var se=-1,ye=Array(X.size);return X.forEach(function(Ne,St){ye[++se]=[St,Ne]}),ye}function Te(X,se){return function(ye){return X(se(ye))}}function Z(X){var se=-1,ye=Array(X.size);return X.forEach(function(Ne){ye[++se]=Ne}),ye}var ae=Array.prototype,le=Function.prototype,N=Object.prototype,S=w["__core-js_shared__"],_=le.toString,L=N.hasOwnProperty,J=function(){var X=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return X?"Symbol(src)_1."+X:""}(),ee=N.toString,ue=RegExp("^"+_.call(L).replace(v,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=G?w.Buffer:void 0,Be=w.Symbol,qe=w.Uint8Array,Pe=N.propertyIsEnumerable,rt=ae.splice,Ar=Be?Be.toStringTag:void 0,sn=Object.getOwnPropertySymbols,En=ge?ge.isBuffer:void 0,xu=Te(Object.keys,Object),Wn=vo(w,"DataView"),Qt=vo(w,"Map"),Cs=vo(w,"Promise"),fu=vo(w,"Set"),bs=vo(w,"WeakMap"),zr=vo(Object,"create"),Ss=$s(Wn),ja=$s(Qt),ws=$s(Cs),Ma=$s(fu),_s=$s(bs),R=Be?Be.prototype:void 0,T=R?R.valueOf:void 0;function M(X){var se=-1,ye=X==null?0:X.length;for(this.clear();++se<ye;){var Ne=X[se];this.set(Ne[0],Ne[1])}}function K(){this.__data__=zr?zr(null):{},this.size=0}function z(X){var se=this.has(X)&&delete this.__data__[X];return this.size-=se?1:0,se}function me(X){var se=this.__data__;if(zr){var ye=se[X];return ye===n?void 0:ye}return L.call(se,X)?se[X]:void 0}function ve(X){var se=this.__data__;return zr?se[X]!==void 0:L.call(se,X)}function Oe(X,se){var ye=this.__data__;return this.size+=this.has(X)?0:1,ye[X]=zr&&se===void 0?n:se,this}M.prototype.clear=K,M.prototype.delete=z,M.prototype.get=me,M.prototype.has=ve,M.prototype.set=Oe;function Me(X){var se=-1,ye=X==null?0:X.length;for(this.clear();++se<ye;){var Ne=X[se];this.set(Ne[0],Ne[1])}}function et(){this.__data__=[],this.size=0}function $e(X){var se=this.__data__,ye=$r(se,X);if(ye<0)return!1;var Ne=se.length-1;return ye==Ne?se.pop():rt.call(se,ye,1),--this.size,!0}function Je(X){var se=this.__data__,ye=$r(se,X);return ye<0?void 0:se[ye][1]}function tt(X){return $r(this.__data__,X)>-1}function Fe(X,se){var ye=this.__data__,Ne=$r(ye,X);return Ne<0?(++this.size,ye.push([X,se])):ye[Ne][1]=se,this}Me.prototype.clear=et,Me.prototype.delete=$e,Me.prototype.get=Je,Me.prototype.has=tt,Me.prototype.set=Fe;function We(X){var se=-1,ye=X==null?0:X.length;for(this.clear();++se<ye;){var Ne=X[se];this.set(Ne[0],Ne[1])}}function nt(){this.size=0,this.__data__={hash:new M,map:new(Qt||Me),string:new M}}function Ke(X){var se=Tc(this,X).delete(X);return this.size-=se?1:0,se}function er(X){return Tc(this,X).get(X)}function kt(X){return Tc(this,X).has(X)}function It(X,se){var ye=Tc(this,X),Ne=ye.size;return ye.set(X,se),this.size+=ye.size==Ne?0:1,this}We.prototype.clear=nt,We.prototype.delete=Ke,We.prototype.get=er,We.prototype.has=kt,We.prototype.set=It;function rr(X){var se=-1,ye=X==null?0:X.length;for(this.__data__=new We;++se<ye;)this.add(X[se])}function fr(X){return this.__data__.set(X,n),this}function Ft(X){return this.__data__.has(X)}rr.prototype.add=rr.prototype.push=fr,rr.prototype.has=Ft;function At(X){var se=this.__data__=new Me(X);this.size=se.size}function dr(){this.__data__=new Me,this.size=0}function Ht(X){var se=this.__data__,ye=se.delete(X);return this.size=se.size,ye}function Kr(X){return this.__data__.get(X)}function Bs(X){return this.__data__.has(X)}function Ts(X,se){var ye=this.__data__;if(ye instanceof Me){var Ne=ye.__data__;if(!Qt||Ne.length<r-1)return Ne.push([X,se]),this.size=++ye.size,this;ye=this.__data__=new We(Ne)}return ye.set(X,se),this.size=ye.size,this}At.prototype.clear=dr,At.prototype.delete=Ht,At.prototype.get=Kr,At.prototype.has=Bs,At.prototype.set=Ts;function vn(X,se){var ye=$c(X),Ne=!ye&&dB(X),St=!ye&&!Ne&&Uf(X),st=!ye&&!Ne&&!St&&Z3(X),Lt=ye||Ne||St||st,nr=Lt?be(X.length,String):[],Dr=nr.length;for(var Nt in X)(se||L.call(X,Nt))&&!(Lt&&(Nt=="length"||St&&(Nt=="offset"||Nt=="parent")||st&&(Nt=="buffer"||Nt=="byteLength"||Nt=="byteOffset")||iB(Nt,Dr)))&&nr.push(Nt);return nr}function $r(X,se){for(var ye=X.length;ye--;)if(z3(X[ye][0],se))return ye;return-1}function yn(X,se,ye){var Ne=se(X);return $c(X)?Ne:Ue(Ne,ye(X))}function gn(X){return X==null?X===void 0?j:m:Ar&&Ar in Object(X)?oB(X):fB(X)}function Ru(X){return La(X)&&gn(X)==a}function Pr(X,se,ye,Ne,St){return X===se?!0:X==null||se==null||!La(X)&&!La(se)?X!==X&&se!==se:eB(X,se,ye,Ne,Pr,St)}function eB(X,se,ye,Ne,St,st){var Lt=$c(X),nr=$c(se),Dr=Lt?i:ju(X),Nt=nr?i:ju(se);Dr=Dr==a?y:Dr,Nt=Nt==a?y:Nt;var Xr=Dr==y,An=Nt==y,Fr=Dr==Nt;if(Fr&&Uf(X)){if(!Uf(se))return!1;Lt=!0,Xr=!1}if(Fr&&!Xr)return st||(st=new At),Lt||Z3(X)?W3(X,se,ye,Ne,St,st):uB(X,se,Dr,ye,Ne,St,st);if(!(ye&u)){var on=Xr&&L.call(X,"__wrapped__"),an=An&&L.call(se,"__wrapped__");if(on||an){var Mu=on?X.value():X,du=an?se.value():se;return st||(st=new At),St(Mu,du,ye,Ne,st)}}return Fr?(st||(st=new At),sB(X,se,ye,Ne,St,st)):!1}function tB(X){if(!Y3(X)||lB(X))return!1;var se=K3(X)?ue:C;return se.test($s(X))}function rB(X){return La(X)&&X3(X.length)&&!!g[gn(X)]}function nB(X){if(!pB(X))return xu(X);var se=[];for(var ye in Object(X))L.call(X,ye)&&ye!="constructor"&&se.push(ye);return se}function W3(X,se,ye,Ne,St,st){var Lt=ye&u,nr=X.length,Dr=se.length;if(nr!=Dr&&!(Lt&&Dr>nr))return!1;var Nt=st.get(X);if(Nt&&st.get(se))return Nt==se;var Xr=-1,An=!0,Fr=ye&s?new rr:void 0;for(st.set(X,se),st.set(se,X);++Xr<nr;){var on=X[Xr],an=se[Xr];if(Ne)var Mu=Lt?Ne(an,on,Xr,se,X,st):Ne(on,an,Xr,X,se,st);if(Mu!==void 0){if(Mu)continue;An=!1;break}if(Fr){if(!Ge(se,function(du,Ps){if(!ke(Fr,Ps)&&(on===du||St(on,du,ye,Ne,st)))return Fr.push(Ps)})){An=!1;break}}else if(!(on===an||St(on,an,ye,Ne,st))){An=!1;break}}return st.delete(X),st.delete(se),An}function uB(X,se,ye,Ne,St,st,Lt){switch(ye){case Y:if(X.byteLength!=se.byteLength||X.byteOffset!=se.byteOffset)return!1;X=X.buffer,se=se.buffer;case te:return!(X.byteLength!=se.byteLength||!st(new qe(X),new qe(se)));case l:case p:case A:return z3(+X,+se);case f:return X.name==se.name&&X.message==se.message;case P:case I:return X==se+"";case E:var nr=ce;case $:var Dr=Ne&u;if(nr||(nr=Z),X.size!=se.size&&!Dr)return!1;var Nt=Lt.get(X);if(Nt)return Nt==se;Ne|=s,Lt.set(X,se);var Xr=W3(nr(X),nr(se),Ne,St,st,Lt);return Lt.delete(X),Xr;case U:if(T)return T.call(X)==T.call(se)}return!1}function sB(X,se,ye,Ne,St,st){var Lt=ye&u,nr=J3(X),Dr=nr.length,Nt=J3(se),Xr=Nt.length;if(Dr!=Xr&&!Lt)return!1;for(var An=Dr;An--;){var Fr=nr[An];if(!(Lt?Fr in se:L.call(se,Fr)))return!1}var on=st.get(X);if(on&&st.get(se))return on==se;var an=!0;st.set(X,se),st.set(se,X);for(var Mu=Lt;++An<Dr;){Fr=nr[An];var du=X[Fr],Ps=se[Fr];if(Ne)var Q3=Lt?Ne(Ps,du,Fr,se,X,st):Ne(du,Ps,Fr,X,se,st);if(!(Q3===void 0?du===Ps||St(du,Ps,ye,Ne,st):Q3)){an=!1;break}Mu||(Mu=Fr=="constructor")}if(an&&!Mu){var Pc=X.constructor,Oc=se.constructor;Pc!=Oc&&"constructor"in X&&"constructor"in se&&!(typeof Pc=="function"&&Pc instanceof Pc&&typeof Oc=="function"&&Oc instanceof Oc)&&(an=!1)}return st.delete(X),st.delete(se),an}function J3(X){return yn(X,mB,aB)}function Tc(X,se){var ye=X.__data__;return cB(se)?ye[typeof se=="string"?"string":"hash"]:ye.map}function vo(X,se){var ye=Ie(X,se);return tB(ye)?ye:void 0}function oB(X){var se=L.call(X,Ar),ye=X[Ar];try{X[Ar]=void 0;var Ne=!0}catch{}var St=ee.call(X);return Ne&&(se?X[Ar]=ye:delete X[Ar]),St}var aB=sn?function(X){return X==null?[]:(X=Object(X),Le(sn(X),function(se){return Pe.call(X,se)}))}:EB,ju=gn;(Wn&&ju(new Wn(new ArrayBuffer(1)))!=Y||Qt&&ju(new Qt)!=E||Cs&&ju(Cs.resolve())!=F||fu&&ju(new fu)!=$||bs&&ju(new bs)!=W)&&(ju=function(X){var se=gn(X),ye=se==y?X.constructor:void 0,Ne=ye?$s(ye):"";if(Ne)switch(Ne){case Ss:return Y;case ja:return E;case ws:return F;case Ma:return $;case _s:return W}return se});function iB(X,se){return se=se??o,!!se&&(typeof X=="number"||D.test(X))&&X>-1&&X%1==0&&X<se}function cB(X){var se=typeof X;return se=="string"||se=="number"||se=="symbol"||se=="boolean"?X!=="__proto__":X===null}function lB(X){return!!J&&J in X}function pB(X){var se=X&&X.constructor,ye=typeof se=="function"&&se.prototype||N;return X===ye}function fB(X){return ee.call(X)}function $s(X){if(X!=null){try{return _.call(X)}catch{}try{return X+""}catch{}}return""}function z3(X,se){return X===se||X!==X&&se!==se}var dB=Ru(function(){return arguments}())?Ru:function(X){return La(X)&&L.call(X,"callee")&&!Pe.call(X,"callee")},$c=Array.isArray;function DB(X){return X!=null&&X3(X.length)&&!K3(X)}var Uf=En||vB;function hB(X,se){return Pr(X,se)}function K3(X){if(!Y3(X))return!1;var se=gn(X);return se==d||se==h||se==c||se==B}function X3(X){return typeof X=="number"&&X>-1&&X%1==0&&X<=o}function Y3(X){var se=typeof X;return X!=null&&(se=="object"||se=="function")}function La(X){return X!=null&&typeof X=="object"}var Z3=_e?je(_e):rB;function mB(X){return DB(X)?vn(X):nB(X)}function EB(){return[]}function vB(){return!1}e.exports=hB})(dp,dp.exports);var rX=dp.exports,nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.removePreviewTextInGrafts=nu.embedSequencesInMainGrafts=nu.embedSequencesInGrafts=nu.embedPreviewTextInGrafts=void 0;function Qm(e){return oX(e)||sX(e)||uX(e)||nX()}function nX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uX(e,t){if(e){if(typeof e=="string")return K2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K2(e,t)}}function sX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oX(e){if(Array.isArray(e))return K2(e)}function K2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aX=function(t){var r=t.htmlPerf,n=t.sequenceId,u=new DOMParser,s=r.sequencesHtml[n],o=u.parseFromString(s,"text/html"),a=Qm(o.getElementsByClassName("graft"));a.forEach(function(c){var l=c.dataset.target,p=r.sequencesHtml[l],f=document.createElement("div");f.innerHTML=p;var d=f.textContent.trim();c.dataset.previewtext=d});var i=o.getElementsByTagName("section")[0].outerHTML;return i};nu.embedPreviewTextInGrafts=aX;var iX=function(t){var r=t.htmlPerf,n=t.sequenceId,u=new DOMParser,s=r.sequencesHtml[n],o=u.parseFromString(s,"text/html"),a=Qm(o.getElementsByClassName("graft"));a.forEach(function(l){delete l.dataset.previewtext});var i=o.getElementsByTagName("section")[0].outerHTML,c=structuredClone(r);return c.sequencesHtml[n]=i,c};nu.removePreviewTextInGrafts=iX;var A7=function e(t){var r=t.perfHtml,n=t.sequenceId,u=new DOMParser,s=r.sequencesHtml[n],o=u.parseFromString(s,"text/html"),a=Qm(o.getElementsByClassName("graft"));a.forEach(function(c){var l=c.dataset.target,p=e({perfHtml:r,sequenceId:l});c.innerHTML=p});var i=o.getElementsByTagName("section")[0].outerHTML;return i};nu.embedSequencesInGrafts=A7;var cX=function(t){var r=t.perfHtml,n=r.mainSequenceId,u=A7({perfHtml:r,sequenceId:n});return console.log("embedSequencesInMainGrafts",n,u),u};nu.embedSequencesInMainGrafts=cX;var ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.getTypeFromSequenceHtml=ha.getTypeFromPerf=void 0;var lX=function(t){var r=t.perfHtml,n=t.sequenceId,u=r==null?void 0:r.sequencesHtml[n],s=F7({htmlSequence:u});if(s==="main"){var o=(r==null?void 0:r.headers)||{},a=o.h,i=o.toc,c=o.toc2;s=i||c||a}return s};ha.getTypeFromPerf=lX;var F7=function(t){var r=t.htmlSequence,n=r==null?void 0:r.match(/data-type="(\w+)"/);return n&&(n=n[1]),n};ha.getTypeFromSequenceHtml=F7;var oc={};function X2(e){"@babel/helpers - typeof";return X2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X2(e)}Object.defineProperty(oc,"__esModule",{value:!0});oc.default=hX;var vd=fX(Et),pX=["type","content","show","index","verbose"];function C7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(C7=function(u){return u?r:t})(e)}function fX(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||X2(e)!=="object"&&typeof e!="function")return{default:e};var r=C7(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=u?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function Y2(){return Y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y2.apply(this,arguments)}function dX(e,t){if(e==null)return{};var r=DX(e,t),n,u;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(u=0;u<s.length;u++)n=s[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DX(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,s;for(s=0;s<n.length;s++)u=n[s],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}function hX(e){var t=e.type;e.content;var r=e.show,n=e.index,u=e.verbose,s=dX(e,pX);(0,vd.useEffect)(function(){return u&&console.log("SectionHeading: Mount/First Render",n),function(){u&&console.log("SectionHeading: UnMount/Destroyed",n)}},[]);var o=n&&"Chapter ".concat(n);return o||(o=t==="main"?"Title & Introduction":t),vd.default.createElement("div",Y2({className:"sectionHeading"},s),vd.default.createElement("span",{className:"expand"},r?"":"...",o,r?"":"..."))}var Xc={},Jp={};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.getTarget=void 0;var mX=function(t){var r,n=t.content,u=document.createElement("div");u.innerHTML=n;var s=((r=u.firstChild)===null||r===void 0?void 0:r.dataset)||{},o=s.target;return o};Jp.getTarget=mX;var zy;function EX(){if(zy)return Xc;zy=1;function e(y){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},e(y)}Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.default=m;var t=a(Et),r=Jp,n=s(x7()),u=["htmlPerf","onHtmlPerf","sequenceIds","addSequenceId","options","content","style","contentEditable","index","verbose","setFootNote"];function s(y){return y&&y.__esModule?y:{default:y}}function o(y){if(typeof WeakMap!="function")return null;var F=new WeakMap,B=new WeakMap;return(o=function($){return $?B:F})(y)}function a(y,F){if(!F&&y&&y.__esModule)return y;if(y===null||e(y)!=="object"&&typeof y!="function")return{default:y};var B=o(F);if(B&&B.has(y))return B.get(y);var P={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in y)if(I!=="default"&&Object.prototype.hasOwnProperty.call(y,I)){var U=$?Object.getOwnPropertyDescriptor(y,I):null;U&&(U.get||U.set)?Object.defineProperty(P,I,U):P[I]=y[I]}return P.default=y,B&&B.set(y,P),P}function i(y){return f(y)||p(y)||l(y)||c()}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(y,F){if(y){if(typeof y=="string")return d(y,F);var B=Object.prototype.toString.call(y).slice(8,-1);if(B==="Object"&&y.constructor&&(B=y.constructor.name),B==="Map"||B==="Set")return Array.from(y);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return d(y,F)}}function p(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function f(y){if(Array.isArray(y))return d(y)}function d(y,F){(F==null||F>y.length)&&(F=y.length);for(var B=0,P=new Array(F);B<F;B++)P[B]=y[B];return P}function h(){return h=Object.assign?Object.assign.bind():function(y){for(var F=1;F<arguments.length;F++){var B=arguments[F];for(var P in B)Object.prototype.hasOwnProperty.call(B,P)&&(y[P]=B[P])}return y},h.apply(this,arguments)}function E(y,F){if(y==null)return{};var B=A(y,F),P,$;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(y);for($=0;$<I.length;$++)P=I[$],!(F.indexOf(P)>=0)&&Object.prototype.propertyIsEnumerable.call(y,P)&&(B[P]=y[P])}return B}function A(y,F){if(y==null)return{};var B={},P=Object.keys(y),$,I;for(I=0;I<P.length;I++)$=P[I],!(F.indexOf($)>=0)&&(B[$]=y[$]);return B}function m(y){var F=y.htmlPerf,B=y.onHtmlPerf,P=y.sequenceIds,$=y.addSequenceId,I=y.options,U=y.content;y.style;var j=y.contentEditable,W=y.index,te=y.verbose;y.setFootNote;var Y=E(y,u);(0,t.useEffect)(function(){return te&&console.log("Block: Mount/First Render",W),function(){te&&console.log("Block: UnMount/Destroyed",W)}},[]);var oe,ie=!!U.match(/data-type="paragraph"/);if(ie&&(oe=t.default.createElement("div",h({contentEditable:j},Y))),!ie){var fe=(0,r.getTarget)({content:U});if(fe&&!I.preview){var De={sequenceIds:[].concat(i(P),[fe]),addSequenceId:$,htmlPerf:F,onHtmlPerf:B};oe=t.default.createElement(n.default,De)}oe||(oe=t.default.createElement("div",h({},Y,{contentEditable:!1})))}return t.default.createElement(t.default.Fragment,null,oe)}return Xc}var zp={},b7={},Kp={},eE={};Object.defineProperty(eE,"__esModule",{value:!0});eE.default=tE;var Ky=Et,yd=Wp,Vu=vX(ku);function vX(e){return e&&e.__esModule?e:{default:e}}function xi(e){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(e)}function Xy(e,t){return FX(e)||AX(e,t)||gX(e,t)||yX()}function yX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gX(e,t){if(e){if(typeof e=="string")return Yy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yy(e,t)}}function Yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,u,s,o,a=[],i=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);i=!0);}catch(l){c=!0,u=l}finally{try{if(!i&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw u}}return a}}function FX(e){if(Array.isArray(e))return e}function Zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zy(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return t=bX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bX(e){var t=SX(e,"string");return xi(t)==="symbol"?t:String(t)}function SX(e,t){if(xi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S7={content:"",onContent:function(t){console.warn(`EditableBlock.onContent() not provided:

`,t)},options:{editable:!0},decorators:{}};function tE(e){var t=e.content,r=e.onContent,n=e.onInput,u=e.decorators,s=e.options,o=Yc(Yc({},S7.options),s),a=o.returnHtml,i=o.editable,c=o.preview,l=(0,Ky.useState)(0),p=Xy(l,2),f=p[0],d=p[1],h=(0,yd.useDeepCompareMemo)(function(){var y=t,F=Yc(a?{spanPadding:[/<\/span>/g,"</span>​"]}:{embededHtml:[/</g,"&lt;"]},u);return Object.keys(F).length>0&&Object.keys(F).forEach(function(B){var P=Xy(F[B],2),$=P[0],I=P[1];y=y.replace($,I)}),y},[t,a,u,c]),E=(0,yd.useDeepCompareCallback)(function(y){var F;if(a)F=y.innerHTML.replaceAll("​","");else{var B=document.createElement("div");B.innerHTML=y.innerHTML.replaceAll("<div",`
<div`),F=B.textContent.replaceAll(/&lt;/g,"<")}t!==F&&(r(F),d(f+1))},[a,t,r,f]),A=(0,Ky.useCallback)(function(y){E(y.target)},[E]),m=(0,yd.useDeepCompareMemo)(function(){return{editIndex:f,contentEditable:i,dangerouslySetInnerHTML:{__html:h},suppressContentEditableWarning:!0,save:E,onBlur:A,onInput:n}},[i,h,A,n,f]);return m}tE.propTypes={content:Vu.default.string.isRequired,onContent:Vu.default.func,onInput:Vu.default.func,options:Vu.default.shape({editable:Vu.default.bool,returnHtml:Vu.default.bool}),decorators:Vu.default.object,onClick:Vu.default.func};tE.defaultProps=S7;var rE={};Object.defineProperty(rE,"__esModule",{value:!0});rE.default=nE;var Pn=_X(Et),Va=wX(ku);function wX(e){return e&&e.__esModule?e:{default:e}}function w7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(w7=function(u){return u?r:t})(e)}function _X(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||ma(e)!=="object"&&typeof e!="function")return{default:e};var r=w7(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=u?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function ma(e){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(e)}function Z2(){return Z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z2.apply(this,arguments)}function BX(e){return PX(e)||$X(e)||_7(e)||TX()}function TX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $X(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PX(e){if(Array.isArray(e))return Q2(e)}function OX(e,t){return NX(e)||IX(e,t)||_7(e,t)||kX()}function kX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _7(e,t){if(e){if(typeof e=="string")return Q2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q2(e,t)}}function Q2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,u,s,o,a=[],i=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);i=!0);}catch(l){c=!0,u=l}finally{try{if(!i&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw u}}return a}}function NX(e){if(Array.isArray(e))return e}function Qy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qy(Object(r),!0).forEach(function(n){qX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qX(e,t,r){return t=xX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xX(e){var t=RX(e,"string");return ma(t)==="symbol"?t:String(t)}function RX(e,t){if(ma(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ma(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th={components:{contextMenu:function(t){var r=t.children,n=t.handleClose,u=t.menuPosition,s=eh({border:"1px solid gray",borderRadius:"0.2em",padding:"0.25em",background:"white",position:"fixed"},u);return Pn.default.createElement("dialog",{className:"contextMenu",style:s,onClose:n},r)},contextMenuItem:function(t){var r=t.action,n=t.index,u=t.disabled;t.selection,t.element,t.type,t.subtype;var s={padding:"0.25em",color:u?"grey":"inherit"};return Pn.default.createElement("div",{className:"menuItem",style:s,"data-test-id":"contextMenuItem-".concat(n),onClick:r.callback},r.label)}},actions:[{label:"Paragraph",type:"block",subtype:"p"},{label:"Block Quote",type:"block",subtype:"q"},{label:"Block Quote 2",type:"block",subtype:"q2"},{label:"Block Quote 3",type:"block",subtype:"q3"},{label:"Descriptive Subtitle",type:"block",subtype:"d"},{label:"Major Title",type:"block",subtype:"mt"},{label:"Major Title 2",type:"block",subtype:"mt2"},{label:"Major Title 3",type:"block",subtype:"mt3"},{label:"Chapter",type:"chapter"},{label:"Verse",type:"verses"}]};function nE(e){var t=e.components,r=e.save,n=e.children,u=(0,Pn.useMemo)(function(){return{menuPosition:void 0,selection:void 0,element:void 0,type:void 0,subtype:void 0}},[]),s=(0,Pn.useState)(u),o=OX(s,2),a=o[0],i=o[1],c=!!a.menuPosition,l=BX(th.actions),p=eh(eh({},th.components),{},{_components:t}),f=p.contextMenu,d=p.contextMenuItem,h=function(P){var $=P.target,I=$.dataset.type,U=$.dataset.subtype;I==="block"&&P.preventDefault();var j=P.clientX,W=P.clientY,te=a.menuPosition?void 0:{top:W,left:j},Y=document.getSelection();i({menuPosition:te,selection:Y,element:$,type:I,subtype:U})},E=(0,Pn.useCallback)(function(B){B.preventDefault(),i(u)},[u]);(0,Pn.useEffect)(function(){return c&&document.addEventListener("click",E),function(){document.removeEventListener("click",E)}},[c,E]);var A=l.filter(function(B){return B.type===a.type}),m=[];c&&(m=A.map(function(B,P){var $=B.subtype===a.subtype,I=a.element;a.selection;var U=a.type,j=a.subtype;return!B.callback&&U&&j&&(B.callback=function(){I.classList.remove(I.dataset.subtype),I.dataset.subtype=B.subtype,I.classList.add(B.subtype);var W=I.closest("div[contenteditable]");r(W)}),$&&(B.callback=function(){}),Pn.default.createElement(d,Z2({key:"".concat(B.type,":").concat(B.subtype),index:P,disabled:$,action:B},a))}));var y={open:c,menuPosition:a.menuPosition,handleClose:E},F=Pn.default.createElement(Pn.default.Fragment,null);return c&&A.length>0&&(F=Pn.default.createElement(f,y,m)),Pn.default.createElement("div",{className:"contextMenuWrapper",onContextMenu:h,style:{}},n,F)}nE.propTypes={components:Va.default.shape({contextMenu:Va.default.func,contextMenuItem:Va.default.func}),save:Va.default.func.isRequired,children:Va.default.any.isRequired};nE.defaultProps=th;Object.defineProperty(Kp,"__esModule",{value:!0});Kp.default=sE;var rh=UX(Et),Yr=uE(ku),B7=uE(eE);uE(rE);var jX=["content","verbose","options"],MX=["content","onContent","decorators","style","onClick","components","options","index","verbose"],LX=["editIndex","save"];function uE(e){return e&&e.__esModule?e:{default:e}}function T7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(T7=function(u){return u?r:t})(e)}function UX(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||Ea(e)!=="object"&&typeof e!="function")return{default:e};var r=T7(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=u?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function Ea(e){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(e)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(this,arguments)}function nh(e,t){if(e==null)return{};var r=GX(e,t),n,u;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(u=0;u<s.length;u++)n=s[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GX(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,s;for(s=0;s<n.length;s++)u=n[s],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(n){VX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VX(e,t,r){return t=HX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HX(e){var t=WX(e,"string");return Ea(t)==="symbol"?t:String(t)}function WX(e,t){if(Ea(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ea(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $7=Qo(Qo({},B7.default.defaultProps),{},{style:{whiteSpace:"pre-wrap",padding:"1em"},components:{block:function(t){t.content,t.verbose,t.options;var r=nh(t,jX);return rh.default.createElement("div",Dp({className:"block"},r))}}});function sE(e){var t=e.content,r=e.onContent,n=e.decorators,u=e.style,s=e.onClick,o=e.components,a=e.options,i=e.index,c=e.verbose,l=c===void 0?!1:c,p=nh(e,MX),f=Qo(Qo({},$7.components),o),d=f||{},h=d.block;(0,rh.useEffect)(function(){l&&console.log("EditableBlock First Render")},[]);var E=(0,B7.default)({content:t,onContent:r,onInput:p==null?void 0:p.onInput,decorators:n,options:a}),A=E.editIndex;E.save;var m=nh(E,LX),y=Qo(Qo({content:t,style:u,onClick:s,index:i,verbose:l,options:a},m),p);return rh.default.createElement(h,Dp({key:A+t},y))}sE.propTypes={content:Yr.default.string.isRequired,onContent:Yr.default.func,options:Yr.default.shape({editable:Yr.default.bool,returnHtml:Yr.default.bool}),components:Yr.default.shape({block:Yr.default.func}),decorators:Yr.default.object,onClick:Yr.default.func,onInput:Yr.default.func,style:Yr.default.object,index:Yr.default.number,verbose:Yr.default.bool};sE.defaultProps=$7;var Xp={},oE={};Object.defineProperty(oE,"__esModule",{value:!0});oE.default=aE;var JX=Et,Ha=zX(ku);function zX(e){return e&&e.__esModule?e:{default:e}}function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tg(Object(r),!0).forEach(function(n){KX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KX(e,t,r){return t=XX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XX(e){var t=YX(e,"string");return Ri(t)==="symbol"?t:String(t)}function YX(e,t){if(Ri(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ri(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uh={content:"",options:{blockable:!0},parsers:{block:function(t){return t.split(`
`)}},show:!0};function aE(e){var t=e.content,r=e.parsers,n=e.options,u=e.show,s=Zc(Zc({},uh.options),n),o=s.blockable,a=Zc(Zc({},uh.parsers),r),i=a.block,c=(0,JX.useMemo)(function(){var l=[];return l=u&&(o?i(t):[t]),l},[u,o,i,t]);return c}aE.propTypes={content:Ha.default.string.isRequired,options:Ha.default.shape({blockable:Ha.default.bool}),parsers:Ha.default.shape({block:Ha.default.func})};aE.defaultProps=uh;function va(e){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(e)}Object.defineProperty(Xp,"__esModule",{value:!0});Xp.default=cE;var Zn=uY(Et),wt=iE(ku),rg=Wp,ZX=iE(oE),QX=iE(Kp),eY=["show","children","dir"],tY=["show","content"],rY=["children","show"],nY=["content","onContent","parsers","joiners","decorators","index","onShow","show","dir","verbose"];function iE(e){return e&&e.__esModule?e:{default:e}}function P7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(P7=function(u){return u?r:t})(e)}function uY(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||va(e)!=="object"&&typeof e!="function")return{default:e};var r=P7(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=u?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function sY(e){return cY(e)||iY(e)||aY(e)||oY()}function oY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aY(e,t){if(e){if(typeof e=="string")return sh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sh(e,t)}}function iY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cY(e){if(Array.isArray(e))return sh(e)}function sh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(r),!0).forEach(function(n){lY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lY(e,t,r){return t=pY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=fY(e,"string");return va(t)==="symbol"?t:String(t)}function fY(e,t){if(va(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(va(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ca.apply(this,arguments)}function _l(e,t){if(e==null)return{};var r=dY(e,t),n,u;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(u=0;u<s.length;u++)n=s[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dY(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,s;for(s=0;s<n.length;s++)u=n[s],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}var Bl={content:"",onContent:function(t){console.warn(`EditableSection.onContent() not provided:

`,t)},options:{editable:!0},components:{section:function(t){t.show;var r=t.children,n=t.dir,u=_l(t,eY);return Zn.default.createElement("div",ca({className:"section "+n,dir:n},u),r)},sectionHeading:function(t){t.show;var r=t.content,n=_l(t,tY);return Zn.default.createElement("h2",ca({className:"sectionHeading"},n),r)},sectionBody:function(t){var r=t.children;t.show;var n=_l(t,rY);return Zn.default.createElement("div",ca({className:"sectionBody"},n),r)}},handlers:{onBlockClick:function(t){t.content;var r=t.index;console.warn(`EditableSection.onBlockClick({content, index}) not provided.

`,r)}},joiners:{block:`
`},show:!0,onShow:function(){console.warn("EditableSection.onShow() not provided.")}},DY={whiteSpace:"nowrap",overflow:"hidden",contentOverflow:"ellipsis"};function cE(e){var t=e.content,r=e.onContent,n=e.parsers,u=e.joiners,s=e.decorators,o=e.index,a=e.onShow,i=e.show,c=e.dir,l=e.verbose,p=l===void 0?!1:l,f=_l(e,nY),d=Oo(Oo({},Bl.components),f.components),h=d||{},E=h.section,A=h.sectionHeading,m=h.sectionBody,y=Oo(Oo({},Bl.options),f.options),F=Oo(Oo({},Bl.handlers),f.handlers),B=F.onBlockClick;(0,Zn.useEffect)(function(){p&&console.log("EditableSection First Render")},[]);var P=(0,ZX.default)({content:t,parsers:n,options:y,show:i}),$=(0,rg.useDeepCompareCallback)(function(U,j){var W=sY(P);W[j]=U;var te=W.join(u.block);r(te)},[P]),I=(0,rg.useDeepCompareMemo)(function(){var U=Zn.default.createElement(Zn.default.Fragment,null);return i&&(U=P.map(function(j,W){var te={content:j,components:d,options:y,onContent:function(oe){$(oe,W)},onInput:f==null?void 0:f.onInput,onClick:function(oe){B({content:j,index:W,element:oe.target})},decorators:s,index:W,verbose:p};return Zn.default.createElement(QX.default,ca({key:W+j},te))})),U},[P,d,y,B,$,s]);return Zn.default.createElement(E,{dir:c,show:i,index:o},y.sectionable&&Zn.default.createElement(A,{show:i,dir:c,style:DY,onClick:a,content:t,index:o,"data-test-id":"sectionHeading"}),Zn.default.createElement(m,{show:i,dir:c,index:o},I))}cE.propTypes={content:wt.default.string.isRequired,onContent:wt.default.func,onInput:wt.default.func,options:wt.default.shape({sectionable:wt.default.bool,blockable:wt.default.bool,editable:wt.default.bool,returnHtml:wt.default.bool}),components:wt.default.shape({section:wt.default.func,sectionHeading:wt.default.func,sectionBody:wt.default.func,block:wt.default.func}),parsers:wt.default.shape({block:wt.default.func}),joiners:wt.default.shape({block:wt.default.string}),decorators:wt.default.object,handlers:wt.default.shape({onBlockClick:wt.default.func}),index:wt.default.number,verbose:wt.default.bool,show:wt.default.bool,onShow:wt.default.func,dir:wt.default.string};cE.defaultProps=Bl;var lE={},O7={exports:{}};(function(e){function t(a,i,c,l){Object.defineProperty(a,i,{get:c,set:l,enumerable:!0,configurable:!0})}t(e.exports,"addArrowKeyNavigationToContenteditableElements",()=>n),t(e.exports,"getContenteditableElements",()=>u),t(e.exports,"addArrowKeyNavigationToElements",()=>s),t(e.exports,"addArrowKeyNavigationToElement",()=>o);function r({element:a}){let i=0;if(typeof window.getSelection<"u"&&window.getSelection().rangeCount!==0){const p=window.getSelection().getRangeAt(0),f=p.cloneRange();f.selectNodeContents(a),f.setEnd(p.endContainer,p.endOffset),i=f.toString().length}return i}function n(a){const{verbose:i}=a||{},c=u();s({elements:c,verbose:i})}function u(){return document.querySelectorAll("[contenteditable]")}function s({elements:a,verbose:i}){[...a].forEach(c=>{o({element:c,verbose:i})})}function o({element:a,verbose:i=!1}){a.addEventListener("keydown",c=>{var A,m;const{key:l,target:p}=c,f=r({element:p}),d=c.target.textContent,h=d.match(/^\s*/)[0].length,E=d.length-h;i&&console.log({key:l,position:f,whitespaceOffset:h,length:E,string:d}),l==="ArrowUp"&&f<=h&&((A=c.target.previousElementSibling)==null||A.focus()),l==="ArrowDown"&&f>=E&&((m=c.target.nextElementSibling)==null||m.focus())})}})(O7);var hY=O7.exports,pE={};Object.defineProperty(pE,"__esModule",{value:!0});pE.default=fE;var mY=Et,Wa=EY(ku);function EY(e){return e&&e.__esModule?e:{default:e}}function ji(e){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Qc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ug(Object(r),!0).forEach(function(n){vY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vY(e,t,r){return t=yY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=gY(e,"string");return ji(t)==="symbol"?t:String(t)}function gY(e,t){if(ji(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ji(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oh={content:"",options:{sectionable:!0},parsers:{section:function(t){return t.split(`

`)}}};function fE(e){var t=e.content,r=e.parsers,n=e.options,u=Qc(Qc({},oh.options),n),s=u.sectionable,o=Qc(Qc({},oh.parsers),r),a=o.section,i=(0,mY.useMemo)(function(){var c=[];return c=s?a(t):[t],c},[t,s,a]);return i}fE.propTypes={content:Wa.default.string.isRequired,options:Wa.default.shape({sectionable:Wa.default.bool}),parsers:Wa.default.shape({section:Wa.default.func})};fE.defaultProps=oh;var Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.isRtl=void 0;var AY=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/gm,FY=function(t){var r=!1;if(t&&t.length){var n=t.match(AY),u=n==null?void 0:n.length,s=t.length,o=u/s;o>.3&&(r=!0)}return r};Yp.isRtl=FY;function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}Object.defineProperty(lE,"__esModule",{value:!0});lE.default=DE;var li=TY(Et),Ct=dE(ku),gd=Wp,CY=hY,bY=dE(pE),SY=Yp,wY=dE(Xp),_Y=["children","content"],BY=["content","onContent","components","parsers","joiners","decorators","sectionIndex","verbose"];function dE(e){return e&&e.__esModule?e:{default:e}}function k7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(k7=function(u){return u?r:t})(e)}function TY(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||ya(e)!=="object"&&typeof e!="function")return{default:e};var r=k7(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=u?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function $Y(e){return IY(e)||kY(e)||OY(e)||PY()}function PY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(e,t){if(e){if(typeof e=="string")return ah(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ah(e,t)}}function kY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IY(e){if(Array.isArray(e))return ah(e)}function ah(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sg(Object(r),!0).forEach(function(n){NY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NY(e,t,r){return t=qY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qY(e){var t=xY(e,"string");return ya(t)==="symbol"?t:String(t)}function xY(e,t){if(ya(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ya(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}function I7(e,t){if(e==null)return{};var r=RY(e,t),n,u;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(u=0;u<s.length;u++)n=s[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RY(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,s;for(s=0;s<n.length;s++)u=n[s],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}var Tl={content:"",onContent:function(t){console.warn(`EditableContent.onContent() not provided:

`,t)},options:{sectionable:!0,blockable:!0,editable:!0,preview:!1},components:{document:function(t){var r=t.children;t.content;var n=I7(t,_Y);return li.default.createElement("div",Mi({className:"document"},n),r)}},parsers:{section:function(t){return t.split(`

`)},block:function(t){return t.split(`
`)}},joiners:{section:`

`,block:`
`},handlers:{onSectionClick:function(t){t.content;var r=t.index;console.warn(`EditableContent.onSectionClick({content, index}) not provided:

`,r)},onBlockClick:function(t){t.content;var r=t.index;console.warn(`EditableContent.onBlockClick({content, index}) not provided.

`,r)}},sectionIndex:0};function DE(e){var t=e.content,r=e.onContent,n=e.components,u=e.parsers,s=e.joiners,o=e.decorators,a=e.sectionIndex,i=e.verbose,c=i===void 0?!1:i,l=I7(e,BY),p=(0,li.useMemo)(function(){return Ns(Ns({},Tl.components),n)},[]),f=p.document,d=Ns(Ns({},Tl.options),l.options),h=Ns(Ns({},Tl.handlers),l.handlers);(0,li.useEffect)(function(){c&&console.log("EditableContent First Render")},[]),(0,gd.useDeepCompareEffect)(function(){(0,CY.addArrowKeyNavigationToContenteditableElements)()},[d,t]);var E=(0,bY.default)({content:t,parsers:u,options:d}),A=(0,gd.useDeepCompareCallback)(function(F,B){var P=$Y(E);P[B]=F;var $=P.join(s.section);r($)},[E,r]),m=(0,gd.useDeepCompareMemo)(function(){var F,B=(0,SY.isRtl)(t)?"rtl":"";return F=E.map(function(P,$){var I={content:P,onContent:function(j){A(j,$)},onInput:l==null?void 0:l.onInput,show:!d.sectionable||a===-1||$===a,onShow:function(){h.onSectionClick({content:P,index:$})},index:$,components:p,options:d,parsers:u,joiners:s,handlers:h,decorators:o,dir:B,verbose:c};return li.default.createElement(wY.default,Mi({key:$},I))}),F},[E,d,u,s,o,h,a]),y=Ns({content:t,className:d.preview?"preview":""},l);return li.default.createElement(f,Mi({key:"1"},y),m)}DE.propTypes={content:Ct.default.string.isRequired,onContent:Ct.default.func,onInput:Ct.default.func,options:Ct.default.shape({sectionable:Ct.default.bool,blockable:Ct.default.bool,editable:Ct.default.bool,preview:Ct.default.bool}),components:Ct.default.shape({document:Ct.default.func,section:Ct.default.func,sectionHeading:Ct.default.func,sectionBody:Ct.default.func,block:Ct.default.func}),parsers:Ct.default.shape({section:Ct.default.func,block:Ct.default.func}),joiners:Ct.default.shape({section:Ct.default.string,block:Ct.default.string}),decorators:Ct.default.object,handlers:Ct.default.shape({onSectionClick:Ct.default.func,onBlockClick:Ct.default.func}),sectionIndex:Ct.default.number,verbose:Ct.default.bool};DE.defaultProps=Tl;var Zp={};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.segmenter=void 0;function jY(e){return GY(e)||UY(e)||LY(e)||MY()}function MY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LY(e,t){if(e){if(typeof e=="string")return ih(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ih(e,t)}}function UY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GY(e){if(Array.isArray(e))return ih(e)}function ih(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var VY=function(t){var r=t.content,n=t.regex,u=[r];u=[];for(var s=n.exec(r);s!==null;){var o=s[0];u=[].concat(jY(u),[o]),s=n.exec(r)}return u};Zp.segmenter=VY;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"EditableBlock",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"EditableContent",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"EditableSection",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"segmenter",{enumerable:!0,get:function(){return u.segmenter}});var t=s(Kp),r=s(Xp),n=s(lE),u=Zp;function s(o){return o&&o.__esModule?o:{default:o}}})(b7);var hE={};Object.defineProperty(hE,"__esModule",{value:!0});hE.default=HY;function HY(e){var t=document.createElement("div");t.innerHTML=e;var r=Array.from(t.children,function(n){return n.outerHTML});return r}var mE={};Object.defineProperty(mE,"__esModule",{value:!0});mE.default=XY;function Hu(e){return KY(e)||zY(e)||JY(e)||WY()}function WY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JY(e,t){if(e){if(typeof e=="string")return ch(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ch(e,t)}}function zY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KY(e){if(Array.isArray(e))return ch(e)}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XY(e){var t=e.nodes;return function(){var r=[],n=[];return Array.from(t.sequence().children,function(u){var s=u.dataset.type,o=s!=="graft";if(o){var a,i,c=((a=u.firstChild)===null||a===void 0||(i=a.dataset)===null||i===void 0?void 0:i.subtype)==="chapter";if(c){for(var l=!0,p=[];l;)if(n.length>0){var f=n.pop(),d=f.dataset.type==="graft",h=Hu(f.classList).includes("title"),E=Hu(f.classList).includes("introduction");d&&!h&&!E?p=[].concat(Hu(p),[f]):(n=[].concat(Hu(n),[f]),l=!1)}else l=!1;r=[].concat(Hu(r),[n]),n=Hu(p.reverse())}}return n=[].concat(Hu(n),[u]),!0}),r=[].concat(Hu(r),[n]),n=[],r.map(function(u){return u.map(function(s){return s.outerHTML}).join(`
`)})}}var EE={};function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}Object.defineProperty(EE,"__esModule",{value:!0});EE.default=tZ;var og=ZY(Et),YY=["nodes","children","content","className","verbose"];function N7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(N7=function(u){return u?r:t})(e)}function ZY(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||lh(e)!=="object"&&typeof e!="function")return{default:e};var r=N7(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=u?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}function QY(e,t){if(e==null)return{};var r=eZ(e,t),n,u;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(u=0;u<s.length;u++)n=s[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,s;for(s=0;s<n.length;s++)u=n[s],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}function tZ(e){var t=e.nodes,r=t===void 0?{}:t,n=e.children;e.content;var u=e.className,s=e.verbose;QY(e,YY),(0,og.useEffect)(function(){return s&&console.log("Document: Mount/First Render"),function(){s&&console.log("Document: UnMount/Destroyed")}},[]);var o=r.sequence(),a=o.dataset,i=o.className;return og.default.createElement("section",ph({id:"sequence",className:"".concat(i," ").concat(u)},a),n)}function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}Object.defineProperty(zp,"__esModule",{value:!0});zp.default=vE;var Ad=iZ(Et),_t=ac(ku),rZ=b7,nZ=ac(hE),uZ=ac(mE),sZ=ac(EE),oZ=ac(oc),aZ=["htmlSequence","onHtmlSequence","options","components","parsers","joiners","decorators","handlers","sectionIndex","verbose"];function ac(e){return e&&e.__esModule?e:{default:e}}function q7(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(q7=function(u){return u?r:t})(e)}function iZ(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||fh(e)!=="object"&&typeof e!="function")return{default:e};var r=q7(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=u?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dh.apply(this,arguments)}function ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ag(Object(r),!0).forEach(function(n){cZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ag(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cZ(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lZ(e,t){if(e==null)return{};var r=pZ(e,t),n,u;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(u=0;u<s.length;u++)n=s[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,s;for(s=0;s<n.length;s++)u=n[s],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}var Dh={decorators:{chapter:[/\\c\s+(\d*)/g,'<span class="chapter">$1</span>'],verses:[/\\v\s+(\d*)/g,'<span class="verses">$1</span>']},joiners:{section:"",block:""}};function vE(e){var t=e.htmlSequence,r=e.onHtmlSequence,n=e.options,u=e.components,s=e.parsers,o=e.joiners,a=e.decorators,i=e.handlers,c=e.sectionIndex,l=e.verbose,p=l===void 0?!1:l,f=lZ(e,aZ),d=Du(Du({},Dh.decorators),a),h=Du(Du({},Dh.joiners),o);(0,Ad.useEffect)(function(){return p&&console.log("PerfEditor First Render"),function(){p&&console.log("PerfEditor Unmount")}},[]);var E=new DOMParser,A=E.parseFromString(t,"text/html"),m={sequence:function(){return A.getElementsByTagName("section")[0]}},y=Du({returnHtml:!0},n),F=Du({section:(0,uZ.default)({nodes:m}),block:nZ.default},s),B=Du({document:function(U){return(0,sZ.default)(Du({nodes:m,verbose:p},U))},sectionHeading:oZ.default},u),P=function(U){m.sequence().innerHTML=U,r(m.sequence().outerHTML)},$=Du({content:m.sequence().innerHTML,onContent:P,options:y,components:B,parsers:F,joiners:h,decorators:d,handlers:i,sectionIndex:c,verbose:p},f);return Ad.default.createElement("div",{className:"perf",key:"1"},Ad.default.createElement(rZ.EditableContent,dh({key:"1"},$)))}vE.propTypes={htmlSequence:_t.default.string.isRequired,onHtmlSequence:_t.default.func,options:_t.default.shape({sectionable:_t.default.bool,blockable:_t.default.bool,editable:_t.default.bool,preview:_t.default.bool}),components:_t.default.shape({document:_t.default.func,section:_t.default.func,sectionHeading:_t.default.func,sectionBody:_t.default.func,block:_t.default.func}),parsers:_t.default.shape({section:_t.default.func,block:_t.default.func}),joiners:_t.default.shape({section:_t.default.string,block:_t.default.string}),decorators:_t.default.object,handlers:_t.default.shape({onSectionClick:_t.default.func,onBlockClick:_t.default.func}),sectionIndex:_t.default.number,verbose:_t.default.bool};vE.defaultProps=Dh;var ig;function x7(){if(ig)return Kc;ig=1;function e(W){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},e(W)}Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.default=j;var t=d(Et),r=p(ku),n=Wp,u=p(rX),s=nu,o=ha,a=p(oc),i=p(EX()),c=p(zp),l=["htmlPerf","onHtmlPerf","sequenceIds","addSequenceId","options","components","handlers"];function p(W){return W&&W.__esModule?W:{default:W}}function f(W){if(typeof WeakMap!="function")return null;var te=new WeakMap,Y=new WeakMap;return(f=function(ie){return ie?Y:te})(W)}function d(W,te){if(!te&&W&&W.__esModule)return W;if(W===null||e(W)!=="object"&&typeof W!="function")return{default:W};var Y=f(te);if(Y&&Y.has(W))return Y.get(W);var oe={},ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var fe in W)if(fe!=="default"&&Object.prototype.hasOwnProperty.call(W,fe)){var De=ie?Object.getOwnPropertyDescriptor(W,fe):null;De&&(De.get||De.set)?Object.defineProperty(oe,fe,De):oe[fe]=W[fe]}return oe.default=W,Y&&Y.set(W,oe),oe}function h(W,te){var Y=Object.keys(W);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(W);te&&(oe=oe.filter(function(ie){return Object.getOwnPropertyDescriptor(W,ie).enumerable})),Y.push.apply(Y,oe)}return Y}function E(W){for(var te=1;te<arguments.length;te++){var Y=arguments[te]!=null?arguments[te]:{};te%2?h(Object(Y),!0).forEach(function(oe){A(W,oe,Y[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(Y)):h(Object(Y)).forEach(function(oe){Object.defineProperty(W,oe,Object.getOwnPropertyDescriptor(Y,oe))})}return W}function A(W,te,Y){return te in W?Object.defineProperty(W,te,{value:Y,enumerable:!0,configurable:!0,writable:!0}):W[te]=Y,W}function m(W,te){return $(W)||P(W,te)||F(W,te)||y()}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(W,te){if(W){if(typeof W=="string")return B(W,te);var Y=Object.prototype.toString.call(W).slice(8,-1);if(Y==="Object"&&W.constructor&&(Y=W.constructor.name),Y==="Map"||Y==="Set")return Array.from(W);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return B(W,te)}}function B(W,te){(te==null||te>W.length)&&(te=W.length);for(var Y=0,oe=new Array(te);Y<te;Y++)oe[Y]=W[Y];return oe}function P(W,te){var Y=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(Y!=null){var oe=[],ie=!0,fe=!1,De,de;try{for(Y=Y.call(W);!(ie=(De=Y.next()).done)&&(oe.push(De.value),!(te&&oe.length===te));ie=!0);}catch(Ce){fe=!0,de=Ce}finally{try{!ie&&Y.return!=null&&Y.return()}finally{if(fe)throw de}}return oe}}function $(W){if(Array.isArray(W))return W}function I(W,te){if(W==null)return{};var Y=U(W,te),oe,ie;if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(W);for(ie=0;ie<fe.length;ie++)oe=fe[ie],!(te.indexOf(oe)>=0)&&Object.prototype.propertyIsEnumerable.call(W,oe)&&(Y[oe]=W[oe])}return Y}function U(W,te){if(W==null)return{};var Y={},oe=Object.keys(W),ie,fe;for(fe=0;fe<oe.length;fe++)ie=oe[fe],!(te.indexOf(ie)>=0)&&(Y[ie]=W[ie]);return Y}function j(W){var te=W.htmlPerf,Y=W.onHtmlPerf,oe=W.sequenceIds,ie=W.addSequenceId,fe=W.options,De=W.components,de=W.handlers,Ce=I(W,l),pe=(0,t.useState)({}),Q=m(pe,2),q=Q[0],v=Q[1],C=oe.at(-1),D=E({sectionHeading:a.default},De),g=(0,n.useDeepCompareMemo)(function(){return(0,s.embedPreviewTextInGrafts)({htmlPerf:te,sequenceId:C})},[te,C]),O=(0,t.useMemo)(function(){return(0,o.getTypeFromSequenceHtml)({htmlSequence:g})},[g]),b=(0,n.useDeepCompareMemo)(function(){return q[C]||0},[q,C]),w=(0,n.useDeepCompareCallback)(function(H){H.content;var re=H.index,_e=E({},q);_e[C]=re,v(_e)},[v,q]),x=(0,t.useCallback)(function(H){var re;H.content;var _e=H.element,Le=_e==null||(re=_e.dataset)===null||re===void 0?void 0:re.target;Le&&ie(Le)},[ie]),k=(0,n.useDeepCompareCallback)(function(H){var re=g!==H;if(re){var _e=structuredClone(te);_e.sequencesHtml[C]=H;var Le=!(0,u.default)(te,_e);if(Le){var Ue=(0,s.removePreviewTextInGrafts)({htmlPerf:_e,sequenceId:C});Y(Ue,{sequenceId:C,htmlSequence:H})}}},[te,Y,g,C]),G=E({htmlSequence:g,onHtmlSequence:k,components:E(E({},D),{},{sectionHeading:function(re){return D.sectionHeading(E({type:O},re))},block:function(re){return(0,i.default)(E({htmlPerf:te,onHtmlPerf:Y,sequenceIds:oe,addSequenceId:ie},re))}}),options:fe,handlers:E({onSectionClick:w,onBlockClick:x},de),decorators:{},sectionIndex:b},Ce);return t.default.createElement(c.default,G)}return j.propTypes={htmlPerf:r.default.object.isRequired,onHtmlPerf:r.default.func,options:r.default.shape({sectionable:r.default.bool,blockable:r.default.bool,editable:r.default.bool,preview:r.default.bool}),components:r.default.shape({document:r.default.func,section:r.default.func,sectionHeading:r.default.func,sectionBody:r.default.func,block:r.default.func}),parsers:r.default.shape({section:r.default.func,block:r.default.func}),joiners:r.default.shape({section:r.default.string,block:r.default.string}),decorators:r.default.object,handlers:r.default.shape({onSectionClick:r.default.func,onBlockClick:r.default.func}),sectionIndex:r.default.number,verbose:r.default.bool},j.defaultProps={sequenceIds:[]},Kc}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"HtmlPerfEditor",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"HtmlSequenceEditor",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"SectionHeading",{enumerable:!0,get:function(){return n.default}});var t=u(x7()),r=u(zp),n=u(oc);function u(s){return s&&s.__esModule?s:{default:s}}})(Ym);const fZ=({content:e})=>{var n;const t=document.createElement("div");t.innerHTML=e;const{target:r}=((n=t.firstChild)==null?void 0:n.dataset)||{};return r};function dZ({htmlPerf:e,onHtmlPerf:t,sequenceIds:r,addSequenceId:n,options:u,content:s,contentEditable:o,...a}){let i;const c=!!s.match(/data-type="paragraph"/);if(c&&(i=xt.jsx("div",{className:"editor-paragraph",contentEditable:o,...a})),!c){const l=fZ({content:s});if(l&&!u.preview){const p={sequenceIds:[...r,l],addSequenceId:n,htmlPerf:e,onHtmlPerf:t,options:u};i=xt.jsx(Ym.HtmlPerfEditor,{...p})}i||(i=xt.jsx("div",{...a,contentEditable:!1}))}return xt.jsx(xt.Fragment,{children:i})}function DZ(){return xt.jsx("div",{className:"h-full w-full items-center justify-center flex",children:xt.jsxs("svg",{className:"animate-spin h-10 w-10",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[xt.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),xt.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}function hZ(e){const{sequenceIds:t,htmlPerf:r,sectionable:n,blockable:u,editable:s,preview:o,verbose:a,addSequenceId:i}=e,c=t.at(-1),l={onBlockClick:({element:d})=>{Oh.postMessage({type:h8.BLOCK_CLICK,payload:{action:"click"}});const{tagName:h}=d;h==="SPAN"&&console.log("onBlockClick",{element:d})}};function p(d){console.log({htmlPerf:d})}const f={htmlPerf:r,onHtmlPerf:p,sequenceIds:t,addSequenceId:i,components:{block:d=>dZ({htmlPerf:r,onHtmlPerf:p,sequenceIds:t,addSequenceId:i,...d})},options:{sectionable:n,blockable:u,editable:s,preview:o},decorators:{},verbose:a,handlers:l};return xt.jsx("div",{style:{fontFamily:"roboto",fontSize:"1rem",direction:"ltr",textAlign:"left"},children:xt.jsxs("div",{id:"bibleRefEditor",className:"bibleRefEditor",children:[!c&&xt.jsx(DZ,{}),c&&xt.jsx(Ym.HtmlPerfEditor,{...f})]})})}const mZ=e=>({"*":{"*":{tagName:"span"},sequence:{tagName:"section"}},wrapper:{"*":{tagName:"wrapper"},sequence:{tagName:"section"}},paragraph:{"*":{tagName:"p"},"usfm:mt":{classList:["major-title","paragraph","mt","hidden"],tagName:"h2",attributes:{contenteditable:!1}},"usfm:ms":{classList:["major-section-heading","paragraph","ms"],tagName:"h3",attributes:{contenteditable:!1}}},mark:{"*":{tagName:"span"},chapter:({atts:t})=>t?(e.lastChapter=t.number,{classList:["mark","chapter",`chapter-${t.number}`],id:`ch-${t.number}`,tagName:"span"}):{tagName:"span"},verses:({atts:t})=>({classList:t?["mark","verse",`verse-${t.number}`]:void 0,id:t?`ch${e.lastChapter}v${t.number}`:void 0,tagName:"span",attributes:{contenteditable:!1}})},graft:{heading:{tagName:"div"},title:{tagName:"div"},introduction:{tagName:"div"}}}),el=mZ({});var yE={},Qp={},hh={exports:{}},R7={},jn={},ga={},ic={},pt={},Li={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((F,B)=>`${F}${B}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((F,B)=>(B instanceof r&&(F[B.str]=(F[B.str]||0)+1),F),{})}}e._Code=n,e.nil=new n("");function u(m,...y){const F=[m[0]];let B=0;for(;B<y.length;)a(F,y[B]),F.push(m[++B]);return new n(F)}e._=u;const s=new n("+");function o(m,...y){const F=[d(m[0])];let B=0;for(;B<y.length;)F.push(s),a(F,y[B]),F.push(s,d(m[++B]));return i(F),new n(F)}e.str=o;function a(m,y){y instanceof n?m.push(...y._items):y instanceof r?m.push(y):m.push(p(y))}e.addCodeArg=a;function i(m){let y=1;for(;y<m.length-1;){if(m[y]===s){const F=c(m[y-1],m[y+1]);if(F!==void 0){m.splice(y-1,3,F);continue}m[y++]="+"}y++}}function c(m,y){if(y==='""')return m;if(m==='""')return y;if(typeof m=="string")return y instanceof r||m[m.length-1]!=='"'?void 0:typeof y!="string"?`${m.slice(0,-1)}${y}"`:y[0]==='"'?m.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(m instanceof r))return`"${m}${y.slice(1)}`}function l(m,y){return y.emptyStr()?m:m.emptyStr()?y:o`${m}${y}`}e.strConcat=l;function p(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:d(Array.isArray(m)?m.join(","):m)}function f(m){return new n(d(m))}e.stringify=f;function d(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=d;function h(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):u`[${m}]`}e.getProperty=h;function E(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=E;function A(m){return new n(m.toString())}e.regexpCode=A})(Li);var mh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Li;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(i){i[i.Started=0]="Started",i[i.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class u{constructor({prefixes:c,parent:l}={}){this._names={},this._prefixes=c,this._parent=l}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const l=this._names[c]||this._nameGroup(c);return`${c}${l.index++}`}_nameGroup(c){var l,p;if(!((p=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||p===void 0)&&p.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=u;class s extends t.Name{constructor(c,l){super(l),this.prefix=c}setValue(c,{property:l,itemIndex:p}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(l)}[${p}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends u{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,l){var p;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(c),{prefix:d}=f,h=(p=l.key)!==null&&p!==void 0?p:l.ref;let E=this._values[d];if(E){const y=E.get(h);if(y)return y}else E=this._values[d]=new Map;E.set(h,f);const A=this._scope[d]||(this._scope[d]=[]),m=A.length;return A[m]=l.ref,f.setValue(l,{property:d,itemIndex:m}),f}getValue(c,l){const p=this._values[c];if(p)return p.get(l)}scopeRefs(c,l=this._values){return this._reduceValues(l,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${c}${p.scopePath}`})}scopeCode(c=this._values,l,p){return this._reduceValues(c,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},l,p)}_reduceValues(c,l,p={},f){let d=t.nil;for(const h in c){const E=c[h];if(!E)continue;const A=p[h]=p[h]||new Map;E.forEach(m=>{if(A.has(m))return;A.set(m,n.Started);let y=l(m);if(y){const F=this.opts.es5?e.varKinds.var:e.varKinds.const;d=(0,t._)`${d}${F} ${m} = ${y};${this.opts._n}`}else if(y=f==null?void 0:f(m))d=(0,t._)`${d}${y}${this.opts._n}`;else throw new r(m);A.set(m,n.Completed)})}return d}}e.ValueScope=a})(mh);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Li,r=mh;var n=Li;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var u=mh;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return u.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return u.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return u.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return u.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(D,g){return this}}class o extends s{constructor(D,g,O){super(),this.varKind=D,this.name=g,this.rhs=O}render({es5:D,_n:g}){const O=D?r.varKinds.var:this.varKind,b=this.rhs===void 0?"":` = ${this.rhs}`;return`${O} ${this.name}${b};`+g}optimizeNames(D,g){if(D[this.name.str])return this.rhs&&(this.rhs=ie(this.rhs,D,g)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(D,g,O){super(),this.lhs=D,this.rhs=g,this.sideEffects=O}render({_n:D}){return`${this.lhs} = ${this.rhs};`+D}optimizeNames(D,g){if(!(this.lhs instanceof t.Name&&!D[this.lhs.str]&&!this.sideEffects))return this.rhs=ie(this.rhs,D,g),this}get names(){const D=this.lhs instanceof t.Name?{}:{...this.lhs.names};return oe(D,this.rhs)}}class i extends a{constructor(D,g,O,b){super(D,O,b),this.op=g}render({_n:D}){return`${this.lhs} ${this.op}= ${this.rhs};`+D}}class c extends s{constructor(D){super(),this.label=D,this.names={}}render({_n:D}){return`${this.label}:`+D}}class l extends s{constructor(D){super(),this.label=D,this.names={}}render({_n:D}){return`break${this.label?` ${this.label}`:""};`+D}}class p extends s{constructor(D){super(),this.error=D}render({_n:D}){return`throw ${this.error};`+D}get names(){return this.error.names}}class f extends s{constructor(D){super(),this.code=D}render({_n:D}){return`${this.code};`+D}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(D,g){return this.code=ie(this.code,D,g),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class d extends s{constructor(D=[]){super(),this.nodes=D}render(D){return this.nodes.reduce((g,O)=>g+O.render(D),"")}optimizeNodes(){const{nodes:D}=this;let g=D.length;for(;g--;){const O=D[g].optimizeNodes();Array.isArray(O)?D.splice(g,1,...O):O?D[g]=O:D.splice(g,1)}return D.length>0?this:void 0}optimizeNames(D,g){const{nodes:O}=this;let b=O.length;for(;b--;){const w=O[b];w.optimizeNames(D,g)||(fe(D,w.names),O.splice(b,1))}return O.length>0?this:void 0}get names(){return this.nodes.reduce((D,g)=>Y(D,g.names),{})}}class h extends d{render(D){return"{"+D._n+super.render(D)+"}"+D._n}}class E extends d{}class A extends h{}A.kind="else";class m extends h{constructor(D,g){super(g),this.condition=D}render(D){let g=`if(${this.condition})`+super.render(D);return this.else&&(g+="else "+this.else.render(D)),g}optimizeNodes(){super.optimizeNodes();const D=this.condition;if(D===!0)return this.nodes;let g=this.else;if(g){const O=g.optimizeNodes();g=this.else=Array.isArray(O)?new A(O):O}if(g)return D===!1?g instanceof m?g:g.nodes:this.nodes.length?this:new m(De(D),g instanceof m?[g]:g.nodes);if(!(D===!1||!this.nodes.length))return this}optimizeNames(D,g){var O;if(this.else=(O=this.else)===null||O===void 0?void 0:O.optimizeNames(D,g),!!(super.optimizeNames(D,g)||this.else))return this.condition=ie(this.condition,D,g),this}get names(){const D=super.names;return oe(D,this.condition),this.else&&Y(D,this.else.names),D}}m.kind="if";class y extends h{}y.kind="for";class F extends y{constructor(D){super(),this.iteration=D}render(D){return`for(${this.iteration})`+super.render(D)}optimizeNames(D,g){if(super.optimizeNames(D,g))return this.iteration=ie(this.iteration,D,g),this}get names(){return Y(super.names,this.iteration.names)}}class B extends y{constructor(D,g,O,b){super(),this.varKind=D,this.name=g,this.from=O,this.to=b}render(D){const g=D.es5?r.varKinds.var:this.varKind,{name:O,from:b,to:w}=this;return`for(${g} ${O}=${b}; ${O}<${w}; ${O}++)`+super.render(D)}get names(){const D=oe(super.names,this.from);return oe(D,this.to)}}class P extends y{constructor(D,g,O,b){super(),this.loop=D,this.varKind=g,this.name=O,this.iterable=b}render(D){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(D)}optimizeNames(D,g){if(super.optimizeNames(D,g))return this.iterable=ie(this.iterable,D,g),this}get names(){return Y(super.names,this.iterable.names)}}class $ extends h{constructor(D,g,O){super(),this.name=D,this.args=g,this.async=O}render(D){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(D)}}$.kind="func";class I extends d{render(D){return"return "+super.render(D)}}I.kind="return";class U extends h{render(D){let g="try"+super.render(D);return this.catch&&(g+=this.catch.render(D)),this.finally&&(g+=this.finally.render(D)),g}optimizeNodes(){var D,g;return super.optimizeNodes(),(D=this.catch)===null||D===void 0||D.optimizeNodes(),(g=this.finally)===null||g===void 0||g.optimizeNodes(),this}optimizeNames(D,g){var O,b;return super.optimizeNames(D,g),(O=this.catch)===null||O===void 0||O.optimizeNames(D,g),(b=this.finally)===null||b===void 0||b.optimizeNames(D,g),this}get names(){const D=super.names;return this.catch&&Y(D,this.catch.names),this.finally&&Y(D,this.finally.names),D}}class j extends h{constructor(D){super(),this.error=D}render(D){return`catch(${this.error})`+super.render(D)}}j.kind="catch";class W extends h{render(D){return"finally"+super.render(D)}}W.kind="finally";class te{constructor(D,g={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...g,_n:g.lines?`
`:""},this._extScope=D,this._scope=new r.Scope({parent:D}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(D){return this._scope.name(D)}scopeName(D){return this._extScope.name(D)}scopeValue(D,g){const O=this._extScope.value(D,g);return(this._values[O.prefix]||(this._values[O.prefix]=new Set)).add(O),O}getScopeValue(D,g){return this._extScope.getValue(D,g)}scopeRefs(D){return this._extScope.scopeRefs(D,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(D,g,O,b){const w=this._scope.toName(g);return O!==void 0&&b&&(this._constants[w.str]=O),this._leafNode(new o(D,w,O)),w}const(D,g,O){return this._def(r.varKinds.const,D,g,O)}let(D,g,O){return this._def(r.varKinds.let,D,g,O)}var(D,g,O){return this._def(r.varKinds.var,D,g,O)}assign(D,g,O){return this._leafNode(new a(D,g,O))}add(D,g){return this._leafNode(new i(D,e.operators.ADD,g))}code(D){return typeof D=="function"?D():D!==t.nil&&this._leafNode(new f(D)),this}object(...D){const g=["{"];for(const[O,b]of D)g.length>1&&g.push(","),g.push(O),(O!==b||this.opts.es5)&&(g.push(":"),(0,t.addCodeArg)(g,b));return g.push("}"),new t._Code(g)}if(D,g,O){if(this._blockNode(new m(D)),g&&O)this.code(g).else().code(O).endIf();else if(g)this.code(g).endIf();else if(O)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(D){return this._elseNode(new m(D))}else(){return this._elseNode(new A)}endIf(){return this._endBlockNode(m,A)}_for(D,g){return this._blockNode(D),g&&this.code(g).endFor(),this}for(D,g){return this._for(new F(D),g)}forRange(D,g,O,b,w=this.opts.es5?r.varKinds.var:r.varKinds.let){const x=this._scope.toName(D);return this._for(new B(w,x,g,O),()=>b(x))}forOf(D,g,O,b=r.varKinds.const){const w=this._scope.toName(D);if(this.opts.es5){const x=g instanceof t.Name?g:this.var("_arr",g);return this.forRange("_i",0,(0,t._)`${x}.length`,k=>{this.var(w,(0,t._)`${x}[${k}]`),O(w)})}return this._for(new P("of",b,w,g),()=>O(w))}forIn(D,g,O,b=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(D,(0,t._)`Object.keys(${g})`,O);const w=this._scope.toName(D);return this._for(new P("in",b,w,g),()=>O(w))}endFor(){return this._endBlockNode(y)}label(D){return this._leafNode(new c(D))}break(D){return this._leafNode(new l(D))}return(D){const g=new I;if(this._blockNode(g),this.code(D),g.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(D,g,O){if(!g&&!O)throw new Error('CodeGen: "try" without "catch" and "finally"');const b=new U;if(this._blockNode(b),this.code(D),g){const w=this.name("e");this._currNode=b.catch=new j(w),g(w)}return O&&(this._currNode=b.finally=new W,this.code(O)),this._endBlockNode(j,W)}throw(D){return this._leafNode(new p(D))}block(D,g){return this._blockStarts.push(this._nodes.length),D&&this.code(D).endBlock(g),this}endBlock(D){const g=this._blockStarts.pop();if(g===void 0)throw new Error("CodeGen: not in self-balancing block");const O=this._nodes.length-g;if(O<0||D!==void 0&&O!==D)throw new Error(`CodeGen: wrong number of nodes: ${O} vs ${D} expected`);return this._nodes.length=g,this}func(D,g=t.nil,O,b){return this._blockNode(new $(D,g,O)),b&&this.code(b).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(D=1){for(;D-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(D){return this._currNode.nodes.push(D),this}_blockNode(D){this._currNode.nodes.push(D),this._nodes.push(D)}_endBlockNode(D,g){const O=this._currNode;if(O instanceof D||g&&O instanceof g)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${g?`${D.kind}/${g.kind}`:D.kind}"`)}_elseNode(D){const g=this._currNode;if(!(g instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=g.else=D,this}get _root(){return this._nodes[0]}get _currNode(){const D=this._nodes;return D[D.length-1]}set _currNode(D){const g=this._nodes;g[g.length-1]=D}}e.CodeGen=te;function Y(C,D){for(const g in D)C[g]=(C[g]||0)+(D[g]||0);return C}function oe(C,D){return D instanceof t._CodeOrName?Y(C,D.names):C}function ie(C,D,g){if(C instanceof t.Name)return O(C);if(!b(C))return C;return new t._Code(C._items.reduce((w,x)=>(x instanceof t.Name&&(x=O(x)),x instanceof t._Code?w.push(...x._items):w.push(x),w),[]));function O(w){const x=g[w.str];return x===void 0||D[w.str]!==1?w:(delete D[w.str],x)}function b(w){return w instanceof t._Code&&w._items.some(x=>x instanceof t.Name&&D[x.str]===1&&g[x.str]!==void 0)}}function fe(C,D){for(const g in D)C[g]=(C[g]||0)-(D[g]||0)}function De(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${v(C)}`}e.not=De;const de=q(e.operators.AND);function Ce(...C){return C.reduce(de)}e.and=Ce;const pe=q(e.operators.OR);function Q(...C){return C.reduce(pe)}e.or=Q;function q(C){return(D,g)=>D===t.nil?g:g===t.nil?D:(0,t._)`${v(D)} ${C} ${v(g)}`}function v(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(pt);var yt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=pt,r=Li;function n($){const I={};for(const U of $)I[U]=!0;return I}e.toHash=n;function u($,I){return typeof I=="boolean"?I:Object.keys(I).length===0?!0:(s($,I),!o(I,$.self.RULES.all))}e.alwaysValidSchema=u;function s($,I=$.schema){const{opts:U,self:j}=$;if(!U.strictSchema||typeof I=="boolean")return;const W=j.RULES.keywords;for(const te in I)W[te]||P($,`unknown keyword: "${te}"`)}e.checkUnknownRules=s;function o($,I){if(typeof $=="boolean")return!$;for(const U in $)if(I[U])return!0;return!1}e.schemaHasRules=o;function a($,I){if(typeof $=="boolean")return!$;for(const U in $)if(U!=="$ref"&&I.all[U])return!0;return!1}e.schemaHasRulesButRef=a;function i({topSchemaRef:$,schemaPath:I},U,j,W){if(!W){if(typeof U=="number"||typeof U=="boolean")return U;if(typeof U=="string")return(0,t._)`${U}`}return(0,t._)`${$}${I}${(0,t.getProperty)(j)}`}e.schemaRefOrVal=i;function c($){return f(decodeURIComponent($))}e.unescapeFragment=c;function l($){return encodeURIComponent(p($))}e.escapeFragment=l;function p($){return typeof $=="number"?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=p;function f($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=f;function d($,I){if(Array.isArray($))for(const U of $)I(U);else I($)}e.eachItem=d;function h({mergeNames:$,mergeToName:I,mergeValues:U,resultToName:j}){return(W,te,Y,oe)=>{const ie=Y===void 0?te:Y instanceof t.Name?(te instanceof t.Name?$(W,te,Y):I(W,te,Y),Y):te instanceof t.Name?(I(W,Y,te),te):U(te,Y);return oe===t.Name&&!(ie instanceof t.Name)?j(W,ie):ie}}e.mergeEvaluated={props:h({mergeNames:($,I,U)=>$.if((0,t._)`${U} !== true && ${I} !== undefined`,()=>{$.if((0,t._)`${I} === true`,()=>$.assign(U,!0),()=>$.assign(U,(0,t._)`${U} || {}`).code((0,t._)`Object.assign(${U}, ${I})`))}),mergeToName:($,I,U)=>$.if((0,t._)`${U} !== true`,()=>{I===!0?$.assign(U,!0):($.assign(U,(0,t._)`${U} || {}`),A($,U,I))}),mergeValues:($,I)=>$===!0?!0:{...$,...I},resultToName:E}),items:h({mergeNames:($,I,U)=>$.if((0,t._)`${U} !== true && ${I} !== undefined`,()=>$.assign(U,(0,t._)`${I} === true ? true : ${U} > ${I} ? ${U} : ${I}`)),mergeToName:($,I,U)=>$.if((0,t._)`${U} !== true`,()=>$.assign(U,I===!0?!0:(0,t._)`${U} > ${I} ? ${U} : ${I}`)),mergeValues:($,I)=>$===!0?!0:Math.max($,I),resultToName:($,I)=>$.var("items",I)})};function E($,I){if(I===!0)return $.var("props",!0);const U=$.var("props",(0,t._)`{}`);return I!==void 0&&A($,U,I),U}e.evaluatedPropsToName=E;function A($,I,U){Object.keys(U).forEach(j=>$.assign((0,t._)`${I}${(0,t.getProperty)(j)}`,!0))}e.setEvaluated=A;const m={};function y($,I){return $.scopeValue("func",{ref:I,code:m[I.code]||(m[I.code]=new r._Code(I.code))})}e.useFunc=y;var F;(function($){$[$.Num=0]="Num",$[$.Str=1]="Str"})(F=e.Type||(e.Type={}));function B($,I,U){if($ instanceof t.Name){const j=I===F.Num;return U?j?(0,t._)`"[" + ${$} + "]"`:(0,t._)`"['" + ${$} + "']"`:j?(0,t._)`"/" + ${$}`:(0,t._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return U?(0,t.getProperty)($).toString():"/"+p($)}e.getErrorPath=B;function P($,I,U=$.opts.strictSchema){if(U){if(I=`strict mode: ${I}`,U===!0)throw new Error(I);$.self.logger.warn(I)}}e.checkStrictMode=P})(yt);var lu={};Object.defineProperty(lu,"__esModule",{value:!0});const br=pt,EZ={data:new br.Name("data"),valCxt:new br.Name("valCxt"),instancePath:new br.Name("instancePath"),parentData:new br.Name("parentData"),parentDataProperty:new br.Name("parentDataProperty"),rootData:new br.Name("rootData"),dynamicAnchors:new br.Name("dynamicAnchors"),vErrors:new br.Name("vErrors"),errors:new br.Name("errors"),this:new br.Name("this"),self:new br.Name("self"),scope:new br.Name("scope"),json:new br.Name("json"),jsonPos:new br.Name("jsonPos"),jsonLen:new br.Name("jsonLen"),jsonPart:new br.Name("jsonPart")};lu.default=EZ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=pt,r=yt,n=lu;e.keywordError={message:({keyword:A})=>(0,t.str)`must pass "${A}" keyword validation`},e.keyword$DataError={message:({keyword:A,schemaType:m})=>m?(0,t.str)`"${A}" keyword must be ${m} ($data)`:(0,t.str)`"${A}" keyword is invalid ($data)`};function u(A,m=e.keywordError,y,F){const{it:B}=A,{gen:P,compositeRule:$,allErrors:I}=B,U=p(A,m,y);F??($||I)?i(P,U):c(B,(0,t._)`[${U}]`)}e.reportError=u;function s(A,m=e.keywordError,y){const{it:F}=A,{gen:B,compositeRule:P,allErrors:$}=F,I=p(A,m,y);i(B,I),P||$||c(F,n.default.vErrors)}e.reportExtraError=s;function o(A,m){A.assign(n.default.errors,m),A.if((0,t._)`${n.default.vErrors} !== null`,()=>A.if(m,()=>A.assign((0,t._)`${n.default.vErrors}.length`,m),()=>A.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:A,keyword:m,schemaValue:y,data:F,errsCount:B,it:P}){if(B===void 0)throw new Error("ajv implementation error");const $=A.name("err");A.forRange("i",B,n.default.errors,I=>{A.const($,(0,t._)`${n.default.vErrors}[${I}]`),A.if((0,t._)`${$}.instancePath === undefined`,()=>A.assign((0,t._)`${$}.instancePath`,(0,t.strConcat)(n.default.instancePath,P.errorPath))),A.assign((0,t._)`${$}.schemaPath`,(0,t.str)`${P.errSchemaPath}/${m}`),P.opts.verbose&&(A.assign((0,t._)`${$}.schema`,y),A.assign((0,t._)`${$}.data`,F))})}e.extendErrors=a;function i(A,m){const y=A.const("err",m);A.if((0,t._)`${n.default.vErrors} === null`,()=>A.assign(n.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${n.default.vErrors}.push(${y})`),A.code((0,t._)`${n.default.errors}++`)}function c(A,m){const{gen:y,validateName:F,schemaEnv:B}=A;B.$async?y.throw((0,t._)`new ${A.ValidationError}(${m})`):(y.assign((0,t._)`${F}.errors`,m),y.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(A,m,y){const{createErrors:F}=A.it;return F===!1?(0,t._)`{}`:f(A,m,y)}function f(A,m,y={}){const{gen:F,it:B}=A,P=[d(B,y),h(A,y)];return E(A,m,P),F.object(...P)}function d({errorPath:A},{instancePath:m}){const y=m?(0,t.str)`${A}${(0,r.getErrorPath)(m,r.Type.Str)}`:A;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,y)]}function h({keyword:A,it:{errSchemaPath:m}},{schemaPath:y,parentSchema:F}){let B=F?m:(0,t.str)`${m}/${A}`;return y&&(B=(0,t.str)`${B}${(0,r.getErrorPath)(y,r.Type.Str)}`),[l.schemaPath,B]}function E(A,{params:m,message:y},F){const{keyword:B,data:P,schemaValue:$,it:I}=A,{opts:U,propertyName:j,topSchemaRef:W,schemaPath:te}=I;F.push([l.keyword,B],[l.params,typeof m=="function"?m(A):m||(0,t._)`{}`]),U.messages&&F.push([l.message,typeof y=="function"?y(A):y]),U.verbose&&F.push([l.schema,$],[l.parentSchema,(0,t._)`${W}${te}`],[n.default.data,P]),j&&F.push([l.propertyName,j])}})(ic);Object.defineProperty(ga,"__esModule",{value:!0});ga.boolOrEmptySchema=ga.topBoolOrEmptySchema=void 0;const vZ=ic,yZ=pt,gZ=lu,AZ={message:"boolean schema is false"};function FZ(e){const{gen:t,schema:r,validateName:n}=e;r===!1?j7(e,!1):typeof r=="object"&&r.$async===!0?t.return(gZ.default.data):(t.assign((0,yZ._)`${n}.errors`,null),t.return(!0))}ga.topBoolOrEmptySchema=FZ;function CZ(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),j7(e)):r.var(t,!0)}ga.boolOrEmptySchema=CZ;function j7(e,t){const{gen:r,data:n}=e,u={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,vZ.reportError)(u,AZ,void 0,t)}var cc={},oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.getRules=oo.isJSONType=void 0;const bZ=["string","number","integer","boolean","null","object","array"],SZ=new Set(bZ);function wZ(e){return typeof e=="string"&&SZ.has(e)}oo.isJSONType=wZ;function _Z(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}oo.getRules=_Z;var wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.shouldUseRule=wu.shouldUseGroup=wu.schemaHasRulesForType=void 0;function BZ({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&M7(e,n)}wu.schemaHasRulesForType=BZ;function M7(e,t){return t.rules.some(r=>L7(e,r))}wu.shouldUseGroup=M7;function L7(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}wu.shouldUseRule=L7;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=oo,r=wu,n=ic,u=pt,s=yt;var o;(function(F){F[F.Correct=0]="Correct",F[F.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(F){const B=i(F.type);if(B.includes("null")){if(F.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!B.length&&F.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');F.nullable===!0&&B.push("null")}return B}e.getSchemaTypes=a;function i(F){const B=Array.isArray(F)?F:F?[F]:[];if(B.every(t.isJSONType))return B;throw new Error("type must be JSONType or JSONType[]: "+B.join(","))}e.getJSONTypes=i;function c(F,B){const{gen:P,data:$,opts:I}=F,U=p(B,I.coerceTypes),j=B.length>0&&!(U.length===0&&B.length===1&&(0,r.schemaHasRulesForType)(F,B[0]));if(j){const W=E(B,$,I.strictNumbers,o.Wrong);P.if(W,()=>{U.length?f(F,B,U):m(F)})}return j}e.coerceAndCheckDataType=c;const l=new Set(["string","number","integer","boolean","null"]);function p(F,B){return B?F.filter(P=>l.has(P)||B==="array"&&P==="array"):[]}function f(F,B,P){const{gen:$,data:I,opts:U}=F,j=$.let("dataType",(0,u._)`typeof ${I}`),W=$.let("coerced",(0,u._)`undefined`);U.coerceTypes==="array"&&$.if((0,u._)`${j} == 'object' && Array.isArray(${I}) && ${I}.length == 1`,()=>$.assign(I,(0,u._)`${I}[0]`).assign(j,(0,u._)`typeof ${I}`).if(E(B,I,U.strictNumbers),()=>$.assign(W,I))),$.if((0,u._)`${W} !== undefined`);for(const Y of P)(l.has(Y)||Y==="array"&&U.coerceTypes==="array")&&te(Y);$.else(),m(F),$.endIf(),$.if((0,u._)`${W} !== undefined`,()=>{$.assign(I,W),d(F,W)});function te(Y){switch(Y){case"string":$.elseIf((0,u._)`${j} == "number" || ${j} == "boolean"`).assign(W,(0,u._)`"" + ${I}`).elseIf((0,u._)`${I} === null`).assign(W,(0,u._)`""`);return;case"number":$.elseIf((0,u._)`${j} == "boolean" || ${I} === null
              || (${j} == "string" && ${I} && ${I} == +${I})`).assign(W,(0,u._)`+${I}`);return;case"integer":$.elseIf((0,u._)`${j} === "boolean" || ${I} === null
              || (${j} === "string" && ${I} && ${I} == +${I} && !(${I} % 1))`).assign(W,(0,u._)`+${I}`);return;case"boolean":$.elseIf((0,u._)`${I} === "false" || ${I} === 0 || ${I} === null`).assign(W,!1).elseIf((0,u._)`${I} === "true" || ${I} === 1`).assign(W,!0);return;case"null":$.elseIf((0,u._)`${I} === "" || ${I} === 0 || ${I} === false`),$.assign(W,null);return;case"array":$.elseIf((0,u._)`${j} === "string" || ${j} === "number"
              || ${j} === "boolean" || ${I} === null`).assign(W,(0,u._)`[${I}]`)}}}function d({gen:F,parentData:B,parentDataProperty:P},$){F.if((0,u._)`${B} !== undefined`,()=>F.assign((0,u._)`${B}[${P}]`,$))}function h(F,B,P,$=o.Correct){const I=$===o.Correct?u.operators.EQ:u.operators.NEQ;let U;switch(F){case"null":return(0,u._)`${B} ${I} null`;case"array":U=(0,u._)`Array.isArray(${B})`;break;case"object":U=(0,u._)`${B} && typeof ${B} == "object" && !Array.isArray(${B})`;break;case"integer":U=j((0,u._)`!(${B} % 1) && !isNaN(${B})`);break;case"number":U=j();break;default:return(0,u._)`typeof ${B} ${I} ${F}`}return $===o.Correct?U:(0,u.not)(U);function j(W=u.nil){return(0,u.and)((0,u._)`typeof ${B} == "number"`,W,P?(0,u._)`isFinite(${B})`:u.nil)}}e.checkDataType=h;function E(F,B,P,$){if(F.length===1)return h(F[0],B,P,$);let I;const U=(0,s.toHash)(F);if(U.array&&U.object){const j=(0,u._)`typeof ${B} != "object"`;I=U.null?j:(0,u._)`!${B} || ${j}`,delete U.null,delete U.array,delete U.object}else I=u.nil;U.number&&delete U.integer;for(const j in U)I=(0,u.and)(I,h(j,B,P,$));return I}e.checkDataTypes=E;const A={message:({schema:F})=>`must be ${F}`,params:({schema:F,schemaValue:B})=>typeof F=="string"?(0,u._)`{type: ${F}}`:(0,u._)`{type: ${B}}`};function m(F){const B=y(F);(0,n.reportError)(B,A)}e.reportTypeError=m;function y(F){const{gen:B,data:P,schema:$}=F,I=(0,s.schemaRefOrVal)(F,$,"type");return{gen:B,keyword:"type",data:P,schema:$.type,schemaCode:I,schemaValue:I,parentSchema:$,params:{},it:F}}})(cc);var ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.assignDefaults=void 0;const ko=pt,TZ=yt;function $Z(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const u in r)cg(e,u,r[u].default);else t==="array"&&Array.isArray(n)&&n.forEach((u,s)=>cg(e,s,u.default))}ef.assignDefaults=$Z;function cg(e,t,r){const{gen:n,compositeRule:u,data:s,opts:o}=e;if(r===void 0)return;const a=(0,ko._)`${s}${(0,ko.getProperty)(t)}`;if(u){(0,TZ.checkStrictMode)(e,`default is ignored for: ${a}`);return}let i=(0,ko._)`${a} === undefined`;o.useDefaults==="empty"&&(i=(0,ko._)`${i} || ${a} === null || ${a} === ""`),n.if(i,(0,ko._)`${a} = ${(0,ko.stringify)(r)}`)}var uu={},it={};Object.defineProperty(it,"__esModule",{value:!0});it.validateUnion=it.validateArray=it.usePattern=it.callValidateCode=it.schemaProperties=it.allSchemaProperties=it.noPropertyInData=it.propertyInData=it.isOwnProperty=it.hasPropFunc=it.reportMissingProp=it.checkMissingProp=it.checkReportMissingProp=void 0;const Tt=pt,gE=yt,Wu=lu,PZ=yt;function OZ(e,t){const{gen:r,data:n,it:u}=e;r.if(FE(r,n,t,u.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Tt._)`${t}`},!0),e.error()})}it.checkReportMissingProp=OZ;function kZ({gen:e,data:t,it:{opts:r}},n,u){return(0,Tt.or)(...n.map(s=>(0,Tt.and)(FE(e,t,s,r.ownProperties),(0,Tt._)`${u} = ${s}`)))}it.checkMissingProp=kZ;function IZ(e,t){e.setParams({missingProperty:t},!0),e.error()}it.reportMissingProp=IZ;function U7(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Tt._)`Object.prototype.hasOwnProperty`})}it.hasPropFunc=U7;function AE(e,t,r){return(0,Tt._)`${U7(e)}.call(${t}, ${r})`}it.isOwnProperty=AE;function NZ(e,t,r,n){const u=(0,Tt._)`${t}${(0,Tt.getProperty)(r)} !== undefined`;return n?(0,Tt._)`${u} && ${AE(e,t,r)}`:u}it.propertyInData=NZ;function FE(e,t,r,n){const u=(0,Tt._)`${t}${(0,Tt.getProperty)(r)} === undefined`;return n?(0,Tt.or)(u,(0,Tt.not)(AE(e,t,r))):u}it.noPropertyInData=FE;function G7(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}it.allSchemaProperties=G7;function qZ(e,t){return G7(t).filter(r=>!(0,gE.alwaysValidSchema)(e,t[r]))}it.schemaProperties=qZ;function xZ({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:u,errorPath:s},it:o},a,i,c){const l=c?(0,Tt._)`${e}, ${t}, ${n}${u}`:t,p=[[Wu.default.instancePath,(0,Tt.strConcat)(Wu.default.instancePath,s)],[Wu.default.parentData,o.parentData],[Wu.default.parentDataProperty,o.parentDataProperty],[Wu.default.rootData,Wu.default.rootData]];o.opts.dynamicRef&&p.push([Wu.default.dynamicAnchors,Wu.default.dynamicAnchors]);const f=(0,Tt._)`${l}, ${r.object(...p)}`;return i!==Tt.nil?(0,Tt._)`${a}.call(${i}, ${f})`:(0,Tt._)`${a}(${f})`}it.callValidateCode=xZ;const RZ=(0,Tt._)`new RegExp`;function jZ({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:u}=t.code,s=u(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Tt._)`${u.code==="new RegExp"?RZ:(0,PZ.useFunc)(e,u)}(${r}, ${n})`})}it.usePattern=jZ;function MZ(e){const{gen:t,data:r,keyword:n,it:u}=e,s=t.name("valid");if(u.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const i=t.const("len",(0,Tt._)`${r}.length`);t.forRange("i",0,i,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:gE.Type.Num},s),t.if((0,Tt.not)(s),a)})}}it.validateArray=MZ;function LZ(e){const{gen:t,schema:r,keyword:n,it:u}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(i=>(0,gE.alwaysValidSchema)(u,i))&&!u.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((i,c)=>{const l=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},a);t.assign(o,(0,Tt._)`${o} || ${a}`),e.mergeValidEvaluated(l,a)||t.if((0,Tt.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}it.validateUnion=LZ;Object.defineProperty(uu,"__esModule",{value:!0});uu.validateKeywordUsage=uu.validSchemaType=uu.funcKeywordCode=uu.macroKeywordCode=void 0;const Br=pt,Gs=lu,UZ=it,GZ=ic;function VZ(e,t){const{gen:r,keyword:n,schema:u,parentSchema:s,it:o}=e,a=t.macro.call(o.self,u,s,o),i=V7(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const c=r.name("valid");e.subschema({schema:a,schemaPath:Br.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:i,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}uu.macroKeywordCode=VZ;function HZ(e,t){var r;const{gen:n,keyword:u,schema:s,parentSchema:o,$data:a,it:i}=e;JZ(i,t);const c=!a&&t.compile?t.compile.call(i.self,s,o,i):t.validate,l=V7(n,u,c),p=n.let("valid");e.block$data(p,f),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function f(){if(t.errors===!1)E(),t.modifying&&lg(e),A(()=>e.error());else{const m=t.async?d():h();t.modifying&&lg(e),A(()=>WZ(e,m))}}function d(){const m=n.let("ruleErrs",null);return n.try(()=>E((0,Br._)`await `),y=>n.assign(p,!1).if((0,Br._)`${y} instanceof ${i.ValidationError}`,()=>n.assign(m,(0,Br._)`${y}.errors`),()=>n.throw(y))),m}function h(){const m=(0,Br._)`${l}.errors`;return n.assign(m,null),E(Br.nil),m}function E(m=t.async?(0,Br._)`await `:Br.nil){const y=i.opts.passContext?Gs.default.this:Gs.default.self,F=!("compile"in t&&!a||t.schema===!1);n.assign(p,(0,Br._)`${m}${(0,UZ.callValidateCode)(e,l,y,F)}`,t.modifying)}function A(m){var y;n.if((0,Br.not)((y=t.valid)!==null&&y!==void 0?y:p),m)}}uu.funcKeywordCode=HZ;function lg(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Br._)`${n.parentData}[${n.parentDataProperty}]`))}function WZ(e,t){const{gen:r}=e;r.if((0,Br._)`Array.isArray(${t})`,()=>{r.assign(Gs.default.vErrors,(0,Br._)`${Gs.default.vErrors} === null ? ${t} : ${Gs.default.vErrors}.concat(${t})`).assign(Gs.default.errors,(0,Br._)`${Gs.default.vErrors}.length`),(0,GZ.extendErrors)(e)},()=>e.error())}function JZ({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function V7(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Br.stringify)(r)})}function zZ(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}uu.validSchemaType=zZ;function KZ({schema:e,opts:t,self:r,errSchemaPath:n},u,s){if(Array.isArray(u.keyword)?!u.keyword.includes(s):u.keyword!==s)throw new Error("ajv implementation error");const o=u.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(u.validateSchema&&!u.validateSchema(e[s])){const i=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(u.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(i);else throw new Error(i)}}uu.validateKeywordUsage=KZ;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.extendSubschemaMode=ss.extendSubschemaData=ss.getSubschema=void 0;const tu=pt,H7=yt;function XZ(e,{keyword:t,schemaProp:r,schema:n,schemaPath:u,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,tu._)`${e.schemaPath}${(0,tu.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,tu._)`${e.schemaPath}${(0,tu.getProperty)(t)}${(0,tu.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,H7.escapeFragment)(r)}`}}if(n!==void 0){if(u===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:u,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}ss.getSubschema=XZ;function YZ(e,t,{dataProp:r,dataPropType:n,data:u,dataTypes:s,propertyName:o}){if(u!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:c,dataPathArr:l,opts:p}=t,f=a.let("data",(0,tu._)`${t.data}${(0,tu.getProperty)(r)}`,!0);i(f),e.errorPath=(0,tu.str)`${c}${(0,H7.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,tu._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(u!==void 0){const c=u instanceof tu.Name?u:a.let("data",u,!0);i(c),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function i(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}ss.extendSubschemaData=YZ;function ZZ(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:u,allErrors:s}){n!==void 0&&(e.compositeRule=n),u!==void 0&&(e.createErrors=u),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}ss.extendSubschemaMode=ZZ;var yr={},W7=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,u,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(u=n;u--!==0;)if(!e(t[u],r[u]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(u=n;u--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[u]))return!1;for(u=n;u--!==0;){var o=s[u];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},J7={exports:{}},es=J7.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},u=r.post||function(){};$l(t,n,u,e,"",e)};es.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};es.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};es.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};es.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function $l(e,t,r,n,u,s,o,a,i,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,u,s,o,a,i,c);for(var l in n){var p=n[l];if(Array.isArray(p)){if(l in es.arrayKeywords)for(var f=0;f<p.length;f++)$l(e,t,r,p[f],u+"/"+l+"/"+f,s,u,l,n,f)}else if(l in es.propsKeywords){if(p&&typeof p=="object")for(var d in p)$l(e,t,r,p[d],u+"/"+l+"/"+QZ(d),s,u,l,n,d)}else(l in es.keywords||e.allKeys&&!(l in es.skipKeywords))&&$l(e,t,r,p,u+"/"+l,s,u,l,n)}r(n,u,s,o,a,i,c)}}function QZ(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var eQ=J7.exports;Object.defineProperty(yr,"__esModule",{value:!0});yr.getSchemaRefs=yr.resolveUrl=yr.normalizeId=yr._getFullPath=yr.getFullPath=yr.inlineRef=void 0;const tQ=yt,rQ=W7,nQ=eQ,uQ=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function sQ(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Eh(e):t?z7(e)<=t:!1}yr.inlineRef=sQ;const oQ=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Eh(e){for(const t in e){if(oQ.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Eh)||typeof r=="object"&&Eh(r))return!0}return!1}function z7(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!uQ.has(r)&&(typeof e[r]=="object"&&(0,tQ.eachItem)(e[r],n=>t+=z7(n)),t===1/0))return 1/0}return t}function K7(e,t="",r){r!==!1&&(t=la(t));const n=e.parse(t);return X7(e,n)}yr.getFullPath=K7;function X7(e,t){return e.serialize(t).split("#")[0]+"#"}yr._getFullPath=X7;const aQ=/#\/?$/;function la(e){return e?e.replace(aQ,""):""}yr.normalizeId=la;function iQ(e,t,r){return r=la(r),e.resolve(t,r)}yr.resolveUrl=iQ;const cQ=/^[a-z_][-a-z0-9._]*$/i;function lQ(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,u=la(e[r]||t),s={"":u},o=K7(n,u,!1),a={},i=new Set;return nQ(e,{allKeys:!0},(p,f,d,h)=>{if(h===void 0)return;const E=o+f;let A=s[h];typeof p[r]=="string"&&(A=m.call(this,p[r])),y.call(this,p.$anchor),y.call(this,p.$dynamicAnchor),s[f]=A;function m(F){const B=this.opts.uriResolver.resolve;if(F=la(A?B(A,F):F),i.has(F))throw l(F);i.add(F);let P=this.refs[F];return typeof P=="string"&&(P=this.refs[P]),typeof P=="object"?c(p,P.schema,F):F!==la(E)&&(F[0]==="#"?(c(p,a[F],F),a[F]=p):this.refs[F]=E),F}function y(F){if(typeof F=="string"){if(!cQ.test(F))throw new Error(`invalid anchor "${F}"`);m.call(this,`#${F}`)}}}),a;function c(p,f,d){if(f!==void 0&&!rQ(p,f))throw l(d)}function l(p){return new Error(`reference "${p}" resolves to more than one schema`)}}yr.getSchemaRefs=lQ;Object.defineProperty(jn,"__esModule",{value:!0});jn.getData=jn.KeywordCxt=jn.validateFunctionCode=void 0;const Y7=ga,pg=cc,CE=wu,hp=cc,pQ=ef,Ai=uu,Fd=ss,He=pt,Ze=lu,fQ=yr,_u=yt,Ja=ic;function dQ(e){if(e9(e)&&(t9(e),Q7(e))){mQ(e);return}Z7(e,()=>(0,Y7.topBoolOrEmptySchema)(e))}jn.validateFunctionCode=dQ;function Z7({gen:e,validateName:t,schema:r,schemaEnv:n,opts:u},s){u.code.es5?e.func(t,(0,He._)`${Ze.default.data}, ${Ze.default.valCxt}`,n.$async,()=>{e.code((0,He._)`"use strict"; ${fg(r,u)}`),hQ(e,u),e.code(s)}):e.func(t,(0,He._)`${Ze.default.data}, ${DQ(u)}`,n.$async,()=>e.code(fg(r,u)).code(s))}function DQ(e){return(0,He._)`{${Ze.default.instancePath}="", ${Ze.default.parentData}, ${Ze.default.parentDataProperty}, ${Ze.default.rootData}=${Ze.default.data}${e.dynamicRef?(0,He._)`, ${Ze.default.dynamicAnchors}={}`:He.nil}}={}`}function hQ(e,t){e.if(Ze.default.valCxt,()=>{e.var(Ze.default.instancePath,(0,He._)`${Ze.default.valCxt}.${Ze.default.instancePath}`),e.var(Ze.default.parentData,(0,He._)`${Ze.default.valCxt}.${Ze.default.parentData}`),e.var(Ze.default.parentDataProperty,(0,He._)`${Ze.default.valCxt}.${Ze.default.parentDataProperty}`),e.var(Ze.default.rootData,(0,He._)`${Ze.default.valCxt}.${Ze.default.rootData}`),t.dynamicRef&&e.var(Ze.default.dynamicAnchors,(0,He._)`${Ze.default.valCxt}.${Ze.default.dynamicAnchors}`)},()=>{e.var(Ze.default.instancePath,(0,He._)`""`),e.var(Ze.default.parentData,(0,He._)`undefined`),e.var(Ze.default.parentDataProperty,(0,He._)`undefined`),e.var(Ze.default.rootData,Ze.default.data),t.dynamicRef&&e.var(Ze.default.dynamicAnchors,(0,He._)`{}`)})}function mQ(e){const{schema:t,opts:r,gen:n}=e;Z7(e,()=>{r.$comment&&t.$comment&&n9(e),AQ(e),n.let(Ze.default.vErrors,null),n.let(Ze.default.errors,0),r.unevaluated&&EQ(e),r9(e),bQ(e)})}function EQ(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,He._)`${r}.evaluated`),t.if((0,He._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,He._)`${e.evaluated}.props`,(0,He._)`undefined`)),t.if((0,He._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,He._)`${e.evaluated}.items`,(0,He._)`undefined`))}function fg(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,He._)`/*# sourceURL=${r} */`:He.nil}function vQ(e,t){if(e9(e)&&(t9(e),Q7(e))){yQ(e,t);return}(0,Y7.boolOrEmptySchema)(e,t)}function Q7({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function e9(e){return typeof e.schema!="boolean"}function yQ(e,t){const{schema:r,gen:n,opts:u}=e;u.$comment&&r.$comment&&n9(e),FQ(e),CQ(e);const s=n.const("_errs",Ze.default.errors);r9(e,s),n.var(t,(0,He._)`${s} === ${Ze.default.errors}`)}function t9(e){(0,_u.checkUnknownRules)(e),gQ(e)}function r9(e,t){if(e.opts.jtd)return dg(e,[],!1,t);const r=(0,pg.getSchemaTypes)(e.schema),n=(0,pg.coerceAndCheckDataType)(e,r);dg(e,r,!n,t)}function gQ(e){const{schema:t,errSchemaPath:r,opts:n,self:u}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,_u.schemaHasRulesButRef)(t,u.RULES)&&u.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function AQ(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,_u.checkStrictMode)(e,"default is ignored in the schema root")}function FQ(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,fQ.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function CQ(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function n9({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:u}){const s=r.$comment;if(u.$comment===!0)e.code((0,He._)`${Ze.default.self}.logger.log(${s})`);else if(typeof u.$comment=="function"){const o=(0,He.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,He._)`${Ze.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function bQ(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:u,opts:s}=e;r.$async?t.if((0,He._)`${Ze.default.errors} === 0`,()=>t.return(Ze.default.data),()=>t.throw((0,He._)`new ${u}(${Ze.default.vErrors})`)):(t.assign((0,He._)`${n}.errors`,Ze.default.vErrors),s.unevaluated&&SQ(e),t.return((0,He._)`${Ze.default.errors} === 0`))}function SQ({gen:e,evaluated:t,props:r,items:n}){r instanceof He.Name&&e.assign((0,He._)`${t}.props`,r),n instanceof He.Name&&e.assign((0,He._)`${t}.items`,n)}function dg(e,t,r,n){const{gen:u,schema:s,data:o,allErrors:a,opts:i,self:c}=e,{RULES:l}=c;if(s.$ref&&(i.ignoreKeywordsWithRef||!(0,_u.schemaHasRulesButRef)(s,l))){u.block(()=>o9(e,"$ref",l.all.$ref.definition));return}i.jtd||wQ(e,t),u.block(()=>{for(const f of l.rules)p(f);p(l.post)});function p(f){(0,CE.shouldUseGroup)(s,f)&&(f.type?(u.if((0,hp.checkDataType)(f.type,o,i.strictNumbers)),Dg(e,f),t.length===1&&t[0]===f.type&&r&&(u.else(),(0,hp.reportTypeError)(e)),u.endIf()):Dg(e,f),a||u.if((0,He._)`${Ze.default.errors} === ${n||0}`))}}function Dg(e,t){const{gen:r,schema:n,opts:{useDefaults:u}}=e;u&&(0,pQ.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,CE.shouldUseRule)(n,s)&&o9(e,s.keyword,s.definition,t.type)})}function wQ(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(_Q(e,t),e.opts.allowUnionTypes||BQ(e,t),TQ(e,e.dataTypes))}function _Q(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{u9(e.dataTypes,r)||bE(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),PQ(e,t)}}function BQ(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&bE(e,"use allowUnionTypes to allow union type keyword")}function TQ(e,t){const r=e.self.RULES.all;for(const n in r){const u=r[n];if(typeof u=="object"&&(0,CE.shouldUseRule)(e.schema,u)){const{type:s}=u.definition;s.length&&!s.some(o=>$Q(t,o))&&bE(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function $Q(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function u9(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function PQ(e,t){const r=[];for(const n of e.dataTypes)u9(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function bE(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,_u.checkStrictMode)(e,t,e.opts.strictTypes)}class s9{constructor(t,r,n){if((0,Ai.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_u.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",a9(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ai.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Ze.default.errors))}result(t,r,n){this.failResult((0,He.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,He.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,He._)`${r} !== undefined && (${(0,He.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ja.reportExtraError:Ja.reportError)(this,this.def.error,r)}$dataError(){(0,Ja.reportError)(this,this.def.$dataError||Ja.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ja.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=He.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=He.nil,r=He.nil){if(!this.$data)return;const{gen:n,schemaCode:u,schemaType:s,def:o}=this;n.if((0,He.or)((0,He._)`${u} === undefined`,r)),t!==He.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==He.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:u,it:s}=this;return(0,He.or)(o(),a());function o(){if(n.length){if(!(r instanceof He.Name))throw new Error("ajv implementation error");const i=Array.isArray(n)?n:[n];return(0,He._)`${(0,hp.checkDataTypes)(i,r,s.opts.strictNumbers,hp.DataType.Wrong)}`}return He.nil}function a(){if(u.validateSchema){const i=t.scopeValue("validate$data",{ref:u.validateSchema});return(0,He._)`!${i}(${r})`}return He.nil}}subschema(t,r){const n=(0,Fd.getSubschema)(this.it,t);(0,Fd.extendSubschemaData)(n,this.it,t),(0,Fd.extendSubschemaMode)(n,t);const u={...this.it,...n,items:void 0,props:void 0};return vQ(u,r),u}mergeEvaluated(t,r){const{it:n,gen:u}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=_u.mergeEvaluated.props(u,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=_u.mergeEvaluated.items(u,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:u}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return u.if(r,()=>this.mergeEvaluated(t,He.Name)),!0}}jn.KeywordCxt=s9;function o9(e,t,r,n){const u=new s9(e,r,t);"code"in r?r.code(u,n):u.$data&&r.validate?(0,Ai.funcKeywordCode)(u,r):"macro"in r?(0,Ai.macroKeywordCode)(u,r):(r.compile||r.validate)&&(0,Ai.funcKeywordCode)(u,r)}const OQ=/^\/(?:[^~]|~0|~1)*$/,kQ=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function a9(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let u,s;if(e==="")return Ze.default.rootData;if(e[0]==="/"){if(!OQ.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);u=e,s=Ze.default.rootData}else{const c=kQ.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const l=+c[1];if(u=c[2],u==="#"){if(l>=t)throw new Error(i("property/index",l));return n[t-l]}if(l>t)throw new Error(i("data",l));if(s=r[t-l],!u)return s}let o=s;const a=u.split("/");for(const c of a)c&&(s=(0,He._)`${s}${(0,He.getProperty)((0,_u.unescapeJsonPointer)(c))}`,o=(0,He._)`${o} && ${s}`);return o;function i(c,l){return`Cannot access ${c} ${l} levels up, current level is ${t}`}}jn.getData=a9;var lc={};Object.defineProperty(lc,"__esModule",{value:!0});class IQ extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}lc.default=IQ;var pc={};Object.defineProperty(pc,"__esModule",{value:!0});const Cd=yr;class NQ extends Error{constructor(t,r,n,u){super(u||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Cd.resolveUrl)(t,r,n),this.missingSchema=(0,Cd.normalizeId)((0,Cd.getFullPath)(t,this.missingRef))}}pc.default=NQ;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.resolveSchema=Gr.getCompilingSchema=Gr.resolveRef=Gr.compileSchema=Gr.SchemaEnv=void 0;const Sn=pt,qQ=lc,qs=lu,qn=yr,hg=yt,xQ=jn;class tf{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,qn.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Gr.SchemaEnv=tf;function SE(e){const t=i9.call(this,e);if(t)return t;const r=(0,qn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:u}=this.opts.code,{ownProperties:s}=this.opts,o=new Sn.CodeGen(this.scope,{es5:n,lines:u,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:qQ.default,code:(0,Sn._)`require("ajv/dist/runtime/validation_error").default`}));const i=o.scopeName("validate");e.validateName=i;const c={gen:o,allErrors:this.opts.allErrors,data:qs.default.data,parentData:qs.default.parentData,parentDataProperty:qs.default.parentDataProperty,dataNames:[qs.default.data],dataPathArr:[Sn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Sn.stringify)(e.schema)}:{ref:e.schema}),validateName:i,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Sn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Sn._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(e),(0,xQ.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);const p=o.toString();l=`${o.scopeRefs(qs.default.scope)}return ${p}`,this.opts.code.process&&(l=this.opts.code.process(l,e));const d=new Function(`${qs.default.self}`,`${qs.default.scope}`,l)(this,this.scope.get());if(this.scope.value(i,{ref:d}),d.errors=null,d.schema=e.schema,d.schemaEnv=e,e.$async&&(d.$async=!0),this.opts.code.source===!0&&(d.source={validateName:i,validateCode:p,scopeValues:o._values}),this.opts.unevaluated){const{props:h,items:E}=c;d.evaluated={props:h instanceof Sn.Name?void 0:h,items:E instanceof Sn.Name?void 0:E,dynamicProps:h instanceof Sn.Name,dynamicItems:E instanceof Sn.Name},d.source&&(d.source.evaluated=(0,Sn.stringify)(d.evaluated))}return e.validate=d,e}catch(p){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),p}finally{this._compilations.delete(e)}}Gr.compileSchema=SE;function RQ(e,t,r){var n;r=(0,qn.resolveUrl)(this.opts.uriResolver,t,r);const u=e.refs[r];if(u)return u;let s=LQ.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new tf({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=jQ.call(this,s)}Gr.resolveRef=RQ;function jQ(e){return(0,qn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:SE.call(this,e)}function i9(e){for(const t of this._compilations)if(MQ(t,e))return t}Gr.getCompilingSchema=i9;function MQ(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function LQ(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||rf.call(this,e,t)}function rf(e,t){const r=this.opts.uriResolver.parse(t),n=(0,qn._getFullPath)(this.opts.uriResolver,r);let u=(0,qn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===u)return bd.call(this,r,e);const s=(0,qn.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=rf.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:bd.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||SE.call(this,o),s===(0,qn.normalizeId)(t)){const{schema:a}=o,{schemaId:i}=this.opts,c=a[i];return c&&(u=(0,qn.resolveUrl)(this.opts.uriResolver,u,c)),new tf({schema:a,schemaId:i,root:e,baseId:u})}return bd.call(this,r,o)}}Gr.resolveSchema=rf;const UQ=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function bd(e,{baseId:t,schema:r,root:n}){var u;if(((u=e.fragment)===null||u===void 0?void 0:u[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const i=r[(0,hg.unescapeFragment)(a)];if(i===void 0)return;r=i;const c=typeof r=="object"&&r[this.opts.schemaId];!UQ.has(a)&&c&&(t=(0,qn.resolveUrl)(this.opts.uriResolver,t,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,hg.schemaHasRulesButRef)(r,this.RULES)){const a=(0,qn.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=rf.call(this,n,a)}const{schemaId:o}=this.opts;if(s=s||new tf({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const GQ="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",VQ="Meta-schema for $data reference (JSON AnySchema extension proposal)",HQ="object",WQ=["$data"],JQ={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},zQ=!1,KQ={$id:GQ,description:VQ,type:HQ,required:WQ,properties:JQ,additionalProperties:zQ};var wE={},vh={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(we,function(r){function n(){for(var R=arguments.length,T=Array(R),M=0;M<R;M++)T[M]=arguments[M];if(T.length>1){T[0]=T[0].slice(0,-1);for(var K=T.length-1,z=1;z<K;++z)T[z]=T[z].slice(1,-1);return T[K]=T[K].slice(1),T.join("")}else return T[0]}function u(R){return"(?:"+R+")"}function s(R){return R===void 0?"undefined":R===null?"null":Object.prototype.toString.call(R).split(" ").pop().split("]").shift().toLowerCase()}function o(R){return R.toUpperCase()}function a(R){return R!=null?R instanceof Array?R:typeof R.length!="number"||R.split||R.setInterval||R.call?[R]:Array.prototype.slice.call(R):[]}function i(R,T){var M=R;if(T)for(var K in T)M[K]=T[K];return M}function c(R){var T="[A-Za-z]",M="[0-9]",K=n(M,"[A-Fa-f]"),z=u(u("%[EFef]"+K+"%"+K+K+"%"+K+K)+"|"+u("%[89A-Fa-f]"+K+"%"+K+K)+"|"+u("%"+K+K)),me="[\\:\\/\\?\\#\\[\\]\\@]",ve="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Oe=n(me,ve),Me=R?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",et=R?"[\\uE000-\\uF8FF]":"[]",$e=n(T,M,"[\\-\\.\\_\\~]",Me);u(T+n(T,M,"[\\+\\-\\.]")+"*"),u(u(z+"|"+n($e,ve,"[\\:]"))+"*");var Je=u(u("25[0-5]")+"|"+u("2[0-4]"+M)+"|"+u("1"+M+M)+"|"+u("0?[1-9]"+M)+"|0?0?"+M),tt=u(Je+"\\."+Je+"\\."+Je+"\\."+Je),Fe=u(K+"{1,4}"),We=u(u(Fe+"\\:"+Fe)+"|"+tt),nt=u(u(Fe+"\\:")+"{6}"+We),Ke=u("\\:\\:"+u(Fe+"\\:")+"{5}"+We),er=u(u(Fe)+"?\\:\\:"+u(Fe+"\\:")+"{4}"+We),kt=u(u(u(Fe+"\\:")+"{0,1}"+Fe)+"?\\:\\:"+u(Fe+"\\:")+"{3}"+We),It=u(u(u(Fe+"\\:")+"{0,2}"+Fe)+"?\\:\\:"+u(Fe+"\\:")+"{2}"+We),rr=u(u(u(Fe+"\\:")+"{0,3}"+Fe)+"?\\:\\:"+Fe+"\\:"+We),fr=u(u(u(Fe+"\\:")+"{0,4}"+Fe)+"?\\:\\:"+We),Ft=u(u(u(Fe+"\\:")+"{0,5}"+Fe)+"?\\:\\:"+Fe),At=u(u(u(Fe+"\\:")+"{0,6}"+Fe)+"?\\:\\:"),dr=u([nt,Ke,er,kt,It,rr,fr,Ft,At].join("|")),Ht=u(u($e+"|"+z)+"+");u("[vV]"+K+"+\\."+n($e,ve,"[\\:]")+"+"),u(u(z+"|"+n($e,ve))+"*");var Kr=u(z+"|"+n($e,ve,"[\\:\\@]"));return u(u(z+"|"+n($e,ve,"[\\@]"))+"+"),u(u(Kr+"|"+n("[\\/\\?]",et))+"*"),{NOT_SCHEME:new RegExp(n("[^]",T,M,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",$e,ve),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",$e,ve),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",$e,ve),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",$e,ve),"g"),NOT_QUERY:new RegExp(n("[^\\%]",$e,ve,"[\\:\\@\\/\\?]",et),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",$e,ve,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",$e,ve),"g"),UNRESERVED:new RegExp($e,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",$e,Oe),"g"),PCT_ENCODED:new RegExp(z,"g"),IPV4ADDRESS:new RegExp("^("+tt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+dr+")"+u(u("\\%25|\\%(?!"+K+"{2})")+"("+Ht+")")+"?\\]?$")}}var l=c(!1),p=c(!0),f=function(){function R(T,M){var K=[],z=!0,me=!1,ve=void 0;try{for(var Oe=T[Symbol.iterator](),Me;!(z=(Me=Oe.next()).done)&&(K.push(Me.value),!(M&&K.length===M));z=!0);}catch(et){me=!0,ve=et}finally{try{!z&&Oe.return&&Oe.return()}finally{if(me)throw ve}}return K}return function(T,M){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return R(T,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(R){if(Array.isArray(R)){for(var T=0,M=Array(R.length);T<R.length;T++)M[T]=R[T];return M}else return Array.from(R)},h=2147483647,E=36,A=1,m=26,y=38,F=700,B=72,P=128,$="-",I=/^xn--/,U=/[^\0-\x7E]/,j=/[\x2E\u3002\uFF0E\uFF61]/g,W={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=E-A,Y=Math.floor,oe=String.fromCharCode;function ie(R){throw new RangeError(W[R])}function fe(R,T){for(var M=[],K=R.length;K--;)M[K]=T(R[K]);return M}function De(R,T){var M=R.split("@"),K="";M.length>1&&(K=M[0]+"@",R=M[1]),R=R.replace(j,".");var z=R.split("."),me=fe(z,T).join(".");return K+me}function de(R){for(var T=[],M=0,K=R.length;M<K;){var z=R.charCodeAt(M++);if(z>=55296&&z<=56319&&M<K){var me=R.charCodeAt(M++);(me&64512)==56320?T.push(((z&1023)<<10)+(me&1023)+65536):(T.push(z),M--)}else T.push(z)}return T}var Ce=function(T){return String.fromCodePoint.apply(String,d(T))},pe=function(T){return T-48<10?T-22:T-65<26?T-65:T-97<26?T-97:E},Q=function(T,M){return T+22+75*(T<26)-((M!=0)<<5)},q=function(T,M,K){var z=0;for(T=K?Y(T/F):T>>1,T+=Y(T/M);T>te*m>>1;z+=E)T=Y(T/te);return Y(z+(te+1)*T/(T+y))},v=function(T){var M=[],K=T.length,z=0,me=P,ve=B,Oe=T.lastIndexOf($);Oe<0&&(Oe=0);for(var Me=0;Me<Oe;++Me)T.charCodeAt(Me)>=128&&ie("not-basic"),M.push(T.charCodeAt(Me));for(var et=Oe>0?Oe+1:0;et<K;){for(var $e=z,Je=1,tt=E;;tt+=E){et>=K&&ie("invalid-input");var Fe=pe(T.charCodeAt(et++));(Fe>=E||Fe>Y((h-z)/Je))&&ie("overflow"),z+=Fe*Je;var We=tt<=ve?A:tt>=ve+m?m:tt-ve;if(Fe<We)break;var nt=E-We;Je>Y(h/nt)&&ie("overflow"),Je*=nt}var Ke=M.length+1;ve=q(z-$e,Ke,$e==0),Y(z/Ke)>h-me&&ie("overflow"),me+=Y(z/Ke),z%=Ke,M.splice(z++,0,me)}return String.fromCodePoint.apply(String,M)},C=function(T){var M=[];T=de(T);var K=T.length,z=P,me=0,ve=B,Oe=!0,Me=!1,et=void 0;try{for(var $e=T[Symbol.iterator](),Je;!(Oe=(Je=$e.next()).done);Oe=!0){var tt=Je.value;tt<128&&M.push(oe(tt))}}catch(Pr){Me=!0,et=Pr}finally{try{!Oe&&$e.return&&$e.return()}finally{if(Me)throw et}}var Fe=M.length,We=Fe;for(Fe&&M.push($);We<K;){var nt=h,Ke=!0,er=!1,kt=void 0;try{for(var It=T[Symbol.iterator](),rr;!(Ke=(rr=It.next()).done);Ke=!0){var fr=rr.value;fr>=z&&fr<nt&&(nt=fr)}}catch(Pr){er=!0,kt=Pr}finally{try{!Ke&&It.return&&It.return()}finally{if(er)throw kt}}var Ft=We+1;nt-z>Y((h-me)/Ft)&&ie("overflow"),me+=(nt-z)*Ft,z=nt;var At=!0,dr=!1,Ht=void 0;try{for(var Kr=T[Symbol.iterator](),Bs;!(At=(Bs=Kr.next()).done);At=!0){var Ts=Bs.value;if(Ts<z&&++me>h&&ie("overflow"),Ts==z){for(var vn=me,$r=E;;$r+=E){var yn=$r<=ve?A:$r>=ve+m?m:$r-ve;if(vn<yn)break;var gn=vn-yn,Ru=E-yn;M.push(oe(Q(yn+gn%Ru,0))),vn=Y(gn/Ru)}M.push(oe(Q(vn,0))),ve=q(me,Ft,We==Fe),me=0,++We}}}catch(Pr){dr=!0,Ht=Pr}finally{try{!At&&Kr.return&&Kr.return()}finally{if(dr)throw Ht}}++me,++z}return M.join("")},D=function(T){return De(T,function(M){return I.test(M)?v(M.slice(4).toLowerCase()):M})},g=function(T){return De(T,function(M){return U.test(M)?"xn--"+C(M):M})},O={version:"2.1.0",ucs2:{decode:de,encode:Ce},decode:v,encode:C,toASCII:g,toUnicode:D},b={};function w(R){var T=R.charCodeAt(0),M=void 0;return T<16?M="%0"+T.toString(16).toUpperCase():T<128?M="%"+T.toString(16).toUpperCase():T<2048?M="%"+(T>>6|192).toString(16).toUpperCase()+"%"+(T&63|128).toString(16).toUpperCase():M="%"+(T>>12|224).toString(16).toUpperCase()+"%"+(T>>6&63|128).toString(16).toUpperCase()+"%"+(T&63|128).toString(16).toUpperCase(),M}function x(R){for(var T="",M=0,K=R.length;M<K;){var z=parseInt(R.substr(M+1,2),16);if(z<128)T+=String.fromCharCode(z),M+=3;else if(z>=194&&z<224){if(K-M>=6){var me=parseInt(R.substr(M+4,2),16);T+=String.fromCharCode((z&31)<<6|me&63)}else T+=R.substr(M,6);M+=6}else if(z>=224){if(K-M>=9){var ve=parseInt(R.substr(M+4,2),16),Oe=parseInt(R.substr(M+7,2),16);T+=String.fromCharCode((z&15)<<12|(ve&63)<<6|Oe&63)}else T+=R.substr(M,9);M+=9}else T+=R.substr(M,3),M+=3}return T}function k(R,T){function M(K){var z=x(K);return z.match(T.UNRESERVED)?z:K}return R.scheme&&(R.scheme=String(R.scheme).replace(T.PCT_ENCODED,M).toLowerCase().replace(T.NOT_SCHEME,"")),R.userinfo!==void 0&&(R.userinfo=String(R.userinfo).replace(T.PCT_ENCODED,M).replace(T.NOT_USERINFO,w).replace(T.PCT_ENCODED,o)),R.host!==void 0&&(R.host=String(R.host).replace(T.PCT_ENCODED,M).toLowerCase().replace(T.NOT_HOST,w).replace(T.PCT_ENCODED,o)),R.path!==void 0&&(R.path=String(R.path).replace(T.PCT_ENCODED,M).replace(R.scheme?T.NOT_PATH:T.NOT_PATH_NOSCHEME,w).replace(T.PCT_ENCODED,o)),R.query!==void 0&&(R.query=String(R.query).replace(T.PCT_ENCODED,M).replace(T.NOT_QUERY,w).replace(T.PCT_ENCODED,o)),R.fragment!==void 0&&(R.fragment=String(R.fragment).replace(T.PCT_ENCODED,M).replace(T.NOT_FRAGMENT,w).replace(T.PCT_ENCODED,o)),R}function G(R){return R.replace(/^0*(.*)/,"$1")||"0"}function H(R,T){var M=R.match(T.IPV4ADDRESS)||[],K=f(M,2),z=K[1];return z?z.split(".").map(G).join("."):R}function re(R,T){var M=R.match(T.IPV6ADDRESS)||[],K=f(M,3),z=K[1],me=K[2];if(z){for(var ve=z.toLowerCase().split("::").reverse(),Oe=f(ve,2),Me=Oe[0],et=Oe[1],$e=et?et.split(":").map(G):[],Je=Me.split(":").map(G),tt=T.IPV4ADDRESS.test(Je[Je.length-1]),Fe=tt?7:8,We=Je.length-Fe,nt=Array(Fe),Ke=0;Ke<Fe;++Ke)nt[Ke]=$e[Ke]||Je[We+Ke]||"";tt&&(nt[Fe-1]=H(nt[Fe-1],T));var er=nt.reduce(function(Ft,At,dr){if(!At||At==="0"){var Ht=Ft[Ft.length-1];Ht&&Ht.index+Ht.length===dr?Ht.length++:Ft.push({index:dr,length:1})}return Ft},[]),kt=er.sort(function(Ft,At){return At.length-Ft.length})[0],It=void 0;if(kt&&kt.length>1){var rr=nt.slice(0,kt.index),fr=nt.slice(kt.index+kt.length);It=rr.join(":")+"::"+fr.join(":")}else It=nt.join(":");return me&&(It+="%"+me),It}else return R}var _e=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Le="".match(/(){0}/)[1]===void 0;function Ue(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M={},K=T.iri!==!1?p:l;T.reference==="suffix"&&(R=(T.scheme?T.scheme+":":"")+"//"+R);var z=R.match(_e);if(z){Le?(M.scheme=z[1],M.userinfo=z[3],M.host=z[4],M.port=parseInt(z[5],10),M.path=z[6]||"",M.query=z[7],M.fragment=z[8],isNaN(M.port)&&(M.port=z[5])):(M.scheme=z[1]||void 0,M.userinfo=R.indexOf("@")!==-1?z[3]:void 0,M.host=R.indexOf("//")!==-1?z[4]:void 0,M.port=parseInt(z[5],10),M.path=z[6]||"",M.query=R.indexOf("?")!==-1?z[7]:void 0,M.fragment=R.indexOf("#")!==-1?z[8]:void 0,isNaN(M.port)&&(M.port=R.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?z[4]:void 0)),M.host&&(M.host=re(H(M.host,K),K)),M.scheme===void 0&&M.userinfo===void 0&&M.host===void 0&&M.port===void 0&&!M.path&&M.query===void 0?M.reference="same-document":M.scheme===void 0?M.reference="relative":M.fragment===void 0?M.reference="absolute":M.reference="uri",T.reference&&T.reference!=="suffix"&&T.reference!==M.reference&&(M.error=M.error||"URI is not a "+T.reference+" reference.");var me=b[(T.scheme||M.scheme||"").toLowerCase()];if(!T.unicodeSupport&&(!me||!me.unicodeSupport)){if(M.host&&(T.domainHost||me&&me.domainHost))try{M.host=O.toASCII(M.host.replace(K.PCT_ENCODED,x).toLowerCase())}catch(ve){M.error=M.error||"Host's domain name can not be converted to ASCII via punycode: "+ve}k(M,l)}else k(M,K);me&&me.parse&&me.parse(M,T)}else M.error=M.error||"URI can not be parsed.";return M}function Ge(R,T){var M=T.iri!==!1?p:l,K=[];return R.userinfo!==void 0&&(K.push(R.userinfo),K.push("@")),R.host!==void 0&&K.push(re(H(String(R.host),M),M).replace(M.IPV6ADDRESS,function(z,me,ve){return"["+me+(ve?"%25"+ve:"")+"]"})),(typeof R.port=="number"||typeof R.port=="string")&&(K.push(":"),K.push(String(R.port))),K.length?K.join(""):void 0}var be=/^\.\.?\//,je=/^\/\.(\/|$)/,ke=/^\/\.\.(\/|$)/,Ie=/^\/?(?:.|\n)*?(?=\/|$)/;function ce(R){for(var T=[];R.length;)if(R.match(be))R=R.replace(be,"");else if(R.match(je))R=R.replace(je,"/");else if(R.match(ke))R=R.replace(ke,"/"),T.pop();else if(R==="."||R==="..")R="";else{var M=R.match(Ie);if(M){var K=M[0];R=R.slice(K.length),T.push(K)}else throw new Error("Unexpected dot segment condition")}return T.join("")}function Te(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=T.iri?p:l,K=[],z=b[(T.scheme||R.scheme||"").toLowerCase()];if(z&&z.serialize&&z.serialize(R,T),R.host&&!M.IPV6ADDRESS.test(R.host)){if(T.domainHost||z&&z.domainHost)try{R.host=T.iri?O.toUnicode(R.host):O.toASCII(R.host.replace(M.PCT_ENCODED,x).toLowerCase())}catch(Oe){R.error=R.error||"Host's domain name can not be converted to "+(T.iri?"Unicode":"ASCII")+" via punycode: "+Oe}}k(R,M),T.reference!=="suffix"&&R.scheme&&(K.push(R.scheme),K.push(":"));var me=Ge(R,T);if(me!==void 0&&(T.reference!=="suffix"&&K.push("//"),K.push(me),R.path&&R.path.charAt(0)!=="/"&&K.push("/")),R.path!==void 0){var ve=R.path;!T.absolutePath&&(!z||!z.absolutePath)&&(ve=ce(ve)),me===void 0&&(ve=ve.replace(/^\/\//,"/%2F")),K.push(ve)}return R.query!==void 0&&(K.push("?"),K.push(R.query)),R.fragment!==void 0&&(K.push("#"),K.push(R.fragment)),K.join("")}function Z(R,T){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=arguments[3],z={};return K||(R=Ue(Te(R,M),M),T=Ue(Te(T,M),M)),M=M||{},!M.tolerant&&T.scheme?(z.scheme=T.scheme,z.userinfo=T.userinfo,z.host=T.host,z.port=T.port,z.path=ce(T.path||""),z.query=T.query):(T.userinfo!==void 0||T.host!==void 0||T.port!==void 0?(z.userinfo=T.userinfo,z.host=T.host,z.port=T.port,z.path=ce(T.path||""),z.query=T.query):(T.path?(T.path.charAt(0)==="/"?z.path=ce(T.path):((R.userinfo!==void 0||R.host!==void 0||R.port!==void 0)&&!R.path?z.path="/"+T.path:R.path?z.path=R.path.slice(0,R.path.lastIndexOf("/")+1)+T.path:z.path=T.path,z.path=ce(z.path)),z.query=T.query):(z.path=R.path,T.query!==void 0?z.query=T.query:z.query=R.query),z.userinfo=R.userinfo,z.host=R.host,z.port=R.port),z.scheme=R.scheme),z.fragment=T.fragment,z}function ae(R,T,M){var K=i({scheme:"null"},M);return Te(Z(Ue(R,K),Ue(T,K),K,!0),K)}function le(R,T){return typeof R=="string"?R=Te(Ue(R,T),T):s(R)==="object"&&(R=Ue(Te(R,T),T)),R}function N(R,T,M){return typeof R=="string"?R=Te(Ue(R,M),M):s(R)==="object"&&(R=Te(R,M)),typeof T=="string"?T=Te(Ue(T,M),M):s(T)==="object"&&(T=Te(T,M)),R===T}function S(R,T){return R&&R.toString().replace(!T||!T.iri?l.ESCAPE:p.ESCAPE,w)}function _(R,T){return R&&R.toString().replace(!T||!T.iri?l.PCT_ENCODED:p.PCT_ENCODED,x)}var L={scheme:"http",domainHost:!0,parse:function(T,M){return T.host||(T.error=T.error||"HTTP URIs must have a host."),T},serialize:function(T,M){var K=String(T.scheme).toLowerCase()==="https";return(T.port===(K?443:80)||T.port==="")&&(T.port=void 0),T.path||(T.path="/"),T}},J={scheme:"https",domainHost:L.domainHost,parse:L.parse,serialize:L.serialize};function ee(R){return typeof R.secure=="boolean"?R.secure:String(R.scheme).toLowerCase()==="wss"}var ue={scheme:"ws",domainHost:!0,parse:function(T,M){var K=T;return K.secure=ee(K),K.resourceName=(K.path||"/")+(K.query?"?"+K.query:""),K.path=void 0,K.query=void 0,K},serialize:function(T,M){if((T.port===(ee(T)?443:80)||T.port==="")&&(T.port=void 0),typeof T.secure=="boolean"&&(T.scheme=T.secure?"wss":"ws",T.secure=void 0),T.resourceName){var K=T.resourceName.split("?"),z=f(K,2),me=z[0],ve=z[1];T.path=me&&me!=="/"?me:void 0,T.query=ve,T.resourceName=void 0}return T.fragment=void 0,T}},ge={scheme:"wss",domainHost:ue.domainHost,parse:ue.parse,serialize:ue.serialize},Be={},qe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Pe="[0-9A-Fa-f]",rt=u(u("%[EFef]"+Pe+"%"+Pe+Pe+"%"+Pe+Pe)+"|"+u("%[89A-Fa-f]"+Pe+"%"+Pe+Pe)+"|"+u("%"+Pe+Pe)),Ar="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",sn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",En=n(sn,'[\\"\\\\]'),xu="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Wn=new RegExp(qe,"g"),Qt=new RegExp(rt,"g"),Cs=new RegExp(n("[^]",Ar,"[\\.]",'[\\"]',En),"g"),fu=new RegExp(n("[^]",qe,xu),"g"),bs=fu;function zr(R){var T=x(R);return T.match(Wn)?T:R}var Ss={scheme:"mailto",parse:function(T,M){var K=T,z=K.to=K.path?K.path.split(","):[];if(K.path=void 0,K.query){for(var me=!1,ve={},Oe=K.query.split("&"),Me=0,et=Oe.length;Me<et;++Me){var $e=Oe[Me].split("=");switch($e[0]){case"to":for(var Je=$e[1].split(","),tt=0,Fe=Je.length;tt<Fe;++tt)z.push(Je[tt]);break;case"subject":K.subject=_($e[1],M);break;case"body":K.body=_($e[1],M);break;default:me=!0,ve[_($e[0],M)]=_($e[1],M);break}}me&&(K.headers=ve)}K.query=void 0;for(var We=0,nt=z.length;We<nt;++We){var Ke=z[We].split("@");if(Ke[0]=_(Ke[0]),M.unicodeSupport)Ke[1]=_(Ke[1],M).toLowerCase();else try{Ke[1]=O.toASCII(_(Ke[1],M).toLowerCase())}catch(er){K.error=K.error||"Email address's domain name can not be converted to ASCII via punycode: "+er}z[We]=Ke.join("@")}return K},serialize:function(T,M){var K=T,z=a(T.to);if(z){for(var me=0,ve=z.length;me<ve;++me){var Oe=String(z[me]),Me=Oe.lastIndexOf("@"),et=Oe.slice(0,Me).replace(Qt,zr).replace(Qt,o).replace(Cs,w),$e=Oe.slice(Me+1);try{$e=M.iri?O.toUnicode($e):O.toASCII(_($e,M).toLowerCase())}catch(We){K.error=K.error||"Email address's domain name can not be converted to "+(M.iri?"Unicode":"ASCII")+" via punycode: "+We}z[me]=et+"@"+$e}K.path=z.join(",")}var Je=T.headers=T.headers||{};T.subject&&(Je.subject=T.subject),T.body&&(Je.body=T.body);var tt=[];for(var Fe in Je)Je[Fe]!==Be[Fe]&&tt.push(Fe.replace(Qt,zr).replace(Qt,o).replace(fu,w)+"="+Je[Fe].replace(Qt,zr).replace(Qt,o).replace(bs,w));return tt.length&&(K.query=tt.join("&")),K}},ja=/^([^\:]+)\:(.*)/,ws={scheme:"urn",parse:function(T,M){var K=T.path&&T.path.match(ja),z=T;if(K){var me=M.scheme||z.scheme||"urn",ve=K[1].toLowerCase(),Oe=K[2],Me=me+":"+(M.nid||ve),et=b[Me];z.nid=ve,z.nss=Oe,z.path=void 0,et&&(z=et.parse(z,M))}else z.error=z.error||"URN can not be parsed.";return z},serialize:function(T,M){var K=M.scheme||T.scheme||"urn",z=T.nid,me=K+":"+(M.nid||z),ve=b[me];ve&&(T=ve.serialize(T,M));var Oe=T,Me=T.nss;return Oe.path=(z||M.nid)+":"+Me,Oe}},Ma=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,_s={scheme:"urn:uuid",parse:function(T,M){var K=T;return K.uuid=K.nss,K.nss=void 0,!M.tolerant&&(!K.uuid||!K.uuid.match(Ma))&&(K.error=K.error||"UUID is not valid."),K},serialize:function(T,M){var K=T;return K.nss=(T.uuid||"").toLowerCase(),K}};b[L.scheme]=L,b[J.scheme]=J,b[ue.scheme]=ue,b[ge.scheme]=ge,b[Ss.scheme]=Ss,b[ws.scheme]=ws,b[_s.scheme]=_s,r.SCHEMES=b,r.pctEncChar=w,r.pctDecChars=x,r.parse=Ue,r.removeDotSegments=ce,r.serialize=Te,r.resolveComponents=Z,r.resolve=ae,r.normalize=le,r.equal=N,r.escapeComponent=S,r.unescapeComponent=_,Object.defineProperty(r,"__esModule",{value:!0})})})(vh,vh.exports);var XQ=vh.exports;Object.defineProperty(wE,"__esModule",{value:!0});const c9=XQ;c9.code='require("ajv/dist/runtime/uri").default';wE.default=c9;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=jn;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=pt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=lc,u=pc,s=oo,o=Gr,a=pt,i=yr,c=cc,l=yt,p=KQ,f=wE,d=(Q,q)=>new RegExp(Q,q);d.code="new RegExp";const h=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),A={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function F(Q){var q,v,C,D,g,O,b,w,x,k,G,H,re,_e,Le,Ue,Ge,be,je,ke,Ie,ce,Te,Z,ae;const le=Q.strict,N=(q=Q.code)===null||q===void 0?void 0:q.optimize,S=N===!0||N===void 0?1:N||0,_=(C=(v=Q.code)===null||v===void 0?void 0:v.regExp)!==null&&C!==void 0?C:d,L=(D=Q.uriResolver)!==null&&D!==void 0?D:f.default;return{strictSchema:(O=(g=Q.strictSchema)!==null&&g!==void 0?g:le)!==null&&O!==void 0?O:!0,strictNumbers:(w=(b=Q.strictNumbers)!==null&&b!==void 0?b:le)!==null&&w!==void 0?w:!0,strictTypes:(k=(x=Q.strictTypes)!==null&&x!==void 0?x:le)!==null&&k!==void 0?k:"log",strictTuples:(H=(G=Q.strictTuples)!==null&&G!==void 0?G:le)!==null&&H!==void 0?H:"log",strictRequired:(_e=(re=Q.strictRequired)!==null&&re!==void 0?re:le)!==null&&_e!==void 0?_e:!1,code:Q.code?{...Q.code,optimize:S,regExp:_}:{optimize:S,regExp:_},loopRequired:(Le=Q.loopRequired)!==null&&Le!==void 0?Le:y,loopEnum:(Ue=Q.loopEnum)!==null&&Ue!==void 0?Ue:y,meta:(Ge=Q.meta)!==null&&Ge!==void 0?Ge:!0,messages:(be=Q.messages)!==null&&be!==void 0?be:!0,inlineRefs:(je=Q.inlineRefs)!==null&&je!==void 0?je:!0,schemaId:(ke=Q.schemaId)!==null&&ke!==void 0?ke:"$id",addUsedSchema:(Ie=Q.addUsedSchema)!==null&&Ie!==void 0?Ie:!0,validateSchema:(ce=Q.validateSchema)!==null&&ce!==void 0?ce:!0,validateFormats:(Te=Q.validateFormats)!==null&&Te!==void 0?Te:!0,unicodeRegExp:(Z=Q.unicodeRegExp)!==null&&Z!==void 0?Z:!0,int32range:(ae=Q.int32range)!==null&&ae!==void 0?ae:!0,uriResolver:L}}class B{constructor(q={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,q=this.opts={...q,...F(q)};const{es5:v,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:v,lines:C}),this.logger=Y(q.logger);const D=q.validateFormats;q.validateFormats=!1,this.RULES=(0,s.getRules)(),P.call(this,A,q,"NOT SUPPORTED"),P.call(this,m,q,"DEPRECATED","warn"),this._metaOpts=W.call(this),q.formats&&U.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),q.keywords&&j.call(this,q.keywords),typeof q.meta=="object"&&this.addMetaSchema(q.meta),I.call(this),q.validateFormats=D}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:q,meta:v,schemaId:C}=this.opts;let D=p;C==="id"&&(D={...p},D.id=D.$id,delete D.$id),v&&q&&this.addMetaSchema(D,D[C],!1)}defaultMeta(){const{meta:q,schemaId:v}=this.opts;return this.opts.defaultMeta=typeof q=="object"?q[v]||q:void 0}validate(q,v){let C;if(typeof q=="string"){if(C=this.getSchema(q),!C)throw new Error(`no schema with key or ref "${q}"`)}else C=this.compile(q);const D=C(v);return"$async"in C||(this.errors=C.errors),D}compile(q,v){const C=this._addSchema(q,v);return C.validate||this._compileSchemaEnv(C)}compileAsync(q,v){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return D.call(this,q,v);async function D(k,G){await g.call(this,k.$schema);const H=this._addSchema(k,G);return H.validate||O.call(this,H)}async function g(k){k&&!this.getSchema(k)&&await D.call(this,{$ref:k},!0)}async function O(k){try{return this._compileSchemaEnv(k)}catch(G){if(!(G instanceof u.default))throw G;return b.call(this,G),await w.call(this,G.missingSchema),O.call(this,k)}}function b({missingSchema:k,missingRef:G}){if(this.refs[k])throw new Error(`AnySchema ${k} is loaded but ${G} cannot be resolved`)}async function w(k){const G=await x.call(this,k);this.refs[k]||await g.call(this,G.$schema),this.refs[k]||this.addSchema(G,k,v)}async function x(k){const G=this._loading[k];if(G)return G;try{return await(this._loading[k]=C(k))}finally{delete this._loading[k]}}}addSchema(q,v,C,D=this.opts.validateSchema){if(Array.isArray(q)){for(const O of q)this.addSchema(O,void 0,C,D);return this}let g;if(typeof q=="object"){const{schemaId:O}=this.opts;if(g=q[O],g!==void 0&&typeof g!="string")throw new Error(`schema ${O} must be string`)}return v=(0,i.normalizeId)(v||g),this._checkUnique(v),this.schemas[v]=this._addSchema(q,C,v,D,!0),this}addMetaSchema(q,v,C=this.opts.validateSchema){return this.addSchema(q,v,!0,C),this}validateSchema(q,v){if(typeof q=="boolean")return!0;let C;if(C=q.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const D=this.validate(C,q);if(!D&&v){const g="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(g);else throw new Error(g)}return D}getSchema(q){let v;for(;typeof(v=$.call(this,q))=="string";)q=v;if(v===void 0){const{schemaId:C}=this.opts,D=new o.SchemaEnv({schema:{},schemaId:C});if(v=o.resolveSchema.call(this,D,q),!v)return;this.refs[q]=v}return v.validate||this._compileSchemaEnv(v)}removeSchema(q){if(q instanceof RegExp)return this._removeAllSchemas(this.schemas,q),this._removeAllSchemas(this.refs,q),this;switch(typeof q){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const v=$.call(this,q);return typeof v=="object"&&this._cache.delete(v.schema),delete this.schemas[q],delete this.refs[q],this}case"object":{const v=q;this._cache.delete(v);let C=q[this.opts.schemaId];return C&&(C=(0,i.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(q){for(const v of q)this.addKeyword(v);return this}addKeyword(q,v){let C;if(typeof q=="string")C=q,typeof v=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),v.keyword=C);else if(typeof q=="object"&&v===void 0){if(v=q,C=v.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ie.call(this,C,v),!v)return(0,l.eachItem)(C,g=>fe.call(this,g)),this;de.call(this,v);const D={...v,type:(0,c.getJSONTypes)(v.type),schemaType:(0,c.getJSONTypes)(v.schemaType)};return(0,l.eachItem)(C,D.type.length===0?g=>fe.call(this,g,D):g=>D.type.forEach(O=>fe.call(this,g,D,O))),this}getKeyword(q){const v=this.RULES.all[q];return typeof v=="object"?v.definition:!!v}removeKeyword(q){const{RULES:v}=this;delete v.keywords[q],delete v.all[q];for(const C of v.rules){const D=C.rules.findIndex(g=>g.keyword===q);D>=0&&C.rules.splice(D,1)}return this}addFormat(q,v){return typeof v=="string"&&(v=new RegExp(v)),this.formats[q]=v,this}errorsText(q=this.errors,{separator:v=", ",dataVar:C="data"}={}){return!q||q.length===0?"No errors":q.map(D=>`${C}${D.instancePath} ${D.message}`).reduce((D,g)=>D+v+g)}$dataMetaSchema(q,v){const C=this.RULES.all;q=JSON.parse(JSON.stringify(q));for(const D of v){const g=D.split("/").slice(1);let O=q;for(const b of g)O=O[b];for(const b in C){const w=C[b];if(typeof w!="object")continue;const{$data:x}=w.definition,k=O[b];x&&k&&(O[b]=pe(k))}}return q}_removeAllSchemas(q,v){for(const C in q){const D=q[C];(!v||v.test(C))&&(typeof D=="string"?delete q[C]:D&&!D.meta&&(this._cache.delete(D.schema),delete q[C]))}}_addSchema(q,v,C,D=this.opts.validateSchema,g=this.opts.addUsedSchema){let O;const{schemaId:b}=this.opts;if(typeof q=="object")O=q[b];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof q!="boolean")throw new Error("schema must be object or boolean")}let w=this._cache.get(q);if(w!==void 0)return w;C=(0,i.normalizeId)(O||C);const x=i.getSchemaRefs.call(this,q,C);return w=new o.SchemaEnv({schema:q,schemaId:b,meta:v,baseId:C,localRefs:x}),this._cache.set(w.schema,w),g&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=w),D&&this.validateSchema(q,!0),w}_checkUnique(q){if(this.schemas[q]||this.refs[q])throw new Error(`schema with key or id "${q}" already exists`)}_compileSchemaEnv(q){if(q.meta?this._compileMetaSchema(q):o.compileSchema.call(this,q),!q.validate)throw new Error("ajv implementation error");return q.validate}_compileMetaSchema(q){const v=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,q)}finally{this.opts=v}}}e.default=B,B.ValidationError=n.default,B.MissingRefError=u.default;function P(Q,q,v,C="error"){for(const D in Q){const g=D;g in q&&this.logger[C](`${v}: option ${D}. ${Q[g]}`)}}function $(Q){return Q=(0,i.normalizeId)(Q),this.schemas[Q]||this.refs[Q]}function I(){const Q=this.opts.schemas;if(Q)if(Array.isArray(Q))this.addSchema(Q);else for(const q in Q)this.addSchema(Q[q],q)}function U(){for(const Q in this.opts.formats){const q=this.opts.formats[Q];q&&this.addFormat(Q,q)}}function j(Q){if(Array.isArray(Q)){this.addVocabulary(Q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const q in Q){const v=Q[q];v.keyword||(v.keyword=q),this.addKeyword(v)}}function W(){const Q={...this.opts};for(const q of h)delete Q[q];return Q}const te={log(){},warn(){},error(){}};function Y(Q){if(Q===!1)return te;if(Q===void 0)return console;if(Q.log&&Q.warn&&Q.error)return Q;throw new Error("logger must implement log, warn and error methods")}const oe=/^[a-z_$][a-z0-9_$:-]*$/i;function ie(Q,q){const{RULES:v}=this;if((0,l.eachItem)(Q,C=>{if(v.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!oe.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!q&&q.$data&&!("code"in q||"validate"in q))throw new Error('$data keyword must have "code" or "validate" function')}function fe(Q,q,v){var C;const D=q==null?void 0:q.post;if(v&&D)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:g}=this;let O=D?g.post:g.rules.find(({type:w})=>w===v);if(O||(O={type:v,rules:[]},g.rules.push(O)),g.keywords[Q]=!0,!q)return;const b={keyword:Q,definition:{...q,type:(0,c.getJSONTypes)(q.type),schemaType:(0,c.getJSONTypes)(q.schemaType)}};q.before?De.call(this,O,b,q.before):O.rules.push(b),g.all[Q]=b,(C=q.implements)===null||C===void 0||C.forEach(w=>this.addKeyword(w))}function De(Q,q,v){const C=Q.rules.findIndex(D=>D.keyword===v);C>=0?Q.rules.splice(C,0,q):(Q.rules.push(q),this.logger.warn(`rule ${v} is not defined`))}function de(Q){let{metaSchema:q}=Q;q!==void 0&&(Q.$data&&this.opts.$data&&(q=pe(q)),Q.validateSchema=this.compile(q,!0))}const Ce={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function pe(Q){return{anyOf:[Q,Ce]}}})(R7);var _E={},BE={},TE={};Object.defineProperty(TE,"__esModule",{value:!0});const YQ={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};TE.default=YQ;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.callRef=ao.getValidate=void 0;const ZQ=pc,mg=it,xr=pt,Io=lu,Eg=Gr,tl=yt,QQ={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:u,schemaEnv:s,validateName:o,opts:a,self:i}=n,{root:c}=s;if((r==="#"||r==="#/")&&u===c.baseId)return p();const l=Eg.resolveRef.call(i,c,u,r);if(l===void 0)throw new ZQ.default(n.opts.uriResolver,u,r);if(l instanceof Eg.SchemaEnv)return f(l);return d(l);function p(){if(s===c)return Pl(e,o,s,s.$async);const h=t.scopeValue("root",{ref:c});return Pl(e,(0,xr._)`${h}.validate`,c,c.$async)}function f(h){const E=l9(e,h);Pl(e,E,h,h.$async)}function d(h){const E=t.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,xr.stringify)(h)}:{ref:h}),A=t.name("valid"),m=e.subschema({schema:h,dataTypes:[],schemaPath:xr.nil,topSchemaRef:E,errSchemaPath:r},A);e.mergeEvaluated(m),e.ok(A)}}};function l9(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,xr._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ao.getValidate=l9;function Pl(e,t,r,n){const{gen:u,it:s}=e,{allErrors:o,schemaEnv:a,opts:i}=s,c=i.passContext?Io.default.this:xr.nil;n?l():p();function l(){if(!a.$async)throw new Error("async schema referenced by sync schema");const h=u.let("valid");u.try(()=>{u.code((0,xr._)`await ${(0,mg.callValidateCode)(e,t,c)}`),d(t),o||u.assign(h,!0)},E=>{u.if((0,xr._)`!(${E} instanceof ${s.ValidationError})`,()=>u.throw(E)),f(E),o||u.assign(h,!1)}),e.ok(h)}function p(){e.result((0,mg.callValidateCode)(e,t,c),()=>d(t),()=>f(t))}function f(h){const E=(0,xr._)`${h}.errors`;u.assign(Io.default.vErrors,(0,xr._)`${Io.default.vErrors} === null ? ${E} : ${Io.default.vErrors}.concat(${E})`),u.assign(Io.default.errors,(0,xr._)`${Io.default.vErrors}.length`)}function d(h){var E;if(!s.opts.unevaluated)return;const A=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(s.props=tl.mergeEvaluated.props(u,A.props,s.props));else{const m=u.var("props",(0,xr._)`${h}.evaluated.props`);s.props=tl.mergeEvaluated.props(u,m,s.props,xr.Name)}if(s.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(s.items=tl.mergeEvaluated.items(u,A.items,s.items));else{const m=u.var("items",(0,xr._)`${h}.evaluated.items`);s.items=tl.mergeEvaluated.items(u,m,s.items,xr.Name)}}}ao.callRef=Pl;ao.default=QQ;Object.defineProperty(BE,"__esModule",{value:!0});const eee=TE,tee=ao,ree=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",eee.default,tee.default];BE.default=ree;var $E={},PE={};Object.defineProperty(PE,"__esModule",{value:!0});const mp=pt,Ju=mp.operators,Ep={maximum:{okStr:"<=",ok:Ju.LTE,fail:Ju.GT},minimum:{okStr:">=",ok:Ju.GTE,fail:Ju.LT},exclusiveMaximum:{okStr:"<",ok:Ju.LT,fail:Ju.GTE},exclusiveMinimum:{okStr:">",ok:Ju.GT,fail:Ju.LTE}},nee={message:({keyword:e,schemaCode:t})=>(0,mp.str)`must be ${Ep[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,mp._)`{comparison: ${Ep[e].okStr}, limit: ${t}}`},uee={keyword:Object.keys(Ep),type:"number",schemaType:"number",$data:!0,error:nee,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,mp._)`${r} ${Ep[t].fail} ${n} || isNaN(${r})`)}};PE.default=uee;var OE={};Object.defineProperty(OE,"__esModule",{value:!0});const Fi=pt,see={message:({schemaCode:e})=>(0,Fi.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Fi._)`{multipleOf: ${e}}`},oee={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:see,code(e){const{gen:t,data:r,schemaCode:n,it:u}=e,s=u.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Fi._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Fi._)`${o} !== parseInt(${o})`;e.fail$data((0,Fi._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};OE.default=oee;var kE={},IE={};Object.defineProperty(IE,"__esModule",{value:!0});function p9(e){const t=e.length;let r=0,n=0,u;for(;n<t;)r++,u=e.charCodeAt(n++),u>=55296&&u<=56319&&n<t&&(u=e.charCodeAt(n),(u&64512)===56320&&n++);return r}IE.default=p9;p9.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(kE,"__esModule",{value:!0});const Vs=pt,aee=yt,iee=IE,cee={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Vs.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Vs._)`{limit: ${e}}`},lee={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:cee,code(e){const{keyword:t,data:r,schemaCode:n,it:u}=e,s=t==="maxLength"?Vs.operators.GT:Vs.operators.LT,o=u.opts.unicode===!1?(0,Vs._)`${r}.length`:(0,Vs._)`${(0,aee.useFunc)(e.gen,iee.default)}(${r})`;e.fail$data((0,Vs._)`${o} ${s} ${n}`)}};kE.default=lee;var NE={};Object.defineProperty(NE,"__esModule",{value:!0});const pee=it,vp=pt,fee={message:({schemaCode:e})=>(0,vp.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,vp._)`{pattern: ${e}}`},dee={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:fee,code(e){const{data:t,$data:r,schema:n,schemaCode:u,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,vp._)`(new RegExp(${u}, ${o}))`:(0,pee.usePattern)(e,n);e.fail$data((0,vp._)`!${a}.test(${t})`)}};NE.default=dee;var qE={};Object.defineProperty(qE,"__esModule",{value:!0});const Ci=pt,Dee={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Ci.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ci._)`{limit: ${e}}`},hee={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Dee,code(e){const{keyword:t,data:r,schemaCode:n}=e,u=t==="maxProperties"?Ci.operators.GT:Ci.operators.LT;e.fail$data((0,Ci._)`Object.keys(${r}).length ${u} ${n}`)}};qE.default=hee;var xE={};Object.defineProperty(xE,"__esModule",{value:!0});const za=it,bi=pt,mee=yt,Eee={message:({params:{missingProperty:e}})=>(0,bi.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,bi._)`{missingProperty: ${e}}`},vee={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Eee,code(e){const{gen:t,schema:r,schemaCode:n,data:u,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;const i=r.length>=a.loopRequired;if(o.allErrors?c():l(),a.strictRequired){const d=e.parentSchema.properties,{definedProperties:h}=e.it;for(const E of r)if((d==null?void 0:d[E])===void 0&&!h.has(E)){const A=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${E}" is not defined at "${A}" (strictRequired)`;(0,mee.checkStrictMode)(o,m,o.opts.strictRequired)}}function c(){if(i||s)e.block$data(bi.nil,p);else for(const d of r)(0,za.checkReportMissingProp)(e,d)}function l(){const d=t.let("missing");if(i||s){const h=t.let("valid",!0);e.block$data(h,()=>f(d,h)),e.ok(h)}else t.if((0,za.checkMissingProp)(e,r,d)),(0,za.reportMissingProp)(e,d),t.else()}function p(){t.forOf("prop",n,d=>{e.setParams({missingProperty:d}),t.if((0,za.noPropertyInData)(t,u,d,a.ownProperties),()=>e.error())})}function f(d,h){e.setParams({missingProperty:d}),t.forOf(d,n,()=>{t.assign(h,(0,za.propertyInData)(t,u,d,a.ownProperties)),t.if((0,bi.not)(h),()=>{e.error(),t.break()})},bi.nil)}}};xE.default=vee;var RE={};Object.defineProperty(RE,"__esModule",{value:!0});const Si=pt,yee={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Si.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Si._)`{limit: ${e}}`},gee={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:yee,code(e){const{keyword:t,data:r,schemaCode:n}=e,u=t==="maxItems"?Si.operators.GT:Si.operators.LT;e.fail$data((0,Si._)`${r}.length ${u} ${n}`)}};RE.default=gee;var jE={},fc={};Object.defineProperty(fc,"__esModule",{value:!0});const f9=W7;f9.code='require("ajv/dist/runtime/equal").default';fc.default=f9;Object.defineProperty(jE,"__esModule",{value:!0});const Sd=cc,mr=pt,Aee=yt,Fee=fc,Cee={message:({params:{i:e,j:t}})=>(0,mr.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,mr._)`{i: ${e}, j: ${t}}`},bee={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Cee,code(e){const{gen:t,data:r,$data:n,schema:u,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!u)return;const i=t.let("valid"),c=s.items?(0,Sd.getSchemaTypes)(s.items):[];e.block$data(i,l,(0,mr._)`${o} === false`),e.ok(i);function l(){const h=t.let("i",(0,mr._)`${r}.length`),E=t.let("j");e.setParams({i:h,j:E}),t.assign(i,!0),t.if((0,mr._)`${h} > 1`,()=>(p()?f:d)(h,E))}function p(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function f(h,E){const A=t.name("item"),m=(0,Sd.checkDataTypes)(c,A,a.opts.strictNumbers,Sd.DataType.Wrong),y=t.const("indices",(0,mr._)`{}`);t.for((0,mr._)`;${h}--;`,()=>{t.let(A,(0,mr._)`${r}[${h}]`),t.if(m,(0,mr._)`continue`),c.length>1&&t.if((0,mr._)`typeof ${A} == "string"`,(0,mr._)`${A} += "_"`),t.if((0,mr._)`typeof ${y}[${A}] == "number"`,()=>{t.assign(E,(0,mr._)`${y}[${A}]`),e.error(),t.assign(i,!1).break()}).code((0,mr._)`${y}[${A}] = ${h}`)})}function d(h,E){const A=(0,Aee.useFunc)(t,Fee.default),m=t.name("outer");t.label(m).for((0,mr._)`;${h}--;`,()=>t.for((0,mr._)`${E} = ${h}; ${E}--;`,()=>t.if((0,mr._)`${A}(${r}[${h}], ${r}[${E}])`,()=>{e.error(),t.assign(i,!1).break(m)})))}}};jE.default=bee;var ME={};Object.defineProperty(ME,"__esModule",{value:!0});const yh=pt,See=yt,wee=fc,_ee={message:"must be equal to constant",params:({schemaCode:e})=>(0,yh._)`{allowedValue: ${e}}`},Bee={keyword:"const",$data:!0,error:_ee,code(e){const{gen:t,data:r,$data:n,schemaCode:u,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,yh._)`!${(0,See.useFunc)(t,wee.default)}(${r}, ${u})`):e.fail((0,yh._)`${s} !== ${r}`)}};ME.default=Bee;var LE={};Object.defineProperty(LE,"__esModule",{value:!0});const pi=pt,Tee=yt,$ee=fc,Pee={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,pi._)`{allowedValues: ${e}}`},Oee={keyword:"enum",schemaType:"array",$data:!0,error:Pee,code(e){const{gen:t,data:r,$data:n,schema:u,schemaCode:s,it:o}=e;if(!n&&u.length===0)throw new Error("enum must have non-empty array");const a=u.length>=o.opts.loopEnum;let i;const c=()=>i??(i=(0,Tee.useFunc)(t,$ee.default));let l;if(a||n)l=t.let("valid"),e.block$data(l,p);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const d=t.const("vSchema",s);l=(0,pi.or)(...u.map((h,E)=>f(d,E)))}e.pass(l);function p(){t.assign(l,!1),t.forOf("v",s,d=>t.if((0,pi._)`${c()}(${r}, ${d})`,()=>t.assign(l,!0).break()))}function f(d,h){const E=u[h];return typeof E=="object"&&E!==null?(0,pi._)`${c()}(${r}, ${d}[${h}])`:(0,pi._)`${r} === ${E}`}}};LE.default=Oee;Object.defineProperty($E,"__esModule",{value:!0});const kee=PE,Iee=OE,Nee=kE,qee=NE,xee=qE,Ree=xE,jee=RE,Mee=jE,Lee=ME,Uee=LE,Gee=[kee.default,Iee.default,Nee.default,qee.default,xee.default,Ree.default,jee.default,Mee.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Lee.default,Uee.default];$E.default=Gee;var UE={},$a={};Object.defineProperty($a,"__esModule",{value:!0});$a.validateAdditionalItems=void 0;const Hs=pt,gh=yt,Vee={message:({params:{len:e}})=>(0,Hs.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Hs._)`{limit: ${e}}`},Hee={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Vee,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,gh.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}d9(e,n)}};function d9(e,t){const{gen:r,schema:n,data:u,keyword:s,it:o}=e;o.items=!0;const a=r.const("len",(0,Hs._)`${u}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Hs._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,gh.alwaysValidSchema)(o,n)){const c=r.var("valid",(0,Hs._)`${a} <= ${t.length}`);r.if((0,Hs.not)(c),()=>i(c)),e.ok(c)}function i(c){r.forRange("i",t.length,a,l=>{e.subschema({keyword:s,dataProp:l,dataPropType:gh.Type.Num},c),o.allErrors||r.if((0,Hs.not)(c),()=>r.break())})}}$a.validateAdditionalItems=d9;$a.default=Hee;var GE={},Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.validateTuple=void 0;const vg=pt,Ol=yt,Wee=it,Jee={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return D9(e,"additionalItems",t);r.items=!0,!(0,Ol.alwaysValidSchema)(r,t)&&e.ok((0,Wee.validateArray)(e))}};function D9(e,t,r=e.schema){const{gen:n,parentSchema:u,data:s,keyword:o,it:a}=e;l(u),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Ol.mergeEvaluated.items(n,r.length,a.items));const i=n.name("valid"),c=n.const("len",(0,vg._)`${s}.length`);r.forEach((p,f)=>{(0,Ol.alwaysValidSchema)(a,p)||(n.if((0,vg._)`${c} > ${f}`,()=>e.subschema({keyword:o,schemaProp:f,dataProp:f},i)),e.ok(i))});function l(p){const{opts:f,errSchemaPath:d}=a,h=r.length,E=h===p.minItems&&(h===p.maxItems||p[t]===!1);if(f.strictTuples&&!E){const A=`"${o}" is ${h}-tuple, but minItems or maxItems/${t} are not specified or different at path "${d}"`;(0,Ol.checkStrictMode)(a,A,f.strictTuples)}}}Pa.validateTuple=D9;Pa.default=Jee;Object.defineProperty(GE,"__esModule",{value:!0});const zee=Pa,Kee={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,zee.validateTuple)(e,"items")};GE.default=Kee;var VE={};Object.defineProperty(VE,"__esModule",{value:!0});const yg=pt,Xee=yt,Yee=it,Zee=$a,Qee={message:({params:{len:e}})=>(0,yg.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,yg._)`{limit: ${e}}`},ete={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Qee,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:u}=r;n.items=!0,!(0,Xee.alwaysValidSchema)(n,t)&&(u?(0,Zee.validateAdditionalItems)(e,u):e.ok((0,Yee.validateArray)(e)))}};VE.default=ete;var HE={};Object.defineProperty(HE,"__esModule",{value:!0});const fn=pt,rl=yt,tte={message:({params:{min:e,max:t}})=>t===void 0?(0,fn.str)`must contain at least ${e} valid item(s)`:(0,fn.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,fn._)`{minContains: ${e}}`:(0,fn._)`{minContains: ${e}, maxContains: ${t}}`},rte={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:tte,code(e){const{gen:t,schema:r,parentSchema:n,data:u,it:s}=e;let o,a;const{minContains:i,maxContains:c}=n;s.opts.next?(o=i===void 0?1:i,a=c):o=1;const l=t.const("len",(0,fn._)`${u}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,rl.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,rl.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,rl.alwaysValidSchema)(s,r)){let E=(0,fn._)`${l} >= ${o}`;a!==void 0&&(E=(0,fn._)`${E} && ${l} <= ${a}`),e.pass(E);return}s.items=!0;const p=t.name("valid");a===void 0&&o===1?d(p,()=>t.if(p,()=>t.break())):o===0?(t.let(p,!0),a!==void 0&&t.if((0,fn._)`${u}.length > 0`,f)):(t.let(p,!1),f()),e.result(p,()=>e.reset());function f(){const E=t.name("_valid"),A=t.let("count",0);d(E,()=>t.if(E,()=>h(A)))}function d(E,A){t.forRange("i",0,l,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:rl.Type.Num,compositeRule:!0},E),A()})}function h(E){t.code((0,fn._)`${E}++`),a===void 0?t.if((0,fn._)`${E} >= ${o}`,()=>t.assign(p,!0).break()):(t.if((0,fn._)`${E} > ${a}`,()=>t.assign(p,!1).break()),o===1?t.assign(p,!0):t.if((0,fn._)`${E} >= ${o}`,()=>t.assign(p,!0)))}}};HE.default=rte;var h9={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=pt,r=yt,n=it;e.error={message:({params:{property:i,depsCount:c,deps:l}})=>{const p=c===1?"property":"properties";return(0,t.str)`must have ${p} ${l} when property ${i} is present`},params:({params:{property:i,depsCount:c,deps:l,missingProperty:p}})=>(0,t._)`{property: ${i},
    missingProperty: ${p},
    depsCount: ${c},
    deps: ${l}}`};const u={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(i){const[c,l]=s(i);o(i,c),a(i,l)}};function s({schema:i}){const c={},l={};for(const p in i){if(p==="__proto__")continue;const f=Array.isArray(i[p])?c:l;f[p]=i[p]}return[c,l]}function o(i,c=i.schema){const{gen:l,data:p,it:f}=i;if(Object.keys(c).length===0)return;const d=l.let("missing");for(const h in c){const E=c[h];if(E.length===0)continue;const A=(0,n.propertyInData)(l,p,h,f.opts.ownProperties);i.setParams({property:h,depsCount:E.length,deps:E.join(", ")}),f.allErrors?l.if(A,()=>{for(const m of E)(0,n.checkReportMissingProp)(i,m)}):(l.if((0,t._)`${A} && (${(0,n.checkMissingProp)(i,E,d)})`),(0,n.reportMissingProp)(i,d),l.else())}}e.validatePropertyDeps=o;function a(i,c=i.schema){const{gen:l,data:p,keyword:f,it:d}=i,h=l.name("valid");for(const E in c)(0,r.alwaysValidSchema)(d,c[E])||(l.if((0,n.propertyInData)(l,p,E,d.opts.ownProperties),()=>{const A=i.subschema({keyword:f,schemaProp:E},h);i.mergeValidEvaluated(A,h)},()=>l.var(h,!0)),i.ok(h))}e.validateSchemaDeps=a,e.default=u})(h9);var WE={};Object.defineProperty(WE,"__esModule",{value:!0});const m9=pt,nte=yt,ute={message:"property name must be valid",params:({params:e})=>(0,m9._)`{propertyName: ${e.propertyName}}`},ste={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:ute,code(e){const{gen:t,schema:r,data:n,it:u}=e;if((0,nte.alwaysValidSchema)(u,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,m9.not)(s),()=>{e.error(!0),u.allErrors||t.break()})}),e.ok(s)}};WE.default=ste;var nf={};Object.defineProperty(nf,"__esModule",{value:!0});const nl=it,$n=pt,ote=lu,ul=yt,ate={message:"must NOT have additional properties",params:({params:e})=>(0,$n._)`{additionalProperty: ${e.additionalProperty}}`},ite={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:ate,code(e){const{gen:t,schema:r,parentSchema:n,data:u,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:i}=o;if(o.props=!0,i.removeAdditional!=="all"&&(0,ul.alwaysValidSchema)(o,r))return;const c=(0,nl.allSchemaProperties)(n.properties),l=(0,nl.allSchemaProperties)(n.patternProperties);p(),e.ok((0,$n._)`${s} === ${ote.default.errors}`);function p(){t.forIn("key",u,A=>{!c.length&&!l.length?h(A):t.if(f(A),()=>h(A))})}function f(A){let m;if(c.length>8){const y=(0,ul.schemaRefOrVal)(o,n.properties,"properties");m=(0,nl.isOwnProperty)(t,y,A)}else c.length?m=(0,$n.or)(...c.map(y=>(0,$n._)`${A} === ${y}`)):m=$n.nil;return l.length&&(m=(0,$n.or)(m,...l.map(y=>(0,$n._)`${(0,nl.usePattern)(e,y)}.test(${A})`))),(0,$n.not)(m)}function d(A){t.code((0,$n._)`delete ${u}[${A}]`)}function h(A){if(i.removeAdditional==="all"||i.removeAdditional&&r===!1){d(A);return}if(r===!1){e.setParams({additionalProperty:A}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,ul.alwaysValidSchema)(o,r)){const m=t.name("valid");i.removeAdditional==="failing"?(E(A,m,!1),t.if((0,$n.not)(m),()=>{e.reset(),d(A)})):(E(A,m),a||t.if((0,$n.not)(m),()=>t.break()))}}function E(A,m,y){const F={keyword:"additionalProperties",dataProp:A,dataPropType:ul.Type.Str};y===!1&&Object.assign(F,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(F,m)}}};nf.default=ite;var JE={};Object.defineProperty(JE,"__esModule",{value:!0});const cte=jn,gg=it,wd=yt,Ag=nf,lte={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:u,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Ag.default.code(new cte.KeywordCxt(s,Ag.default,"additionalProperties"));const o=(0,gg.allSchemaProperties)(r);for(const p of o)s.definedProperties.add(p);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=wd.mergeEvaluated.props(t,(0,wd.toHash)(o),s.props));const a=o.filter(p=>!(0,wd.alwaysValidSchema)(s,r[p]));if(a.length===0)return;const i=t.name("valid");for(const p of a)c(p)?l(p):(t.if((0,gg.propertyInData)(t,u,p,s.opts.ownProperties)),l(p),s.allErrors||t.else().var(i,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(i);function c(p){return s.opts.useDefaults&&!s.compositeRule&&r[p].default!==void 0}function l(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},i)}}};JE.default=lte;var zE={};Object.defineProperty(zE,"__esModule",{value:!0});const Fg=it,sl=pt,Cg=yt,bg=yt,pte={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:u,it:s}=e,{opts:o}=s,a=(0,Fg.allSchemaProperties)(r),i=a.filter(E=>(0,Cg.alwaysValidSchema)(s,r[E]));if(a.length===0||i.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const c=o.strictSchema&&!o.allowMatchingProperties&&u.properties,l=t.name("valid");s.props!==!0&&!(s.props instanceof sl.Name)&&(s.props=(0,bg.evaluatedPropsToName)(t,s.props));const{props:p}=s;f();function f(){for(const E of a)c&&d(E),s.allErrors?h(E):(t.var(l,!0),h(E),t.if(l))}function d(E){for(const A in c)new RegExp(E).test(A)&&(0,Cg.checkStrictMode)(s,`property ${A} matches pattern ${E} (use allowMatchingProperties)`)}function h(E){t.forIn("key",n,A=>{t.if((0,sl._)`${(0,Fg.usePattern)(e,E)}.test(${A})`,()=>{const m=i.includes(E);m||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:A,dataPropType:bg.Type.Str},l),s.opts.unevaluated&&p!==!0?t.assign((0,sl._)`${p}[${A}]`,!0):!m&&!s.allErrors&&t.if((0,sl.not)(l),()=>t.break())})})}}};zE.default=pte;var KE={};Object.defineProperty(KE,"__esModule",{value:!0});const fte=yt,dte={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,fte.alwaysValidSchema)(n,r)){e.fail();return}const u=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),e.failResult(u,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};KE.default=dte;var XE={};Object.defineProperty(XE,"__esModule",{value:!0});const Dte=it,hte={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Dte.validateUnion,error:{message:"must match a schema in anyOf"}};XE.default=hte;var YE={};Object.defineProperty(YE,"__esModule",{value:!0});const kl=pt,mte=yt,Ete={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,kl._)`{passingSchemas: ${e.passing}}`},vte={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ete,code(e){const{gen:t,schema:r,parentSchema:n,it:u}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(u.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),a=t.let("passing",null),i=t.name("_valid");e.setParams({passing:a}),t.block(c),e.result(o,()=>e.reset(),()=>e.error(!0));function c(){s.forEach((l,p)=>{let f;(0,mte.alwaysValidSchema)(u,l)?t.var(i,!0):f=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},i),p>0&&t.if((0,kl._)`${i} && ${o}`).assign(o,!1).assign(a,(0,kl._)`[${a}, ${p}]`).else(),t.if(i,()=>{t.assign(o,!0),t.assign(a,p),f&&e.mergeEvaluated(f,kl.Name)})})}}};YE.default=vte;var ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});const yte=yt,gte={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const u=t.name("valid");r.forEach((s,o)=>{if((0,yte.alwaysValidSchema)(n,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},u);e.ok(u),e.mergeEvaluated(a)})}};ZE.default=gte;var QE={};Object.defineProperty(QE,"__esModule",{value:!0});const yp=pt,E9=yt,Ate={message:({params:e})=>(0,yp.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,yp._)`{failingKeyword: ${e.ifClause}}`},Fte={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Ate,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,E9.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const u=Sg(n,"then"),s=Sg(n,"else");if(!u&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(i(),e.reset(),u&&s){const l=t.let("ifClause");e.setParams({ifClause:l}),t.if(a,c("then",l),c("else",l))}else u?t.if(a,c("then")):t.if((0,yp.not)(a),c("else"));e.pass(o,()=>e.error(!0));function i(){const l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(l)}function c(l,p){return()=>{const f=e.subschema({keyword:l},a);t.assign(o,a),e.mergeValidEvaluated(f,o),p?t.assign(p,(0,yp._)`${l}`):e.setParams({ifClause:l})}}}};function Sg(e,t){const r=e.schema[t];return r!==void 0&&!(0,E9.alwaysValidSchema)(e,r)}QE.default=Fte;var e3={};Object.defineProperty(e3,"__esModule",{value:!0});const Cte=yt,bte={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Cte.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};e3.default=bte;Object.defineProperty(UE,"__esModule",{value:!0});const Ste=$a,wte=GE,_te=Pa,Bte=VE,Tte=HE,$te=h9,Pte=WE,Ote=nf,kte=JE,Ite=zE,Nte=KE,qte=XE,xte=YE,Rte=ZE,jte=QE,Mte=e3;function Lte(e=!1){const t=[Nte.default,qte.default,xte.default,Rte.default,jte.default,Mte.default,Pte.default,Ote.default,$te.default,kte.default,Ite.default];return e?t.push(wte.default,Bte.default):t.push(Ste.default,_te.default),t.push(Tte.default),t}UE.default=Lte;var t3={},r3={};Object.defineProperty(r3,"__esModule",{value:!0});const zt=pt,Ute={message:({schemaCode:e})=>(0,zt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,zt._)`{format: ${e}}`},Gte={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ute,code(e,t){const{gen:r,data:n,$data:u,schema:s,schemaCode:o,it:a}=e,{opts:i,errSchemaPath:c,schemaEnv:l,self:p}=a;if(!i.validateFormats)return;u?f():d();function f(){const h=r.scopeValue("formats",{ref:p.formats,code:i.code.formats}),E=r.const("fDef",(0,zt._)`${h}[${o}]`),A=r.let("fType"),m=r.let("format");r.if((0,zt._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(A,(0,zt._)`${E}.type || "string"`).assign(m,(0,zt._)`${E}.validate`),()=>r.assign(A,(0,zt._)`"string"`).assign(m,E)),e.fail$data((0,zt.or)(y(),F()));function y(){return i.strictSchema===!1?zt.nil:(0,zt._)`${o} && !${m}`}function F(){const B=l.$async?(0,zt._)`(${E}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,zt._)`${m}(${n})`,P=(0,zt._)`(typeof ${m} == "function" ? ${B} : ${m}.test(${n}))`;return(0,zt._)`${m} && ${m} !== true && ${A} === ${t} && !${P}`}}function d(){const h=p.formats[s];if(!h){y();return}if(h===!0)return;const[E,A,m]=F(h);E===t&&e.pass(B());function y(){if(i.strictSchema===!1){p.logger.warn(P());return}throw new Error(P());function P(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function F(P){const $=P instanceof RegExp?(0,zt.regexpCode)(P):i.code.formats?(0,zt._)`${i.code.formats}${(0,zt.getProperty)(s)}`:void 0,I=r.scopeValue("formats",{key:s,ref:P,code:$});return typeof P=="object"&&!(P instanceof RegExp)?[P.type||"string",P.validate,(0,zt._)`${I}.validate`]:["string",P,I]}function B(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!l.$async)throw new Error("async format in sync schema");return(0,zt._)`await ${m}(${n})`}return typeof A=="function"?(0,zt._)`${m}(${n})`:(0,zt._)`${m}.test(${n})`}}}};r3.default=Gte;Object.defineProperty(t3,"__esModule",{value:!0});const Vte=r3,Hte=[Vte.default];t3.default=Hte;var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.contentVocabulary=Aa.metadataVocabulary=void 0;Aa.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Aa.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(_E,"__esModule",{value:!0});const Wte=BE,Jte=$E,zte=UE,Kte=t3,wg=Aa,Xte=[Wte.default,Jte.default,(0,zte.default)(),Kte.default,wg.metadataVocabulary,wg.contentVocabulary];_E.default=Xte;var n3={},v9={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(v9);Object.defineProperty(n3,"__esModule",{value:!0});const Ko=pt,Ah=v9,_g=Gr,Yte=yt,Zte={message:({params:{discrError:e,tagName:t}})=>e===Ah.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ko._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Qte={keyword:"discriminator",type:"object",schemaType:"object",error:Zte,code(e){const{gen:t,data:r,schema:n,parentSchema:u,it:s}=e,{oneOf:o}=u;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const i=t.let("valid",!1),c=t.const("tag",(0,Ko._)`${r}${(0,Ko.getProperty)(a)}`);t.if((0,Ko._)`typeof ${c} == "string"`,()=>l(),()=>e.error(!1,{discrError:Ah.DiscrError.Tag,tag:c,tagName:a})),e.ok(i);function l(){const d=f();t.if(!1);for(const h in d)t.elseIf((0,Ko._)`${c} === ${h}`),t.assign(i,p(d[h]));t.else(),e.error(!1,{discrError:Ah.DiscrError.Mapping,tag:c,tagName:a}),t.endIf()}function p(d){const h=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:d},h);return e.mergeEvaluated(E,Ko.Name),h}function f(){var d;const h={},E=m(u);let A=!0;for(let B=0;B<o.length;B++){let P=o[B];P!=null&&P.$ref&&!(0,Yte.schemaHasRulesButRef)(P,s.self.RULES)&&(P=_g.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,P==null?void 0:P.$ref),P instanceof _g.SchemaEnv&&(P=P.schema));const $=(d=P==null?void 0:P.properties)===null||d===void 0?void 0:d[a];if(typeof $!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);A=A&&(E||m(P)),y($,B)}if(!A)throw new Error(`discriminator: "${a}" must be required`);return h;function m({required:B}){return Array.isArray(B)&&B.includes(a)}function y(B,P){if(B.const)F(B.const,P);else if(B.enum)for(const $ of B.enum)F($,P);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function F(B,P){if(typeof B!="string"||B in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[B]=P}}}};n3.default=Qte;const ere="http://json-schema.org/draft-07/schema#",tre="http://json-schema.org/draft-07/schema#",rre="Core schema meta-schema",nre={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ure=["object","boolean"],sre={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ore={$schema:ere,$id:tre,title:rre,definitions:nre,type:ure,properties:sre,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=R7,n=_E,u=n3,s=ore,o=["/properties"],a="http://json-schema.org/draft-07/schema";class i extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(u.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(h,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var c=jn;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=pt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var p=lc;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var f=pc;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(hh,hh.exports);var are=hh.exports;const ire="Root",cre="object",lre="Root Element",pre={base64String:{type:"string",pattern:"^[A-Za-z0-9/+=]*$"},tagString:{type:"string",pattern:"^[a-z][a-z0-9]*(:.+)?$"}},fre={id:{type:"string"},metadata:{type:"object",properties:{selectors:{type:"object",additionalProperties:{type:"string"}}},required:["selectors"],additionalProperties:!1},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},enums:{type:"object",properties:{ids:{$ref:"#/definitions/base64String"},wordLike:{$ref:"#/definitions/base64String"},notWordLike:{$ref:"#/definitions/base64String"},scopeBits:{$ref:"#/definitions/base64String"},graftTypes:{$ref:"#/definitions/base64String"}},required:["ids","wordLike","notWordLike","scopeBits","graftTypes"],additionalProperties:!1},docs:{type:"object",propertyNames:{type:"string"},additionalProperties:{type:"object",properties:{sequences:{type:"object",additionalProperties:{type:"object",properties:{type:{type:"string"},blocks:{type:"array",items:{type:"object",properties:{bs:{type:"string"},bg:{type:"string"},c:{type:"string"},is:{type:"string"},os:{type:"string"},nt:{type:"string"}},required:["bs","bg","c","is","os","nt"],additionalProperties:!1}},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},chapters:{type:"object",additionalProperties:{type:"string"}},chapterVerses:{type:"object",additionalProperties:{type:"string"}},tokensPresent:{type:"string"}},required:["blocks","tags"],additionalProperties:!1}},headers:{type:"object",additionalProperties:{type:"string"}},mainId:{type:"string"},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}}},required:["sequences","headers","mainId","tags"],additionalProperties:!1}},additionalProperties:!1},dre=["id","enums","docs","tags"],Dre=!1,hre={title:ire,type:cre,description:lre,definitions:pre,properties:fre,required:dre,additionalProperties:Dre},mre="version 0.1.0",Ere="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/document_structure.json",vre="Document (Structure)",yre="A document, typically corresponding to a single USFM or USX book",gre="object",Are={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},Fre=["schema","metadata"],Cre=!1,bre={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},Sre={$comment:mre,$id:Ere,title:vre,description:yre,type:gre,properties:Are,required:Fre,additionalProperties:Cre,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:bre,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},wre="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/sequence_structure.json",_re="Sequence (Structure)",Bre="A sequence contains a 'flow' of one or more blocks",Tre="object",$re={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}}},Pre=["type"],Ore=!1,kre={$id:wre,title:_re,description:Bre,type:Tre,properties:$re,required:Pre,additionalProperties:Ore},Ire="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/block_structure.json",Nre="Block (Structure)",qre="A block, which represents either a paragraph of text or a graft",xre="object",Rre={type:{type:"string",description:"The type of block",enum:["paragraph","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},jre=["type"],Mre=!1,Lre={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},Ure={$id:Ire,title:Nre,description:qre,type:xre,properties:Rre,required:jre,additionalProperties:Mre,if:{properties:{type:{enum:["paragraph"]}}},then:Lre,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},Gre="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/contentElement_structure.json",Vre="Content Element (Structure)",Hre="A content element, ie some form of (possibly nested) markup",Wre="object",Jre={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},zre=["type"],Kre=!1,Xre={$id:Gre,title:Vre,description:Hre,type:Wre,properties:Jre,required:zre,additionalProperties:Kre},Yre="version 0.2.0",Zre="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_document_constraint.json",Qre="object",ene={sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},tne={$comment:Yre,$id:Zre,type:Qre,properties:ene},rne="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_sequence_constraint.json",nne="object",une={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},sne={$id:rne,type:nne,properties:une},one="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_block_constraint.json",ane="object",ine={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},cne={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},lne={$id:one,type:ane,properties:ine,if:{properties:{type:{enum:["graft"]}}},then:cne,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},pne="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_contentElement_constraint.json",fne="object",dne=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],Dne={$id:pne,type:fne,allOf:dne},hne="version 0.2.0",mne="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_document_constraint.json",Ene="object",vne={sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sofria_sequence_constraint.json"}}},yne={$comment:hne,$id:mne,type:Ene,properties:vne},gne="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_sequence_constraint.json",Ane="object",Fne={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},Cne={$id:gne,type:Ane,properties:Fne},bne="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_block_constraint.json",Sne="object",wne={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},_ne={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},Bne={$id:bne,type:Sne,properties:wne,if:{properties:{type:{enum:["graft"]}}},then:_ne,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},Tne="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_contentElement_constraint.json",$ne="object",Pne=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["block"]},{required:["preview_text"]}]}},else:{required:["block"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],One={$id:Tne,type:$ne,allOf:Pne},kne="version 0.1.0",Ine="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/document_structure.json",Nne="Document (Structure)",qne="A document, typically corresponding to a single USFM or USX book",xne="object",Rne={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},hooks:{type:"array",$ref:"./hook_structure.json"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},jne=["schema","metadata"],Mne=!1,Lne={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},Une={$comment:kne,$id:Ine,title:Nne,description:qne,type:xne,properties:Rne,required:jne,additionalProperties:Mne,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:Lne,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},Gne="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/sequence_structure.json",Vne="Sequence (Structure)",Hne="A sequence contains a 'flow' of one or more blocks",Wne="object",Jne={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}},hooks:{type:"array",$ref:"./hook_structure.json"}},zne=["type"],Kne=!1,Xne={$id:Gne,title:Vne,description:Hne,type:Wne,properties:Jne,required:zne,additionalProperties:Kne},Yne="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/block_structure.json",Zne="Block (Structure)",Qne="A block, which represents either a paragraph of text or a graft",eue="object",tue={type:{type:"string",description:"The type of block",enum:["paragraph","row","node","lookup","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},rue=["type"],nue=!1,uue={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},sue={$id:Yne,title:Zne,description:Qne,type:eue,properties:tue,required:rue,additionalProperties:nue,if:{properties:{type:{enum:["paragraph","row","node","lookup"]}}},then:uue,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},oue="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/contentElement_structure.json",aue="Content Element (Structure)",iue="A content element, ie some form of (possibly nested) markup",cue="object",lue={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},pue=["type"],fue=!1,due={$id:oue,title:aue,description:iue,type:cue,properties:lue,required:pue,additionalProperties:fue},Due="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/hook_structure.json",hue="Hook (Structure)",mue="Hooks, ie typed labels that may be used to link documents",Eue="array",vue={type:"array",items:[{type:"string",oneOf:[{enum:["bcv_ref","book_ref"]},{pattern:"^x-(app|publisher)-[a-z][a-z0-9]+-\\S{2,256}$"},{pattern:"^x-local-\\S{2,256}$"}]},{type:"string",oneOf:[{enum:["label"]},{pattern:"^\\w{1,255}$"}]}],minItems:2,maxItems:2},yue={$id:Due,title:hue,description:mue,type:Eue,items:vue},gue="version 0.3.0",Aue="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_document_constraint.json",Fue="object",Cue={hooks:{type:"array"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},bue={$comment:gue,$id:Aue,type:Fue,properties:Cue},Sue="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_sequence_constraint.json",wue="object",_ue={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},Bue={$id:Sue,type:wue,properties:_ue},Tue="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_block_constraint.json",$ue="object",Pue={type:{type:"string",enum:["paragraph","graft","row","node","lookup"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},Oue={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},kue={$id:Tue,type:$ue,properties:Pue,if:{properties:{type:{enum:["graft"]}}},then:Oue,else:{if:{properties:{type:{enum:["row"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["row:heading","row:body"]}]}}},else:{if:{properties:{type:{enum:["node"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["node"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{id:{type:"string"},parent:{type:"string"},children:{type:"array",items:{type:"string"}}},required:["id"],additionalProperties:!1}}},else:{if:{properties:{type:{enum:["lookup"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["lookup"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{primary:{type:"string"},secondary:{type:"array",items:{type:"string"}}},required:["primary"],additionalProperties:!1}}},else:{properties:{subtype:{type:"string",oneOf:[{pattern:"^usfm:"},{pattern:"^x-\\S{1,256}$"}]}}}}}}},Iue="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_contentElement_constraint.json",Nue="object",que=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],xue={$id:Iue,type:Nue,allOf:que},Rue="version 0.3.0",jue="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_document_constraint.json",Mue="object",Lue={sequence:{$ref:"./sofria_sequence_constraint.json"}},Uue={$comment:Rue,$id:jue,type:Mue,properties:Lue},Gue="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_sequence_constraint.json",Vue="object",Hue={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},Wue={$id:Gue,type:Vue,properties:Hue},Jue="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_block_constraint.json",zue="object",Kue={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},Xue={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},Yue={$id:Jue,type:zue,properties:Kue,if:{properties:{type:{enum:["graft"]}}},then:Xue,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},Zue="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_contentElement_constraint.json",Que="object",ese=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["blocks"]},{required:["preview_text"]}]}},else:{required:["sequence"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],tse={$id:Zue,type:Que,allOf:ese},rse="version 0.1.0",nse="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_4_0/document_structure.json",use="Document (Structure)",sse="A document, typically corresponding to a single USFM or USX book",ose="object",ase={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},hooks:{type:"array",$ref:"./hook_structure.json"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},ise=["schema","metadata"],cse=!1,lse={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},pse={$comment:rse,$id:nse,title:use,description:sse,type:ose,properties:ase,required:ise,additionalProperties:cse,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:lse,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},fse="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_4_0/sequence_structure.json",dse="Sequence (Structure)",Dse="A sequence contains a 'flow' of one or more blocks",hse="object",mse={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}},hooks:{type:"array",$ref:"./hook_structure.json"}},Ese=["type"],vse=!1,yse={$id:fse,title:dse,description:Dse,type:hse,properties:mse,required:Ese,additionalProperties:vse},gse="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_4_0/block_structure.json",Ase="Block (Structure)",Fse="A block, which represents either a paragraph of text or a graft",Cse="object",bse={type:{type:"string",description:"The type of block",enum:["paragraph","row","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},Sse=["type"],wse=!1,_se={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},Bse={$id:gse,title:Ase,description:Fse,type:Cse,properties:bse,required:Sse,additionalProperties:wse,if:{properties:{type:{enum:["paragraph","row"]}}},then:_se,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},Tse="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_4_0/contentElement_structure.json",$se="Content Element (Structure)",Pse="A content element, ie some form of (possibly nested) markup",Ose="object",kse={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"},{type:"number"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},Ise=["type"],Nse=!1,qse={$id:Tse,title:$se,description:Pse,type:Ose,properties:kse,required:Ise,additionalProperties:Nse},xse="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_4_0/hook_structure.json",Rse="Hook (Structure)",jse="Hooks, ie typed labels that may be used to link documents",Mse="array",Lse={type:"array",items:[{type:"string",oneOf:[{enum:["bcv_ref","book_ref"]},{pattern:"^x-(app|publisher)-[a-z][a-z0-9]+-\\S{2,256}$"},{pattern:"^x-local-\\S{2,256}$"}]},{type:"string",oneOf:[{enum:["label"]},{pattern:"^\\w{1,255}$"}]}],minItems:2,maxItems:2},Use={$id:xse,title:Rse,description:jse,type:Mse,items:Lse},Gse="version 0.3.0",Vse="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/perf_document_constraint.json",Hse="object",Wse={hooks:{type:"array"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},Jse={$comment:Gse,$id:Vse,type:Hse,properties:Wse},zse="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/perf_sequence_constraint.json",Kse="object",Xse={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},Yse={$id:zse,type:Kse,properties:Xse},Zse="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/perf_block_constraint.json",Qse="object",eoe={type:{type:"string",enum:["paragraph","graft","row","node","lookup"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},toe={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},roe={$id:Zse,type:Qse,properties:eoe,if:{properties:{type:{enum:["graft"]}}},then:toe,else:{if:{properties:{type:{enum:["row"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["row:heading","row:body"]}]}}},else:{if:{properties:{type:{enum:["node"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["node"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{id:{type:"string"},parent:{type:"string"},children:{type:"array",items:{type:"string"}}},required:["id"],additionalProperties:!1}}},else:{if:{properties:{type:{enum:["lookup"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["lookup"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{primary:{type:"string"},secondary:{type:"array",items:{type:"string"}}},required:["primary"],additionalProperties:!1}}},else:{properties:{subtype:{type:"string",oneOf:[{pattern:"^usfm:"},{pattern:"^x-\\S{1,256}$"}]}}}}}}},noe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/perf_contentElement_constraint.json",uoe="object",soe=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],ooe={$id:noe,type:uoe,allOf:soe},aoe="version 0.3.0",ioe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/sofria_document_constraint.json",coe="object",loe={sequence:{$ref:"./sofria_sequence_constraint.json"}},poe={$comment:aoe,$id:ioe,type:coe,properties:loe},foe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/sofria_sequence_constraint.json",doe="object",Doe={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},hoe={$id:foe,type:doe,properties:Doe},moe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/sofria_block_constraint.json",Eoe="object",voe={type:{type:"string",enum:["paragraph","graft","row"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},yoe={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},goe={$id:moe,type:Eoe,properties:voe,if:{properties:{type:{enum:["graft"]}}},then:yoe,else:{if:{properties:{type:{enum:["row"]}}},then:{properties:{subtype:{type:"string",enum:["usfm:tr","pk"]}}},else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}}},Aoe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_4_0/sofria_contentElement_constraint.json",Foe="object",Coe=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["blocks"]},{required:["preview_text"]}]}},else:{required:["sequence"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses","cell"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],boe={$id:Aoe,type:Foe,allOf:Coe};var gt=are,Soe=hre,_d=Sre,No=kre,qo=Ure,xo=Xre,woe=tne,Bg=sne,Tg=lne,$g=Dne,_oe=yne,Pg=Cne,Og=Bne,kg=One,Bd=Une,Ro=Xne,jo=sue,Mo=due,zn=yue,Boe=bue,Ig=Bue,Ng=kue,qg=xue,Toe=Uue,xg=Wue,Rg=Yue,jg=tse,Td=pse,Lo=yse,Uo=Bse,Go=qse,Kn=Use,$oe=Jse,Mg=Yse,Lg=roe,Ug=ooe,Poe=poe,Gg=hoe,Vg=goe,Hg=boe;let Ooe=class{constructor(){this.schema={structure:{},constraint:{},proskomma:{}};for(var[t,r]of[["succinct",{"0.2.0":[{name:"Proskomma Serialized Succinct",validator:new gt().compile(Soe)}]}]])this.schema.proskomma[t]=r;for(var[n,u]of[["document",{"0.2.1":[{name:"Document Structure",validator:new gt().addSchema(xo).addSchema(qo).addSchema(No).compile(_d)}],"0.3.0":[{name:"Document Structure",validator:new gt().addSchema(zn).addSchema(Mo).addSchema(jo).addSchema(Ro).compile(Bd)}],"0.4.0":[{name:"Document Structure",validator:new gt().addSchema(Kn).addSchema(Go).addSchema(Uo).addSchema(Lo).compile(Td)}]}],["sequence",{"0.2.1":[{name:"Sequence Structure",validator:new gt().addSchema(xo).addSchema(qo).compile(No)}],"0.3.0":[{name:"Sequence Structure",validator:new gt().addSchema(zn).addSchema(Mo).addSchema(jo).compile(Ro)}],"0.4.0":[{name:"Sequence Structure",validator:new gt().addSchema(Kn).addSchema(Go).addSchema(Uo).compile(Lo)}]}]])this.schema.structure[n]=u;for(var[s,o]of[["perfDocument",{"0.2.1":[{name:"Document Structure",validator:new gt().addSchema(xo).addSchema(qo).addSchema(No).compile(_d)},{name:"PERF Document",validator:new gt().addSchema($g).addSchema(Tg).addSchema(Bg).compile(woe)}],"0.3.0":[{name:"Document Structure",validator:new gt().addSchema(zn).addSchema(Mo).addSchema(jo).addSchema(Ro).compile(Bd)},{name:"PERF Document",validator:new gt().addSchema(zn).addSchema(qg).addSchema(Ng).addSchema(Ig).compile(Boe)}],"0.4.0":[{name:"Document Structure",validator:new gt().addSchema(Kn).addSchema(Go).addSchema(Uo).addSchema(Lo).compile(Td)},{name:"PERF Document",validator:new gt().addSchema(Kn).addSchema(Ug).addSchema(Lg).addSchema(Mg).compile($oe)}]}],["perfSequence",{"0.2.1":[{name:"Sequence Structure",validator:new gt().addSchema(xo).addSchema(qo).compile(No)},{name:"PERF Sequence",validator:new gt().addSchema($g).addSchema(Tg).compile(Bg)}],"0.3.0":[{name:"Sequence Structure",validator:new gt().addSchema(zn).addSchema(Mo).addSchema(jo).compile(Ro)},{name:"PERF Sequence",validator:new gt().addSchema(zn).addSchema(qg).addSchema(Ng).compile(Ig)}],"0.4.0":[{name:"Sequence Structure",validator:new gt().addSchema(Kn).addSchema(Go).addSchema(Uo).compile(Lo)},{name:"PERF Sequence",validator:new gt().addSchema(Kn).addSchema(Ug).addSchema(Lg).compile(Mg)}]}],["sofriaDocument",{"0.2.1":[{name:"Document Structure",validator:new gt().addSchema(xo).addSchema(qo).addSchema(No).compile(_d)},{name:"SOFRIA Document",validator:new gt().addSchema(kg).addSchema(Og).addSchema(Pg).compile(_oe)}],"0.3.0":[{name:"Document Structure",validator:new gt().addSchema(zn).addSchema(Mo).addSchema(jo).addSchema(Ro).compile(Bd)},{name:"SOFRIA Document",validator:new gt().addSchema(zn).addSchema(jg).addSchema(Rg).addSchema(xg).compile(Toe)}],"0.4.0":[{name:"Document Structure",validator:new gt().addSchema(Kn).addSchema(Go).addSchema(Uo).addSchema(Lo).compile(Td)},{name:"SOFRIA Document",validator:new gt().addSchema(Kn).addSchema(Hg).addSchema(Vg).addSchema(Gg).compile(Poe)}]}],["sofriaSequence",{"0.2.1":[{name:"Sequence Structure",validator:new gt().addSchema(xo).addSchema(qo).compile(No)},{name:"SOFRIA Sequence",validator:new gt().addSchema(kg).addSchema(Og).compile(Pg)}],"0.3.0":[{name:"Sequence Structure",validator:new gt().addSchema(zn).addSchema(Mo).addSchema(jo).compile(Ro)},{name:"SOFRIA Sequence",validator:new gt().addSchema(zn).addSchema(jg).addSchema(Rg).compile(xg)}],"0.4.0":[{name:"Sequence Structure",validator:new gt().addSchema(Kn).addSchema(Go).addSchema(Uo).compile(Lo)},{name:"SOFRIA Sequence",validator:new gt().addSchema(Kn).addSchema(Hg).addSchema(Vg).compile(Gg)}]}]])this.schema.constraint[s]=o}schemaInfo(){var t={};for(var[r,n]of Object.entries(this.schema)){t[r]={};for(var[u,s]of Object.entries(n)){t[r][u]={};for(var[o,a]of Object.entries(s))t[r][u][o]=a.map(i=>i.name)}}return t}validate(t,r,n,u){if(u===void 0)throw new Error("data argument is missing. Usage: validate(schemaType, schemaKey, schemaVersion, data)");if(u===null)throw new Error("Data argument is null");var s=Object.keys(this.schema);if(!s.includes(t))throw new Error("Schema type must be one of ".concat(s.map(l=>"'".concat(l,"'")).join(", "),", not '").concat(t,"'"));if(!this.schema[t][r])throw new Error("Unknown ".concat(t," schema key ").concat(r));if(!this.schema[t][r][n])throw new Error("Unknown version ".concat(n," for ").concat(t," schema key ").concat(r));var o=this.schema[t][r][n],a;for(var{name:i,validator:c}of o)if(a={validatorName:i,isValid:c(u),errors:c.errors},!a.isValid)break;return{requested:{schemaType:t,schemaKey:r,schemaVersion:n},lastSchema:a.validatorName,isValid:a.isValid,errors:a.errors}}};var koe=Ooe,Ioe=["qs","qac","litl","lik","liv","fr","fq","fqa","fk","fl","fw","fp","fv","ft","fdc","fm","xo","xk","xq","xt","xta","xop","xot","xnt","xdc","rq","add","bk","dc","k","nd","ord","pn","png","qt","sig","sls","tl","wj","em","bd","it","bdit","no","sc","sup","ior","iqt","th","thr","tc","tcr"],Noe=["ms","mr","s","sr","r","qa","sp","sd"],qoe=["cd","p","m","po","pr","cls","pmo","pm","pmc","pmr","pi","mi","nb","pc","ph","b","q","qr","qc","qa","qm","qd","lh","li","lf","lim","d"],xoe=["imt","is","imte"],Roe=["ip","ipi","im","imi","ipq","imq","ipr","iq","ib","ili","iot","io","iex"],joe={characterTags:Ioe,bodyTags:qoe,headingTags:Noe,introHeadingTags:xoe,introBodyTags:Roe},Fh={exports:{}},y9={exports:{}},$d,Wg;function Sr(){if(Wg)return $d;Wg=1;var e=function(t){return t&&t.Math===Math&&t};return $d=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof we=="object"&&we)||e(typeof we=="object"&&we)||function(){return this}()||Function("return this")(),$d}var tr=function(e){try{return!!e()}catch{return!0}},Pd,Jg;function uf(){if(Jg)return Pd;Jg=1;var e=tr;return Pd=!e(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Pd}var Moe=uf(),g9=Function.prototype,zg=g9.apply,Kg=g9.call,A9=typeof Reflect=="object"&&Reflect.apply||(Moe?Kg.bind(zg):function(){return Kg.apply(zg,arguments)}),Od,Xg;function Xt(){if(Xg)return Od;Xg=1;var e=uf(),t=Function.prototype,r=t.call,n=e&&t.bind.bind(r,r);return Od=e?n:function(u){return function(){return r.apply(u,arguments)}},Od}var kd,Yg;function po(){if(Yg)return kd;Yg=1;var e=Xt(),t=e({}.toString),r=e("".slice);return kd=function(n){return r(t(n),8,-1)},kd}var Loe=po(),Uoe=Xt(),u3=function(e){if(Loe(e)==="Function")return Uoe(e)},Id,Zg;function wr(){if(Zg)return Id;Zg=1;var e=typeof document=="object"&&document.all;return Id=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},Id}var s3={},Goe=tr,un=!Goe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Voe=uf(),ol=Function.prototype.call,Gn=Voe?ol.bind(ol):function(){return ol.apply(ol,arguments)},o3={},F9={}.propertyIsEnumerable,C9=Object.getOwnPropertyDescriptor,Hoe=C9&&!F9.call({1:2},1);o3.f=Hoe?function(t){var r=C9(this,t);return!!r&&r.enumerable}:F9;var dc=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},Nd,Qg;function a3(){if(Qg)return Nd;Qg=1;var e=Xt(),t=tr,r=po(),n=Object,u=e("".split);return Nd=t(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?u(s,""):n(s)}:n,Nd}var qd,eA;function i3(){return eA||(eA=1,qd=function(e){return e==null}),qd}var xd,tA;function Dc(){if(tA)return xd;tA=1;var e=i3(),t=TypeError;return xd=function(r){if(e(r))throw new t("Can't call method on "+r);return r},xd}var Rd,rA;function Ds(){if(rA)return Rd;rA=1;var e=a3(),t=Dc();return Rd=function(r){return e(t(r))},Rd}var jd,nA;function Vn(){if(nA)return jd;nA=1;var e=wr();return jd=function(t){return typeof t=="object"?t!==null:e(t)},jd}var pu={},Md,uA;function Iu(){if(uA)return Md;uA=1;var e=pu,t=Sr(),r=wr(),n=function(u){return r(u)?u:void 0};return Md=function(u,s){return arguments.length<2?n(e[u])||n(t[u]):e[u]&&e[u][s]||t[u]&&t[u][s]},Md}var Ld,sA;function mn(){if(sA)return Ld;sA=1;var e=Xt();return Ld=e({}.isPrototypeOf),Ld}var Ud,oA;function sf(){return oA||(oA=1,Ud=typeof navigator<"u"&&String(navigator.userAgent)||""),Ud}var Gd,aA;function hc(){if(aA)return Gd;aA=1;var e=Sr(),t=sf(),r=e.process,n=e.Deno,u=r&&r.versions||n&&n.version,s=u&&u.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&t&&(o=t.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=t.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),Gd=a,Gd}var Vd,iA;function Oa(){if(iA)return Vd;iA=1;var e=hc(),t=tr,r=Sr(),n=r.String;return Vd=!!Object.getOwnPropertySymbols&&!t(function(){var u=Symbol("symbol detection");return!n(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&e&&e<41}),Vd}var Hd,cA;function b9(){if(cA)return Hd;cA=1;var e=Oa();return Hd=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Hd}var Woe=Iu(),Joe=wr(),zoe=mn(),Koe=b9(),Xoe=Object,mc=Koe?function(e){return typeof e=="symbol"}:function(e){var t=Woe("Symbol");return Joe(t)&&zoe(t.prototype,Xoe(e))},Wd,lA;function of(){if(lA)return Wd;lA=1;var e=String;return Wd=function(t){try{return e(t)}catch{return"Object"}},Wd}var Yoe=wr(),Zoe=of(),Qoe=TypeError,ka=function(e){if(Yoe(e))return e;throw new Qoe(Zoe(e)+" is not a function")},eae=ka,tae=i3(),c3=function(e,t){var r=e[t];return tae(r)?void 0:eae(r)},Jd=Gn,zd=wr(),Kd=Vn(),rae=TypeError,nae=function(e,t){var r,n;if(t==="string"&&zd(r=e.toString)&&!Kd(n=Jd(r,e))||zd(r=e.valueOf)&&!Kd(n=Jd(r,e))||t!=="string"&&zd(r=e.toString)&&!Kd(n=Jd(r,e)))return n;throw new rae("Can't convert object to primitive value")},S9={exports:{}},Xd,pA;function Ec(){return pA||(pA=1,Xd=!0),Xd}var fA=Sr(),uae=Object.defineProperty,sae=function(e,t){try{uae(fA,e,{value:t,configurable:!0,writable:!0})}catch{fA[e]=t}return t},oae=Ec(),aae=Sr(),iae=sae,dA="__core-js_shared__",DA=S9.exports=aae[dA]||iae(dA,{});(DA.versions||(DA.versions=[])).push({version:"3.36.1",mode:oae?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"});var l3=S9.exports,Yd,hA;function Ia(){if(hA)return Yd;hA=1;var e=l3;return Yd=function(t,r){return e[t]||(e[t]=r||{})},Yd}var Zd,mA;function Nu(){if(mA)return Zd;mA=1;var e=Dc(),t=Object;return Zd=function(r){return t(e(r))},Zd}var Qd,EA;function Jr(){if(EA)return Qd;EA=1;var e=Xt(),t=Nu(),r=e({}.hasOwnProperty);return Qd=Object.hasOwn||function(u,s){return r(t(u),s)},Qd}var e1,vA;function p3(){if(vA)return e1;vA=1;var e=Xt(),t=0,r=Math.random(),n=e(1 .toString);return e1=function(u){return"Symbol("+(u===void 0?"":u)+")_"+n(++t+r,36)},e1}var t1,yA;function pr(){if(yA)return t1;yA=1;var e=Sr(),t=Ia(),r=Jr(),n=p3(),u=Oa(),s=b9(),o=e.Symbol,a=t("wks"),i=s?o.for||o:o&&o.withoutSetter||n;return t1=function(c){return r(a,c)||(a[c]=u&&r(o,c)?o[c]:i("Symbol."+c)),a[c]},t1}var cae=Gn,gA=Vn(),AA=mc,lae=c3,pae=nae,fae=pr(),dae=TypeError,Dae=fae("toPrimitive"),hae=function(e,t){if(!gA(e)||AA(e))return e;var r=lae(e,Dae),n;if(r){if(t===void 0&&(t="default"),n=cae(r,e,t),!gA(n)||AA(n))return n;throw new dae("Can't convert object to primitive value")}return t===void 0&&(t="number"),pae(e,t)},mae=hae,Eae=mc,f3=function(e){var t=mae(e,"string");return Eae(t)?t:t+""},vae=Sr(),FA=Vn(),Ch=vae.document,yae=FA(Ch)&&FA(Ch.createElement),w9=function(e){return yae?Ch.createElement(e):{}},gae=un,Aae=tr,Fae=w9,_9=!gae&&!Aae(function(){return Object.defineProperty(Fae("div"),"a",{get:function(){return 7}}).a!==7}),Cae=un,bae=Gn,Sae=o3,wae=dc,_ae=Ds(),Bae=f3,Tae=Jr(),$ae=_9,CA=Object.getOwnPropertyDescriptor;s3.f=Cae?CA:function(t,r){if(t=_ae(t),r=Bae(r),$ae)try{return CA(t,r)}catch{}if(Tae(t,r))return wae(!bae(Sae.f,t,r),t[r])};var Pae=tr,Oae=wr(),kae=/#|\.prototype\./,vc=function(e,t){var r=Nae[Iae(e)];return r===xae?!0:r===qae?!1:Oae(t)?Pae(t):!!t},Iae=vc.normalize=function(e){return String(e).replace(kae,".").toLowerCase()},Nae=vc.data={},qae=vc.NATIVE="N",xae=vc.POLYFILL="P",Rae=vc,bA=u3,jae=ka,Mae=uf(),Lae=bA(bA.bind),d3=function(e,t){return jae(e),t===void 0?e:Mae?Lae(e,t):function(){return e.apply(t,arguments)}},Hn={},Uae=un,Gae=tr,B9=Uae&&Gae(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Vae=Vn(),Hae=String,Wae=TypeError,hs=function(e){if(Vae(e))return e;throw new Wae(Hae(e)+" is not an object")},Jae=un,zae=_9,Kae=B9,al=hs,SA=f3,Xae=TypeError,r1=Object.defineProperty,Yae=Object.getOwnPropertyDescriptor,n1="enumerable",u1="configurable",s1="writable";Hn.f=Jae?Kae?function(t,r,n){if(al(t),r=SA(r),al(n),typeof t=="function"&&r==="prototype"&&"value"in n&&s1 in n&&!n[s1]){var u=Yae(t,r);u&&u[s1]&&(t[r]=n.value,n={configurable:u1 in n?n[u1]:u[u1],enumerable:n1 in n?n[n1]:u[n1],writable:!1})}return r1(t,r,n)}:r1:function(t,r,n){if(al(t),r=SA(r),al(n),zae)try{return r1(t,r,n)}catch{}if("get"in n||"set"in n)throw new Xae("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var Zae=un,Qae=Hn,eie=dc,yc=Zae?function(e,t,r){return Qae.f(e,t,eie(1,r))}:function(e,t,r){return e[t]=r,e},Ka=Sr(),tie=A9,rie=u3,nie=wr(),uie=s3.f,sie=Rae,Vo=pu,oie=d3,Ho=yc,wA=Jr(),aie=function(e){var t=function(r,n,u){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,u)}return tie(e,this,arguments)};return t.prototype=e.prototype,t},Mt=function(e,t){var r=e.target,n=e.global,u=e.stat,s=e.proto,o=n?Ka:u?Ka[r]:Ka[r]&&Ka[r].prototype,a=n?Vo:Vo[r]||Ho(Vo,r,{})[r],i=a.prototype,c,l,p,f,d,h,E,A,m;for(f in t)c=sie(n?f:r+(u?".":"#")+f,e.forced),l=!c&&o&&wA(o,f),h=a[f],l&&(e.dontCallGetSet?(m=uie(o,f),E=m&&m.value):E=o[f]),d=l&&E?E:t[f],!(!c&&!s&&typeof h==typeof d)&&(e.bind&&l?A=oie(d,Ka):e.wrap&&l?A=aie(d):s&&nie(d)?A=rie(d):A=d,(e.sham||d&&d.sham||h&&h.sham)&&Ho(A,"sham",!0),Ho(a,f,A),s&&(p=r+"Prototype",wA(Vo,p)||Ho(Vo,p,{}),Ho(Vo[p],f,d),e.real&&i&&(c||!i[f])&&Ho(i,f,d)))},iie=Mt,cie=un,_A=Hn.f;iie({target:"Object",stat:!0,forced:Object.defineProperty!==_A,sham:!cie},{defineProperty:_A});var lie=pu,T9=lie.Object,pie=y9.exports=function(t,r,n){return T9.defineProperty(t,r,n)};T9.defineProperty.sham&&(pie.sham=!0);var fie=y9.exports,die=fie,Die=die,ms=Die,$9={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})($9);var Es=$9.exports,il={exports:{}},BA={},o1,TA;function Na(){if(TA)return o1;TA=1;var e=po();return o1=Array.isArray||function(r){return e(r)==="Array"},o1}var a1,$A;function D3(){if($A)return a1;$A=1;var e=pr(),t=e("toStringTag"),r={};return r[t]="z",a1=String(r)==="[object z]",a1}var i1,PA;function gc(){if(PA)return i1;PA=1;var e=D3(),t=wr(),r=po(),n=pr(),u=n("toStringTag"),s=Object,o=r(function(){return arguments}())==="Arguments",a=function(i,c){try{return i[c]}catch{}};return i1=e?r:function(i){var c,l,p;return i===void 0?"Undefined":i===null?"Null":typeof(l=a(c=s(i),u))=="string"?l:o?r(c):(p=r(c))==="Object"&&t(c.callee)?"Arguments":p},i1}var c1,OA;function hie(){if(OA)return c1;OA=1;var e=Xt(),t=wr(),r=l3,n=e(Function.toString);return t(r.inspectSource)||(r.inspectSource=function(u){return n(u)}),c1=r.inspectSource,c1}var l1,kA;function h3(){if(kA)return l1;kA=1;var e=Xt(),t=tr,r=wr(),n=gc(),u=Iu(),s=hie(),o=function(){},a=u("Reflect","construct"),i=/^\s*(?:class|function)\b/,c=e(i.exec),l=!i.test(o),p=function(h){if(!r(h))return!1;try{return a(o,[],h),!0}catch{return!1}},f=function(h){if(!r(h))return!1;switch(n(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return l||!!c(i,s(h))}catch{return!0}};return f.sham=!0,l1=!a||t(function(){var d;return p(p.call)||!p(Object)||!p(function(){d=!0})||d})?f:p,l1}var p1,IA;function mie(){if(IA)return p1;IA=1;var e=Math.ceil,t=Math.floor;return p1=Math.trunc||function(n){var u=+n;return(u>0?t:e)(u)},p1}var f1,NA;function m3(){if(NA)return f1;NA=1;var e=mie();return f1=function(t){var r=+t;return r!==r||r===0?0:e(r)},f1}var d1,qA;function P9(){if(qA)return d1;qA=1;var e=m3(),t=Math.max,r=Math.min;return d1=function(n,u){var s=e(n);return s<0?t(s+u,0):r(s,u)},d1}var D1,xA;function Eie(){if(xA)return D1;xA=1;var e=m3(),t=Math.min;return D1=function(r){var n=e(r);return n>0?t(n,9007199254740991):0},D1}var h1,RA;function vs(){if(RA)return h1;RA=1;var e=Eie();return h1=function(t){return e(t.length)},h1}var m1,jA;function E3(){if(jA)return m1;jA=1;var e=un,t=Hn,r=dc;return m1=function(n,u,s){e?t.f(n,u,r(0,s)):n[u]=s},m1}var E1,MA;function v3(){if(MA)return E1;MA=1;var e=tr,t=pr(),r=hc(),n=t("species");return E1=function(u){return r>=51||!e(function(){var s=[],o=s.constructor={};return o[n]=function(){return{foo:1}},s[u](Boolean).foo!==1})},E1}var v1,LA;function af(){if(LA)return v1;LA=1;var e=Xt();return v1=e([].slice),v1}var UA;function vie(){if(UA)return BA;UA=1;var e=Mt,t=Na(),r=h3(),n=Vn(),u=P9(),s=vs(),o=Ds(),a=E3(),i=pr(),c=v3(),l=af(),p=c("slice"),f=i("species"),d=Array,h=Math.max;return e({target:"Array",proto:!0,forced:!p},{slice:function(A,m){var y=o(this),F=s(y),B=u(A,F),P=u(m===void 0?F:m,F),$,I,U;if(t(y)&&($=y.constructor,r($)&&($===d||t($.prototype))?$=void 0:n($)&&($=$[f],$===null&&($=void 0)),$===d||$===void 0))return l(y,B,P);for(I=new($===void 0?d:$)(h(P-B,0)),U=0;B<P;B++,U++)B in y&&a(I,U,y[B]);return I.length=U,I}}),BA}var y1,GA;function ys(){if(GA)return y1;GA=1;var e=Sr(),t=pu;return y1=function(r,n){var u=t[r+"Prototype"],s=u&&u[n];if(s)return s;var o=e[r],a=o&&o.prototype;return a&&a[n]},y1}var g1,VA;function yie(){if(VA)return g1;VA=1,vie();var e=ys();return g1=e("Array","slice"),g1}var A1,HA;function gie(){if(HA)return A1;HA=1;var e=mn(),t=yie(),r=Array.prototype;return A1=function(n){var u=n.slice;return n===r||e(r,n)&&u===r.slice?t:u},A1}var F1,WA;function O9(){if(WA)return F1;WA=1;var e=gie();return F1=e,F1}var C1,JA;function gp(){return JA||(JA=1,C1=O9()),C1}var zA={},b1,KA;function gs(){if(KA)return b1;KA=1;var e=gc(),t=String;return b1=function(r){if(e(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return t(r)},b1}var S1,XA;function Aie(){if(XA)return S1;XA=1;var e=Xt(),t=m3(),r=gs(),n=Dc(),u=e("".charAt),s=e("".charCodeAt),o=e("".slice),a=function(i){return function(c,l){var p=r(n(c)),f=t(l),d=p.length,h,E;return f<0||f>=d?i?"":void 0:(h=s(p,f),h<55296||h>56319||f+1===d||(E=s(p,f+1))<56320||E>57343?i?u(p,f):h:i?o(p,f,f+2):(h-55296<<10)+(E-56320)+65536)}};return S1={codeAt:a(!1),charAt:a(!0)},S1}var w1,YA;function Fie(){if(YA)return w1;YA=1;var e=Sr(),t=wr(),r=e.WeakMap;return w1=t(r)&&/native code/.test(String(r)),w1}var _1,ZA;function cf(){if(ZA)return _1;ZA=1;var e=Ia(),t=p3(),r=e("keys");return _1=function(n){return r[n]||(r[n]=t(n))},_1}var B1,QA;function lf(){return QA||(QA=1,B1={}),B1}var T1,eF;function y3(){if(eF)return T1;eF=1;var e=Fie(),t=Sr(),r=Vn(),n=yc,u=Jr(),s=l3,o=cf(),a=lf(),i="Object already initialized",c=t.TypeError,l=t.WeakMap,p,f,d,h=function(y){return d(y)?f(y):p(y,{})},E=function(y){return function(F){var B;if(!r(F)||(B=f(F)).type!==y)throw new c("Incompatible receiver, "+y+" required");return B}};if(e||s.state){var A=s.state||(s.state=new l);A.get=A.get,A.has=A.has,A.set=A.set,p=function(y,F){if(A.has(y))throw new c(i);return F.facade=y,A.set(y,F),F},f=function(y){return A.get(y)||{}},d=function(y){return A.has(y)}}else{var m=o("state");a[m]=!0,p=function(y,F){if(u(y,m))throw new c(i);return F.facade=y,n(y,m,F),F},f=function(y){return u(y,m)?y[m]:{}},d=function(y){return u(y,m)}}return T1={set:p,get:f,has:d,enforce:h,getterFor:E},T1}var $1,tF;function Cie(){if(tF)return $1;tF=1;var e=un,t=Jr(),r=Function.prototype,n=e&&Object.getOwnPropertyDescriptor,u=t(r,"name"),s=u&&(function(){}).name==="something",o=u&&(!e||e&&n(r,"name").configurable);return $1={EXISTS:u,PROPER:s,CONFIGURABLE:o},$1}var P1={},O1,rF;function k9(){if(rF)return O1;rF=1;var e=Ds(),t=P9(),r=vs(),n=function(u){return function(s,o,a){var i=e(s),c=r(i);if(c===0)return!u&&-1;var l=t(a,c),p;if(u&&o!==o){for(;c>l;)if(p=i[l++],p!==p)return!0}else for(;c>l;l++)if((u||l in i)&&i[l]===o)return u||l||0;return!u&&-1}};return O1={includes:n(!0),indexOf:n(!1)},O1}var k1,nF;function I9(){if(nF)return k1;nF=1;var e=Xt(),t=Jr(),r=Ds(),n=k9().indexOf,u=lf(),s=e([].push);return k1=function(o,a){var i=r(o),c=0,l=[],p;for(p in i)!t(u,p)&&t(i,p)&&s(l,p);for(;a.length>c;)t(i,p=a[c++])&&(~n(l,p)||s(l,p));return l},k1}var I1,uF;function g3(){return uF||(uF=1,I1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),I1}var N1,sF;function N9(){if(sF)return N1;sF=1;var e=I9(),t=g3();return N1=Object.keys||function(n){return e(n,t)},N1}var oF;function q9(){if(oF)return P1;oF=1;var e=un,t=B9,r=Hn,n=hs,u=Ds(),s=N9();return P1.f=e&&!t?Object.defineProperties:function(a,i){n(a);for(var c=u(i),l=s(i),p=l.length,f=0,d;p>f;)r.f(a,d=l[f++],c[d]);return a},P1}var q1,aF;function bie(){if(aF)return q1;aF=1;var e=Iu();return q1=e("document","documentElement"),q1}var x1,iF;function pf(){if(iF)return x1;iF=1;var e=hs,t=q9(),r=g3(),n=lf(),u=bie(),s=w9,o=cf(),a=">",i="<",c="prototype",l="script",p=o("IE_PROTO"),f=function(){},d=function(y){return i+l+a+y+i+"/"+l+a},h=function(y){y.write(d("")),y.close();var F=y.parentWindow.Object;return y=null,F},E=function(){var y=s("iframe"),F="java"+l+":",B;return y.style.display="none",u.appendChild(y),y.src=String(F),B=y.contentWindow.document,B.open(),B.write(d("document.F=Object")),B.close(),B.F},A,m=function(){try{A=new ActiveXObject("htmlfile")}catch{}m=typeof document<"u"?document.domain&&A?h(A):E():h(A);for(var y=r.length;y--;)delete m[c][r[y]];return m()};return n[p]=!0,x1=Object.create||function(F,B){var P;return F!==null?(f[c]=e(F),P=new f,f[c]=null,P[p]=F):P=m(),B===void 0?P:t.f(P,B)},x1}var R1,cF;function Sie(){if(cF)return R1;cF=1;var e=tr;return R1=!e(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),R1}var j1,lF;function x9(){if(lF)return j1;lF=1;var e=Jr(),t=wr(),r=Nu(),n=cf(),u=Sie(),s=n("IE_PROTO"),o=Object,a=o.prototype;return j1=u?o.getPrototypeOf:function(i){var c=r(i);if(e(c,s))return c[s];var l=c.constructor;return t(l)&&c instanceof l?l.prototype:c instanceof o?a:null},j1}var M1,pF;function ff(){if(pF)return M1;pF=1;var e=yc;return M1=function(t,r,n,u){return u&&u.enumerable?t[r]=n:e(t,r,n),t},M1}var L1,fF;function R9(){if(fF)return L1;fF=1;var e=tr,t=wr(),r=Vn(),n=pf(),u=x9(),s=ff(),o=pr(),a=Ec(),i=o("iterator"),c=!1,l,p,f;[].keys&&(f=[].keys(),"next"in f?(p=u(u(f)),p!==Object.prototype&&(l=p)):c=!0);var d=!r(l)||e(function(){var h={};return l[i].call(h)!==h});return d?l={}:a&&(l=n(l)),t(l[i])||s(l,i,function(){return this}),L1={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:c},L1}var U1,dF;function wie(){if(dF)return U1;dF=1;var e=D3(),t=gc();return U1=e?{}.toString:function(){return"[object "+t(this)+"]"},U1}var G1,DF;function qa(){if(DF)return G1;DF=1;var e=D3(),t=Hn.f,r=yc,n=Jr(),u=wie(),s=pr(),o=s("toStringTag");return G1=function(a,i,c,l){var p=c?a:a&&a.prototype;p&&(n(p,o)||t(p,o,{configurable:!0,value:i}),l&&!e&&r(p,"toString",u))},G1}var V1,hF;function xa(){return hF||(hF=1,V1={}),V1}var H1,mF;function _ie(){if(mF)return H1;mF=1;var e=R9().IteratorPrototype,t=pf(),r=dc,n=qa(),u=xa(),s=function(){return this};return H1=function(o,a,i,c){var l=a+" Iterator";return o.prototype=t(e,{next:r(+!c,i)}),n(o,l,!1,!0),u[l]=s,o},H1}var W1,EF;function Bie(){if(EF)return W1;EF=1;var e=Xt(),t=ka;return W1=function(r,n,u){try{return e(t(Object.getOwnPropertyDescriptor(r,n)[u]))}catch{}},W1}var J1,vF;function Tie(){if(vF)return J1;vF=1;var e=Vn();return J1=function(t){return e(t)||t===null},J1}var z1,yF;function $ie(){if(yF)return z1;yF=1;var e=Tie(),t=String,r=TypeError;return z1=function(n){if(e(n))return n;throw new r("Can't set "+t(n)+" as a prototype")},z1}var K1,gF;function Pie(){if(gF)return K1;gF=1;var e=Bie(),t=Vn(),r=Dc(),n=$ie();return K1=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,s={},o;try{o=e(Object.prototype,"__proto__","set"),o(s,[]),u=s instanceof Array}catch{}return function(i,c){return r(i),n(c),t(i)&&(u?o(i,c):i.__proto__=c),i}}():void 0),K1}var X1,AF;function j9(){if(AF)return X1;AF=1;var e=Mt,t=Gn,r=Ec(),n=Cie(),u=wr(),s=_ie(),o=x9(),a=Pie(),i=qa(),c=yc,l=ff(),p=pr(),f=xa(),d=R9(),h=n.PROPER,E=n.CONFIGURABLE,A=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,y=p("iterator"),F="keys",B="values",P="entries",$=function(){return this};return X1=function(I,U,j,W,te,Y,oe){s(j,U,W);var ie=function(D){if(D===te&&pe)return pe;if(!m&&D&&D in de)return de[D];switch(D){case F:return function(){return new j(this,D)};case B:return function(){return new j(this,D)};case P:return function(){return new j(this,D)}}return function(){return new j(this)}},fe=U+" Iterator",De=!1,de=I.prototype,Ce=de[y]||de["@@iterator"]||te&&de[te],pe=!m&&Ce||ie(te),Q=U==="Array"&&de.entries||Ce,q,v,C;if(Q&&(q=o(Q.call(new I)),q!==Object.prototype&&q.next&&(!r&&o(q)!==A&&(a?a(q,A):u(q[y])||l(q,y,$)),i(q,fe,!0,!0),r&&(f[fe]=$))),h&&te===B&&Ce&&Ce.name!==B&&(!r&&E?c(de,"name",B):(De=!0,pe=function(){return t(Ce,this)})),te)if(v={values:ie(B),keys:Y?pe:ie(F),entries:ie(P)},oe)for(C in v)(m||De||!(C in de))&&l(de,C,v[C]);else e({target:U,proto:!0,forced:m||De},v);return(!r||oe)&&de[y]!==pe&&l(de,y,pe,{name:te}),f[U]=pe,v},X1}var Y1,FF;function M9(){return FF||(FF=1,Y1=function(e,t){return{value:e,done:t}}),Y1}var CF;function L9(){if(CF)return zA;CF=1;var e=Aie().charAt,t=gs(),r=y3(),n=j9(),u=M9(),s="String Iterator",o=r.set,a=r.getterFor(s);return n(String,"String",function(i){o(this,{type:s,string:t(i),index:0})},function(){var c=a(this),l=c.string,p=c.index,f;return p>=l.length?u(void 0,!0):(f=e(l,p),c.index+=f.length,u(f,!1))}),zA}var bF={},Z1,SF;function Oie(){if(SF)return Z1;SF=1;var e=Gn,t=hs,r=c3;return Z1=function(n,u,s){var o,a;t(n);try{if(o=r(n,"return"),!o){if(u==="throw")throw s;return s}o=e(o,n)}catch(i){a=!0,o=i}if(u==="throw")throw s;if(a)throw o;return t(o),s},Z1}var Q1,wF;function kie(){if(wF)return Q1;wF=1;var e=hs,t=Oie();return Q1=function(r,n,u,s){try{return s?n(e(u)[0],u[1]):n(u)}catch(o){t(r,"throw",o)}},Q1}var e0,_F;function Iie(){if(_F)return e0;_F=1;var e=pr(),t=xa(),r=e("iterator"),n=Array.prototype;return e0=function(u){return u!==void 0&&(t.Array===u||n[r]===u)},e0}var t0,BF;function A3(){if(BF)return t0;BF=1;var e=gc(),t=c3,r=i3(),n=xa(),u=pr(),s=u("iterator");return t0=function(o){if(!r(o))return t(o,s)||t(o,"@@iterator")||n[e(o)]},t0}var r0,TF;function Nie(){if(TF)return r0;TF=1;var e=Gn,t=ka,r=hs,n=of(),u=A3(),s=TypeError;return r0=function(o,a){var i=arguments.length<2?u(o):a;if(t(i))return r(e(i,o));throw new s(n(o)+" is not iterable")},r0}var n0,$F;function qie(){if($F)return n0;$F=1;var e=d3,t=Gn,r=Nu(),n=kie(),u=Iie(),s=h3(),o=vs(),a=E3(),i=Nie(),c=A3(),l=Array;return n0=function(f){var d=r(f),h=s(this),E=arguments.length,A=E>1?arguments[1]:void 0,m=A!==void 0;m&&(A=e(A,E>2?arguments[2]:void 0));var y=c(d),F=0,B,P,$,I,U,j;if(y&&!(this===l&&u(y)))for(P=h?new this:[],I=i(d,y),U=I.next;!($=t(U,I)).done;F++)j=m?n(I,A,[$.value,F],!0):$.value,a(P,F,j);else for(B=o(d),P=h?new this(B):l(B);B>F;F++)j=m?A(d[F],F):d[F],a(P,F,j);return P.length=F,P},n0}var u0,PF;function xie(){if(PF)return u0;PF=1;var e=pr(),t=e("iterator"),r=!1;try{var n=0,u={next:function(){return{done:!!n++}},return:function(){r=!0}};u[t]=function(){return this},Array.from(u,function(){throw 2})}catch{}return u0=function(s,o){try{if(!o&&!r)return!1}catch{return!1}var a=!1;try{var i={};i[t]=function(){return{next:function(){return{done:a=!0}}}},s(i)}catch{}return a},u0}var OF;function Rie(){if(OF)return bF;OF=1;var e=Mt,t=qie(),r=xie(),n=!r(function(u){Array.from(u)});return e({target:"Array",stat:!0,forced:n},{from:t}),bF}var s0,kF;function jie(){if(kF)return s0;kF=1,L9(),Rie();var e=pu;return s0=e.Array.from,s0}var o0,IF;function U9(){if(IF)return o0;IF=1;var e=jie();return o0=e,o0}var a0,NF;function G9(){return NF||(NF=1,a0=U9()),a0}var qF={},i0,xF;function V9(){if(xF)return i0;xF=1;var e=TypeError,t=9007199254740991;return i0=function(r){if(r>t)throw e("Maximum allowed index exceeded");return r},i0}var c0,RF;function Mie(){if(RF)return c0;RF=1;var e=Na(),t=h3(),r=Vn(),n=pr(),u=n("species"),s=Array;return c0=function(o){var a;return e(o)&&(a=o.constructor,t(a)&&(a===s||e(a.prototype))?a=void 0:r(a)&&(a=a[u],a===null&&(a=void 0))),a===void 0?s:a},c0}var l0,jF;function H9(){if(jF)return l0;jF=1;var e=Mie();return l0=function(t,r){return new(e(t))(r===0?0:r)},l0}var MF;function W9(){if(MF)return qF;MF=1;var e=Mt,t=tr,r=Na(),n=Vn(),u=Nu(),s=vs(),o=V9(),a=E3(),i=H9(),c=v3(),l=pr(),p=hc(),f=l("isConcatSpreadable"),d=p>=51||!t(function(){var A=[];return A[f]=!1,A.concat()[0]!==A}),h=function(A){if(!n(A))return!1;var m=A[f];return m!==void 0?!!m:r(A)},E=!d||!c("concat");return e({target:"Array",proto:!0,arity:1,forced:E},{concat:function(m){var y=u(this),F=i(y,0),B=0,P,$,I,U,j;for(P=-1,I=arguments.length;P<I;P++)if(j=P===-1?y:arguments[P],h(j))for(U=s(j),o(B+U),$=0;$<U;$++,B++)$ in j&&a(F,B,j[$]);else o(B+1),a(F,B++,j);return F.length=B,F}}),qF}var LF={},UF={},p0={},GF;function J9(){if(GF)return p0;GF=1;var e=I9(),t=g3(),r=t.concat("length","prototype");return p0.f=Object.getOwnPropertyNames||function(u){return e(u,r)},p0}var f0={},VF;function Lie(){if(VF)return f0;VF=1;var e=po(),t=Ds(),r=J9().f,n=af(),u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return r(o)}catch{return n(u)}};return f0.f=function(a){return u&&e(a)==="Window"?s(a):r(t(a))},f0}var d0={},HF;function z9(){return HF||(HF=1,d0.f=Object.getOwnPropertySymbols),d0}var D0,WF;function Uie(){if(WF)return D0;WF=1;var e=Hn;return D0=function(t,r,n){return e.f(t,r,n)},D0}var h0={},JF;function K9(){if(JF)return h0;JF=1;var e=pr();return h0.f=e,h0}var m0,zF;function Vt(){if(zF)return m0;zF=1;var e=pu,t=Jr(),r=K9(),n=Hn.f;return m0=function(u){var s=e.Symbol||(e.Symbol={});t(s,u)||n(s,u,{value:r.f(u)})},m0}var E0,KF;function X9(){if(KF)return E0;KF=1;var e=Gn,t=Iu(),r=pr(),n=ff();return E0=function(){var u=t("Symbol"),s=u&&u.prototype,o=s&&s.valueOf,a=r("toPrimitive");s&&!s[a]&&n(s,a,function(i){return e(o,this)},{arity:1})},E0}var v0,XF;function F3(){if(XF)return v0;XF=1;var e=d3,t=Xt(),r=a3(),n=Nu(),u=vs(),s=H9(),o=t([].push),a=function(i){var c=i===1,l=i===2,p=i===3,f=i===4,d=i===6,h=i===7,E=i===5||d;return function(A,m,y,F){for(var B=n(A),P=r(B),$=u(P),I=e(m,y),U=0,j=F||s,W=c?j(A,$):l||h?j(A,0):void 0,te,Y;$>U;U++)if((E||U in P)&&(te=P[U],Y=I(te,U,B),i))if(c)W[U]=Y;else if(Y)switch(i){case 3:return!0;case 5:return te;case 6:return U;case 2:o(W,te)}else switch(i){case 4:return!1;case 7:o(W,te)}return d?-1:p||f?f:W}};return v0={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},v0}var YF;function Gie(){if(YF)return UF;YF=1;var e=Mt,t=Sr(),r=Gn,n=Xt(),u=Ec(),s=un,o=Oa(),a=tr,i=Jr(),c=mn(),l=hs,p=Ds(),f=f3,d=gs(),h=dc,E=pf(),A=N9(),m=J9(),y=Lie(),F=z9(),B=s3,P=Hn,$=q9(),I=o3,U=ff(),j=Uie(),W=Ia(),te=cf(),Y=lf(),oe=p3(),ie=pr(),fe=K9(),De=Vt(),de=X9(),Ce=qa(),pe=y3(),Q=F3().forEach,q=te("hidden"),v="Symbol",C="prototype",D=pe.set,g=pe.getterFor(v),O=Object[C],b=t.Symbol,w=b&&b[C],x=t.RangeError,k=t.TypeError,G=t.QObject,H=B.f,re=P.f,_e=y.f,Le=I.f,Ue=n([].push),Ge=W("symbols"),be=W("op-symbols"),je=W("wks"),ke=!G||!G[C]||!G[C].findChild,Ie=function(J,ee,ue){var ge=H(O,ee);ge&&delete O[ee],re(J,ee,ue),ge&&J!==O&&re(O,ee,ge)},ce=s&&a(function(){return E(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a!==7})?Ie:re,Te=function(J,ee){var ue=Ge[J]=E(w);return D(ue,{type:v,tag:J,description:ee}),s||(ue.description=ee),ue},Z=function(ee,ue,ge){ee===O&&Z(be,ue,ge),l(ee);var Be=f(ue);return l(ge),i(Ge,Be)?(ge.enumerable?(i(ee,q)&&ee[q][Be]&&(ee[q][Be]=!1),ge=E(ge,{enumerable:h(0,!1)})):(i(ee,q)||re(ee,q,h(1,E(null))),ee[q][Be]=!0),ce(ee,Be,ge)):re(ee,Be,ge)},ae=function(ee,ue){l(ee);var ge=p(ue),Be=A(ge).concat(L(ge));return Q(Be,function(qe){(!s||r(N,ge,qe))&&Z(ee,qe,ge[qe])}),ee},le=function(ee,ue){return ue===void 0?E(ee):ae(E(ee),ue)},N=function(ee){var ue=f(ee),ge=r(Le,this,ue);return this===O&&i(Ge,ue)&&!i(be,ue)?!1:ge||!i(this,ue)||!i(Ge,ue)||i(this,q)&&this[q][ue]?ge:!0},S=function(ee,ue){var ge=p(ee),Be=f(ue);if(!(ge===O&&i(Ge,Be)&&!i(be,Be))){var qe=H(ge,Be);return qe&&i(Ge,Be)&&!(i(ge,q)&&ge[q][Be])&&(qe.enumerable=!0),qe}},_=function(ee){var ue=_e(p(ee)),ge=[];return Q(ue,function(Be){!i(Ge,Be)&&!i(Y,Be)&&Ue(ge,Be)}),ge},L=function(J){var ee=J===O,ue=_e(ee?be:p(J)),ge=[];return Q(ue,function(Be){i(Ge,Be)&&(!ee||i(O,Be))&&Ue(ge,Ge[Be])}),ge};return o||(b=function(){if(c(w,this))throw new k("Symbol is not a constructor");var ee=!arguments.length||arguments[0]===void 0?void 0:d(arguments[0]),ue=oe(ee),ge=function(Be){var qe=this===void 0?t:this;qe===O&&r(ge,be,Be),i(qe,q)&&i(qe[q],ue)&&(qe[q][ue]=!1);var Pe=h(1,Be);try{ce(qe,ue,Pe)}catch(rt){if(!(rt instanceof x))throw rt;Ie(qe,ue,Pe)}};return s&&ke&&ce(O,ue,{configurable:!0,set:ge}),Te(ue,ee)},w=b[C],U(w,"toString",function(){return g(this).tag}),U(b,"withoutSetter",function(J){return Te(oe(J),J)}),I.f=N,P.f=Z,$.f=ae,B.f=S,m.f=y.f=_,F.f=L,fe.f=function(J){return Te(ie(J),J)},s&&(j(w,"description",{configurable:!0,get:function(){return g(this).description}}),u||U(O,"propertyIsEnumerable",N,{unsafe:!0}))),e({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:b}),Q(A(je),function(J){De(J)}),e({target:v,stat:!0,forced:!o},{useSetter:function(){ke=!0},useSimple:function(){ke=!1}}),e({target:"Object",stat:!0,forced:!o,sham:!s},{create:le,defineProperty:Z,defineProperties:ae,getOwnPropertyDescriptor:S}),e({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:_}),de(),Ce(b,v),Y[q]=!0,UF}var ZF={},y0,QF;function Y9(){if(QF)return y0;QF=1;var e=Oa();return y0=e&&!!Symbol.for&&!!Symbol.keyFor,y0}var eC;function Vie(){if(eC)return ZF;eC=1;var e=Mt,t=Iu(),r=Jr(),n=gs(),u=Ia(),s=Y9(),o=u("string-to-symbol-registry"),a=u("symbol-to-string-registry");return e({target:"Symbol",stat:!0,forced:!s},{for:function(i){var c=n(i);if(r(o,c))return o[c];var l=t("Symbol")(c);return o[c]=l,a[l]=c,l}}),ZF}var tC={},rC;function Hie(){if(rC)return tC;rC=1;var e=Mt,t=Jr(),r=mc,n=of(),u=Ia(),s=Y9(),o=u("symbol-to-string-registry");return e({target:"Symbol",stat:!0,forced:!s},{keyFor:function(i){if(!r(i))throw new TypeError(n(i)+" is not a symbol");if(t(o,i))return o[i]}}),tC}var nC={},g0,uC;function Wie(){if(uC)return g0;uC=1;var e=Xt(),t=Na(),r=wr(),n=po(),u=gs(),s=e([].push);return g0=function(o){if(r(o))return o;if(t(o)){for(var a=o.length,i=[],c=0;c<a;c++){var l=o[c];typeof l=="string"?s(i,l):(typeof l=="number"||n(l)==="Number"||n(l)==="String")&&s(i,u(l))}var p=i.length,f=!0;return function(d,h){if(f)return f=!1,h;if(t(this))return h;for(var E=0;E<p;E++)if(i[E]===d)return h}}},g0}var sC;function Jie(){if(sC)return nC;sC=1;var e=Mt,t=Iu(),r=A9,n=Gn,u=Xt(),s=tr,o=wr(),a=mc,i=af(),c=Wie(),l=Oa(),p=String,f=t("JSON","stringify"),d=u(/./.exec),h=u("".charAt),E=u("".charCodeAt),A=u("".replace),m=u(1 .toString),y=/[\uD800-\uDFFF]/g,F=/^[\uD800-\uDBFF]$/,B=/^[\uDC00-\uDFFF]$/,P=!l||s(function(){var j=t("Symbol")("stringify detection");return f([j])!=="[null]"||f({a:j})!=="{}"||f(Object(j))!=="{}"}),$=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),I=function(j,W){var te=i(arguments),Y=c(W);if(!(!o(Y)&&(j===void 0||a(j))))return te[1]=function(oe,ie){if(o(Y)&&(ie=n(Y,this,p(oe),ie)),!a(ie))return ie},r(f,null,te)},U=function(j,W,te){var Y=h(te,W-1),oe=h(te,W+1);return d(F,j)&&!d(B,oe)||d(B,j)&&!d(F,Y)?"\\u"+m(E(j,0),16):j};return f&&e({target:"JSON",stat:!0,arity:3,forced:P||$},{stringify:function(W,te,Y){var oe=i(arguments),ie=r(P?I:f,null,oe);return $&&typeof ie=="string"?A(ie,y,U):ie}}),nC}var oC={},aC;function zie(){if(aC)return oC;aC=1;var e=Mt,t=Oa(),r=tr,n=z9(),u=Nu(),s=!t||r(function(){n.f(1)});return e({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var i=n.f;return i?i(u(a)):[]}}),oC}var iC;function Kie(){return iC||(iC=1,Gie(),Vie(),Hie(),Jie(),zie()),LF}var cC={},lC;function Xie(){if(lC)return cC;lC=1;var e=Vt();return e("asyncIterator"),cC}var pC={},fC;function Yie(){if(fC)return pC;fC=1;var e=Vt();return e("hasInstance"),pC}var dC={},DC;function Zie(){if(DC)return dC;DC=1;var e=Vt();return e("isConcatSpreadable"),dC}var hC={},mC;function Qie(){if(mC)return hC;mC=1;var e=Vt();return e("iterator"),hC}var EC={},vC;function ece(){if(vC)return EC;vC=1;var e=Vt();return e("match"),EC}var yC={},gC;function tce(){if(gC)return yC;gC=1;var e=Vt();return e("matchAll"),yC}var AC={},FC;function rce(){if(FC)return AC;FC=1;var e=Vt();return e("replace"),AC}var CC={},bC;function nce(){if(bC)return CC;bC=1;var e=Vt();return e("search"),CC}var SC={},wC;function uce(){if(wC)return SC;wC=1;var e=Vt();return e("species"),SC}var _C={},BC;function sce(){if(BC)return _C;BC=1;var e=Vt();return e("split"),_C}var TC={},$C;function oce(){if($C)return TC;$C=1;var e=Vt(),t=X9();return e("toPrimitive"),t(),TC}var PC={},OC;function ace(){if(OC)return PC;OC=1;var e=Iu(),t=Vt(),r=qa();return t("toStringTag"),r(e("Symbol"),"Symbol"),PC}var kC={},IC;function ice(){if(IC)return kC;IC=1;var e=Vt();return e("unscopables"),kC}var NC={},qC;function cce(){if(qC)return NC;qC=1;var e=Sr(),t=qa();return t(e.JSON,"JSON",!0),NC}var A0,xC;function lce(){if(xC)return A0;xC=1,W9(),Kie(),Xie(),Yie(),Zie(),Qie(),ece(),tce(),rce(),nce(),uce(),sce(),oce(),ace(),ice(),cce();var e=pu;return A0=e.Symbol,A0}var RC={},F0,jC;function pce(){return jC||(jC=1,F0=function(){}),F0}var C0,MC;function Z9(){if(MC)return C0;MC=1;var e=Ds(),t=pce(),r=xa(),n=y3(),u=Hn.f,s=j9(),o=M9(),a=Ec(),i=un,c="Array Iterator",l=n.set,p=n.getterFor(c);C0=s(Array,"Array",function(d,h){l(this,{type:c,target:e(d),index:0,kind:h})},function(){var d=p(this),h=d.target,E=d.index++;if(!h||E>=h.length)return d.target=void 0,o(void 0,!0);switch(d.kind){case"keys":return o(E,!1);case"values":return o(h[E],!1)}return o([E,h[E]],!1)},"values");var f=r.Arguments=r.Array;if(t("keys"),t("values"),t("entries"),!a&&i&&f.name!=="values")try{u(f,"name",{value:"values"})}catch{}return C0}var b0,LC;function fce(){return LC||(LC=1,b0={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),b0}var UC;function Q9(){if(UC)return RC;UC=1,Z9();var e=fce(),t=Sr(),r=qa(),n=xa();for(var u in e)r(t[u],u),n[u]=n.Array;return RC}var S0,GC;function ew(){if(GC)return S0;GC=1;var e=lce();return Q9(),S0=e,S0}var w0,VC;function tw(){return VC||(VC=1,w0=ew()),w0}var _0,HC;function dce(){if(HC)return _0;HC=1,Z9(),L9();var e=A3();return _0=e,_0}var B0,WC;function Dce(){if(WC)return B0;WC=1;var e=dce();return Q9(),B0=e,B0}var T0,JC;function hce(){if(JC)return T0;JC=1;var e=Dce();return T0=e,T0}var $0,zC;function mce(){if(zC)return $0;zC=1;var e=hce();return $0=e,$0}var P0,KC;function rw(){return KC||(KC=1,P0=mce()),P0}var O0,XC;function nw(){return XC||(XC=1,O0=rw()),O0}var YC={},ZC;function Ece(){if(ZC)return YC;ZC=1;var e=Mt,t=Na();return e({target:"Array",stat:!0},{isArray:t}),YC}var k0,QC;function vce(){if(QC)return k0;QC=1,Ece();var e=pu;return k0=e.Array.isArray,k0}var I0,eb;function uw(){if(eb)return I0;eb=1;var e=vce();return I0=e,I0}var N0,tb;function sw(){return tb||(tb=1,N0=uw()),N0}var q0={exports:{}},x0={exports:{}},R0,rb;function yce(){if(rb)return R0;rb=1;var e=uw();return R0=e,R0}var j0,nb;function gce(){if(nb)return j0;nb=1;var e=yce();return j0=e,j0}var M0,ub;function Ace(){return ub||(ub=1,M0=gce()),M0}var sb;function Fce(){return sb||(sb=1,function(e){var t=Ace();function r(n){if(t(n))return n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(x0)),x0.exports}var L0={exports:{}},ob={},ab;function Cce(){if(ab)return ob;ab=1;var e=pr(),t=Hn.f,r=e("metadata"),n=Function.prototype;return n[r]===void 0&&t(n,r,{value:null}),ob}var ib={},cb;function bce(){if(cb)return ib;cb=1;var e=Vt();return e("asyncDispose"),ib}var lb={},pb;function Sce(){if(pb)return lb;pb=1;var e=Vt();return e("dispose"),lb}var fb={},db;function wce(){if(db)return fb;db=1;var e=Vt();return e("metadata"),fb}var U0,Db;function _ce(){if(Db)return U0;Db=1;var e=ew();return Cce(),bce(),Sce(),wce(),U0=e,U0}var hb={},G0,mb;function ow(){if(mb)return G0;mb=1;var e=Iu(),t=Xt(),r=e("Symbol"),n=r.keyFor,u=t(r.prototype.valueOf);return G0=r.isRegisteredSymbol||function(o){try{return n(u(o))!==void 0}catch{return!1}},G0}var Eb;function Bce(){if(Eb)return hb;Eb=1;var e=Mt,t=ow();return e({target:"Symbol",stat:!0},{isRegisteredSymbol:t}),hb}var vb={},V0,yb;function aw(){if(yb)return V0;yb=1;for(var e=Ia(),t=Iu(),r=Xt(),n=mc,u=pr(),s=t("Symbol"),o=s.isWellKnownSymbol,a=t("Object","getOwnPropertyNames"),i=r(s.prototype.valueOf),c=e("wks"),l=0,p=a(s),f=p.length;l<f;l++)try{var d=p[l];n(s[d])&&u(d)}catch{}return V0=function(E){if(o&&o(E))return!0;try{for(var A=i(E),m=0,y=a(c),F=y.length;m<F;m++)if(c[y[m]]==A)return!0}catch{}return!1},V0}var gb;function Tce(){if(gb)return vb;gb=1;var e=Mt,t=aw();return e({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:t}),vb}var Ab={},Fb;function $ce(){if(Fb)return Ab;Fb=1;var e=Vt();return e("matcher"),Ab}var Cb={},bb;function Pce(){if(bb)return Cb;bb=1;var e=Vt();return e("observable"),Cb}var Sb={},wb;function Oce(){if(wb)return Sb;wb=1;var e=Mt,t=ow();return e({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:t}),Sb}var _b={},Bb;function kce(){if(Bb)return _b;Bb=1;var e=Mt,t=aw();return e({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:t}),_b}var Tb={},$b;function Ice(){if($b)return Tb;$b=1;var e=Vt();return e("metadataKey"),Tb}var Pb={},Ob;function Nce(){if(Ob)return Pb;Ob=1;var e=Vt();return e("patternMatch"),Pb}var kb={},Ib;function qce(){if(Ib)return kb;Ib=1;var e=Vt();return e("replaceAll"),kb}var H0,Nb;function xce(){if(Nb)return H0;Nb=1;var e=_ce();return Bce(),Tce(),$ce(),Pce(),Oce(),kce(),Ice(),Nce(),qce(),H0=e,H0}var W0,qb;function Rce(){return qb||(qb=1,W0=xce()),W0}var xb={},J0,Rb;function jce(){if(Rb)return J0;Rb=1;var e=un,t=Na(),r=TypeError,n=Object.getOwnPropertyDescriptor,u=e&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return J0=u?function(s,o){if(t(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},J0}var jb;function Mce(){if(jb)return xb;jb=1;var e=Mt,t=Nu(),r=vs(),n=jce(),u=V9(),s=tr,o=s(function(){return[].push.call({length:4294967296},1)!==4294967297}),a=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(c){return c instanceof TypeError}},i=o||!a();return e({target:"Array",proto:!0,arity:1,forced:i},{push:function(l){var p=t(this),f=r(p),d=arguments.length;u(f+d);for(var h=0;h<d;h++)p[f]=arguments[h],f++;return n(p,f),f}}),xb}var z0,Mb;function Lce(){if(Mb)return z0;Mb=1,Mce();var e=ys();return z0=e("Array","push"),z0}var K0,Lb;function Uce(){if(Lb)return K0;Lb=1;var e=mn(),t=Lce(),r=Array.prototype;return K0=function(n){var u=n.push;return n===r||e(r,n)&&u===r.push?t:u},K0}var X0,Ub;function Gce(){if(Ub)return X0;Ub=1;var e=Uce();return X0=e,X0}var Y0,Gb;function Vce(){if(Gb)return Y0;Gb=1;var e=Gce();return Y0=e,Y0}var Z0,Vb;function Hce(){if(Vb)return Z0;Vb=1;var e=Vce();return Z0=e,Z0}var Q0,Hb;function Wce(){return Hb||(Hb=1,Q0=Hce()),Q0}var Wb;function Jce(){return Wb||(Wb=1,function(e){var t=Rce(),r=rw(),n=Wce();function u(s,o){var a=s==null?null:typeof t<"u"&&r(s)||s["@@iterator"];if(a!=null){var i,c,l,p,f=[],d=!0,h=!1;try{if(l=(a=a.call(s)).next,o===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=l.call(a)).done)&&(n(f).call(f,i.value),f.length!==o);d=!0);}catch(E){h=!0,c=E}finally{try{if(!d&&a.return!=null&&(p=a.return(),Object(p)!==p))return}finally{if(h)throw c}}return f}}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports}(L0)),L0.exports}var eD={exports:{}},tD,Jb;function zce(){if(Jb)return tD;Jb=1;var e=O9();return tD=e,tD}var rD,zb;function Kce(){if(zb)return rD;zb=1;var e=zce();return rD=e,rD}var nD,Kb;function Xce(){return Kb||(Kb=1,nD=Kce()),nD}var uD,Xb;function Yce(){if(Xb)return uD;Xb=1;var e=U9();return uD=e,uD}var sD,Yb;function Zce(){if(Yb)return sD;Yb=1;var e=Yce();return sD=e,sD}var oD,Zb;function Qce(){return Zb||(Zb=1,oD=Zce()),oD}var aD={exports:{}},Qb;function ele(){return Qb||(Qb=1,function(e){function t(r,n){(n==null||n>r.length)&&(n=r.length);for(var u=0,s=new Array(n);u<n;u++)s[u]=r[u];return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(aD)),aD.exports}var e4;function tle(){return e4||(e4=1,function(e){var t=Xce(),r=Qce(),n=ele();function u(s,o){var a;if(s){if(typeof s=="string")return n(s,o);var i=t(a=Object.prototype.toString.call(s)).call(a,8,-1);if(i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set")return r(s);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(s,o)}}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports}(eD)),eD.exports}var iD={exports:{}},t4;function rle(){return t4||(t4=1,function(e){function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(iD)),iD.exports}var r4;function iw(){return r4||(r4=1,function(e){var t=Fce(),r=Jce(),n=tle(),u=rle();function s(o,a){return t(o)||r(o,a)||n(o,a)||u()}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}(q0)),q0.exports}var cD,n4;function nle(){if(n4)return cD;n4=1;var e=hs;return cD=function(){var t=e(this),r="";return t.hasIndices&&(r+="d"),t.global&&(r+="g"),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),t.dotAll&&(r+="s"),t.unicode&&(r+="u"),t.unicodeSets&&(r+="v"),t.sticky&&(r+="y"),r},cD}var lD,u4;function ule(){if(u4)return lD;u4=1;var e=Gn,t=Jr(),r=mn(),n=nle(),u=RegExp.prototype;return lD=function(s){var o=s.flags;return o===void 0&&!("flags"in u)&&!t(s,"flags")&&r(u,s)?e(n,s):o},lD}var pD,s4;function sle(){if(s4)return pD;s4=1;var e=ule();return pD=e,pD}var fD,o4;function ole(){if(o4)return fD;o4=1;var e=mn(),t=sle(),r=RegExp.prototype;return fD=function(n){return n===r||e(r,n)?t(n):n.flags},fD}var dD,a4;function ale(){if(a4)return dD;a4=1;var e=ole();return dD=e,dD}var DD,i4;function ile(){return i4||(i4=1,DD=ale()),DD}var c4={},hD,l4;function cle(){if(l4)return hD;l4=1;var e=of(),t=TypeError;return hD=function(r,n){if(!delete r[n])throw new t("Cannot delete property "+e(n)+" of "+e(r))},hD}var mD,p4;function lle(){if(p4)return mD;p4=1;var e=af(),t=Math.floor,r=function(n,u){var s=n.length;if(s<8)for(var o=1,a,i;o<s;){for(i=o,a=n[o];i&&u(n[i-1],a)>0;)n[i]=n[--i];i!==o++&&(n[i]=a)}else for(var c=t(s/2),l=r(e(n,0,c),u),p=r(e(n,c),u),f=l.length,d=p.length,h=0,E=0;h<f||E<d;)n[h+E]=h<f&&E<d?u(l[h],p[E])<=0?l[h++]:p[E++]:h<f?l[h++]:p[E++];return n};return mD=r,mD}var ED,f4;function df(){if(f4)return ED;f4=1;var e=tr;return ED=function(t,r){var n=[][t];return!!n&&e(function(){n.call(null,r||function(){return 1},1)})},ED}var vD,d4;function ple(){if(d4)return vD;d4=1;var e=sf(),t=e.match(/firefox\/(\d+)/i);return vD=!!t&&+t[1],vD}var yD,D4;function fle(){if(D4)return yD;D4=1;var e=sf();return yD=/MSIE|Trident/.test(e),yD}var gD,h4;function dle(){if(h4)return gD;h4=1;var e=sf(),t=e.match(/AppleWebKit\/(\d+)\./);return gD=!!t&&+t[1],gD}var m4;function Dle(){if(m4)return c4;m4=1;var e=Mt,t=Xt(),r=ka,n=Nu(),u=vs(),s=cle(),o=gs(),a=tr,i=lle(),c=df(),l=ple(),p=fle(),f=hc(),d=dle(),h=[],E=t(h.sort),A=t(h.push),m=a(function(){h.sort(void 0)}),y=a(function(){h.sort(null)}),F=c("sort"),B=!a(function(){if(f)return f<70;if(!(l&&l>3)){if(p)return!0;if(d)return d<603;var I="",U,j,W,te;for(U=65;U<76;U++){switch(j=String.fromCharCode(U),U){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(te=0;te<47;te++)h.push({k:j+te,v:W})}for(h.sort(function(Y,oe){return oe.v-Y.v}),te=0;te<h.length;te++)j=h[te].k.charAt(0),I.charAt(I.length-1)!==j&&(I+=j);return I!=="DGBEFHACIJK"}}),P=m||!y||!F||!B,$=function(I){return function(U,j){return j===void 0?-1:U===void 0?1:I!==void 0?+I(U,j)||0:o(U)>o(j)?1:-1}};return e({target:"Array",proto:!0,forced:P},{sort:function(U){U!==void 0&&r(U);var j=n(this);if(B)return U===void 0?E(j):E(j,U);var W=[],te=u(j),Y,oe;for(oe=0;oe<te;oe++)oe in j&&A(W,j[oe]);for(i(W,$(U)),Y=u(W),oe=0;oe<Y;)j[oe]=W[oe++];for(;oe<te;)s(j,oe++);return j}}),c4}var AD,E4;function hle(){if(E4)return AD;E4=1,Dle();var e=ys();return AD=e("Array","sort"),AD}var FD,v4;function mle(){if(v4)return FD;v4=1;var e=mn(),t=hle(),r=Array.prototype;return FD=function(n){var u=n.sort;return n===r||e(r,n)&&u===r.sort?t:u},FD}var CD,y4;function Ele(){if(y4)return CD;y4=1;var e=mle();return CD=e,CD}var bD,g4;function vle(){return g4||(g4=1,bD=Ele()),bD}var A4={},SD,F4;function cw(){return F4||(F4=1,SD=`	
\v\f\r                　\u2028\u2029\uFEFF`),SD}var wD,C4;function yle(){if(C4)return wD;C4=1;var e=Xt(),t=Dc(),r=gs(),n=cw(),u=e("".replace),s=RegExp("^["+n+"]+"),o=RegExp("(^|[^"+n+"])["+n+"]+$"),a=function(i){return function(c){var l=r(t(c));return i&1&&(l=u(l,s,"")),i&2&&(l=u(l,o,"$1")),l}};return wD={start:a(1),end:a(2),trim:a(3)},wD}var _D,b4;function gle(){if(b4)return _D;b4=1;var e=Sr(),t=tr,r=Xt(),n=gs(),u=yle().trim,s=cw(),o=e.parseInt,a=e.Symbol,i=a&&a.iterator,c=/^[+-]?0x/i,l=r(c.exec),p=o(s+"08")!==8||o(s+"0x16")!==22||i&&!t(function(){o(Object(i))});return _D=p?function(d,h){var E=u(n(d));return o(E,h>>>0||(l(c,E)?16:10))}:o,_D}var S4;function Ale(){if(S4)return A4;S4=1;var e=Mt,t=gle();return e({global:!0,forced:parseInt!==t},{parseInt:t}),A4}var BD,w4;function Fle(){if(w4)return BD;w4=1,Ale();var e=pu;return BD=e.parseInt,BD}var TD,_4;function Cle(){if(_4)return TD;_4=1;var e=Fle();return TD=e,TD}var $D,B4;function ble(){return B4||(B4=1,$D=Cle()),$D}var T4={},$4;function Sle(){if($4)return T4;$4=1;var e=Mt,t=u3,r=k9().indexOf,n=df(),u=t([].indexOf),s=!!u&&1/u([1],1,-0)<0,o=s||!n("indexOf");return e({target:"Array",proto:!0,forced:o},{indexOf:function(i){var c=arguments.length>1?arguments[1]:void 0;return s?u(this,i,c)||0:r(this,i,c)}}),T4}var PD,P4;function wle(){if(P4)return PD;P4=1,Sle();var e=ys();return PD=e("Array","indexOf"),PD}var OD,O4;function _le(){if(O4)return OD;O4=1;var e=mn(),t=wle(),r=Array.prototype;return OD=function(n){var u=n.indexOf;return n===r||e(r,n)&&u===r.indexOf?t:u},OD}var kD,k4;function Ble(){if(k4)return kD;k4=1;var e=_le();return kD=e,kD}var ID,I4;function Df(){return I4||(I4=1,ID=Ble()),ID}var N4={},ND,q4;function Tle(){if(q4)return ND;q4=1;var e=F3().forEach,t=df(),r=t("forEach");return ND=r?[].forEach:function(u){return e(this,u,arguments.length>1?arguments[1]:void 0)},ND}var x4;function $le(){if(x4)return N4;x4=1;var e=Mt,t=Tle();return e({target:"Array",proto:!0,forced:[].forEach!==t},{forEach:t}),N4}var qD,R4;function Ple(){if(R4)return qD;R4=1,$le();var e=ys();return qD=e("Array","forEach"),qD}var xD,j4;function Ole(){if(j4)return xD;j4=1;var e=Ple();return xD=e,xD}var RD,M4;function kle(){if(M4)return RD;M4=1;var e=gc(),t=Jr(),r=mn(),n=Ole(),u=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return RD=function(o){var a=o.forEach;return o===u||r(u,o)&&a===u.forEach||t(s,e(o))?n:a},RD}var jD,L4;function lw(){return L4||(L4=1,jD=kle()),jD}var U4={},G4;function Ile(){if(G4)return U4;G4=1;var e=Mt,t=un,r=pf();return e({target:"Object",stat:!0,sham:!t},{create:r}),U4}var MD,V4;function Nle(){if(V4)return MD;V4=1,Ile();var e=pu,t=e.Object;return MD=function(n,u){return t.create(n,u)},MD}var LD,H4;function qle(){if(H4)return LD;H4=1;var e=Nle();return LD=e,LD}var UD,W4;function xle(){return W4||(W4=1,UD=qle()),UD}var GD,J4;function Rle(){if(J4)return GD;J4=1,W9();var e=ys();return GD=e("Array","concat"),GD}var VD,z4;function jle(){if(z4)return VD;z4=1;var e=mn(),t=Rle(),r=Array.prototype;return VD=function(n){var u=n.concat;return n===r||e(r,n)&&u===r.concat?t:u},VD}var HD,K4;function Mle(){if(K4)return HD;K4=1;var e=jle();return HD=e,HD}var WD,X4;function hf(){return X4||(X4=1,WD=Mle()),WD}var Y4;function Lle(){return Y4||(Y4=1,function(e,t){var r=gp(),n=G9(),u=tw(),s=nw(),o=sw(),a=ms,i=Es;a(t,"__esModule",{value:!0}),t.default=void 0;var c=i(iw()),l=i(ile()),p=i(vle()),f=i(gp()),d=i(ble()),h=i(Df()),E=i(lw()),A=i(xle()),m=i(hf());function y(Z,ae){var le=typeof u<"u"&&s(Z)||Z["@@iterator"];if(!le){if(o(Z)||(le=F(Z))||ae&&Z&&typeof Z.length=="number"){le&&(Z=le);var N=0,S=function(){};return{s:S,n:function(){return N>=Z.length?{done:!0}:{done:!1,value:Z[N++]}},e:function(ue){throw ue},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,L=!1,J;return{s:function(){le=le.call(Z)},n:function(){var ue=le.next();return _=ue.done,ue},e:function(ue){L=!0,J=ue},f:function(){try{!_&&le.return!=null&&le.return()}finally{if(L)throw J}}}}function F(Z,ae){var le;if(Z){if(typeof Z=="string")return B(Z,ae);var N=r(le=Object.prototype.toString.call(Z)).call(le,8,-1);if(N==="Object"&&Z.constructor&&(N=Z.constructor.name),N==="Map"||N==="Set")return n(Z);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return B(Z,ae)}}function B(Z,ae){(ae==null||ae>Z.length)&&(ae=Z.length);for(var le=0,N=new Array(ae);le<ae;le++)N[le]=Z[le];return N}/*!
 * XRegExp 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2007-present MIT License
 */var P="xregexp",$={astral:!1,namespacing:!0},I={},U={},j={},W=[],te="default",Y="class",oe={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},ie=/\$(?:\{([^\}]+)\}|<([^>]+)>|(\d\d?|[\s\S]?))/g,fe=/()??/.exec("")[1]===void 0,De=(0,l.default)(/x/)!==void 0;function de(Z){var ae=!0;try{if(new RegExp("",Z),Z==="y"){var le=function(){return"gy"}(),N=".a".replace(new RegExp("a",le),".")==="..";N&&(ae=!1)}}catch{ae=!1}return ae}var Ce=de("d"),pe=de("s"),Q=de("u"),q=de("y"),v={d:Ce,g:!0,i:!0,m:!0,s:pe,u:Q,y:q},C=pe?/[^dgimsuy]+/g:/[^dgimuy]+/g;function D(Z,ae,le,N,S){var _;if(Z[P]={captureNames:ae},S)return Z;if(Z.__proto__)Z.__proto__=ce.prototype;else for(var L in ce.prototype)Z[L]=ce.prototype[L];return Z[P].source=le,Z[P].flags=N&&(0,p.default)(_=N.split("")).call(_).join(""),Z}function g(Z){return Z.replace(/([\s\S])(?=[\s\S]*\1)/g,"")}function O(Z,ae){var le;if(!ce.isRegExp(Z))throw new TypeError("Type RegExp expected");var N=Z[P]||{},S=x(Z),_="",L="",J=null,ee=null;return ae=ae||{},ae.removeG&&(L+="g"),ae.removeY&&(L+="y"),L&&(S=S.replace(new RegExp("[".concat(L,"]+"),"g"),"")),ae.addG&&(_+="g"),ae.addY&&(_+="y"),_&&(S=g(S+_)),ae.isInternalOnly||(N.source!==void 0&&(J=N.source),(0,l.default)(N)!=null&&(ee=_?g((0,l.default)(N)+_):(0,l.default)(N))),Z=D(new RegExp(ae.source||Z.source,S),k(Z)?(0,f.default)(le=N.captureNames).call(le,0):null,J,ee,ae.isInternalOnly),Z}function b(Z){return(0,d.default)(Z,16)}function w(Z,ae,le){var N=Z.index+Z[0].length,S=Z.input[Z.index-1],_=Z.input[N];return/^[()|]$/.test(S)||/^[()|]$/.test(_)||Z.index===0||N===Z.input.length||/\(\?(?:[:=!]|<[=!])$/.test(Z.input.substring(Z.index-4,Z.index))||H(Z.input,N,le)?"":"(?:)"}function x(Z){return De?(0,l.default)(Z):/\/([a-z]*)$/i.exec(RegExp.prototype.toString.call(Z))[1]}function k(Z){return!!(Z[P]&&Z[P].captureNames)}function G(Z){return(0,d.default)(Z,10).toString(16)}function H(Z,ae,le){var N=(0,h.default)(le).call(le,"x")!==-1?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/;return N.test((0,f.default)(Z).call(Z,ae))}function re(Z,ae){return Object.prototype.toString.call(Z)==="[object ".concat(ae,"]")}function _e(Z){if(Z==null)throw new TypeError("Cannot convert null or undefined to object");return Z}function Le(Z){for(;Z.length<4;)Z="0".concat(Z);return Z}function Ue(Z,ae){if(g(ae)!==ae)throw new SyntaxError("Invalid duplicate regex flag ".concat(ae));Z=Z.replace(/^\(\?([\w$]+)\)/,function(_,L){if(/[dgy]/.test(L))throw new SyntaxError("Cannot use flags dgy in mode modifier ".concat(_));return ae=g(ae+L),""});var le=y(ae),N;try{for(le.s();!(N=le.n()).done;){var S=N.value;if(!v[S])throw new SyntaxError("Unknown regex flag ".concat(S))}}catch(_){le.e(_)}finally{le.f()}return{pattern:Z,flags:ae}}function Ge(Z){var ae={};return re(Z,"String")?((0,E.default)(ce).call(ce,Z,/[^\s,]+/,function(le){ae[le]=!0}),ae):Z}function be(Z){if(!/^[\w$]$/.test(Z))throw new Error("Flag must be a single character A-Za-z0-9_$");v[Z]=!0}function je(Z,ae,le,N,S){for(var _=W.length,L=Z[le],J=null,ee,ue;_--;)if(ue=W[_],!(ue.leadChar&&ue.leadChar!==L||ue.scope!==N&&ue.scope!=="all"||ue.flag&&(0,h.default)(ae).call(ae,ue.flag)===-1)&&(ee=ce.exec(Z,ue.regex,le,"sticky"),ee)){J={matchLength:ee[0].length,output:ue.handler.call(S,ee,N,ae),reparse:ue.reparse};break}return J}function ke(Z){$.astral=Z}function Ie(Z){$.namespacing=Z}function ce(Z,ae){if(ce.isRegExp(Z)){if(ae!==void 0)throw new TypeError("Cannot supply flags when copying a RegExp");return O(Z)}if(Z=Z===void 0?"":String(Z),ae=ae===void 0?"":String(ae),ce.isInstalled("astral")&&(0,h.default)(ae).call(ae,"A")===-1&&(ae+="A"),j[Z]||(j[Z]={}),!j[Z][ae]){for(var le={hasNamedCapture:!1,captureNames:[]},N=te,S="",_=0,L,J=Ue(Z,ae),ee=J.pattern,ue=(0,l.default)(J);_<ee.length;){do L=je(ee,ue,_,N,le),L&&L.reparse&&(ee=(0,f.default)(ee).call(ee,0,_)+L.output+(0,f.default)(ee).call(ee,_+L.matchLength));while(L&&L.reparse);if(L)S+=L.output,_+=L.matchLength||1;else{var ge=ce.exec(ee,oe[N],_,"sticky"),Be=(0,c.default)(ge,1),qe=Be[0];S+=qe,_+=qe.length,qe==="["&&N===te?N=Y:qe==="]"&&N===Y&&(N=te)}}j[Z][ae]={pattern:S.replace(/(?:\(\?:\))+/g,"(?:)"),flags:ue.replace(C,""),captures:le.hasNamedCapture?le.captureNames:null}}var Pe=j[Z][ae];return D(new RegExp(Pe.pattern,(0,l.default)(Pe)),Pe.captures,Z,ae)}ce.prototype=/(?:)/,ce.version="5.1.1",ce._clipDuplicates=g,ce._hasNativeFlag=de,ce._dec=b,ce._hex=G,ce._pad4=Le,ce.addToken=function(Z,ae,le){le=le||{};var N=le,S=N.optionalFlags;if(le.flag&&be(le.flag),S){S=S.split("");var _=y(S),L;try{for(_.s();!(L=_.n()).done;){var J=L.value;be(J)}}catch(ee){_.e(ee)}finally{_.f()}}W.push({regex:O(Z,{addG:!0,addY:q,isInternalOnly:!0}),handler:ae,scope:le.scope||te,flag:le.flag,reparse:le.reparse,leadChar:le.leadChar}),ce.cache.flush("patterns")},ce.cache=function(Z,ae){return U[Z]||(U[Z]={}),U[Z][ae]||(U[Z][ae]=ce(Z,ae))},ce.cache.flush=function(Z){Z==="patterns"?j={}:U={}},ce.escape=function(Z){return String(_e(Z)).replace(/[\\\[\]{}()*+?.^$|]/g,"\\$&").replace(/[\s#\-,]/g,function(ae){return"\\u".concat(Le(G(ae.charCodeAt(0))))})},ce.exec=function(Z,ae,le,N){var S="g",_=!1,L=!1,J;_=q&&!!(N||ae.sticky&&N!==!1),_?S+="y":N&&(L=!0,S+="FakeY"),ae[P]=ae[P]||{};var ee=ae[P][S]||(ae[P][S]=O(ae,{addG:!0,addY:_,source:L?"".concat(ae.source,"|()"):void 0,removeY:N===!1,isInternalOnly:!0}));return le=le||0,ee.lastIndex=le,J=I.exec.call(ee,Z),L&&J&&J.pop()===""&&(J=null),ae.global&&(ae.lastIndex=J?ee.lastIndex:0),J},ce.forEach=function(Z,ae,le){for(var N=0,S=-1,_;_=ce.exec(Z,ae,N);)le(_,++S,Z,ae),N=_.index+(_[0].length||1)},ce.globalize=function(Z){return O(Z,{addG:!0})},ce.install=function(Z){Z=Ge(Z),!$.astral&&Z.astral&&ke(!0),!$.namespacing&&Z.namespacing&&Ie(!0)},ce.isInstalled=function(Z){return!!$[Z]},ce.isRegExp=function(Z){return Object.prototype.toString.call(Z)==="[object RegExp]"},ce.match=function(Z,ae,le){var N=ae.global&&le!=="one"||le==="all",S=(N?"g":"")+(ae.sticky?"y":"")||"noGY";ae[P]=ae[P]||{};var _=ae[P][S]||(ae[P][S]=O(ae,{addG:!!N,removeG:le==="one",isInternalOnly:!0})),L=String(_e(Z)).match(_);return ae.global&&(ae.lastIndex=le==="one"&&L?L.index+L[0].length:0),N?L||[]:L&&L[0]},ce.matchChain=function(Z,ae){return function le(N,S){var _=ae[S].regex?ae[S]:{regex:ae[S]},L=[];function J(Be){if(_.backref){var qe="Backreference to undefined group: ".concat(_.backref),Pe=isNaN(_.backref);if(Pe&&ce.isInstalled("namespacing")){if(!(Be.groups&&_.backref in Be.groups))throw new ReferenceError(qe)}else if(!Be.hasOwnProperty(_.backref))throw new ReferenceError(qe);var rt=Pe&&ce.isInstalled("namespacing")?Be.groups[_.backref]:Be[_.backref];L.push(rt||"")}else L.push(Be[0])}var ee=y(N),ue;try{for(ee.s();!(ue=ee.n()).done;){var ge=ue.value;(0,E.default)(ce).call(ce,ge,_.regex,J)}}catch(Be){ee.e(Be)}finally{ee.f()}return S===ae.length-1||!L.length?L:le(L,S+1)}([Z],0)},ce.replace=function(Z,ae,le,N){var S=ce.isRegExp(ae),_=ae.global&&N!=="one"||N==="all",L=(_?"g":"")+(ae.sticky?"y":"")||"noGY",J=ae;S?(ae[P]=ae[P]||{},J=ae[P][L]||(ae[P][L]=O(ae,{addG:!!_,removeG:N==="one",isInternalOnly:!0}))):_&&(J=new RegExp(ce.escape(String(ae)),"g"));var ee=I.replace.call(_e(Z),J,le);return S&&ae.global&&(ae.lastIndex=0),ee},ce.replaceEach=function(Z,ae){var le=y(ae),N;try{for(le.s();!(N=le.n()).done;){var S=N.value;Z=ce.replace(Z,S[0],S[1],S[2])}}catch(_){le.e(_)}finally{le.f()}return Z},ce.split=function(Z,ae,le){return I.split.call(_e(Z),ae,le)},ce.test=function(Z,ae,le,N){return!!ce.exec(Z,ae,le,N)},ce.uninstall=function(Z){Z=Ge(Z),$.astral&&Z.astral&&ke(!1),$.namespacing&&Z.namespacing&&Ie(!1)},ce.union=function(Z,ae,le){le=le||{};var N=le.conjunction||"or",S=0,_,L;function J(rt,Ar,sn){var En=L[S-_];if(Ar){if(++S,En)return"(?<".concat(En,">")}else if(sn)return"\\".concat(+sn+_);return rt}if(!(re(Z,"Array")&&Z.length))throw new TypeError("Must provide a nonempty array of patterns to merge");var ee=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,ue=[],ge=y(Z),Be;try{for(ge.s();!(Be=ge.n()).done;){var qe=Be.value;ce.isRegExp(qe)?(_=S,L=qe[P]&&qe[P].captureNames||[],ue.push(ce(qe.source).source.replace(ee,J))):ue.push(ce.escape(qe))}}catch(rt){ge.e(rt)}finally{ge.f()}var Pe=N==="none"?"":"|";return ce(ue.join(Pe),ae)},I.exec=function(Z){var ae=this.lastIndex,le=RegExp.prototype.exec.apply(this,arguments);if(le){if(!fe&&le.length>1&&(0,h.default)(le).call(le,"")!==-1){var N,S=O(this,{removeG:!0,isInternalOnly:!0});(0,f.default)(N=String(Z)).call(N,le.index).replace(S,function(){for(var ee=arguments.length,ue=1;ue<ee-2;++ue)(ue<0||arguments.length<=ue?void 0:arguments[ue])===void 0&&(le[ue]=void 0)})}if(this[P]&&this[P].captureNames){var _=le;ce.isInstalled("namespacing")&&(le.groups=(0,A.default)(null),_=le.groups);for(var L=1;L<le.length;++L){var J=this[P].captureNames[L-1];J&&(_[J]=le[L])}}else!le.groups&&ce.isInstalled("namespacing")&&(le.groups=void 0);this.global&&!le[0].length&&this.lastIndex>le.index&&(this.lastIndex=le.index)}return this.global||(this.lastIndex=ae),le},I.test=function(Z){return!!I.exec.call(this,Z)},I.match=function(Z){if(!ce.isRegExp(Z))Z=new RegExp(Z);else if(Z.global){var ae=String.prototype.match.apply(this,arguments);return Z.lastIndex=0,ae}return I.exec.call(Z,_e(this))},I.replace=function(Z,ae){var le=ce.isRegExp(Z),N,S,_;return le?(Z[P]&&(S=Z[P].captureNames),N=Z.lastIndex):Z+="",re(ae,"Function")?_=String(this).replace(Z,function(){for(var L=arguments.length,J=new Array(L),ee=0;ee<L;ee++)J[ee]=arguments[ee];if(S){var ue;ce.isInstalled("namespacing")?(ue=(0,A.default)(null),J.push(ue)):(J[0]=new String(J[0]),ue=J[0]);for(var ge=0;ge<S.length;++ge)S[ge]&&(ue[S[ge]]=J[ge+1])}return ae.apply(void 0,J)}):_=String(_e(this)).replace(Z,function(){for(var L=arguments.length,J=new Array(L),ee=0;ee<L;ee++)J[ee]=arguments[ee];return String(ae).replace(ie,ue);function ue(ge,Be,qe,Pe){Be=Be||qe;var rt=re(J[J.length-1],"Object")?4:3,Ar=J.length-rt;if(Be){if(/^\d+$/.test(Be)){var sn=+Be;if(sn<=Ar)return J[sn]||""}var En=S?(0,h.default)(S).call(S,Be):-1;if(En<0)throw new SyntaxError("Backreference to undefined group ".concat(ge));return J[En+1]||""}if(Pe===""||Pe===" ")throw new SyntaxError("Invalid token ".concat(ge));if(Pe==="&"||+Pe==0)return J[0];if(Pe==="$")return"$";if(Pe==="`"){var xu;return(0,f.default)(xu=J[J.length-1]).call(xu,0,J[J.length-2])}if(Pe==="'"){var Wn;return(0,f.default)(Wn=J[J.length-1]).call(Wn,J[J.length-2]+J[0].length)}if(Pe=+Pe,!isNaN(Pe)){if(Pe>Ar)throw new SyntaxError("Backreference to undefined group ".concat(ge));return J[Pe]||""}throw new SyntaxError("Invalid token ".concat(ge))}}),le&&(Z.global?Z.lastIndex=0:Z.lastIndex=N),_},I.split=function(Z,ae){if(!ce.isRegExp(Z))return String.prototype.split.apply(this,arguments);var le=String(this),N=[],S=Z.lastIndex,_=0,L;return ae=(ae===void 0?-1:ae)>>>0,(0,E.default)(ce).call(ce,le,Z,function(J){J.index+J[0].length>_&&(N.push((0,f.default)(le).call(le,_,J.index)),J.length>1&&J.index<le.length&&Array.prototype.push.apply(N,(0,f.default)(J).call(J,1)),L=J[0].length,_=J.index+L)}),_===le.length?(!Z.test("")||L)&&N.push(""):N.push((0,f.default)(le).call(le,_)),Z.lastIndex=S,N.length>ae?(0,f.default)(N).call(N,0,ae):N},ce.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(Z,ae){if(Z[1]==="B"&&ae===te)return Z[0];throw new SyntaxError("Invalid escape ".concat(Z[0]))},{scope:"all",leadChar:"\\"}),ce.addToken(/\\u{([\dA-Fa-f]+)}/,function(Z,ae,le){var N=b(Z[1]);if(N>1114111)throw new SyntaxError("Invalid Unicode code point ".concat(Z[0]));if(N<=65535)return"\\u".concat(Le(G(N)));if(Q&&(0,h.default)(le).call(le,"u")!==-1)return Z[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),ce.addToken(/\(\?#[^)]*\)/,w,{leadChar:"("}),ce.addToken(/\s+|#[^\n]*\n?/,w,{flag:"x"}),pe||ce.addToken(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),ce.addToken(/\\k<([^>]+)>/,function(Z){var ae,le,N=isNaN(Z[1])?(0,h.default)(ae=this.captureNames).call(ae,Z[1])+1:+Z[1],S=Z.index+Z[0].length;if(!N||N>this.captureNames.length)throw new SyntaxError("Backreference to undefined group ".concat(Z[0]));return(0,m.default)(le="\\".concat(N)).call(le,S===Z.input.length||isNaN(Z.input[S])?"":"(?:)")},{leadChar:"\\"}),ce.addToken(/\\(\d+)/,function(Z,ae){if(!(ae===te&&/^[1-9]/.test(Z[1])&&+Z[1]<=this.captureNames.length)&&Z[1]!=="0")throw new SyntaxError("Cannot use octal escape or backreference to undefined group ".concat(Z[0]));return Z[0]},{scope:"all",leadChar:"\\"}),ce.addToken(/\(\?P?<((?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0898-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]|\uDB40[\uDD00-\uDDEF])*)>/,function(Z){var ae;if(!ce.isInstalled("namespacing")&&(Z[1]==="length"||Z[1]==="__proto__"))throw new SyntaxError("Cannot use reserved word as capture name ".concat(Z[0]));if((0,h.default)(ae=this.captureNames).call(ae,Z[1])!==-1)throw new SyntaxError("Cannot use same name for multiple groups ".concat(Z[0]));return this.captureNames.push(Z[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),ce.addToken(/\((?!\?)/,function(Z,ae,le){return(0,h.default)(le).call(le,"n")!==-1?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("});var Te=ce;t.default=Te,e.exports=t.default}(il,il.exports)),il.exports}var cl={exports:{}},Z4={},JD,Q4;function Ule(){if(Q4)return JD;Q4=1;var e=ka,t=Nu(),r=a3(),n=vs(),u=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(i,c,l,p){var f=t(i),d=r(f),h=n(f);if(e(c),h===0&&l<2)throw new u(s);var E=a?h-1:0,A=a?-1:1;if(l<2)for(;;){if(E in d){p=d[E],E+=A;break}if(E+=A,a?E<0:h<=E)throw new u(s)}for(;a?E>=0:h>E;E+=A)E in d&&(p=c(p,d[E],E,f));return p}};return JD={left:o(!1),right:o(!0)},JD}var zD,eS;function Gle(){if(eS)return zD;eS=1;var e=Sr(),t=po();return zD=t(e.process)==="process",zD}var tS;function Vle(){if(tS)return Z4;tS=1;var e=Mt,t=Ule().left,r=df(),n=hc(),u=Gle(),s=!u&&n>79&&n<83,o=s||!r("reduce");return e({target:"Array",proto:!0,forced:o},{reduce:function(i){var c=arguments.length;return t(this,i,c,c>1?arguments[1]:void 0)}}),Z4}var KD,rS;function Hle(){if(rS)return KD;rS=1,Vle();var e=ys();return KD=e("Array","reduce"),KD}var XD,nS;function Wle(){if(nS)return XD;nS=1;var e=mn(),t=Hle(),r=Array.prototype;return XD=function(n){var u=n.reduce;return n===r||e(r,n)&&u===r.reduce?t:u},XD}var YD,uS;function Jle(){if(uS)return YD;uS=1;var e=Wle();return YD=e,YD}var ZD,sS;function zle(){return sS||(sS=1,ZD=Jle()),ZD}var oS={},aS;function Kle(){if(aS)return oS;aS=1;var e=Mt,t=F3().map,r=v3(),n=r("map");return e({target:"Array",proto:!0,forced:!n},{map:function(s){return t(this,s,arguments.length>1?arguments[1]:void 0)}}),oS}var QD,iS;function Xle(){if(iS)return QD;iS=1,Kle();var e=ys();return QD=e("Array","map"),QD}var e2,cS;function Yle(){if(cS)return e2;cS=1;var e=mn(),t=Xle(),r=Array.prototype;return e2=function(n){var u=n.map;return n===r||e(r,n)&&u===r.map?t:u},e2}var t2,lS;function Zle(){if(lS)return t2;lS=1;var e=Yle();return t2=e,t2}var r2,pS;function Qle(){return pS||(pS=1,r2=Zle()),r2}var fS;function epe(){return fS||(fS=1,function(e,t){var r=ms,n=Es;r(t,"__esModule",{value:!0}),t.default=void 0;var u=n(zle()),s=n(Qle()),o=n(Df()),a=n(hf());/*!
 * XRegExp.build 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 */var i=function(l){var p="xregexp",f=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,d=l.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,f],"g",{conjunction:"or"});function h(F){var B=/^(?:\(\?:\))*\^/,P=/\$(?:\(\?:\))*$/;return B.test(F)&&P.test(F)&&P.test(F.replace(/\\[\s\S]/g,""))?F.replace(B,"").replace(P,""):F}function E(F,B){var P=B?"x":"";return l.isRegExp(F)?F[p]&&F[p].captureNames?F:l(F.source,P):l(F,P)}function A(F){return F instanceof RegExp?F:l.escape(F)}function m(F,B,P){return F["subpattern".concat(P)]=B,F}function y(F,B,P){var $=B<P.length-1;return F+($?"{{subpattern".concat(B,"}}"):"")}l.tag=function(F){return function(B){for(var P,$,I=arguments.length,U=new Array(I>1?I-1:0),j=1;j<I;j++)U[j-1]=arguments[j];var W=(0,u.default)(P=(0,s.default)(U).call(U,A)).call(P,m,{}),te=(0,s.default)($=B.raw).call($,y).join("");return l.build(te,W,F)}},l.build=function(F,B,P){P=P||"";var $=(0,o.default)(P).call(P,"x")!==-1,I=/^\(\?([\w$]+)\)/.exec(F);I&&(P=l._clipDuplicates(P+I[1]));var U={};for(var j in B)if(B.hasOwnProperty(j)){var W=E(B[j],$);U[j]={pattern:h(W.source),names:W[p].captureNames||[]}}var te=E(F,$),Y=0,oe,ie=0,fe=[0],De=te[p].captureNames||[],de=te.source.replace(d,function(Ce,pe,Q,q,v){var C=pe||Q,D,g,O;if(C){var b;if(!U.hasOwnProperty(C))throw new ReferenceError("Undefined property ".concat(Ce));pe?(D=De[ie],fe[++ie]=++Y,g="(?<".concat(D||C,">")):g="(?:",oe=Y;var w=U[C].pattern.replace(f,function(x,k,G){if(k){if(D=U[C].names[Y-oe],++Y,D)return"(?<".concat(D,">")}else if(G)return O=+G-1,U[C].names[O]?"\\k<".concat(U[C].names[O],">"):"\\".concat(+G+oe);return x});return(0,a.default)(b="".concat(g)).call(b,w,")")}if(q){if(D=De[ie],fe[++ie]=++Y,D)return"(?<".concat(D,">")}else if(v)return O=+v-1,De[O]?"\\k<".concat(De[O],">"):"\\".concat(fe[+v]);return Ce});return l(de,P)}};t.default=i,e.exports=t.default}(cl,cl.exports)),cl.exports}var ll={exports:{}},dS;function tpe(){return dS||(dS=1,function(e,t){var r=ms,n=Es;r(t,"__esModule",{value:!0}),t.default=void 0;var u=n(Df()),s=n(hf()),o=n(gp());/*!
 * XRegExp.matchRecursive 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2009-present MIT License
 */var a=function(c){function l(p,f,d,h){return{name:p,value:f,start:d,end:h}}c.matchRecursive=function(p,f,d,h,E){h=h||"",E=E||{};var A=(0,u.default)(h).call(h,"g")!==-1,m=(0,u.default)(h).call(h,"y")!==-1,y=h.replace(/y/g,"");f=c(f,y),d=c(d,y);var F,B=E,P=B.escapeChar;if(P){var $,I;if(P.length>1)throw new Error("Cannot use more than one escape character");P=c.escape(P),F=new RegExp((0,s.default)($=(0,s.default)(I="(?:".concat(P,"[\\S\\s]|(?:(?!")).call(I,c.union([f,d],"",{conjunction:"or"}).source,")[^")).call($,P,"])+)+"),h.replace(c._hasNativeFlag("s")?/[^imsu]/g:/[^imu]/g,""))}for(var U=0,j=0,W=0,te=0,Y,oe,ie,fe,De=E.valueNames,de=[];;){if(P&&(W+=(c.exec(p,F,W,"sticky")||[""])[0].length),ie=c.exec(p,f,W),fe=c.exec(p,d,W),ie&&fe&&(ie.index<=fe.index?fe=null:ie=null),ie||fe)j=(ie||fe).index,W=j+(ie||fe)[0].length;else if(!U)break;if(m&&!U&&j>te)break;if(ie)U||(Y=j,oe=W),U+=1;else if(fe&&U){if(U-=1,!U&&(De?(De[0]&&Y>te&&de.push(l(De[0],(0,o.default)(p).call(p,te,Y),te,Y)),De[1]&&de.push(l(De[1],(0,o.default)(p).call(p,Y,oe),Y,oe)),De[2]&&de.push(l(De[2],(0,o.default)(p).call(p,oe,j),oe,j)),De[3]&&de.push(l(De[3],(0,o.default)(p).call(p,j,W),j,W))):de.push((0,o.default)(p).call(p,oe,j)),te=W,!A))break}else{var Ce=E.unbalanced||"error";if(Ce==="skip"||Ce==="skip-lazy")if(fe)fe=null;else{if(Ce==="skip"){var pe=c.exec(p,f,Y,"sticky")[0].length;W=Y+(pe||1)}else W=Y+1;U=0}else if(Ce==="error"){var Q,q=fe?"right":"left",v=fe?j:Y;throw new Error((0,s.default)(Q="Unbalanced ".concat(q," delimiter found in string at position ")).call(Q,v))}else throw new Error("Unsupported value for unbalanced: ".concat(Ce))}j===W&&(W+=1)}return A&&de.length>0&&!m&&De&&De[0]&&p.length>te&&de.push(l(De[0],(0,o.default)(p).call(p,te),te,p.length)),de}};t.default=a,e.exports=t.default}(ll,ll.exports)),ll.exports}var pl={exports:{}},DS;function rpe(){return DS||(DS=1,function(e,t){var r=gp(),n=G9(),u=tw(),s=nw(),o=sw(),a=ms,i=Es;a(t,"__esModule",{value:!0}),t.default=void 0;var c=i(iw()),l=i(lw()),p=i(hf()),f=i(Df());function d(m,y){var F=typeof u<"u"&&s(m)||m["@@iterator"];if(!F){if(o(m)||(F=h(m))||y&&m&&typeof m.length=="number"){F&&(m=F);var B=0,P=function(){};return{s:P,n:function(){return B>=m.length?{done:!0}:{done:!1,value:m[B++]}},e:function(W){throw W},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $=!0,I=!1,U;return{s:function(){F=F.call(m)},n:function(){var W=F.next();return $=W.done,W},e:function(W){I=!0,U=W},f:function(){try{!$&&F.return!=null&&F.return()}finally{if(I)throw U}}}}function h(m,y){var F;if(m){if(typeof m=="string")return E(m,y);var B=r(F=Object.prototype.toString.call(m)).call(F,8,-1);if(B==="Object"&&m.constructor&&(B=m.constructor.name),B==="Map"||B==="Set")return n(m);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return E(m,y)}}function E(m,y){(y==null||y>m.length)&&(y=m.length);for(var F=0,B=new Array(y);F<y;F++)B[F]=m[F];return B}/*!
 * XRegExp Unicode Base 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2008-present MIT License
 */var A=function(y){var F={},B={},P=y._dec,$=y._hex,I=y._pad4;function U(ie){return ie.replace(/[- _]+/g,"").toLowerCase()}function j(ie){var fe=/^\\[xu](.+)/.exec(ie);return fe?P(fe[1]):ie.charCodeAt(ie[0]==="\\"?1:0)}function W(ie){var fe="",De=-1;return(0,l.default)(y).call(y,ie,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,function(de){var Ce=j(de[1]);Ce>De+1&&(fe+="\\u".concat(I($(De+1))),Ce>De+2&&(fe+="-\\u".concat(I($(Ce-1))))),De=j(de[2]||de[1])}),De<65535&&(fe+="\\u".concat(I($(De+1))),De<65534&&(fe+="-\\uFFFF")),fe}function te(ie){var fe="b!";return F[ie][fe]||(F[ie][fe]=W(F[ie].bmp))}function Y(ie,fe){var De=F[ie],de="";if(De.bmp&&!De.isBmpLast){var Ce;de=(0,p.default)(Ce="[".concat(De.bmp,"]")).call(Ce,De.astral?"|":"")}if(De.astral&&(de+=De.astral),De.isBmpLast&&De.bmp){var pe;de+=(0,p.default)(pe="".concat(De.astral?"|":"","[")).call(pe,De.bmp,"]")}return fe?"(?:(?!".concat(de,")(?:[\uD800-\uDBFF][\uDC00-\uDFFF]|[\0-￿]))"):"(?:".concat(de,")")}function oe(ie,fe){var De=fe?"a!":"a=";return F[ie][De]||(F[ie][De]=Y(ie,fe))}y.addToken(/\\([pP])(?:{(\^?)(?:(\w+)=)?([^}]*)}|([A-Za-z]))/,function(ie,fe,De){var de="Invalid double negation ",Ce="Unknown Unicode token ",pe="Unicode token missing data ",Q="Astral mode required for Unicode token ",q="Astral mode does not support Unicode tokens within character classes",v=(0,c.default)(ie,6),C=v[0],D=v[1],g=v[2],O=v[3],b=v[4],w=v[5],x=D==="P"||!!g,k=(0,f.default)(De).call(De,"A")!==-1,G=U(w||b),H=F[G];if(D==="P"&&g)throw new SyntaxError(de+C);if(!F.hasOwnProperty(G))throw new SyntaxError(Ce+C);if(O&&!(B[O]&&B[O][G]))throw new SyntaxError(Ce+C);if(H.inverseOf){if(G=U(H.inverseOf),!F.hasOwnProperty(G)){var re;throw new ReferenceError((0,p.default)(re="".concat(pe+C," -> ")).call(re,H.inverseOf))}H=F[G],x=!x}if(!(H.bmp||k))throw new SyntaxError(Q+C);if(k){if(fe==="class")throw new SyntaxError(q);return oe(G,x)}return fe==="class"?x?te(G):H.bmp:"".concat((x?"[^":"[")+H.bmp,"]")},{scope:"all",optionalFlags:"A",leadChar:"\\"}),y.addUnicodeData=function(ie,fe){var De="Unicode token requires name",de="Unicode token has no character data ";fe&&(B[fe]={});var Ce=d(ie),pe;try{for(Ce.s();!(pe=Ce.n()).done;){var Q=pe.value;if(!Q.name)throw new Error(De);if(!(Q.inverseOf||Q.bmp||Q.astral))throw new Error(de+Q.name);var q=U(Q.name);if(F[q]=Q,fe&&(B[fe][q]=!0),Q.alias){var v=U(Q.alias);F[v]=Q,fe&&(B[fe][v]=!0)}}}catch(C){Ce.e(C)}finally{Ce.f()}y.cache.flush("patterns")},y._getUnicodeProperty=function(ie){var fe=U(ie);return F[fe]}};t.default=A,e.exports=t.default}(pl,pl.exports)),pl.exports}var fl={exports:{}},n2,hS;function npe(){return hS||(hS=1,n2=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-؅؜۝܎܏݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࡯࢏-ࢗ࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୔୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺఻౅౉౎-౔౗౛౜౞౟౤౥౰-౶಍಑಩಴಺಻೅೉೎-೔೗-೜೟೤೥೰ೳ-೿഍഑൅൉൐-൓൤൥඀඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅຋຤຦຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿᜖-᜞᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯᫏-᫿᭍-᭏᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏᳻-᳿἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟⃁-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹞-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏㇤-㇯㈟꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ɤ-꟏꟒꟔Ꟛ-꟱꠭-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯꭬-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯃-﯒﶐﶑﷈-﷎﷐-﷯︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA\uDEAE\uDEAF\uDEB2-\uDEFF\uDF28-\uDF2F\uDF5A-\uDF6F\uDF8A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC76-\uDC7E\uDCBD\uDCC3-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD48-\uDD4F\uDD77-\uDD7F\uDDE0\uDDF5-\uDDFF\uDE12\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC5C\uDC62-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDDE-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEBA-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF47-\uDFFF]|\uD806[\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE5-\uDDFF\uDE48-\uDE4F\uDEA3-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF9-\uDFAF\uDFB1-\uDFBF\uDFF2-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF3-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDEBF\uDECA-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE9B-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA0-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD73-\uDD7A\uDDEB-\uDDFF\uDE46-\uDEDF\uDEF4-\uDEFF\uDF57-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD836[\uDE8C-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD50-\uDE8F\uDEAF-\uDEBF\uDEFA-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCB5-\uDD00\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDC\uDEED-\uDEEF\uDEFD-\uDEFF\uDF74-\uDF7F\uDFD9-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE75-\uDE77\uDE7D-\uDE7F\uDE87-\uDE8F\uDEAD-\uDEAF\uDEBB-\uDEBF\uDEC6-\uDECF\uDEDA-\uDEDF\uDEE8-\uDEEF\uDEF7-\uDEFF\uDF93\uDFCB-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF39-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏࢐࢑࣢᠎​-‏‪-‮⁠-⁤⁦-⁯\uFEFF￹-￻",astral:"\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC38]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-׿܎݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࡯࢏࢒-ࢗ঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୔୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺఻౅౉౎-౔౗౛౜౞౟౤౥౰-౶಍಑಩಴಺಻೅೉೎-೔೗-೜೟೤೥೰ೳ-೿഍഑൅൉൐-൓൤൥඀඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅຋຤຦຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿᜖-᜞᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯᫏-᫿᭍-᭏᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏᳻-᳿἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟⃁-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹞-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏㇤-㇯㈟꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ɤ-꟏꟒꟔Ꟛ-꟱꠭-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯꭬-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯃-﯒﶐﶑﷈-﷎﷐-﷯︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA\uDEAE\uDEAF\uDEB2-\uDEFF\uDF28-\uDF2F\uDF5A-\uDF6F\uDF8A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC76-\uDC7E\uDCC3-\uDCCC\uDCCE\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD48-\uDD4F\uDD77-\uDD7F\uDDE0\uDDF5-\uDDFF\uDE12\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC5C\uDC62-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDDE-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEBA-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF47-\uDFFF]|\uD806[\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE5-\uDDFF\uDE48-\uDE4F\uDEA3-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF9-\uDFAF\uDFB1-\uDFBF\uDFF2-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDB7F][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF3-\uDFFF]|\uD80D[\uDC2F\uDC39-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDEBF\uDECA-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE9B-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA4-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDDEB-\uDDFF\uDE46-\uDEDF\uDEF4-\uDEFF\uDF57-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD836[\uDE8C-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD50-\uDE8F\uDEAF-\uDEBF\uDEFA-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCB5-\uDD00\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDC\uDEED-\uDEEF\uDEFD-\uDEFF\uDF74-\uDF7F\uDFD9-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE75-\uDE77\uDE7D-\uDE7F\uDE87-\uDE8F\uDEAD-\uDEAF\uDEBB-\uDEBF\uDEC6-\uDECF\uDEDA-\uDEDF\uDEE8-\uDEEF\uDEF7-\uDEFF\uDF93\uDFCB-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF39-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00\uDC02-\uDC1F\uDC80-\uDCFF\uDDF0-\uDFFF]|[\uDBBF\uDBFF][\uDFFE\uDFFF]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uDBBF\uDBFF][\uDC00-\uDFFD]"},{name:"Cs",alias:"Surrogate",bmp:"\uD800-\uDFFF"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-zµÀ-ÖØ-öø-ƺƼ-ƿǄ-ʓʕ-ʯͰ-ͳͶͷͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՠ-ֈႠ-ჅჇჍა-ჺჽ-ჿᎠ-Ᏽᏸ-ᏽᲀ-ᲈᲐ-ᲺᲽ-Ჿᴀ-ᴫᵫ-ᵷᵹ-ᶚḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-ⱻⱾ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭꙀ-ꙭꚀ-ꚛꜢ-ꝯꝱ-ꞇꞋ-ꞎꞐ-ꟊꟐꟑꟓꟕ-ꟙꟵꟶꟺꬰ-ꭚꭠ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚ",astral:"\uD801[\uDC00-\uDC4F\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD806[\uDCA0-\uDCDF]|\uD81B[\uDE40-\uDE7F]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD00-\uDD43]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱟⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꞻꞽꞿꟁꟃꟈꟊꟑꟓꟕꟗꟙꟶꟺꬰ-ꭚꭠ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD22-\uDD43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨࣉॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟲ-ꟴꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟꭩｰﾞﾟ",astral:"\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD81A[\uDF40-\uDF43]|\uD81B[\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD838[\uDD37-\uDD3D]|𞥋"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תׯ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣈऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳳᳵᳶᳺℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC50-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF4A\uDF50]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|𝼊|\uD838[\uDD00-\uDD2C\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰯⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸꞺꞼꞾꟀꟂꟄ-ꟇꟉꟐꟖꟘꟵＡ-Ｚ",astral:"\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣ৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣඁ-ඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍᠏ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-ᫎᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜ᜕᜴ាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡᳷〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦾ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3E\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB0-\uDCB2\uDCB9\uDCBB-\uDCBE\uDCC1\uDDAF-\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF20\uDF21\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD30-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD65\uDD66\uDD6D-\uDD72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍୕ୖୢୣஂீ்ఀఄ఼ా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣඁ්ි-ුූัิ-ฺ็-๎ັິ-ຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲᜳᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍᠏ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᪿ-ᫎᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꠬꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꦽꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\uD801[\uDCA0-\uDCA9]|\uD803[\uDD30-\uDD39]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCE0-\uDCE9\uDD50-\uDD59]|\uD807[\uDC50-\uDC59\uDD50-\uDD59\uDDA0-\uDDA9]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDD50-\uDD59]|\uD83E[\uDFF0-\uDFF9]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",astral:"\uD800[\uDD40-\uDD74\uDF41\uDF4A\uDFD1-\uDFD5]|\uD809[\uDC00-\uDC6E]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൘-൞൰-൸༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"\uD800[\uDD07-\uDD33\uDD75-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC65\uDDE1-\uDDF4]|\uD805[\uDF3A\uDF3B]|\uD806[\uDCEA-\uDCF2]|\uD807[\uDC5A-\uDC6C\uDFC0-\uDFD4]|\uD81A[\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD83A[\uDCC7-\uDCCF]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹏⹒-⹝、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|𐕯|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|𛲟|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\-֊־᐀᠆‐-―⸗⸚⸺⸻⹀⹝〜〰゠︱︲﹘﹣－",astral:"𐺭"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩⹖⹘⹚⹜〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁⹃-⹏⹒-⹔、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|𐕯|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|𛲟|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂⹕⹗⹙⹛〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶߾߿࢈৲৳৺৻૱୰௳-௺౿൏൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᙭៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-⃀℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮗-⯿⳥-⳪⹐⹑⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛꭪꭫﬩﮲-﯂﵀-﵏﷏﷼-﷿﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|𑜿|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|𛲜|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$¢-¥֏؋߾߿৲৳৻૱௹฿៛₠-⃀꠸﷼﹩＄￠￡￥￦",astral:"\uD807[\uDFDD-\uDFE0]|𞋿|𞲰"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅࢈᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛꭪꭫﮲-﯂＾｀￣",astral:"\uD83C[\uDFFB-\uDFFF]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD83B[\uDEF0\uDEF1]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൏൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᙭᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮗-⯿⳥-⳪⹐⹑⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﵀-﵏﷏﷽-﷿￤￨￭￮￼�",astral:"\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|𑜿|\uD807[\uDFD5-\uDFDC\uDFE1-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|𛲜|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|𞅏|\uD83B[\uDCAC\uDD2E]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFA]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}]),n2}var mS;function upe(){return mS||(mS=1,function(e,t){var r=ms,n=Es;r(t,"__esModule",{value:!0}),t.default=void 0;var u=n(npe());/*!
 * XRegExp Unicode Categories 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */var s=function(a){if(!a.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");a.addUnicodeData(u.default)};t.default=s,e.exports=t.default}(fl,fl.exports)),fl.exports}var dl={exports:{}},u2,ES;function spe(){return ES||(ES=1,u2=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈְ-ׇֽֿׁׂׅׄא-תׯ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉࣔ-ࣣࣟ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱৼਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹ-ૼଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౝౠ-ౣಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೝೞೠ-ೣೱೲഀ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൔ-ൗൟ-ൣൺ-ൿඁ-ඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄຆ-ຊຌ-ຣລວ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ႏႚ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜓᜟ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡸᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᪿᫀᫌ-ᫎᬀ-ᬳᬵ-ᭃᭅ-ᭌᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰶᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠅꠇ-ꠧꡀ-ꡳꢀ-ꣃꣅꣲ-ꣷꣻꣽ-ꣿꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC71-\uDC75\uDC82-\uDCB8\uDCC2\uDCD0-\uDCE8\uDD00-\uDD32\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE\uDDCF\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE80-\uDEB5\uDEB8\uDF00-\uDF1A\uDF1D-\uDF2A\uDF40-\uDF46]|\uD806[\uDC00-\uDC38\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDEE0-\uDEF6\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD47\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[\uD800-\uDBFF][\uDC00-\uDFFF]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠏​-‏‪-‮⁠-⁯ㅤ︀-️\uFEFFﾠ￰-￸",astral:"\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|[\uDB40-\uDB43][\uDC00-\uDFFF]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱟⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꞻꞽꞿꟁꟃꟈꟊꟑꟓꟕꟗꟙꟶꟸ-ꟺꬰ-ꭚꭜ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDF80\uDF83-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD22-\uDD43]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰯⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸꞺꞼꞾꟀꟂꟄ-ꟇꟉꟐꟖꟘꟵＡ-Ｚ",astral:"\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]"},{name:"White_Space",bmp:"	-\r    - \u2028\u2029  　"}]),u2}var vS;function ope(){return vS||(vS=1,function(e,t){var r=ms,n=Es;r(t,"__esModule",{value:!0}),t.default=void 0;var u=n(spe());/*!
 * XRegExp Unicode Properties 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */var s=function(a){if(!a.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var i=u.default;i.push({name:"Assigned",inverseOf:"Cn"}),a.addUnicodeData(i)};t.default=s,e.exports=t.default}(dl,dl.exports)),dl.exports}var Dl={exports:{}},s2,yS;function ape(){return yS||(yS=1,s2=[{name:"Adlam",astral:"\uD83A[\uDD00-\uDD4B\uDD50-\uDD59\uDD5E\uDD5F]"},{name:"Ahom",astral:"\uD805[\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF46]"},{name:"Anatolian_Hieroglyphs",astral:"\uD811[\uDC00-\uDE46]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؜-؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࡰ-ࢎ࢐࢑࢘-ࣣ࣡-ࣿﭐ-﯂ﯓ-ﴽ﵀-ﶏﶒ-ﷇ﷏ﷰ-﷿ﹰ-ﹴﹶ-ﻼ",astral:"\uD803[\uDE60-\uDE7E]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB\uDEF0\uDEF1]"},{name:"Armenian",bmp:"Ա-Ֆՙ-֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"\uD802[\uDF00-\uDF35\uDF39-\uDF3F]"},{name:"Balinese",bmp:"ᬀ-ᭌ᭐-᭾"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"\uD81A[\uDC00-\uDE38]"},{name:"Bassa_Vah",astral:"\uD81A[\uDED0-\uDEED\uDEF0-\uDEF5]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৾"},{name:"Bhaiksuki",astral:"\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC45\uDC50-\uDC6C]"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄯㆠ-ㆿ"},{name:"Brahmi",astral:"\uD804[\uDC00-\uDC4D\uDC52-\uDC75\uDC7F]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ",astral:"\uD806[\uDEB0-\uDEBF]"},{name:"Carian",astral:"\uD800[\uDEA0-\uDED0]"},{name:"Caucasian_Albanian",astral:"\uD801[\uDD30-\uDD63\uDD6F]"},{name:"Chakma",astral:"\uD804[\uDD00-\uDD34\uDD36-\uDD47]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Chorasmian",astral:"\uD803[\uDFB0-\uDFCB]"},{name:"Common",bmp:"\0-@\\[-`\\{-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·؅،؛؟ـ۝࣢।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵ-᳷ᳺ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-⃀℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮗-⯿⸀-⹝⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㋿㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛꭪꭫﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\uFEFF！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"\uD800[\uDD00-\uDD02\uDD07-\uDD33\uDD37-\uDD3F\uDD90-\uDD9C\uDDD0-\uDDFC\uDEE1-\uDEFB]|\uD82F[\uDCA0-\uDCA3]|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD66\uDD6A-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDEE0-\uDEF3\uDF00-\uDF56\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDFCB\uDFCE-\uDFFF]|\uD83B[\uDC71-\uDCB4\uDD01-\uDD3D]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD00-\uDDAD\uDDE6-\uDDFF\uDE01\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA\uDFF0-\uDFF9]|\uDB40[\uDC01\uDC20-\uDC7F]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC70-\uDC74\uDC80-\uDD43]"},{name:"Cypriot",astral:"\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F]"},{name:"Cypro_Minoan",astral:"\uD80B[\uDF90-\uDFF2]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᲀ-ᲈᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"\uD801[\uDC00-\uDC4F]"},{name:"Devanagari",bmp:"ऀ-ॐॕ-ॣ०-ॿ꣠-ꣿ"},{name:"Dives_Akuru",astral:"\uD806[\uDD00-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD46\uDD50-\uDD59]"},{name:"Dogra",astral:"\uD806[\uDC00-\uDC3B]"},{name:"Duployan",astral:"\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9C-\uDC9F]"},{name:"Egyptian_Hieroglyphs",astral:"\uD80C[\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E\uDC30-\uDC38]"},{name:"Elbasan",astral:"\uD801[\uDD00-\uDD27]"},{name:"Elymaic",astral:"\uD803[\uDFE0-\uDFF6]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ",astral:"\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿᲐ-ᲺᲽ-Ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-ⱟ",astral:"\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]"},{name:"Gothic",astral:"\uD800[\uDF30-\uDF4A]"},{name:"Grantha",astral:"\uD804[\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"\uD800[\uDD40-\uDD8E\uDDA0]|\uD834[\uDE00-\uDE45]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ-૿"},{name:"Gunjala_Gondi",astral:"\uD807[\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9]"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-੶"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶿一-鿿豈-舘並-龎",astral:"\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanifi_Rohingya",astral:"\uD803[\uDD00-\uDD27\uDD30-\uDD39]"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"\uD802[\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDCFF]"},{name:"Hebrew",bmp:"֑-ׇא-תׯ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"\uD82C[\uDC01-\uDD1F\uDD50-\uDD52]|🈀"},{name:"Imperial_Aramaic",astral:"\uD802[\uDC40-\uDC55\uDC57-\uDC5F]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॑-॔᪰-ᫎ᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"\uD800[\uDDFD\uDEE0]|𑌻|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uDB40[\uDD00-\uDDEF]"},{name:"Inscriptional_Pahlavi",astral:"\uD802[\uDF60-\uDF72\uDF78-\uDF7F]"},{name:"Inscriptional_Parthian",astral:"\uD802[\uDF40-\uDF55\uDF58-\uDF5F]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"\uD804[\uDC80-\uDCC2\uDCCD]"},{name:"Kannada",bmp:"ಀ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೝೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00\uDD20-\uDD22\uDD64-\uDD67]"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"\uD802[\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F-\uDE48\uDE50-\uDE58]"},{name:"Khitan_Small_Script",astral:"𖿤|\uD822[\uDF00-\uDFFF]|\uD823[\uDC00-\uDCD5]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"\uD804[\uDE00-\uDE11\uDE13-\uDE3E]"},{name:"Khudawadi",astral:"\uD804[\uDEB0-\uDEEA\uDEF0-\uDEF9]"},{name:"Lao",bmp:"ກຂຄຆ-ຊຌ-ຣລວ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꟿꬰ-ꭚꭜ-ꭤꭦ-ꭩﬀ-ﬆＡ-Ｚａ-ｚ",astral:"\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD837[\uDF00-\uDF1E]"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"\uD801[\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]"},{name:"Linear_B",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA]"},{name:"Lisu",bmp:"ꓐ-꓿",astral:"𑾰"},{name:"Lycian",astral:"\uD800[\uDE80-\uDE9C]"},{name:"Lydian",astral:"\uD802[\uDD20-\uDD39\uDD3F]"},{name:"Mahajani",astral:"\uD804[\uDD50-\uDD76]"},{name:"Makasar",astral:"\uD807[\uDEE0-\uDEF8]"},{name:"Malayalam",bmp:"ഀ-ഌഎ-ഐഒ-ൄെ-ൈൊ-൏ൔ-ൣ൦-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"\uD802[\uDEC0-\uDEE6\uDEEB-\uDEF6]"},{name:"Marchen",astral:"\uD807[\uDC70-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]"},{name:"Masaram_Gondi",astral:"\uD807[\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]"},{name:"Medefaidrin",astral:"\uD81B[\uDE40-\uDE9A]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6]"},{name:"Meroitic_Cursive",astral:"\uD802[\uDDA0-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDDFF]"},{name:"Meroitic_Hieroglyphs",astral:"\uD802[\uDD80-\uDD9F]"},{name:"Miao",astral:"\uD81B[\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F]"},{name:"Modi",astral:"\uD805[\uDE00-\uDE44\uDE50-\uDE59]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠙ᠠ-ᡸᢀ-ᢪ",astral:"\uD805[\uDE60-\uDE6C]"},{name:"Mro",astral:"\uD81A[\uDE40-\uDE5E\uDE60-\uDE69\uDE6E\uDE6F]"},{name:"Multani",astral:"\uD804[\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA9]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"\uD802[\uDC80-\uDC9E\uDCA7-\uDCAF]"},{name:"Nandinagari",astral:"\uD806[\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE4]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Newa",astral:"\uD805[\uDC00-\uDC5B\uDC5D-\uDC61]"},{name:"Nko",bmp:"߀-ߺ߽-߿"},{name:"Nushu",astral:"𖿡|\uD82C[\uDD70-\uDEFB]"},{name:"Nyiakeng_Puachue_Hmong",astral:"\uD838[\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDD4F]"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"\uD803[\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF]"},{name:"Old_Italic",astral:"\uD800[\uDF00-\uDF23\uDF2D-\uDF2F]"},{name:"Old_North_Arabian",astral:"\uD802[\uDE80-\uDE9F]"},{name:"Old_Permic",astral:"\uD800[\uDF50-\uDF7A]"},{name:"Old_Persian",astral:"\uD800[\uDFA0-\uDFC3\uDFC8-\uDFD5]"},{name:"Old_Sogdian",astral:"\uD803[\uDF00-\uDF27]"},{name:"Old_South_Arabian",astral:"\uD802[\uDE60-\uDE7F]"},{name:"Old_Turkic",astral:"\uD803[\uDC00-\uDC48]"},{name:"Old_Uyghur",astral:"\uD803[\uDF70-\uDF89]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍୕-ୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osage",astral:"\uD801[\uDCB0-\uDCD3\uDCD8-\uDCFB]"},{name:"Osmanya",astral:"\uD801[\uDC80-\uDC9D\uDCA0-\uDCA9]"},{name:"Pahawh_Hmong",astral:"\uD81A[\uDF00-\uDF45\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]"},{name:"Palmyrene",astral:"\uD802[\uDC60-\uDC7F]"},{name:"Pau_Cin_Hau",astral:"\uD806[\uDEC0-\uDEF8]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"\uD802[\uDD00-\uDD1B\uDD1F]"},{name:"Psalter_Pahlavi",astral:"\uD802[\uDF80-\uDF91\uDF99-\uDF9C\uDFA9-\uDFAF]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-ꣅ꣎-꣙"},{name:"Sharada",astral:"\uD804[\uDD80-\uDDDF]"},{name:"Shavian",astral:"\uD801[\uDC50-\uDC7F]"},{name:"Siddham",astral:"\uD805[\uDD80-\uDDB5\uDDB8-\uDDDD]"},{name:"SignWriting",astral:"\uD836[\uDC00-\uDE8B\uDE9B-\uDE9F\uDEA1-\uDEAF]"},{name:"Sinhala",bmp:"ඁ-ඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"\uD804[\uDDE1-\uDDF4]"},{name:"Sogdian",astral:"\uD803[\uDF30-\uDF59]"},{name:"Sora_Sompeng",astral:"\uD804[\uDCD0-\uDCE8\uDCF0-\uDCF9]"},{name:"Soyombo",astral:"\uD806[\uDE50-\uDEA2]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠬"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏࡠ-ࡪ"},{name:"Tagalog",bmp:"ᜀ-᜕ᜟ"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"\uD805[\uDE80-\uDEB9\uDEC0-\uDEC9]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺",astral:"\uD807[\uDFC0-\uDFF1\uDFFF]"},{name:"Tangsa",astral:"\uD81A[\uDE70-\uDEBE\uDEC0-\uDEC9]"},{name:"Tangut",astral:"𖿠|[\uD81C-\uD820][\uDC00-\uDFFF]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEFF]|\uD823[\uDD00-\uDD08]"},{name:"Telugu",bmp:"ఀ-ఌఎ-ఐఒ-నప-హ఼-ౄె-ైొ-్ౕౖౘ-ౚౝౠ-ౣ౦-౯౷-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"\uD805[\uDC80-\uDCC7\uDCD0-\uDCD9]"},{name:"Toto",astral:"\uD838[\uDE90-\uDEAE]"},{name:"Ugaritic",astral:"\uD800[\uDF80-\uDF9D\uDF9F]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Vithkuqi",astral:"\uD801[\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]"},{name:"Wancho",astral:"\uD838[\uDEC0-\uDEF9\uDEFF]"},{name:"Warang_Citi",astral:"\uD806[\uDCA0-\uDCF2\uDCFF]"},{name:"Yezidi",astral:"\uD803[\uDE80-\uDEA9\uDEAB-\uDEAD\uDEB0\uDEB1]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"},{name:"Zanabazar_Square",astral:"\uD806[\uDE00-\uDE47]"}]),s2}var gS;function ipe(){return gS||(gS=1,function(e,t){var r=ms,n=Es;r(t,"__esModule",{value:!0}),t.default=void 0;var u=n(ape());/*!
 * XRegExp Unicode Scripts 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */var s=function(a){if(!a.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");a.addUnicodeData(u.default,"Script")};t.default=s,e.exports=t.default}(Dl,Dl.exports)),Dl.exports}(function(e,t){var r=ms,n=Es;r(t,"__esModule",{value:!0}),t.default=void 0;var u=n(Lle()),s=n(epe()),o=n(tpe()),a=n(rpe()),i=n(upe()),c=n(ope()),l=n(ipe());(0,s.default)(u.default),(0,o.default)(u.default),(0,a.default)(u.default),(0,i.default)(u.default),(0,c.default)(u.default),(0,l.default)(u.default);var p=u.default;t.default=p,e.exports=t.default})(Fh,Fh.exports);var mf=Fh.exports,AS=cpe(mf);function cpe(e){return e&&e.__esModule?e:{default:e}}var lpe={startDocument:[{description:"Set up storage",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;t.verseContent=[],t.chapter=null,t.verses=null,r.cv={}}}],mark:[{description:"Update CV state",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n}=e,{element:u}=t.sequences[0];u.subType==="chapter"?(r.chapter=u.atts.number,r.verses=0,n.cv[r.chapter]={},n.cv[r.chapter][r.verses]={}):u.subType==="verses"&&(r.verses=u.atts.number,n.cv[r.chapter][r.verses]={})}}],text:[{description:"Log occurrences",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n}=e,{chapter:u,verses:s}=r,{text:o}=t.sequences[0].element,a=(0,AS.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),i=AS.default.match(o,a,"all");for(var c of i){var l,p;(p=(l=n.cv[u][s])[c])!==null&&p!==void 0||(l[c]=0),n.cv[u][s][c]+=1}}}]},pw={verseWordsActions:lpe},FS=ppe(mf);function ppe(e){return e&&e.__esModule?e:{default:e}}function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){fpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fpe(e,t,r){return t=dpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dpe(e){var t=Dpe(e,"string");return typeof t=="symbol"?t:String(t)}function Dpe(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hpe={startDocument:[{description:"Set up",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;return t.chapter=null,t.verses=null,t.lastWord="",t.waitingMarkup=[],t.currentOccurrences={},t.PendingStartMilestones=[],r.stripped={},r.unalignedWords={},!0}}],startMilestone:[{description:"Ignore zaln startMilestone events",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:zaln"},action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;n.subtype=n.subType,delete n.subType,r.waitingMarkup.push(n),r.PendingStartMilestones.push(n)}}],endMilestone:[{description:"Ignore zaln endMilestone events",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:zaln"},action:e=>{var{context:t,workspace:r,output:n,config:u}=e,{chapter:s,verses:o,lastWord:a}=r,{verseWords:i}=u,c=["after",a,r.currentOccurrences[a],i[s][o][a]].join("--"),l=hl({},t.sequences[0].element);l.subtype=l.subType,delete l.subType;var p={chapter:s,verses:o,occurrence:r.currentOccurrences[a],occurrences:i[s][o][a],position:"after",word:a,payload:l,startMilestone:r.PendingStartMilestones.shift()};return n.stripped[r.chapter][r.verses][c]?n.stripped[r.chapter][r.verses][c].push(p):n.stripped[r.chapter][r.verses][c]=[p],!1}}],startWrapper:[{description:"Ignore w startWrapper events",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:w"},action:e=>{var{context:t,workspace:r}=e,n=hl({},t.sequences[0].element);n.subtype=n.subType,delete n.subType,r.waitingMarkup.push(n)}}],endWrapper:[{description:"Ignore w endWrapper events",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:w"},action:e=>{}}],text:[{description:"Log occurrences",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n,config:u}=e;try{var s=t.sequences[0];if(s.type!=="main")return!0;var o=s.element.text,a=(0,FS.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),i=FS.default.match(o,a,"all"),{chapter:c,verses:l}=r,{verseWords:p}=u;for(var f of i){var d,h;if((h=(d=r.currentOccurrences)[f])!==null&&h!==void 0||(d[f]=0),r.currentOccurrences[f]++,!r.PendingStartMilestones.length&&r.waitingMarkup.length){var E,A,m,y;(A=(E=n.unalignedWords)[c])!==null&&A!==void 0||(E[c]={}),(y=(m=n.unalignedWords[c])[l])!==null&&y!==void 0||(m[l]=[]),n.unalignedWords[c][l].push({word:f,occurrence:r.currentOccurrences[f],totalOccurrences:p[c][l][f]})}for(;r.waitingMarkup.length;){var F=r.waitingMarkup.shift(),B=["before",f,r.currentOccurrences[f],p[c][l][f]].join("--"),P={chapter:c,verses:l,occurrence:r.currentOccurrences[f],occurrences:p[c][l][f],position:"before",word:f,payload:hl(hl({},F),F.subtype==="usfm:w"&&{content:[f]})};n.stripped[r.chapter][r.verses][B]?n.stripped[r.chapter][r.verses][B].push(P):n.stripped[r.chapter][r.verses][B]=[P]}r.lastWord=f}}catch($){throw console.error($),$}return!0}}],mark:[{description:"Update CV state",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n}=e;try{var u=t.sequences[0].element;u.subType==="chapter"?(r.chapter=u.atts.number,r.verses=0,r.lastWord="",r.currentOccurrences={},n.stripped[r.chapter]={},n.stripped[r.chapter][r.verses]={}):u.subType==="verses"&&(r.verses=u.atts.number,r.lastWord="",r.currentOccurrences={},n.stripped[r.chapter][r.verses]={})}catch(s){throw console.error(s),s}return!0}}]},fw={stripMarkupActions:hpe},Ks=mpe(mf);function mpe(e){return e&&e.__esModule?e:{default:e}}var dw=[["printable","wordLike",(0,Ks.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})")],["printable","lineSpace",(0,Ks.default)("([\\p{Separator}	]{1,127})")],["printable","punctuation",(0,Ks.default)("([\\p{Punctuation}\\p{Math_Symbol}\\p{Currency_Symbol}\\p{Modifier_Symbol}\\p{Other_Symbol}])")],["bad","unknown",(0,Ks.default)("(.)")]],Epe=Ks.default.union(dw.map(e=>e[2])),vpe={type:"end_milestone",subtype:"usfm:zaln"},ype={startDocument:[{description:"setup",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;return t.chapter=null,t.verses=null,t.currentOccurrences={},r.unalignedWords={},!0}}],text:[{description:"add-to-text",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;try{let m=function(){for(;h.length;)n.outputContentStack[0].push(h.shift())};var s=r.sequences[0];if(s.type!=="main")return!0;var o=r.sequences[0].element.text,a=Ks.default.match(o,Epe,"all"),{chapter:i,verses:c}=n;if(!c)return!0;var{totalOccurrences:l,strippedAlignment:p}=t,f={opened:null},d=y=>{var{subtype:F,content:B=[],atts:P={}}=y;return Object.keys(P).length>0?{type:"wrapper",subtype:F,content:B,atts:P}:{type:"wrapper",subtype:F,content:B}},h=[],E=function(F){var B,P,$,I=(B=Ks.default.match(F,dw[0][2],"all"))===null||B===void 0?void 0:B.length;if(!I)return h.push(F),1;($=(P=n.currentOccurrences)[F])!==null&&$!==void 0||(P[F]=0),n.currentOccurrences[F]++;var U=Ce=>[Ce,F,n.currentOccurrences[F],l[i][c][F]].join("--"),j=p[i][c],W=!1,te=j[U("after")],Y=j[U("before")];if(Y!=null&&Y.length&&m(),te!=null&&te.length&&!f.opened&&(te.map(Ce=>{var{startMilestone:pe}=Ce;return n.outputContentStack[0].push(pe)}),W=!0),Y==null||Y.forEach(Ce=>{var{payload:pe}=Ce;pe.type!=="start_milestone"&&n.outputContentStack[0].push(pe),pe.type==="start_milestone"&&!W&&(n.outputContentStack[0].push(pe),f.opened=!0)}),te==null||te.forEach(Ce=>{var{payload:pe}=Ce;f.opened=!1,n.outputContentStack[0].push(pe)}),!(Y!=null&&Y.length)){var oe,ie,fe,De;f.opened&&(n.outputContentStack[0].push(vpe),f.opened=!1),m(),(ie=(oe=u.unalignedWords)[i])!==null&&ie!==void 0||(oe[i]={}),(De=(fe=u.unalignedWords[i])[c])!==null&&De!==void 0||(fe[c]=[]),u.unalignedWords[n.chapter][n.verses].push({word:F,occurrence:n.currentOccurrences[F],totalOccurrences:l[i][c][F]});var de=d({subtype:"usfm:w",content:[F]});n.outputContentStack[0].push(de)}};for(var A of a)E(A);return m(),!1}catch(m){throw console.error(m),m}}}],mark:[{description:"mark-chapters",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="chapter"},action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element;return n.chapter=s.atts.number,n.verses=0,!0}},{description:"mark-verses",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="verses"},action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element;return n.verses=s.atts.number,n.currentOccurrences={},!0}}]},Dw={mergeAlignmentActions:ype},{verseWordsActions:gpe}=pw,{stripMarkupActions:Ape}=fw,{mergeAlignmentActions:Fpe}=Dw,Cpe={verseWordsActions:gpe,stripMarkupActions:Ape,mergeAlignmentActions:Fpe};let bpe=class{constructor(t){if(!t)throw new Error("Must provide a constructor object to constructor");this.description=t.description?t.description:(()=>{throw new Error("Must provide a description in constructor object")})(),this.test=t.test||(()=>!0),this.action=t.action||(()=>null)}};var Spe=bpe,bS=Spe;let wpe=class hw{constructor(t){if(this.constructor===hw)throw new Error("Abstract class ProskommaRender cannot be instantiated - make as subclass!");var r=t.actions||{};this.debugLevel=t.debugLevel||0,this.actions={};for(var n of["startDocument","endDocument","startSequence","startTable","endTable","endSequence","unresolvedBlockGraft","blockGraft","startParagraph","endParagraph","startRow","endRow","startCell","endCell","metaContent","mark","unresolvedInlineGraft","inlineGraft","startWrapper","endWrapper","startMilestone","endMilestone","startVerses","endVerses","startChapter","endChapter","text"])r[n]?this.actions[n]=r[n].map(u=>new bS(u)):this.actions[n]=[]}addRenderActionObject(t,r){if(!this.actions[t])throw new Error("Unknown event '".concat(t));this.actions[t].push(r)}addRenderAction(t,r){this.addRenderActionObject(t,new bS(r))}describeRenderActions(t){if(!this.actions[t])throw new Error("Unknown event '".concat(t));var r=["**Actions for ".concat(t,`**
`)];for(var n of this.actions[t])r.push("IF ".concat(n.test.toString(),":")),r.push("    DO ".concat(n.description));return r.join(`
`)}renderDocument(t){var{docId:r,config:n,output:u}=t,s={},o={};return this.renderDocument1({docId:r,config:n,context:s,workspace:o,output:u}),u}renderDocument1(t){throw new Error("Define renderDocument1() in subclass")}renderEvent(t,r){var n=r.context;if(this.debugLevel>1&&console.log("".concat("    ".repeat(n.sequences.length),"EVENT ").concat(t)),!this.actions[t])throw new Error("Unknown event '".concat(t));var u=!1;for(var s of this.actions[t]){var o=!1;try{o=s.test(r)}catch(c){var a="Exception from test of action '".concat(s.description,"' for event ").concat(t," in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: ").concat(c);throw new Error(a)}if(o){u=!0,this.debugLevel>0&&console.log("".concat("    ".repeat(n.sequences.length),"    ").concat(t," action: ").concat(s.description));var i=!1;try{i=s.action(r)}catch(c){throw new Error("Exception from action '".concat(s.description,"' for event ").concat(t," in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: ").concat(c))}if(!i)break}}if(["unresolvedBlockGraft","unresolvedInlineGraft"].includes(t)&&this.actions[t].length===0)throw new Error("No action for ".concat(t," graft event in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: add an action or fix your data!"));!u&&this.debugLevel>1&&console.log("".concat("    ".repeat(n.sequences.length),"    No matching action"))}};var Ac=wpe,_pe=Ac;let Bpe=class extends _pe{constructor(t){if(super(t),!t.srcJson)throw new Error("Must provide srcJson");this.srcJson=t.srcJson}renderDocument1(t){var{docId:r,config:n,context:u,workspace:s,output:o}=t,a={config:n,context:u,workspace:s,output:o};u.renderer=this,u.document={id:r,schema:this.srcJson.schema,metadata:this.srcJson.metadata,mainSequenceId:this.srcJson.main_sequence_id,nSequences:Object.keys(this.srcJson.sequences).length},u.sequences=[],this.renderEvent("startDocument",a),this.renderSequenceId(a,this.srcJson.main_sequence_id),this.renderEvent("endDocument",a)}sequenceContext(t,r){return{id:r,type:t.type,nBlocks:t.blocks.length,milestones:new Set([])}}renderSequenceId(t,r){var n=t.context,u=this.srcJson.sequences[r];if(!u)throw new Error("Sequence '".concat(r,"' not found in renderSequenceId()"));n.sequences.unshift(this.sequenceContext(u,r)),this.renderEvent("startSequence",t);for(var[s,o]of u.blocks.entries())n.sequences[0].block={type:o.type,subType:o.subtype,blockN:s,wrappers:[]},o.type==="graft"?o.target&&!this.srcJson.sequences[o.target]?(n.sequences[0].block.target=o.target,this.renderEvent("unresolvedBlockGraft",t)):(n.sequences[0].block.target=o.target,n.sequences[0].block.isNew=o.new||!1,this.renderEvent("blockGraft",t)):o.type==="row"?(this.renderEvent("startRow",t),this.renderContent(o.content,t),this.renderEvent("endRow",t)):(this.renderEvent("startParagraph",t),this.renderContent(o.content,t),this.renderEvent("endParagraph",t)),delete n.sequences[0].block;this.renderEvent("endSequence",t),n.sequences.shift()}renderContent(t,r){for(var n of t)this.renderElement(n,r)}renderElement(t,r){var n=o=>{t.meta_content&&(o.metaContent=t.meta_content,this.renderEvent("metaContent",r))},u=r.context,s={type:t.type||"text"};if(t.subtype&&(s.subType=t.subtype),t.atts?s.atts=t.atts:s.type!=="end_milestone"&&s.type!=="meta_content"&&(s.atts={}),t.target&&(s.target=t.target),t.type==="graft"&&(s.isNew=t.new||!1),s.type==="text"&&(s.text=t),u.sequences[0].element=s,s.type==="text")this.renderEvent("text",r),n(s);else if(s.type==="mark")this.renderEvent("mark",r),n(s);else if(s.type==="start_milestone")this.renderEvent("startMilestone",r),n(s);else if(s.type==="end_milestone")this.renderEvent("endMilestone",r),n(s);else if(s.type==="graft"){if(t.target&&t.target&&!this.srcJson.sequences[t.target]){this.renderEvent("unresolvedInlineGraft",r);return}this.renderEvent("inlineGraft",r),n(s)}else if(s.type==="wrapper")u.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",r),this.renderContent(t.content,r),u.sequences[0].element=s,n(s),this.renderEvent("endWrapper",r),u.sequences[0].block.wrappers.shift();else throw new Error("Unexpected element type '".concat(s.type));delete u.sequences[0].element}};var As=Bpe,Tpe=$pe(As);function $pe(e){return e&&e.__esModule?e:{default:e}}var{verseWordsActions:Ppe}=pw,Ope=function(t){var{perf:r}=t,n=new Tpe.default({srcJson:r,actions:Ppe}),u={};return n.renderDocument({docId:"",config:{},output:u}),{verseWords:u.cv}},kpe={name:"verseWords",type:"Transform",description:"PERF=>JSON: Counts words occurrences",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"verseWords",type:"json"}],code:Ope},Ipe={verseWords:kpe},Npe=e=>{var t={};for(var r of e)for(var n of Object.keys(r))t[n]?t[n].push(...r[n]):t[n]=r[n];return t},Ef=Npe,qpe={startDocument:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;u.perf={},u.perf.schema=r.document.schema,u.perf.metadata=r.document.metadata,u.perf.sequences={}}}],endDocument:[{description:"identity",test:()=>!0,action:e=>{}}],startSequence:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;u.perf.sequences[r.sequences[0].id]={type:r.sequences[0].type,blocks:[]},n.outputSequence=u.perf.sequences[r.sequences[0].id],r.sequences[0].type==="main"&&(u.perf.main_sequence_id=r.sequences[0].id)}}],endSequence:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;r.sequences.length>1&&(n.outputSequence=u.perf.sequences[r.sequences[1].id])}}],blockGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].block,r={type:t.type,subtype:t.subType};t.target&&(r.target=t.target,e.context.renderer.renderSequenceId(e,r.target)),t.isNew&&(r.new=t.isNew),e.workspace.outputSequence.blocks.push(r)}}],startParagraph:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].block,o={type:s.type,subtype:s.subType,content:[]};n.outputSequence.blocks.push(o),n.currentContent=o.content,n.outputBlock=n.outputSequence.blocks[n.outputSequence.blocks.length-1],n.outputContentStack=[n.outputBlock.content]}}],endParagraph:[{description:"identity",test:()=>!0,action:e=>{}}],metaContent:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element;n.currentContent=s.metaContent;var o=n.outputContentStack[1][n.outputContentStack[1].length-1];o.meta_content=[],n.outputContentStack.unshift(o.meta_content),r.renderer.renderContent(n.currentContent,e),n.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element,o={type:s.type,subtype:s.subType};s.atts&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(o.atts=s.atts),n.outputContentStack[0].push(o)}}],inlineGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].element,r={type:t.type,subtype:t.subType};if(t.target){r.target=t.target;var n=e.workspace.outputContentStack[0];e.context.renderer.renderSequenceId(e,t.target),e.workspace.outputContentStack[0]=n}t.isNew&&(r.new=t.isNew),e.workspace.outputContentStack[0].push(r)}}],startRow:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].block,u={type:n.type,subtype:n.subType,content:[]};r.outputSequence.blocks.push(u),r.currentContent=u.content,r.outputBlock=r.outputSequence.blocks[r.outputSequence.blocks.length-1],r.outputContentStack=[r.outputBlock.content]}}],endRow:[{description:"identity",test:()=>!0,action:e=>{}}],startWrapper:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element,o={type:s.type,subtype:s.subType,content:[]};"atts"in s&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(o.atts=s.atts),n.outputContentStack[0].push(o),n.outputContentStack.unshift(o.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;n.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element,o={type:s.type,subtype:s.subType};s.atts&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(o.atts=s.atts),n.outputContentStack[0].push(o)}}],endMilestone:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element,o={type:s.type,subtype:s.subType};n.outputContentStack[0].push(o)}}],text:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element;n.outputContentStack[0].push(s.text)}}]},Fc={identityActions:qpe},xpe=mw(As),Rpe=mw(Ef);function mw(e){return e&&e.__esModule?e:{default:e}}var{identityActions:jpe}=Fc,{stripMarkupActions:Mpe}=fw,Lpe=function(t){var{perf:r,verseWords:n}=t,u=new xpe.default({srcJson:r,actions:(0,Rpe.default)([Mpe,jpe])}),s={};return u.renderDocument({docId:"",config:{verseWords:n},output:s}),{perf:s.perf,strippedAlignment:s.stripped,unalignedWords:s.unalignedWords}},Upe={name:"stripAlignment",type:"Transform",description:"PERF=>PERF: Strips alignment markup",inputs:[{name:"perf",type:"json",source:""},{name:"verseWords",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],code:Lpe},Gpe={stripAlignment:Upe},Vpe=Ew(As),Hpe=Ew(Ef);function Ew(e){return e&&e.__esModule?e:{default:e}}var{identityActions:Wpe}=Fc,{mergeAlignmentActions:Jpe}=Dw,zpe=function(t){var{perf:r,verseWords:n,strippedAlignment:u}=t,s=new Vpe.default({srcJson:r,actions:(0,Hpe.default)([Jpe,Wpe])}),o={};return s.renderDocument({docId:"",config:{totalOccurrences:n,strippedAlignment:u},output:o}),{perf:o.perf,unalignedWords:o.unalignedWords}},Kpe={name:"mergeAlignment",type:"Transform",description:"PERF=>PERF adds report to verses",inputs:[{name:"perf",type:"json",source:""},{name:"strippedAlignment",type:"json",source:""},{name:"verseWords",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],code:zpe},Xpe={mergeAlignment:Kpe},{verseWords:Ype}=Ipe,{stripAlignment:Zpe}=Gpe,{mergeAlignment:Qpe}=Xpe,efe={verseWords:Ype,stripAlignment:Zpe,mergeAlignment:Qpe},tfe=Cpe,rfe=efe,nfe={transforms:rfe,renderActions:tfe},ufe={},vw=function(t){var{usfm:r,selectors:n,proskomma:u}=t;u.importDocuments(n,"usfm",[r]);var s=u.gqlQuerySync("{documents {id docSetId perf} }").data.documents[0],o=s.id,a=s.docSetId;u.gqlQuerySync('mutation { deleteDocument(docSetId: "'.concat(a,'", documentId: "').concat(o,'") }'));var i=JSON.parse(s.perf);return{perf:i}},sfe={name:"usfmToPerf",type:"Transform",description:"USFM=>PERF: Conversion via Proskomma",inputs:[{name:"usfm",type:"text",source:""},{name:"selectors",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:vw},ofe={usfmToPerf:sfe,usfmToPerfCode:vw},{usfmToPerf:afe,usfmToPerfCode:ife}=ofe,cfe={usfmToPerf:afe,usfmToPerfCode:ife},lfe=ufe,pfe=cfe,ffe={transforms:pfe,renderActions:lfe};function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function dfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){Dfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dfe(e,t,r){return t=hfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hfe(e){var t=mfe(e,"string");return typeof t=="symbol"?t:String(t)}function mfe(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Efe={startDocument:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;u.sofria={},u.paras=[],u.sofria.schema=r.document.schema,u.sofria.metadata=r.document.metadata,u.sofria.sequence={},n.currentSequence=u.sofria.sequence,n.chapter=null,n.verses=null,n.cachedChapter=null,n.cachedVerses=null}}],endDocument:[{description:"identity",test:()=>!0,action:e=>{}}],startSequence:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e;r.currentSequence==null&&(r.currentSequence={}),r.currentSequence.type=t.sequences[0].type,r.currentSequence.blocks=[]}}],endSequence:[{description:"identity",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;t.currentSequence.type==="main"&&(t.chapter=null,t.verses=null),r.paras==null?r.paras=t.currentSequence.blocks:t.currentSequence.type==="main"&&(r.paras=r.paras.concat(t.currentSequence.blocks)),t.currentSequence=null}}],blockGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].block,r={type:t.type};if(t.sequence){r.sequence={};var n=e.workspace.currentSequence;e.workspace.currentSequence=r.sequence,e.context.renderer.renderSequence(e),e.workspace.currentSequence=n}e.workspace.currentSequence.blocks.push(r)}}],startParagraph:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].block,u={type:n.type,subtype:n.subType,content:[]};if(r.currentSequence.blocks.push(u),r.currentContent=u.content,r.outputBlock=r.currentSequence.blocks[r.currentSequence.blocks.length-1],r.outputContentStack=[r.outputBlock.content],r.currentSequence.type==="main"){for(var s of["chapter","verses"])if(r[s]){var o={type:"wrapper",subtype:s,content:[],atts:{number:r[s]}};r.outputContentStack[0].push(o),r.outputContentStack.unshift(o.content)}}}}],endParagraph:[{description:"identity",test:()=>!0,action:e=>{}}],startRow:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].block,u={type:n.type,subtype:n.subType,content:[]};if(r.currentSequence.blocks.push(u),r.currentContent=u.content,r.outputBlock=r.currentSequence.blocks[r.currentSequence.blocks.length-1],r.outputContentStack=[r.outputBlock.content],r.currentSequence.type==="main"){for(var s of["chapter","verses"])if(r[s]){var o={type:"wrapper",subtype:s,content:[],atts:{number:r[s]}};r.outputContentStack[0].push(o),r.outputContentStack.unshift(o.content)}}}}],endRow:[{description:"identity",test:()=>!0,action:e=>{}}],metaContent:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;r.currentContent=n.metaContent;var u=r.outputContentStack[1][r.outputContentStack[1].length-1];u.meta_content=[],r.outputContentStack.unshift(u.meta_content),t.renderer.renderContent(r.currentContent,e),r.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element,u={type:n.type,subtype:n.subType};n.atts&&(u.atts=n.atts),r.outputContentStack[0].push(u)}}],inlineGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].element,r={type:t.type,subtype:t.subType,sequence:{}},n=e.workspace.currentSequence,u=[...e.workspace.outputContentStack];e.workspace.currentSequence=r.sequence,e.context.renderer.renderSequence(e),e.workspace.outputContentStack=u,e.workspace.currentSequence=n,e.workspace.outputContentStack[0].push(r)}}],startWrapper:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;n.subType==="chapter"?(r.chapter=n.atts.number,r.cachedChapter=r.chapter):n.subType==="verses"&&(r.verses=n.atts.number,r.cachedVerses=r.verses);var u={type:n.type,subtype:n.subType,content:[]};if("atts"in n&&(u.atts=dfe({},n.atts)),r.outputContentStack.length===0)throw new Error("outputContentStack is empty before pushing to its first element, near ".concat(t.document.metadata.document.bookCode," ").concat(r.cachedChapter,":").concat(r.cachedVerses));r.outputContentStack[0].push(u),r.outputContentStack.unshift(u.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;n.subType==="chapter"?r.chapter=null:n.subType==="verses"&&(r.verses=null),r.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element,u={type:n.type,subtype:n.subType};n.atts&&(u.atts=n.atts),r.outputContentStack[0].push(u)}}],endMilestone:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element,u={type:n.type,subtype:n.subType};r.outputContentStack[0].push(u)}}],text:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;r.outputContentStack&&r.outputContentStack[0].push(n.text)}}]},yw={identityActions:Efe},{identityActions:vfe}=yw,yfe={identityActions:vfe},{identityActions:gfe}=yw,Afe=function(t){var{perf:r}=t,n=new PerfRenderFromJson({srcJson:r,actions:gfe}),u={};return n.renderDocument({docId:"",config:{},output:u}),{verseWords:u.cv}},Ffe={name:"identity",type:"Transform",description:"identity operation",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:Afe},Cfe={identity:Ffe},{identity:bfe}=Cfe,Sfe={identity:bfe},wfe=yfe,_fe=Sfe,Bfe={transforms:_fe,renderActions:wfe},Tfe={startDocument:[{description:"Set up word object",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;n.words={}}}],text:[{description:"Split strings and add words to word object",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;for(var s of r.sequences[0].element.text.split(/[\s:;,.]+/).filter(o=>o.length>0))s=s.toLowerCase(),s in n.words?n.words[s]+=1:n.words[s]=1}}],endDocument:[{description:"Sort words",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;u.words=[...Object.entries(n.words)].sort((s,o)=>o[1]-s[1])}}]},gw={wordCountActions:Tfe},wS=e=>({type:e.sequences[0].block.type,subType:e.sequences[0].block.subType,pos:e.sequences[0].block.blockN,perfChapter:null}),$fe={startDocument:[{description:"Set up storage",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;t.blockRecords=[],r.report={}}}],startParagraph:[{description:"Set up block record",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n}=e;r.blockRecords.push(wS(t))}}],blockGraft:[{description:"Set up block record",test:()=>!0,action:e=>{var{context:t,workspace:r,output:n}=e;r.blockRecords.push(wS(t))}}],mark:[{description:"Add chapter number to block record",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="chapter"},action:e=>{var{config:t,context:r,workspace:n,output:u}=e;n.blockRecords[n.blockRecords.length-1].perfChapter=r.sequences[0].element.atts.number}}],endDocument:[{description:"Populate report",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;for(var[n,u]of Object.entries(t.blockRecords))if(u.perfChapter){for(var s=n,o=!1;s>0&&!o;)t.blockRecords[s-1].type==="paragraph"||t.blockRecords[s-1].subType==="title"?o=!0:s--;r.report[s.toString()]=u.perfChapter}}}]},Aw={calculateUsfmChapterPositionsActions:$fe},Nr=e=>["toc","toca","mt","imt","s","ms","mte","sd"].includes(e)?e+"1":e,Pfe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r==null&&(r={});var n="\\".concat(t,"-s |");for(var[u,s]of Object.entries(r))u==="x-morph"&&typeof s!="string"?n=n+Nr(u)+'="'+s.join(",")+'" ':n=n+Nr(u)+'="'+s+'" ';return n+"\\*"},Ofe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;r==null&&(r={});var u="|";for(var[s,o]of Object.entries(r))u=u+Nr(s)+'="'+o+'" ';return u=u+"\\",n&&(u=u+"+"),u+t+"*"},kfe={startDocument:[{description:"Set up environment",test:()=>!0,action:e=>{var{context:t,workspace:r}=e;r.usfmBits=[""],r.nestedWrapper=0;for(var[n,u]of Object.entries(t.document.metadata.document).filter(s=>!["tags","properties","bookCode","cl"].includes(s[0])))r.usfmBits.push("\\".concat(Nr(n)," ").concat(u,`
`))}}],blockGraft:[{description:"Follow block grafts",test:e=>{var{context:t}=e;return["title","heading","introduction"].includes(t.sequences[0].block.subType)},action:e=>{var t=e.context.sequences[0],r=e.config.report[t.block.blockN.toString()],n=t.block.target;r&&t.type==="main"&&e.workspace.usfmBits.push(`
\\c `.concat(r,`
`)),n&&e.context.renderer.renderSequenceId(e,n)}}],inlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:e=>{var t=e.context.sequences[0].element.target;t&&e.context.renderer.renderSequenceId(e,t)}}],startParagraph:[{description:"Output footnote paragraph tag (footnote)",test:e=>{var{context:t}=e;return t.sequences[0].block.subType==="usfm:f"&&t.sequences[0].type==="footnote"||t.sequences[0].block.subType==="usfm:x"&&t.sequences[0].type==="xref"},action:e=>{var{context:t,workspace:r,config:n}=e;r.nestedWrapper=0;var u=t.sequences[0];r.usfmBits.push("\\".concat(Nr(u.block.subType.split(":")[1])," "))}},{description:"Output footnote note_caller tag (footnote)",test:e=>{var{context:t}=e;return t.sequences[0].block.subType==="usfm:f"||t.sequences[0].block.subType==="usfm:x"},action:e=>{var{context:t,workspace:r,config:n}=e;r.nestedWrapper=0}},{description:"Output paragraph tag (main)",test:()=>!0,action:e=>{var{context:t,workspace:r,config:n}=e;r.nestedWrapper=0;var u=t.sequences[0],s=n.report[u.block.blockN.toString()];s&&u.type==="main"&&r.usfmBits.push(`
\\c `.concat(s,`
`)),r.usfmBits.push(`
\\`.concat(Nr(u.block.subType.split(":")[1]),`
`))}}],endParagraph:[{description:"Output footnote paragraph tag (footnote)",test:e=>{var{context:t}=e;return t.sequences[0].block.subType==="usfm:f"&&t.sequences[0].type==="footnote"||t.sequences[0].block.subType==="usfm:x"&&t.sequences[0].type==="xref"},action:e=>{var{context:t,workspace:r,config:n}=e,u=t.sequences[0];r.usfmBits.push("\\".concat(Nr(u.block.subType.split(":")[1]),"*"))}},{description:"Output footnote note_caller tag (footnote)",test:e=>{var{context:t}=e;return t.sequences[0].block.subType==="usfm:f"||t.sequences[0].block.subType==="usfm:x"},action:e=>{}},{description:"Output nl",test:()=>!0,action:e=>{var{workspace:t}=e;t.usfmBits.push(`
`)}}],startMilestone:[{description:"Output start milestone",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element,u=Pfe(Nr(n.subType.split(":")[1]),n.atts);r.usfmBits.push(u)}}],endMilestone:[{description:"Output end milestone",test:()=>!0,action:e=>{var{context:t,workspace:r}=e;r.usfmBits.push("\\".concat(Nr(t.sequences[0].element.subType.split(":")[1]),"-e\\*"))}}],text:[{description:"Output text",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element.text;r.usfmBits.push(n)}}],mark:[{description:"Output chapter or verses",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element;n.subType==="verses"&&r.usfmBits.push(`
\\v `.concat(n.atts.number,`
`))}}],endSequence:[{description:"Output \\cl",test:e=>{var{context:t}=e;return t.document.metadata.document.cl&&t.sequences[0].type==="title"},action:e=>{var{context:t,workspace:r}=e;r.usfmBits.push(`
\\cl `.concat(t.document.metadata.document.cl,`
`))}}],startWrapper:[{description:"Output start tag",test:()=>!0,action:e=>{var{workspace:t,context:r}=e,n=r.sequences[0];t.nestedWrapper>0?t.usfmBits.push("\\+".concat(Nr(n.element.subType.split(":")[1])," ")):t.usfmBits.push("\\".concat(Nr(n.element.subType.split(":")[1])," ")),t.nestedWrapper+=1}}],endWrapper:[{description:"Output end tag",test:e=>{var{context:t}=e;return!["fr","fq","fqa","fk","fl","fw","fp","ft","xo","xk","xq","xt","xta"].includes(t.sequences[0].element.subType.split(":")[1])},action:e=>{var{workspace:t,context:r}=e;t.nestedWrapper-=1;var n=r.sequences[0],u=n.element.subType.split(":")[1],s=t.nestedWrapper>0;if(u==="w"){var o=Ofe(Nr(u),n.element.atts,s);t.usfmBits.push(o)}else s?t.usfmBits.push("\\+".concat(Nr(n.element.subType.split(":")[1]),"*")):t.usfmBits.push("\\".concat(Nr(n.element.subType.split(":")[1]),"*"))}},{description:"Do NOT output end tag",test:()=>!0,action:e=>{var{workspace:t}=e;t.nestedWrapper-=1}}],endDocument:[{description:"Build output",test:()=>!0,action:e=>{var{workspace:t,output:r}=e;r.usfm=t.usfmBits.join("").replace(/(\s*)\n(\s*)/gm,`
`)}}]},Fw={perfToUsfmActions:kfe},{wordCountActions:Ife}=gw,{calculateUsfmChapterPositionsActions:Nfe}=Aw,{perfToUsfmActions:qfe}=Fw,xfe={wordCountActions:Ife,perfToUsfmActions:qfe,calculateUsfmChapterPositionsActions:Nfe},Rfe=jfe(As);function jfe(e){return e&&e.__esModule?e:{default:e}}var{wordCountActions:Mfe}=gw,Lfe=function(t){var{perf:r}=t,n=new Rfe.default({srcJson:r,actions:Mfe}),u={};return n.renderDocument({docId:"",config:{},output:u}),{report:u.report}},Ufe={name:"wordCount",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:Lfe},Gfe={wordCount:Ufe},Vfe=Hfe(As);function Hfe(e){return e&&e.__esModule?e:{default:e}}var{calculateUsfmChapterPositionsActions:Wfe}=Aw,Jfe=function(t){var{perf:r}=t,n=new Vfe.default({srcJson:r,actions:Wfe}),u={};return n.renderDocument({docId:"",config:{maxLength:60},output:u}),{report:u.report}},zfe={name:"calculateUsfmChapterPositions",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:Jfe},Kfe={calculateUsfmChapterPositions:zfe},Xfe=Yfe(As);function Yfe(e){return e&&e.__esModule?e:{default:e}}var{perfToUsfmActions:Zfe}=Fw,Qfe=function(t){var{perf:r,report:n}=t,u=new Xfe.default({srcJson:r,actions:Zfe}),s={};return u.renderDocument({docId:"",config:{report:n},output:s}),{usfm:s.usfm}},ede={name:"perfToUsfm",type:"Transform",description:"PERF=>USFM",inputs:[{name:"perf",type:"json",source:""},{name:"report",type:"json",source:""}],outputs:[{name:"usfm",type:"text"}],code:Qfe},tde={perfToUsfm:ede},{wordCount:rde}=Gfe,{calculateUsfmChapterPositions:nde}=Kfe,{perfToUsfm:ude}=tde,sde={wordCount:rde,perfToUsfm:ude,calculateUsfmChapterPositions:nde},ode=xfe,ade=sde,ide={transforms:ade,renderActions:ode},cde={startMilestone:[{description:"Ignore startMilestone events",test:()=>!0,action:()=>{}}],endMilestone:[{description:"Ignore endMilestone events",test:()=>!0,action:()=>{}}],startWrapper:[{description:"Ignore startWrapper events",test:()=>!0,action:()=>{}}],endWrapper:[{description:"Ignore endWrapper events",test:()=>!0,action:()=>{}}],blockGraft:[{description:"Ignore blockGraft events, except for title (\\mt)",test:e=>e.context.sequences[0].block.subType!=="title",action:e=>{}}],inlineGraft:[{description:"Ignore inlineGraft events",test:()=>!0,action:()=>{}}],mark:[{description:"Ignore mark events, except for chapter and verses",test:e=>{var{context:t}=e;return!["chapter","verses"].includes(t.sequences[0].element.subType)},action:()=>{}}]},Cw={justTheBibleActions:cde},{identityActions:lde}=Fc,{justTheBibleActions:pde}=Cw,fde={identityActions:lde,justTheBibleActions:pde},{identityActions:dde}=Fc,Dde=function(t){var{perf:r}=t,n=new PerfRenderFromJson({srcJson:r,actions:dde}),u={};return n.renderDocument({docId:"",config:{},output:u}),{verseWords:u.cv}},hde={name:"identityTransform",type:"Transform",description:"identity operation",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:Dde},mde={identity:hde},Ede=bw(As),vde=bw(Ef);function bw(e){return e&&e.__esModule?e:{default:e}}var{identityActions:yde}=Fc,{justTheBibleActions:gde}=Cw,Ade=function(t){var{perf:r}=t,n=new Ede.default({srcJson:r,actions:(0,vde.default)([gde,yde])}),u={};return n.renderDocument({docId:"",config:{},output:u}),{perf:u.perf}},Fde={name:"justTheBible",type:"Transform",description:"PERF=>PERF: Strips most markup",documentation:"This transform removes milestones, wrappers and most marks. It has been used in several pipelines. It may also be stripping metaContent.",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:Ade},Cde={justTheBible:Fde};const cr={},Sw=e=>{let t=typeof e;return t==="number"||t==="string"||t==="boolean"||t==="undefined"||t==="bigint"||t==="symbol"||e===null},Cc=e=>{if(Sw(e)||!(e instanceof Object))return"primitive";const t=e.constructor&&e.constructor.name&&e.constructor.name.toLowerCase();if(typeof t=="string"&&t.length&&cr[t])return t;let r;for(const n in cr)if(r=cr[n].type,!r||e instanceof r)return n;return"unknown"},bde=(e,t,r)=>Array.prototype.push.call(e,r),Sde=e=>{const t=[];return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},wde=e=>{const t=[...e];return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},_de=(e,t,r)=>{const n=e.length;for(let u=0;u<n;u++){const s=e[u],o={key:u,value:s,type:Cc(s)};r(o)}},Bde=()=>{Object.assign(cr,{array:{type:Array,mayDeepCopy:!0,addElement:bde,makeEmpty:Sde,makeShallow:wde,iterate:_de}})},Tde=()=>{Object.assign(cr,{date:{type:Date,makeShallow:e=>new Date(e.getTime())}})},$de=()=>{Object.assign(cr,{regexp:{type:RegExp,makeShallow:e=>new RegExp(e)}})},Pde=()=>{Object.assign(cr,{function:{type:Function,makeShallow:e=>e}})},Ode=()=>{Object.assign(cr,{error:{type:Error,makeShallow:e=>{const t=new Error(e.message);return t.stack=e.stack,t}}})},kde=e=>{let t=typeof we<"u"&&we[e]||typeof window<"u"&&window[e]||typeof WorkerGlobalScope<"u"&&WorkerGlobalScope[e];typeof t<"u"&&(cr[e.toLowerCase()]={type:t,makeShallow:r=>t.from(r)})},Ide=()=>{["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"].forEach(t=>kde(t))},Nde=()=>{typeof ArrayBuffer<"u"&&Object.assign(cr,{arraybuffer:{type:ArrayBuffer,makeShallow:e=>e.slice(0)}})},qde=()=>{typeof Map>"u"||Object.assign(cr,{map:{type:Map,mayDeepCopy:!0,addElement:(e,t,r)=>e.set(t,r),makeEmpty:()=>new Map,makeShallow:e=>new Map(e),iterate:(e,t,r)=>{e.forEach((n,u)=>{const s={key:u,value:n,type:Cc(n)};r(s)})}}})},xde=()=>{typeof Set>"u"||Object.assign(cr,{set:{type:Set,mayDeepCopy:!0,addElement:(e,t,r)=>e.add(r),makeEmpty:()=>new Set,makeShallow:e=>new Set(e),iterate:(e,t,r)=>{e.forEach(n=>{const u={key:null,value:n,type:Cc(n)};r(u)})}}})},Rde=()=>{typeof WeakSet>"u"||Object.assign(cr,{weakset:{type:WeakSet,makeShallow:e=>e}})},jde=()=>{typeof WeakMap>"u"||Object.assign(cr,{weakmap:{type:WeakMap,makeShallow:e=>e}})},Mde=()=>{typeof Buffer>"u"||Object.assign(cr,{buffer:{type:Buffer,makeShallow:e=>Buffer.from(e)}})},Lde=(e,t,r,n=void 0)=>{n?Object.defineProperty(e,t,n):e[t]=r},Ude=e=>{const t={};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},Gde=e=>{const t=Object.assign({},e);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},Vde=(e,t,r)=>{const n=t?Object.getOwnPropertyNames(e):Object.keys(e),u=n.length;for(let s=0;s<u;s++){const o=n[s],a=e[o],i={key:o,value:a,type:Cc(a)};t&&!e.propertyIsEnumerable(o)&&(i.descriptor=Object.getOwnPropertyDescriptor(e,o)),r(i)}},Hde=()=>{Object.assign(cr,{object:{type:Object,mayDeepCopy:!0,addElement:Lde,makeEmpty:Ude,makeShallow:Gde,iterate:Vde}})},Wde=()=>{Object.assign(cr,{unknown:{makeShallow:e=>e},primitive:{makeShallow:e=>e}})};Bde();Tde();$de();Pde();Ode();Ide();Nde();qde();xde();Rde();jde();Mde();Hde();Wde();function Jde(e){return cr[e]}var zde=[Sw,Cc,Jde];const[Kde,Xde,bh]=zde,Sh={goDeep:!0,includeNonEnumerable:!1,detectCircular:!0,maxDepth:20};function Yde(e){Object.keys(Sh).forEach(t=>{e[t]===void 0&&(e[t]=Sh[t])})}class Zde{constructor(){this._seenMap=new WeakMap}setAsCopied(t,r){t instanceof Object&&this._seenMap.set(t,r)}wasCopied(t){return t instanceof Object&&this._seenMap.has(t)}getCopy(t){return this._seenMap.get(t)}}function Qde(e,t,r){const{options:n,watcher:u}=r;let s;return t.mayDeepCopy?(s=t.makeEmpty(e),n.detectCircular&&u.setAsCopied(e,s)):s=t.makeShallow(e),s}function e1e(e,t){if(e>=t)throw`Error max depth of ${t} levels exceeded, possible circular reference`}const ww=(e,t,r)=>{const{destObject:n,srcType:u,watcher:s,options:o}=t,a=o.detectCircular;e1e(++r,o.maxDepth);const i=bh(u);if(!i.mayDeepCopy)return;const c=i.addElement;i.iterate(e,o.includeNonEnumerable,l=>{const p=l.value,f=l.type,d=bh(f);let h,E=!1;a&&s.wasCopied(p)?(h=s.getCopy(p),E=!0):h=Qde(p,d,{options:o,watcher:s}),c(n,l.key,h,l.descriptor),d.mayDeepCopy&&!E&&ww(p,{destObject:h,srcType:f,watcher:s,options:o},r)})};function t1e(e,t=Sh){if(Yde(t),Kde(e))return e;const r=Xde(e),n=bh(r);if(!t.goDeep||!n.mayDeepCopy)return n.makeShallow(e);const u=t.detectCircular?new Zde:null;let s=n.makeEmpty(e);return t.detectCircular&&u.setAsCopied(e,s),ww(e,{destObject:s,srcType:r,watcher:u,options:t},0),s}var r1e=t1e,n1e=u1e(r1e);function u1e(e){return e&&e.__esModule?e:{default:e}}var Ap=e=>{var t=[];for(var r of e)typeof r=="string"?t.length>0&&typeof t[t.length-1]=="string"?t[t.length-1]+=r:t.push(r):(r.content&&(r.content=Ap(r.content)),r.metaContent&&(r.metaContent=Ap(r.content)),t.push(r));return t},s1e=e=>{var t=(0,n1e.default)(e);for(var r of Object.values(t.sequences))for(var n of r.blocks)n.content&&(n.content=Ap(n.content)),n.metaContent&&(n.metaContent=Ap(n.metaContent));return t},_w=function(t){var{perf:r}=t;return{perf:s1e(r)}},o1e={name:"mergePerfText",type:"Transform",description:"PERF=>PERF: Merge consecutive text strings",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:_w},a1e={mergePerfText:o1e,mergePerfTextCode:_w},{identity:i1e}=mde,{justTheBible:c1e}=Cde,{mergePerfText:l1e,mergePerfTextCode:p1e}=a1e,f1e={identity:i1e,justTheBible:c1e,mergePerfText:l1e,mergePerfTextCode:p1e},d1e=fde,D1e=f1e,h1e={transforms:D1e,renderActions:d1e};function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function BS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){m1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m1e(e,t,r){return t=E1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E1e(e){var t=v1e(e,"string");return typeof t=="symbol"?t:String(t)}function v1e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y1e={showWordAtts:!1,showTitles:!0,showHeadings:!0,showFootnotes:!0,showXrefs:!0,showChapterLabels:!0,showVersesLabels:!0,showCharacterMarkup:!0,showParaStyles:!0,selectedBcvNotes:[]},g1e={startDocument:[{description:"Set up",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;if(t.displayPartOfText!=null&&!["begin","continue"].includes(t.displayPartOfText.state))throw new Error("state must be typeof string and one of begin or continue");n.settings=BS(BS({},y1e),t),n.webParas=[],n.currentIndex=0,u.sofria={},u.sofria.sequence={},n.currentSequence=u.sofria.sequence,n.paraContentStack=[],n.footnoteNo=1,n.bookCode=r.document.metadata.document.bookCode,n.chapter=0}}],startSequence:[{description:"startSequence",test:()=>!0,action:e=>{var{context:t,workspace:r}=e;r.currentIndex+=1,r.currentSequence.type=t.sequences[0].type,r.currentSequence.blocks=[]}}],endSequence:[{description:"endSequence",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n}=e;n.currentSequence.type==="footnote"&&n.footnoteNo++,n.currentSequence={}}}],startTable:[{description:"Initialise table",test:()=>!0,action:e=>{var{context:t,workspace:r}=e;r.currentIndex+=1,r.paraContentStack=[{subType:"table",content:[]}]}}],endTable:[{description:"Add completed table to webParas",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n}=e;n.webParas.push(t.renderers.table(n.paraContentStack[0].content))}}],startRow:[{description:"Initialise content stack",test:()=>!0,action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].block;r.currentIndex+=1,r.paraContentStack.unshift({subType:n.subType,content:[]})}}],endRow:[{description:"Add completed table to webParas",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n}=e,u=n.paraContentStack.shift();n.paraContentStack[0].content.push(t.renderers.row(u.content,n.currentIndex))}}],blockGraft:[{description:"Process block grafts",test:()=>!0,action:e=>{var t=e.context.sequences[0].block;if(t.subType!=="remark"&&!(["title","endTitle"].includes(t.subType)&&!e.workspace.settings.showTitles)&&!(["heading"].includes(t.subType)&&!e.workspace.settings.showHeadings)&&!(["introduction"].includes(t.subType)&&!e.workspace.settings.showIntroductions)){var r={type:t.type};if(t.sequence){r.sequence={};var n=e.workspace.currentSequence;e.workspace.currentSequence=r.sequence;var u=e.workspace.paraContentStack;e.context.renderer.renderSequence(e),e.workspace.paraContentStack=u,e.workspace.currentSequence=n}e.workspace.currentSequence.blocks.push(r)}}}],inlineGraft:[{description:"inlineGraft",test:e=>{var{context:t,workspace:r}=e;return t.sequences[0].element.subType!=="note_caller"&&!(["footnote"].includes(t.sequences[0].element.subType)&&!r.settings.showFootnotes)&&!(["xref"].includes(t.sequences[0].element.subType)&&!r.settings.showXrefs)},action:e=>{var t=e.context.sequences[0].element,r={type:t.type};if(t.sequence){r.sequence={};var n=e.workspace.currentSequence,u=[...e.workspace.paraContentStack],s=e.workspace.webParas;e.workspace.webParas=[],e.workspace.currentSequence=r.sequence,e.context.renderer.renderSequence(e);var o=e.workspace.webParas;e.workspace.webParas=s,e.workspace.paraContentStack=u,e.workspace.paraContentStack[0].content.push(o),e.workspace.currentSequence=n}}}],startParagraph:[{description:"Initialise content stack",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n}=e;n.currentIndex+=1;var u=r.sequences[0].block;n.paraContentStack=[{subType:u.subType,content:[]}]}}],endParagraph:[{description:"Add completed para to webParas",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n}=e;n.webParas.push(t.renderers.paragraph(n.settings.showParaStyles||["footnote","xref"].includes(r.sequences[0].type)?n.paraContentStack[0].subType:"usfm:m",n.paraContentStack[0].content,n.footnoteNo,n.currentIndex))}}],startWrapper:[{description:"Skip usfm:w outside main sequence",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:w"&&t.sequences[0].type!=="main"},action:()=>{}},{description:"Handle standard w attributes",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:w"},action:e=>{var{context:t,workspace:r}=e;r.currentIndex+=1;var n=t.sequences[0].element.atts,u={};for(var[s,o]of Object.entries(n))["strong","lemma","gloss"].includes(s)&&(u[s]=o);return r.paraContentStack.unshift({atts:u,content:[]}),!1}},{description:"Push to paraContent Stack",test:e=>{var{context:t,workspace:r}=e;return!["chapter","verses"].includes(t.sequences[0].element.subType)&&r.settings.showCharacterMarkup},action:e=>{var{context:t,workspace:r}=e,n={subType:t.sequences[0].element.subType,content:[]};t.sequences[0].element.subType==="cell"&&(n.atts=t.sequences[0].element.atts),r.currentIndex+=1,r.paraContentStack.unshift(n)}}],endWrapper:[{description:"Skip usfm:w outside main sequence",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:w"&&t.sequences[0].type!=="main"},action:()=>{}},{description:"Handle standard w attributes",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:w"},action:e=>{var{config:t,workspace:r}=e,n=r.paraContentStack.shift();return r.paraContentStack[0].content.push(t.renderers.wWrapper(r.settings.showWordAtts?n.atts:{},n.content,r.currentIndex)),!1}},{description:"Collapse one level of paraContent Stack",test:e=>{var{context:t,workspace:r}=e;return!["chapter","verses"].includes(t.sequences[0].element.subType)&&r.settings.showCharacterMarkup},action:e=>{var{config:t,workspace:r}=e,n=r.paraContentStack.shift();r.paraContentStack[0].content.push(t.renderers.wrapper(n.subType==="cell"?n.atts:{},n.subType,n.content,r.currentIndex))}}],startMilestone:[{description:"Handle zaln word-like atts",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:zaln"},action:e=>{var{context:t,workspace:r}=e,n=t.sequences[0].element.atts,u={};for(var[s,o]of Object.entries(n))["x-strong","x-lemma","x-morph","x-content"].includes(s)&&(u[s.split("-")[1]]=o);return r.currentIndex+=1,r.paraContentStack.unshift({atts:u,content:[]}),!1}}],endMilestone:[{description:"Handle zaln word-like atts",test:e=>{var{context:t}=e;return t.sequences[0].element.subType==="usfm:zaln"},action:e=>{var{config:t,workspace:r}=e,n=r.paraContentStack.shift();return r.paraContentStack[0].content.push(t.renderers.wWrapper(r.settings.showWordAtts?n.atts:{},n.content.join(""))),!1}}],text:[{description:"Push text to para",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n}=e,u=r.sequences[0].element;u.text.split(" ").map((s,o)=>{n.currentIndex+=1;var a=t.renderers.text(o===u.text.split(" ").length-1?s:s+" ",n.currentIndex);n.paraContentStack[0].content.push(a)})}}],mark:[{description:"Show chapter/verse markers",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n}=e;n.currentIndex+=1;var u=r.sequences[0].element;if(u.subType==="chapter_label"&&n.settings.showChapterLabels)n.chapter=u.atts.number,n.paraContentStack[0].content.push(t.renderers.chapter_label(u.atts.number,n.currentIndex));else if(u.subType==="verses_label"&&n.settings.showVersesLabels){var s=[];t.selectedBcvNotes.length>0&&(s=[n.bookCode,n.chapter,u.atts.number]),n.paraContentStack[0].content.push(t.renderers.verses_label(u.atts.number,s,t.bcvNotesCallback,n.currentIndex))}}}],endDocument:[{description:"Build JSX",test:()=>!0,action:e=>{var{config:t,workspace:r,output:n}=e;n.paras=t.renderers.mergeParas(r.webParas)}}]},A1e={sofria2WebActions:g1e},{sofria2WebActions:F1e}=A1e,C1e={sofria2WebActions:F1e},b1e={paras:{default:{fontSize:"medium",marginTop:"0.5ex",marginBottom:"0.5ex"},"usfm:b":{height:"1em"},"usfm:d":{fontStyle:"italic"},"usfm:f":{fontSize:"small"},"usfm:hangingGraft":{},"usfm:imt":{fontWeight:"bold",fontStyle:"italic",fontSize:"xx-large",textAlign:"center"},"usfm:imt2":{fontWeight:"bold",fontStyle:"italic",fontSize:"x-large",textAlign:"center"},"usfm:imt3":{fontWeight:"bold",fontStyle:"italic",fontSize:"large",textAlign:"center"},"usfm:ip":{textIndent:"1.5em"},"usfm:ipi":{paddingLeft:"1.5em",textIndent:"1.5em"},"usfm:io":{paddingLeft:"1.5em"},"usfm:iot":{fontWeight:"bold",fontSize:"large"},"usfm:is":{fontStyle:"italic",fontSize:"xx-large"},"usfm:is2":{fontStyle:"italic",fontSize:"x-large"},"usfm:is3":{fontStyle:"italic",fontSize:"large"},"usfm:li":{listStyleType:"disc",paddingLeft:"3em",textIndent:"-1.5em"},"usfm:li2":{listStyleType:"disc",paddingLeft:"4.5em",textIndent:"-1.5em"},"usfm:li3":{listStyleType:"disc",paddingLeft:"6em",textIndent:"-1.5em"},"usfm:m":{},"usfm:mi":{paddingLeft:"1.5em"},"usfm:mr":{fontSize:"large",fontStyle:"italic"},"usfm:ms":{fontSize:"large",fontWeight:"bold"},"usfm:ms2":{fontWeight:"bold"},"usfm:mt":{fontWeight:"bold",fontStyle:"italic",fontSize:"xx-large",textAlign:"center"},"usfm:mt2":{fontWeight:"bold",fontStyle:"italic",fontSize:"x-large",textAlign:"center"},"usfm:mt3":{fontWeight:"bold",fontStyle:"italic",fontSize:"large",textAlign:"center"},"usfm:nb":{},"usfm:p":{textIndent:"1.5em"},"usfm:pc":{textAlign:"center"},"usfm:pi":{paddingLeft:"1.5em",textIndent:"1.5em"},"usfm:pi2":{paddingLeft:"3em",textIndent:"1.5em"},"usfm:pi3":{paddingLeft:"4.5em",textIndent:"1.5em"},"usfm:q":{paddingLeft:"1.5em",marginTop:"0.5ex",marginBottom:"0.5ex"},"usfm:q2":{paddingLeft:"3em",marginTop:"0.5ex",marginBottom:"0.5ex"},"usfm:q3":{paddingLeft:"4.5em",marginTop:"0.5ex",marginBottom:"0.5ex"},"usfm:q4":{paddingLeft:"6em",marginTop:"0.5ex",marginBottom:"0.5ex"},"usfm:qa":{fontWeight:"bold",fontSize:"x-large"},"usfm:qr":{textAlign:"right"},"usfm:r":{fontWeight:"bold"},"usfm:s":{fontStyle:"italic",fontSize:"xx-large"},"usfm:s2":{fontStyle:"italic",fontSize:"x-large"},"usfm:s3":{fontStyle:"italic",fontSize:"large"},"usfm:sr":{fontSize:"large"},"usfm:tr":{},"usfm:x":{fontSize:"small"}},marks:{default:{},chapter_label:{float:"left",fontSize:"xx-large",marginRight:"0.5em"},verses_label:{fontWeight:"bold",fontSize:"small",verticalAlign:"super",marginRight:"0.5em"}},wrappers:{default:{},"usfm:add":{fontStyle:"italic"},"usfm:bd":{fontWeight:"bold"},"usfm:bdit":{fontWeight:"bold",fontStyle:"italic"},"usfm:bk":{fontWeight:"bold"},chapter:{},"usfm:fl":{},"usfm:fm":{},"usfm:fq":{fontStyle:"italic"},"usfm:fqa":{fontStyle:"italic"},"usfm:fr":{fontWeight:"bold"},"usfm:ft":{},"usfm:it":{fontStyle:"italic"},"usfm:nd":{fontWeight:"bold",fontSize:"smaller",textTransform:"uppercase"},"usfm:qs":{float:"right",fontStyle:"italic"},"usfm:sc":{fontSize:"smaller",textTransform:"uppercase"},"usfm:tl":{fontStyle:"italic"},verses:{},"usfm:wj":{color:"#D00"},"usfm:xk":{},"usfm:xo":{fontWeight:"bold"},"usfm:xt":{}}},S1e=e=>{for(var t in e){var r="/* ".concat(t,` CSS format : */
`);for(var n in e[t]){if(n.includes(":")){var u=n.replace(":","_");r+="  .".concat(t,"_").concat(u.replace(/([A-Z])/g,"_$1").toLowerCase(),` {
`)}else r+="  .".concat(t,"_").concat(n.replace(/([A-Z])/g,"_$1").toLowerCase(),` {
`);var s=e[t][n];for(var o in s)for(var a in o)if(o[a]===o[a].toUpperCase()){var i=o.replace(/([A-Z])/g,"-$1").toLowerCase();r+="      ".concat(i,": ").concat(s[o],`;
`)}r+=`  }
`}console.log(r)}};function w1e(e){var t=e,r=Object.keys(t);return r.map(n=>{var u=Object.keys(t[n]);u.map(s=>{var o=Object.keys(t[n][s]);o.map(a=>{if(a==="float"&&t[n][s][a]==="left"&&(t[n][s].textAlign="left",delete t[n][s][a]),a==="verticalAlign"&&t[n][s][a]==="super"&&(t[n][s][a]="top"),a==="textIndent"){if(t[n][s][a].includes("em")){var i=t[n][s][a];i.replace("em",""),t[n][s].marginLeft=parseFloat(i)*16,delete t[n][s][a]}delete t[n][s][a]}if(t[n][s][a]==="medium"&&(t[n][s][a]=16),t[n][s][a]==="x-small"&&(t[n][s][a]=10),t[n][s][a]==="xx-small"&&(t[n][s][a]=9),t[n][s][a]==="small"&&(t[n][s][a]=13.333),t[n][s][a]==="large"&&(t[n][s][a]=18),t[n][s][a]==="x-large"&&(t[n][s][a]=24),t[n][s][a]==="xx-large"&&(t[n][s][a]=32),typeof t[n][s][a]=="string"){if(t[n][s][a].includes("em")){var c=t[n][s][a];c.replace("em",""),t[n][s][a]=parseFloat(c)*16;return}if(t[n][s][a].includes("ex")){var l=t[n][s][a];l.replace("ex",""),t[n][s][a]=parseFloat(l);return}}})})}),t}var Bw={styles:b1e,StyleAsCSS:S1e,ConvertCssToReactNativeStyle:w1e};function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function $S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){_1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _1e(e,t,r){return t=B1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B1e(e){var t=T1e(e,"string");return typeof t=="symbol"?t:String(t)}function T1e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var{styles:Xa}=Bw,$1e=e=>e.replace(/[A-Z]/g,t=>"-".concat(t.toLowerCase())),Ya=(e,t)=>{if(!Xa[e])throw new Error("Unknown style type '".concat(e,"'"));if(!Xa[e][t])return console.log("No styles for ".concat(e,"/").concat(t)),Xa[e].default;var r=$S($S({},Xa[e].default),Xa[e][t]),n=[];return Object.entries(r).forEach(u=>{var[s,o]=u;n.push("".concat($1e(s),": ").concat(o))}),n.join("; ")};function P1e(e){return`<span
            style={{
                ...props.style,
                paddingLeft: "0.5em",
                paddingRight: "0.5em",
                backgroundColor: "#CCC",
                marginTop: "1em",
                marginBottom: "1em"
            }}
            onClick={toggleDisplay}
        >
            `.concat(e.children,`
        </span>`)}var O1e={text:e=>"".concat(e),chapter_label:e=>'<span style="'.concat(Ya("marks","chapter_label"),'">').concat(e,"</span>"),verses_label:e=>'<span style="'.concat(Ya("marks","verses_label"),'">').concat(e,"</span>"),paragraph:(e,t,r)=>["usfm:f","usfm:x"].includes(e)?P1e({style:Ya("paras",e),linkText:e==="usfm:f"?r:"*",children:t.join("")}):'<p style="'.concat(Ya("paras",e),'">').concat(t.join(""),"</p>"),wrapper:(e,t,r)=>t==="cell"?e.role==="body"?"<td colspan=".concat(e.nCols,' style="text-align:').concat(e.alignment,'">').concat(r.join(""),"</td>"):"<th colspan=".concat(e.nCols,' style="text-align:').concat(e.alignment,'">').concat(r.join(""),"</th>"):'<span style="'.concat(Ya("wrappers",t),'">').concat(r,"</span>"),wWrapper:(e,t)=>Object.keys(e).length===0?t:`<span
            style={{
                display: "inline-block",
                verticalAlign: "top",
                textAlign: "center"
            }}
        >
        <div>`.concat(t,"</div>").concat(Object.entries(e).map(r=>`<div
                            style={{
                                fontSize: "xx-small",
                                fontWeight: "bold"
                            }}
                        >
                        {`.concat(r[0]," = ").concat(r[1],`} 
                        </div>`)).join(""),"</span>"),mergeParas:e=>e.join(`
`),row:e=>"<tr>".concat(e.join(""),"</tr>"),table:e=>"<table border>".concat(e.join(" "),"</table>")},k1e={renderers:O1e},I1e=C1e,N1e=Bw,q1e=k1e,x1e={renderStyles:N1e,renderActions:I1e,sofria2html:q1e},R1e=nfe,j1e=ffe,M1e=Bfe,L1e=ide,U1e=h1e,G1e=x1e,Tw={xToPerf:j1e,perfToX:L1e,sofriaToSofria:M1e,alignment:R1e,perfToPerf:U1e,sofria2web:G1e};const V1e=[{id:0,type:"Inputs",inputs:{usfm:"text",selectors:"json"}},{id:2,title:"USFM to PERF",name:"usfmToPerf",type:"Transform",inputs:[{name:"usfm",type:"text",source:"Input usfm"},{name:"selectors",type:"json",source:"Input selectors"}],outputs:[{name:"perf",type:"json"}],description:"USFM=>PERF: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 2 perf"}]}],H1e=[{id:0,type:"Inputs",inputs:{perf:"json",strippedAlignment:"json"}},{id:1,title:"Count stripped perf words",name:"verseWords",transformName:"verseWords",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:2,title:"Merge Back Into Stripped (roundtrip)",name:"mergeAlignment",transformName:"mergeAlignment",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"strippedAlignment",type:"json",source:"Input strippedAlignment"},{name:"verseWords",type:"json",source:"Transform 1 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF adds report to verses"},{id:3,title:"Merge Merged PERF Text",name:"mergePerfText",transformName:"mergePerfText",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"unalignedWords",type:"json",source:"Transform 2 unalignedWords"}]}],W1e=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Count stripped perf words",name:"verseWords",type:"Transform",transformName:"verseWords",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:2,title:"Strip Alignment",name:"stripAlignment",type:"Transform",transformName:"stripAlignment",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"verseWords",type:"json",source:"Transform 1 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF: Strips alignment markup"},{id:3,title:"Merge stripped perf",name:"mergePerfText",type:"Transform",transformName:"mergePerfText",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"strippedAlignment",type:"json",source:"Transform 2 strippedAlignment"},{name:"unalignedWords",type:"json",source:"Transform 2 unalignedWords"}]}],J1e=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Generate report",name:"calculateUsfmChapterPositions",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"report",type:"json"}],description:"Generate report from perf to calculate the position of the chapters"},{id:2,title:"PERF to USFM",name:"perfToUsfm",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"report",type:"json",source:"Transform 1 report"}],outputs:[{name:"usfm",type:"text"}],description:"PERF=>USFM: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"usfm",type:"text",source:"Transform 2 usfm"}]}],z1e=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Simplify Input PERF",name:"justTheBible",transformName:"justTheBible",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"perf",type:"json"}]},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 1 perf"}]}];var K1e=bc(V1e),X1e=bc(H1e),Y1e=bc(W1e),Z1e=bc(J1e),Q1e=bc(z1e);function bc(e){return e&&e.__esModule?e:{default:e}}var $w={usfmToPerfPipeline:K1e.default,mergeAlignmentPipeline:X1e.default,stripAlignmentPipeline:Y1e.default,perfToUsfmPipeline:Z1e.default,justTheBiblePipeline:Q1e.default};function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){e0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e0e(e,t,r){return t=t0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t0e(e){var t=r0e(e,"string");return typeof t=="symbol"?t:String(t)}function r0e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kS(e,t,r,n,u,s,o){try{var a=e[s](o),i=a.value}catch(c){r(c);return}a.done?t(i):Promise.resolve(i).then(n,u)}function n0e(e){return function(){var t=this,r=arguments;return new Promise(function(n,u){var s=e.apply(t,r);function o(i){kS(s,n,u,o,a,"next",i)}function a(i){kS(s,n,u,o,a,"throw",i)}o(void 0)})}}var u0e=Tw,s0e=$w;let o0e=class{constructor(t){var{pipelines:r=null,transforms:n=null,proskomma:u=null,verbose:s=!1}=t;if(u!==null){this.proskomma=u;var o="{ id }",a=u.gqlQuerySync(o)||{};if(!a||!a.data.id)throw new Error("Provided Proskomma instance does not have any ID")}if(this.pipelines=s0e,this.namespaces=u0e,this.transforms={},r!=null)for(var i of Object.keys(r))this.pipelines[i]=r[i];if(n!=null)for(var c of Object.keys(n))this.transforms[c]=n[c];this.verbose=s}getProskomma(){return this.proskomma}setProskomma(t){this.proskomma=t}listPipelinesNames(){return Object.keys(this.pipelines).join(`
`)}listTransformsNames(){return Object.keys(this.transforms).join(`
`)}listNamespacesNames(){return Object.keys(this.namespaces).join(`
`)}getPipeline(t,r){if(!this.pipelines[t])throw new Error("Unknown pipeline name '".concat(t,"'"));var n=this.pipelines[t],u=n[0].inputs;if(Object.keys(u).length!==Object.keys(r).length)throw new Error("".concat(Object.keys(u).length," input(s) expected by ").concat(t," but ").concat(Object.keys(r).length," provided (").concat(Object.keys(r).join(", "),")"));for(var[s,o]of Object.entries(u)){if(!r[s])throw new Error("Input ".concat(s," not provided as input to ").concat(t));if(typeof r[s]=="string"!=(o==="text"))throw new Error("Input ".concat(s," must be ").concat(o," but ").concat(typeof r[s]=="string"?"text":"json"," was provided"))}return n}runPipeline(t,r){var n=this;return n0e(function*(){var u=n.getPipeline(t,r);return n.loadTransforms(u,"perf"),yield n.evaluateSteps({specSteps:u,inputValues:r})})()}loadTransforms(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"perf",n=t.filter(E=>E.type==="Transform");if(n.length===0)throw new Error("No Transform steps found in report steps");var u=Object.keys(n).map(E=>n[E].name);if(r==="sofria"){var s=null;for(var[o,a]of Object.entries(this.namespaces))if(o==="sofriaToSofria"){a.transforms?s=Object.entries(a.transforms):s=Object.entries(a);for(var[i,c]of s)u.includes(i)&&(this.transforms[i]=c)}}else{var l=null;for(var[p,f]of Object.entries(this.namespaces))if(p!=="sofriaToSofria"){f.transforms?l=Object.entries(f.transforms):l=Object.entries(f);for(var[d,h]of l)u.includes(d)&&(this.transforms[d]=h)}}}evaluateSteps(t){var{specSteps:r,inputValues:n}=t;this.verbose&&console.log("** Evaluate **");var u=r.filter(j=>j.type==="Inputs")[0];if(!u)throw new Error("No Inputs step found in report steps");var s=r.filter(j=>j.type==="Outputs")[0];if(!s)throw new Error("No Outputs step found in report steps");var o=r.filter(j=>j.type==="Transform");if(o.length===0)throw new Error("No Transform steps found in report steps");var a={},i={};for(var c of Object.values(o)){a[c.id]={};for(var l of c.inputs)a[c.id][l.name]=null;i[c.id]={};for(var p of c.outputs)i[c.id][p]=null}for(var[f,d]of Object.entries(n))for(var h of o)for(var E of h.inputs)E.source==="Input ".concat(f)&&(this.verbose&&console.log("Copying Input ".concat(f," to Transform ").concat(h.id," ").concat(E.name," input")),a[h.id][E.name]=d);for(var A=!0;A;){A=!1;for(var m of o)if(Object.values(a[m.id]).filter(j=>!j).length===0&&Object.values(i[m.id]).filter(j=>!j).length>0){this.verbose&&console.log("Evaluating Transform ".concat(m.id));try{i[m.id]=this.transforms[m.name].code(OS(OS({},a[m.id]),{},{proskomma:this.getProskomma()}))}catch(j){var y="Error evaluating Transform ".concat(m.id," (name=").concat(m.name,", type=").concat(typeof m.code,"): ").concat(j);throw new Error(y)}for(var F of o)for(var B of F.inputs)for(var P of Object.keys(i[m.id]))B.source==="Transform ".concat(m.id," ").concat(P)&&(this.verbose&&console.log("Copying Transform ".concat(m.id," ").concat(P," output to Transform ").concat(F.id," ").concat(B.name," input")),a[F.id][B.name]=i[m.id][P]);A=!0}}var $={};for(var I of s.outputs){var U=I.source.split(" ")[1];this.verbose&&console.log("Copying Transform ".concat(U," ").concat(I.name," to Output ").concat(I.name)),$[I.name]=i[U][I.name]}return this.verbose&&console.log("****"),$}};var a0e=o0e;function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function NS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){i0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i0e(e,t,r){return t=c0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c0e(e){var t=l0e(e,"string");return typeof t=="symbol"?t:String(t)}function l0e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p0e=Ac,xs=e=>{var t=[];for(var r of e.split(""))r.toUpperCase()===r&&r.toLowerCase()!==r?t.push("_".concat(r.toLowerCase())):t.push(r);return t.join("")};let f0e=class extends p0e{constructor(t){if(super(t),!t.proskomma)throw new Error("No Proskomma");this.pk=t.proskomma,this._tokens=[],this._container=null}renderDocument1(t){var{docId:r,config:n,context:u,workspace:s,output:o}=t,a={config:n,context:u,workspace:s,output:o};u.renderer=this;var i=this.pk.gqlQuerySync('{document(id: "'.concat(r,'") {docSetId mainSequence { id } nSequences sequences {id} headers { key value } } }')),c=i.data.document.docSetId,l=i.data.document.mainSequence.id,p=i.data.document.nSequences;i.data.document.sequences.map(m=>m.id);var f={};for(var d of i.data.document.headers)f[d.key]=d.value;var h=this.pk.gqlQuerySync('{docSet(id: "'.concat(c,'") {selectors {key value}}}')),E={};for(var A of h.data.docSet.selectors)E[A.key]=A.value;u.document={id:r,schema:{structure:"flat",structure_version:"0.2.1",constraints:[{name:"perf",version:"0.2.1"}]},metadata:{translation:{id:c,selectors:E,properties:{},tags:[]},document:NS(NS({},f),{},{properties:{},tags:[]})},mainSequenceId:l,nSequences:p},u.sequences=[],this.renderEvent("startDocument",a),this.renderSequenceId(a,l),this.renderEvent("endDocument",a)}sequenceContext(t,r){return{id:r,type:xs(t.type),nBlocks:t.nBlocks,milestones:new Set([])}}renderSequenceId(t,r){var n=t.context,u=this.pk.gqlQuerySync('{document(id: "'.concat(n.document.id,'") {sequence(id:"').concat(r,'") {id type nBlocks } } }')),s=u.data.document.sequence;if(!s)throw new Error("Sequence '".concat(r,"' not found in renderSequenceId()"));n.sequences.unshift(this.sequenceContext(s,r)),this.renderEvent("startSequence",t);for(var o=0,a=0;a<s.nBlocks;a++){var i=this.pk.gqlQuerySync(`{
               document(id: "`.concat(n.document.id,`") {
                 sequence(id:"`).concat(r,`") {
                   blocks(positions:`).concat(a,`) {
                     bg {subType payload}
                     bs {payload}
                     items {type subType payload}
                   }
                 }
               }
             }`)),c=i.data.document.sequence.blocks[0];for(var l of c.bg)n.sequences[0].block={type:"graft",subType:xs(l.subType),blockN:o},n.sequences[0].block.target=l.payload,n.sequences[0].block.isNew=!1,this.renderEvent("blockGraft",t),o++;var p=c.bs.payload.split("/"),f=void 0;p[1]&&["tr","zrow"].includes(p[1])?f=p[1]==="tr"?"usfm:tr":"pk":p[1]?f="usfm:".concat(p[1]):f=p[0],n.sequences[0].block={type:["usfm:tr","pk"].includes(f)?"row":"paragraph",subType:f,blockN:o,wrappers:[]},f==="row"?this.renderEvent("startRow",t):this.renderEvent("startParagraph",t),this._tokens=[],this.renderContent(c.items,t),this._tokens=[],f==="row"?this.renderEvent("endRow",t):this.renderEvent("endParagraph",t),delete n.sequences[0].block,o++}this.renderEvent("endSequence",t),n.sequences.shift()}renderContent(t,r){for(var n of t)this.renderItem(n,r);this.maybeRenderText(r)}renderItem(t,r){if(t.type==="scope"&&t.payload.startsWith("attribute")){var n=t.payload.split("/");t.subType==="start"?(this._container||(this._container={direction:"start",subType:"usfm:w",type:"wrapper",atts:{}}),n[3]in this._container.atts?this._container.atts[n[3]].push(n[5]):this._container.atts[n[3]]=[n[5]]):this._container||(this._container={direction:"end",subType:"usfm:".concat(xs(n[2]))},n[1]==="milestone"?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else if(this._container&&(this.maybeRenderText(r),this.renderContainer(r)),t.type==="token")this._tokens.push(t.payload.replace(/\s+/g," "));else if(t.type==="graft"){this.maybeRenderText(r);var u={type:"graft",subType:xs(t.subType),target:t.payload,isNew:!1};r.context.sequences[0].element=u,this.renderEvent("inlineGraft",r),delete r.context.sequences[0].element}else{this.maybeRenderText(r);var s=t.payload.split("/");if(["chapter","verses","pubChapter","pubVerse","altChapter","altVerse"].includes(s[0])){if(t.subType==="start"){var o={type:"mark",subType:xs(s[0]),atts:{number:s[1]}};r.context.sequences[0].element=o,this.renderEvent("mark",r),delete r.context.sequences[0].element}}else if(s[0]==="span"){var a={type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}};r.context.sequences[0].element=a,t.subType==="start"?(r.context.sequences[0].block.wrappers.unshift(a.subType),this.renderEvent("startWrapper",r)):(this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()),delete r.context.sequences[0].element}else if(s[0]==="spanWithAtts")t.subType==="start"&&(this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}});else if(s[0]==="cell"){var i={direction:"start",type:"wrapper",subType:s[0],atts:{role:s[1],alignment:s[2],nCols:parseInt(s[3])}};r.context.sequences[0].element=i,t.subType==="start"?(r.context.sequences[0].block.wrappers.unshift(i.subType),this.renderEvent("startWrapper",r)):(this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()),delete r.context.sequences[0].element}else if(s[0]==="milestone"&&t.subType==="start")if(s[1]==="ts"){var c={type:"mark",subType:"usfm:".concat(xs(s[1])),atts:{}};r.context.sequences[0].element=c,this.renderEvent("mark",r),delete r.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(xs(s[1])),atts:{}}}}maybeRenderText(t){if(this._tokens.length!==0){var r={type:"text",text:this._tokens.join("")};t.context.sequences[0].element=r,this._tokens=[],this.renderEvent("text",t),delete t.context.sequences[0].element}}renderContainer(t){if(this._container.type==="wrapper"){var r=this._container.direction;delete this._container.direction,r==="start"?(t.context.sequences[0].element=this._container,t.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",t),delete t.context.sequences[0].element):(t.context.sequences[0].element=this._container,this.renderEvent("endWrapper",t),t.context.sequences[0].block.wrappers.shift(),delete t.context.sequences[0].element)}else this._container.type==="start_milestone"?(t.context.sequences[0].element=this._container,this.renderEvent("startMilestone",t),delete t.context.sequences[0].element):this._container.type==="end_milestone"&&(t.context.sequences[0].element=this._container,this.renderEvent("endMilestone",t),delete t.context.sequences[0].element);this._container=null}};var d0e=f0e,D0e=Ac;let h0e=class extends D0e{constructor(t){if(super(t),!t.srcJson)throw new Error("Must provide srcJson");this.srcJson=t.srcJson,this.cachedSequences=[]}renderDocument1(t){var{docId:r,config:n,context:u,workspace:s,output:o}=t,a={config:n,context:u,workspace:s,output:o};u.renderer=this,u.document={id:r,schema:this.srcJson.schema,metadata:this.srcJson.metadata},u.sequences=[],this.renderEvent("startDocument",a),this.renderSequence(a,this.srcJson.sequence),this.renderEvent("endDocument",a)}sequenceContext(t){return{type:t.type,nBlocks:t.blocks.length,milestones:new Set([])}}renderSequence(t,r){var n;if(r)n=r;else{if(this.cachedSequences.length===0)throw new Error("No sequence provided and no sequences cached");n=this.cachedSequences[0]}var u=t.context;u.sequences.unshift(n),this.renderEvent("startSequence",t);for(var[s,o]of n.blocks.entries())u.sequences[0].block={type:o.type,subType:o.subtype,blockN:s,wrappers:[]},o.type==="graft"?(u.sequences[0].block.sequence=this.sequenceContext(o.sequence),this.cachedSequences.unshift(o.sequence),this.renderEvent("blockGraft",t),this.cachedSequences.shift()):o.type==="row"?(t.workspace.inTable||(this.renderEvent("startTable",t),t.workspace.inTable=!0),this.renderEvent("startRow",t),this.renderContent(o.content,t),t.workspace.skipEndRow?t.workspace.skipEndRow=!1:this.renderEvent("endRow",t)):(t.workspace.inTable&&u.sequences[0].type.includes("main")&&(this.renderEvent("endTable",t),t.workspace.inTable=!1),this.renderEvent("startParagraph",t),this.renderContent(o.content,t),this.renderEvent("endParagraph",t)),delete u.sequences[0].block;t.workspace.inTable&&u.sequences[0].type.includes("main")&&(this.renderEvent("endTable",t),t.workspace.inTable=!1,t.workspace.tableHasContent=!1,t.workspace.skipEndRow=!1,t.workspace.changingChapter=!1),this.renderEvent("endSequence",t),this.cachedSequence=null,u.sequences.shift()}renderContent(t,r){for(var n of t)this.renderElement(n,r)}renderElement(t,r){var n=o=>{t.meta_content&&(o.metaContent=t.meta_content,this.renderEvent("metaContent",r))},u=r.context,s={type:t.type||"text"};if(t.subtype&&(s.subType=t.subtype),t.atts?s.atts=t.atts:s.type!=="end_milestone"&&s.type!=="meta_content"&&(s.atts={}),t.sequence&&(s.sequence=this.sequenceContext(t.sequence)),s.type==="text"&&(s.text=t),u.sequences[0].element=s,s.type==="text")r.workspace.inTable&&(r.workspace.tableHasContent=!0),this.renderEvent("text",r),n(s);else if(s.type==="mark")this.renderEvent("mark",r),n(s);else if(s.type==="start_milestone")this.renderEvent("startMilestone",r),n(s);else if(s.type==="end_milestone")this.renderEvent("endMilestone",r),n(s);else if(s.type==="graft")this.cachedSequences.unshift(t.sequence),this.renderEvent("inlineGraft",r),this.cachedSequences.shift(),n(s);else if(s.type==="wrapper")s.subType==="chapter"&&(r.workspace.chapterCurent?r.workspace.chapterCurent!=s.atts.number&&(r.workspace.changingChapter=!0):r.workspace.chapterCurent=s.atts.number),r.workspace.changingChapter&&r.workspace.inTable&&r.workspace.tableHasContent&&s.subType==="chapter"&&(this.renderEvent("endRow",r),this.renderEvent("endTable",r),r.workspace.inTable=!1,r.workspace.tableHasContent=!1,r.workspace.skipEndRow=!0,r.workspace.changingChapter=!1),u.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",r),this.renderContent(t.content,r),u.sequences[0].element=s,n(s),this.renderEvent("endWrapper",r),u.sequences[0].block.wrappers.shift();else throw new Error("Unexpected element type '".concat(s.type));delete u.sequences[0].element}};var m0e=h0e;function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function xS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){E0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E0e(e,t,r){return t=v0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v0e(e){var t=y0e(e,"string");return typeof t=="symbol"?t:String(t)}function y0e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g0e=Ac,zu=e=>{var t=[];for(var r of e.split(""))r.toUpperCase()===r&&r.toLowerCase()!==r?t.push("_".concat(r.toLowerCase())):t.push(r);return t.join("")};let A0e=class extends g0e{constructor(t){if(super(t),!t.proskomma)throw new Error("No Proskomma");this.pk=t.proskomma,this._tokens=[],this._container=null,this.cachedSequenceIds=[],this.sequences=null,this.currentCV={chapter:null,verses:null}}renderDocument1(t){var{docId:r,config:n,context:u,workspace:s,output:o}=t,a={config:n,context:u,workspace:s,output:o};u.renderer=this;var i=this.pk.gqlQuerySync(`{
          document(id: "`.concat(r,`") {
            docSetId
            mainSequence { id }
            nSequences
            sequences {
              id
              type
              nBlocks
            }
            headers {
              key
              value
            }
          } 
        }`)),c=i.data.document.docSetId,l=i.data.document.mainSequence.id,p=i.data.document.nSequences;this.sequences={},a.nbBlock||(a.config.nbBlock=1e4);for(var f of i.data.document.sequences)this.sequences[f.id]=f;var d={};for(var h of i.data.document.headers)d[h.key]=h.value;var E=this.pk.gqlQuerySync('{docSet(id: "'.concat(c,'") {selectors {key value}}}')),A={};for(var m of E.data.docSet.selectors)A[m.key]=m.value;if(u.document={id:r,schema:{structure:"nested",structure_version:"0.2.1",constraints:[{name:"sofria",version:"0.2.1"}]},metadata:{translation:{id:c,selectors:A,properties:{},tags:[]},document:xS(xS({},d),{},{properties:{},tags:[]})},mainSequenceId:l,nSequences:p},n.chapters&&(s.chapters?s.chapters.length===0&&(s.chapters=n.chapters):s.chapters=n.chapters),s.chapters&&(u.document.metadata.document.properties.chapters=s.chapters[0]),u.sequences=[{}],n.displayPartOfText!=null&&!["begin","continue"].includes(n.displayPartOfText.state))throw new Error("state must be typeof string and one of ['begin','continue']");a.config.displayPartOfText!=null?a.config.displayPartOfText.state==="begin"&&this.renderEvent("startDocument",a):this.renderEvent("startDocument",a),this.cachedSequenceIds.unshift(l),this.renderSequence(a),this.cachedSequenceIds.shift(),this.renderEvent("endDocument",a)}sequenceContext(t,r){return{id:r,type:zu(t.type),nBlocks:t.nBlocks,milestones:new Set([])}}renderSequence(t){var r=t.context,n=this.cachedSequenceIds[0],u=this.pk.gqlQuerySync('{document(id: "'.concat(r.document.id,'") {sequence(id:"').concat(n,'") {type} } }')).data.document.sequence.type,s={},o=null,a=null,i=[];u==="main"&&t.workspace.blockId&&(i=t.workspace.blockId);var c=0;if(u==="main"){if(t.workspace.chapters)for(;t.workspace.chapters.length!=0;){if(o=t.workspace.chapters.pop(),o&&(a=this.pk.gqlQuerySync('{document(id: "'.concat(r.document.id,'") {cIndex(chapter: ').concat(o,`) {
                startBlock
                endBlock
              }}}`))),o&&a)for(var l=a.data.document.cIndex.startBlock;l<a.data.document.cIndex.endBlock+1;l++)i.push(l);t.workspace.blockId=i}else for(var p=0;p<this.pk.gqlQuerySync('{document(id: "'.concat(r.document.id,'") {sequence(id:"').concat(n,'") {nBlocks} }}')).data.document.sequence.nBlocks;p++)i.push(p);i.sort((te,Y)=>Y-te),t.nbBlock||(t.nbBlock=null),t.config.nbBlock||(t.config.nbBlock=i.length)}else for(var f=0;f<this.pk.gqlQuerySync('{document(id: "'.concat(r.document.id,'") {sequence(id:"').concat(n,'") {nBlocks} }}')).data.document.sequence.nBlocks;f++)i.push(f);u==="main"?c=t.config.nbBlock:c=i.length,s=this.pk.gqlQuerySync('{document(id: "'.concat(r.document.id,'") {id sequence(id:"').concat(n,'") {id type nBlocks blocks(positions: [').concat(i,"]){ os {payload} is {payload} } } } }"));var d=s.data.document.sequence;if(!d)throw new Error("Sequence '".concat(n,"' not found in renderSequenceId()"));t.config.displayPartOfText!=null?t.config.displayPartOfText!="continue"&&r.sequences.unshift(this.sequenceContext(d,n)):r.sequences.unshift(this.sequenceContext(d,n)),this.renderEvent("startSequence",t);for(var h=0,E=0;E<c;E++)if(i.length!=0){var A={};u==="main"?A=i.pop():A=i.shift();var m=void 0;if(t.config.excludeScopeTypes)if(t.config.excludeScopeTypes.length>0){var y=t.config.excludeScopeTypes.map(te=>'"'.concat(te,'"'));m=this.pk.gqlQuerySync(`{
                   document(id: "`.concat(r.document.id,`") {
                     sequence(id:"`).concat(n,`") {
                       blocks(positions:`).concat(A,`) {
                         bg {subType payload}
                         bs {payload}
                         items (excludeScopeTypes : [`).concat(y,`] ) {type subType payload}
                       }        
                     }
                   }
                 }`))}else m=this.pk.gqlQuerySync(`{
                   document(id: "`.concat(r.document.id,`") {
                     sequence(id:"`).concat(n,`") {
                       blocks(positions:`).concat(A,`) {
                         bg {subType payload}
                         bs {payload}
                         items{type subType payload}
                       }
                     }
                   }
                 }`));else m=this.pk.gqlQuerySync(`{
                   document(id: "`.concat(r.document.id,`") {
                     sequence(id:"`).concat(n,`") {
                       blocks(positions:`).concat(A,`) {
                         bg {subType payload}
                         bs {payload}
                         items {type subType payload}
                       }
                     }
                   }
                 }`));var F=m.data.document.sequence.blocks[0];for(var B of F.bg)r.sequences[0].block={type:"graft",subType:zu(B.subType),blockN:h,sequence:this.sequences[B.payload]},this.cachedSequenceIds.unshift(B.payload),this.renderEvent("blockGraft",t),this.cachedSequenceIds.shift(),h++;var P=F.bs.payload.split("/"),$=void 0;if(P[1]&&["tr","zrow"].includes(P[1])?$=P[1]==="tr"?"usfm:tr":"pk":P[1]?$="usfm:".concat(P[1]):$=P[0],r.sequences[0].block={type:["usfm:tr","pk"].includes($)?"row":"paragraph",subType:$,blockN:h,wrappers:[]},r.sequences[0].block.type==="row"?(t.workspace.inTable||(this.renderEvent("startTable",t),t.workspace.inTable=!0),this.renderEvent("startRow",t)):(t.workspace.inTable&&r.sequences[0].type.includes("main")&&(this.renderEvent("endTable",t),t.workspace.tableHasContent=!1,t.workspace.inTable=!1,t.workspace.skipEndRow=!1),this.renderEvent("startParagraph",t)),this._tokens=[],u==="main"&&this.currentCV.chapter){var I={type:"wrapper",subType:"chapter",atts:{number:this.currentCV.chapter}};t.context.sequences[0].element=I,t.context.sequences[0].block.wrappers.unshift(I.subType),this.renderEvent("startWrapper",t)}if(u==="main"&&this.currentCV.verses){var U={type:"wrapper",subType:"verses",atts:{number:this.currentCV.verses}};t.context.sequences[0].element=U,t.context.sequences[0].block.wrappers.unshift(U.subType),this.renderEvent("startWrapper",t)}if(this.renderContent(F.items,t),this._tokens=[],u==="main"&&this.currentCV.verses){var j={type:"wrapper",subType:"verses",atts:{number:this.currentCV.verses}};t.context.sequences[0].element=j,t.context.sequences[0].block.wrappers.shift(),this.renderEvent("endWrapper",t)}if(u==="main"&&this.currentCV.chapter){var W={type:"wrapper",subType:"chapter",atts:{number:this.currentCV.chapter}};t.context.sequences[0].element=W,t.context.sequences[0].block.wrappers.shift(),this.renderEvent("endWrapper",t)}r.sequences[0].block.type==="row"&&!t.workspace.skipEndRow?this.renderEvent("endRow",t):t.workspace.skipEndRow&&r.sequences[0].block.type==="row"?t.workspace.skipEndRow=!1:this.renderEvent("endParagraph",t),delete r.sequences[0].block,h++}t.workspace.inTable&&r.sequences[0].type.includes("main")&&(this.renderEvent("endTable",t),t.workspace.tableHasContent=!1,t.workspace.inTable=!1,t.workspace.skipEndRow=!1),this.renderEvent("endSequence",t),u==="main"&&(t.workspace.blockId=i),r.sequences.shift()}renderContent(t,r){for(var n=0;n<t.length;n++)this.renderItem(t[n],r);this.maybeRenderText(r)}renderItem(t,r){if(t.type==="scope"&&t.payload.startsWith("attribute")){var n=t.payload.split("/");t.subType==="start"?(this._container||(this._container={direction:"start",subType:"usfm:w",type:"wrapper",atts:{}}),n[3]in this._container.atts?this._container.atts[n[3]].push(n[5]):this._container.atts[n[3]]=[n[5]]):this._container||(this._container={direction:"end",subType:"usfm:".concat(zu(n[2]))},n[1]==="milestone"?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else{if(this._container&&(this.maybeRenderText(r),this.renderContainer(r),t.payload.includes("spanWith"))){this.maybeRenderText(r);return}if(t.type==="token")this._tokens.push(t.payload.replace(/\s+/g," "));else if(t.type==="graft"){this.maybeRenderText(r);var u={type:"graft",subType:zu(t.subType),sequence:this.sequences[t.payload]};r.context.sequences[0].element=u,this.cachedSequenceIds.unshift(t.payload),this.renderEvent("inlineGraft",r),this.cachedSequenceIds.shift(),delete r.context.sequences[0].element}else{this.maybeRenderText(r);var s=t.payload.split("/");if(["chapter","verses"].includes(s[0])){var o={type:"wrapper",subType:zu(s[0]),atts:{number:s[1]}};if(r.context.sequences[0].element=o,t.subType==="start"){r.workspace.tableHasContent&&r.workspace.inTable&&(this.renderEvent("endRow",r),this.renderEvent("endTable",r),r.workspace.tableHasContent=!1,r.workspace.inTable=!1,r.workspace.skipEndRow=!0),this.currentCV[s[0]]=s[1],r.context.sequences[0].block.wrappers.unshift(o.subType),this.renderEvent("start".concat(s[0]==="chapter"?"Chapter":"Verses"),r),this.renderEvent("startWrapper",r);var a={type:"mark",subType:"".concat(s[0],"_label"),atts:{number:s[1]}};r.context.sequences[0].element=a,this.renderEvent("mark",r),r.context.sequences[0].element=o}else this.renderEvent("endWrapper",r),this.renderEvent("end".concat(s[0]==="chapter"?"Chapter":"Verses"),r),r.context.sequences[0].block.wrappers.shift(),delete r.context.sequences[0].element,this.currentCV[s[0]]=null}else if(["pubChapter","pubVerse","altChapter","altVerse"].includes(s[0])){if(t.subType==="start"){var i={type:"mark",subType:zu(s[0]),atts:{number:s[1]}};r.context.sequences[0].element=i,this.renderEvent("mark",r),delete r.context.sequences[0].element}}else if(s[0]==="span"){var c={type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}};r.context.sequences[0].element=c,t.subType==="start"?(r.context.sequences[0].block.wrappers.unshift(c.subType),this.renderEvent("startWrapper",r)):(this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()),delete r.context.sequences[0].element}else if(s[0]==="spanWithAtts")if(t.subType==="start")this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}};else{var l={type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}};t.payload.includes("spanWith"),r.context.sequences[0].element=l,this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()}else if(s[0]==="cell"){var p={direction:"start",type:"wrapper",subType:s[0],atts:{role:s[1],alignment:s[2],nCols:parseInt(s[3])}};r.context.sequences[0].element=p,t.subType==="start"?(r.context.sequences[0].block.wrappers.unshift(p.subType),this.renderEvent("startWrapper",r)):(this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()),delete r.context.sequences[0].element}else if(s[0]==="milestone"&&t.subType==="start")if(s[1]==="ts"){var f={type:"mark",subType:"usfm:".concat(zu(s[1])),atts:{}};r.context.sequences[0].element=f,this.renderEvent("mark",r),delete r.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(zu(s[1])),atts:{}}}}}maybeRenderText(t){if(this._tokens.length!==0){var r={type:"text",text:this._tokens.join("")};t.context.sequences[0].element=r,this._tokens=[],this.renderEvent("text",t),t.workspace.inTable&&(t.workspace.tableHasContent=!0),delete t.context.sequences[0].element}}renderContainer(t){if(this._container.type==="wrapper"){var r=this._container.direction;delete this._container.direction,r==="start"?(t.context.sequences[0].element=this._container,t.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",t),delete t.context.sequences[0].element):(t.context.sequences[0].element=this._container,this.renderEvent("endWrapper",t),t.context.sequences[0].block.wrappers.shift(),delete t.context.sequences[0].element)}else this._container.type==="start_milestone"?(t.context.sequences[0].element=this._container,this.renderEvent("startMilestone",t),delete t.context.sequences[0].element):this._container.type==="end_milestone"&&(t.context.sequences[0].element=this._container,this.renderEvent("endMilestone",t),delete t.context.sequences[0].element);this._container=null}};var F0e=A0e,C0e=koe,b0e=joe,S0e=a0e,w0e=Ac,_0e=As,B0e=d0e,T0e=m0e,$0e=F0e,P0e=Ef,O0e=$w,k0e=Tw,C3={Validator:C0e,usfmHelps:b0e,ProskommaRender:w0e,PerfRenderFromJson:_0e,SofriaRenderFromJson:T0e,SofriaRenderFromProskomma:$0e,PerfRenderFromProskomma:B0e,mergeActions:P0e,PipelineHandler:S0e,pipelines:O0e,render:k0e},vf={},yf={};const I0e=[{id:0,type:"Inputs",inputs:{perf:"json",searchString:"text",ignoreCase:"text",asRegex:"text",logic:"text",asPartial:"text"}},{id:1,title:"Simplify Input PERF",name:"justTheBible",transformName:"justTheBible",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"perf",type:"json"}]},{id:2,title:"Merge Text in Input PERF",name:"mergePerfText",transformName:"mergePerfText",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 1 perf"}],outputs:[{name:"perf",type:"json"}]},{id:3,title:"Search Term",type:"Source",sourceLocation:"local",localValue:"Jesus",outputType:"text"},{id:4,title:"Ignore Case",type:"Source",sourceLocation:"local",localValue:"1",outputType:"text"},{id:5,title:"Regex",type:"Source",sourceLocation:"local",localValue:"0",outputType:"text"},{id:5,title:"Logic",type:"Source",sourceLocation:"local",localValue:"O",outputType:"text"},{id:6,title:"Partial",type:"Source",sourceLocation:"local",localValue:"0",outputType:"text"},{id:7,title:"Do Word Search",name:"wordSearch",transformName:"wordSearch",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"},{name:"searchString",type:"text",source:"Input searchString"},{name:"ignoreCase",type:"text",source:"Input ignoreCase"},{name:"regex",type:"text",source:"Input asRegex"},{name:"logic",type:"text",source:"Input logic"},{name:"partial",type:"text",source:"Input asPartial"}],outputs:[{name:"matches",type:"json"}]},{id:999,type:"Outputs",outputs:[{name:"matches",type:"json",source:"Transform 7 matches"}]}];Object.defineProperty(yf,"__esModule",{value:!0});yf.default=void 0;var N0e=q0e(I0e);function q0e(e){return e&&e.__esModule?e:{default:e}}var x0e={wordSearch:N0e.default};yf.default=x0e;Object.defineProperty(vf,"__esModule",{value:!0});vf.default=void 0;var R0e=j0e(yf);function j0e(e){return e&&e.__esModule?e:{default:e}}var M0e=R0e.default.wordSearch,L0e={wordSearch:M0e};vf.default=L0e;var gf={},Af={};Object.defineProperty(Af,"__esModule",{value:!0});Af.default=void 0;var U0e=C3,b3=G0e(mf);function G0e(e){return e&&e.__esModule?e:{default:e}}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){V0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0e(e,t,r){return t=H0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H0e(e){var t=W0e(e,"string");return typeof t=="symbol"?t:String(t)}function W0e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pw=(0,b3.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),J0e={startDocument:[{description:"Set up state variables and output",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e;n.chapter=null,n.verses=null,n.matches=new Set([]),n.chunks=[],t.regex&&(n.regex=new RegExp(t.toSearch,t.regexFlags))}}],mark:[{description:"Update CV state",test:()=>!0,action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element;s.subType==="chapter"?(o2(n,t),n.chapter=s.atts.number,n.chunks=[]):s.subType==="verses"&&(o2(n,t),n.verses=s.atts.number,n.chunks=[])}}],text:[{description:"Add matching verses to set",test:e=>{var{context:t,workspace:r}=e;return r.chapter&&r.verses},action:e=>{var{config:t,context:r,workspace:n,output:u}=e,s=r.sequences[0].element.text;n.chunks.push(s)}}],endDocument:[{description:"Sort matches",test:()=>!0,action:e=>{var t,r,n,{config:u,context:s,workspace:o,output:a}=e;a.bookCode=(s==null||(t=s.document)===null||t===void 0||(r=t.metadata)===null||r===void 0||(n=r.document)===null||n===void 0?void 0:n.bookCode)||"",a.searchTerms=Array.isArray(u.toSearch)?u.toSearch.join(" "):u.toSearch,a.options=[],u.ignoreCase&&a.options.push("ignoreCase"),u.andLogic&&a.options.push("andLogic"),u.orLogic&&a.options.push("orLogic"),u.partialMatch&&a.options.push("partialMatch"),u.regex&&a.options.push("regex"),o2(o,u),a.matches=Array.from(o.matches).sort((i,c)=>i.chapter*1e3+i.verses-(c.chapter*1e3+c.verses))}}]},z0e=function(t,r){var n={chapter:t.chapter,verses:t.verses,content:[]},u=r.toSearch,s=jS(jS({},r),{},{andLogic:!1}),o=t.chunks.join(""),a=b3.default.split(o,Pw);for(var i of a)if(i){var c=Ow(s,i,u,t);c?n.content.push({type:"wrapper",subtype:"x-search-match",content:[i]}):n.content.push(i)}t.matches.add(n)};function Ow(e,t,r,n){if(e.regex)return n.regex.test(t);var u=Array.isArray(r);if(e.ignoreCase&&(t=t.toLowerCase(),u?r=r.map(l=>l.toLowerCase()):r=r.toLowerCase()),u||(r=[r]),!e.partialMatch){var s=b3.default.split(t,Pw);t=s}var o=!0,a=!1;for(var i of r){var c=t.includes(i);c?a=!0:o=!1}return e.andLogic?o:a}var o2=function(t,r){if(t.chunks.length){var n=t.chunks.join(""),u=r.toSearch,s=Ow(r,n,u,t);s&&z0e(t,r)}},K0e=function(t){var{perf:r,searchString:n,ignoreCase:u="1",logic:s="",regex:o="0",partialMatch:a="0"}=t,i=new U0e.PerfRenderFromJson({srcJson:r,actions:J0e}),c={},l=u.trim()==="1";s=s.trim().substring(0,1).toUpperCase();var p=s==="A",f=s==="O",d=a&&a.trim()==="1",h=o.trim()==="1",E=n.trim();if(!h&&(E.includes("?")||E.includes("*"))){var A=E.replaceAll("?","\\S{1}");A=A.replaceAll("*","\\S*"),d||(A="\\b"+A+"\\b"),E="/"+A+"/"}var m="";if(E.startsWith("/")&&E.includes("/",2)){h=!0;var y=E.split("/");E=y[1],m=y[2],l&&!m.includes("i")&&(m+="i")}else(p||f)&&E&&(E=E.split(" "));return i.renderDocument({docId:"",config:{toSearch:E,ignoreCase:l,andLogic:p,orLogic:f,partialMatch:d,regex:h,regexFlags:m},output:c}),{matches:c}},X0e={name:"wordSearch",type:"Transform",description:"PERF=>JSON: Searches for a word",inputs:[{name:"perf",type:"json",source:""},{name:"searchString",type:"text",source:""},{name:"ignoreCase",type:"text",source:""},{name:"regex",type:"text",source:""},{name:"logic",type:"text",source:""},{name:"partial",type:"text",source:""}],outputs:[{name:"matches",type:"json"}],code:K0e},Y0e=X0e;Af.default=Y0e;Object.defineProperty(gf,"__esModule",{value:!0});gf.default=void 0;var Z0e=Q0e(Af);function Q0e(e){return e&&e.__esModule?e:{default:e}}var eDe={wordSearch:Z0e.default};gf.default=eDe;var kw={exports:{}};(function(e,t){(function(r,n){e.exports=n(C3)})(we,function(r){const n=[{id:0,type:"Inputs",inputs:{perf:"json",params:"json"}},{id:4,title:"Transform 4",name:"verseWords",type:"Transform",transformName:"verseWords",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:6,title:"Strip Alignment",name:"stripAlignment",type:"Transform",transformName:"stripAlignment",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"verseWords",type:"json",source:"Transform 4 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF: Strips alignment markup"},{id:9,title:"Merge stripped perf",name:"mergePerfText",type:"Transform",transformName:"mergePerfText",inputs:[{name:"perf",type:"json",source:"Transform 6 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:20,title:"findAndReplace",name:"findAndReplace",type:"Transform",transformName:"findAndReplace",inputs:[{name:"perf",type:"json",source:"Transform 9 perf"},{name:"params",type:"json",source:"Input params"}],outputs:[{name:"perf",type:"json"},{name:"results",type:"json"}],description:"Search the given phrase or regex"},{id:12,title:"Count stripped perf words",name:"verseWords",transformName:"verseWords",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 20 perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:13,title:"Merge Back Into Stripped (roundtrip)",name:"mergeAlignment",transformName:"mergeAlignment",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 20 perf"},{name:"strippedAlignment",type:"json",source:"Transform 6 strippedAlignment"},{name:"verseWords",type:"json",source:"Transform 12 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF adds report to verses"},{id:17,title:"Merge Merged PERF Text",name:"mergePerfText",transformName:"mergePerfText",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 13 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 17 perf"},{name:"unalignedWords",type:"json",source:"Transform 13 unalignedWords"},{name:"results",type:"json",source:"Transform 20 results"}]}];function u(h){return(h instanceof RegExp?h.source:h).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s(h){if(h instanceof RegExp)return h;if(typeof h!="string")throw new Error("Arg `source` shoud be of type string or RegExp");const E=h.match(/\/(.+)\/(?=(\w*$))/);return E!=null&&E[1]?{source:E[1],flags:E[2]}:{source:h}}function o(h){return h.toUpperCase()===h&&h.toLowerCase()!==h}function a({source:h,target:E,replacement:A="",replacementKeys:m=[],metadata:y,config:{filterCtxMatch:F=Y=>Y,filterCtxReplacement:B=Y=>Y,buildResultKey:P,ctxLen:$=0,xregexp:I,isRegex:U=!1,isCaseMatched:j=!0,isWordMatched:W=!1,isCasePreserved:te=!1}={}}){const Y=["g"];j||Y.push("i");const oe=typeof U=="boolean"?U:U==="true";!oe&&E instanceof RegExp&&console.warn("isRegex is set to false but target of type RegExp given.");const ie=I instanceof Function,fe=ie?I:function(b,w=""){return new RegExp(b,w)},De=ie?"p{Letter}\\p{Number}":"\\w\\d",de=ie?"\\p{Uppercase_Letter}":"[A-Z]";function Ce({regexp:b,isWordMatched:w}){const{source:x,flags:k}=b;return fe(w?`(^|[^${De}])(${x})(?=[^${De}]|$)`:`()(${x})`,k)}const pe=oe?s(E):{source:u(E),flags:null},Q=pe.flags?[...new Set([...pe.flags,...Y])]:Y,q=fe(pe.source,Q.join("")),v=Ce({regexp:q,isWordMatched:W});let C=0,D=0;const g=[],O=E!==""?h.replace(v,function(...b){const x=typeof b[b.length-1]=="object"?b.pop():void 0,k=b.pop(),G=b.pop(),H=b.shift(),re=b.shift(),_e=G+re.length,Le=b.shift(),Ge=function(){if(typeof A=="function")return A({index:D,match:Le,groups:b,position:_e,source:k,namedGroups:x});if(typeof A=="string")return A;throw new Error("Replacement param should be of type string or function.")}(),je=((_,L)=>te?o(_)?L.toUpperCase():new RegExp(fe(de)).test(_[0])?L[0].toUpperCase()+L.slice(1):L:L)(Le,Le.replace(q,Ge)),ke=P?P(D):D;if(D++,m==="all"||m.includes(ke))return re+je;const Ie=k.slice(_e-$,_e),ce=k.slice(_e+Le.length,_e+Le.length+$),Te=k.slice(0,_e),Z=k.slice(_e+Le.length,-1),ae=F?F(Le):Le,le=B?B(je):je,N=P?P(C):C,S={match:ae,replacement:le,context:{before:Ie,after:ce},extContext:{before:Te,after:Z},resultKey:N,metadata:{source:k,match:Le,searchIndex:C,position:_e,groups:b,namedGroups:x,...y}};return g.push(S),C++,H}):h;return{results:g,replaced:O}}const i={startDocument:[{description:"setup",test:()=>!0,action:h=>{const{workspace:E,output:A,context:m}=h;return E.bookCode=m.document.metadata.document.bookCode,E.chapter=null,E.verses=null,A.results=[],!0}}],text:[{description:"add-to-text",test:()=>!0,action:({config:h,context:E,workspace:A,output:m})=>{try{const{target:y,replacement:F,replacementKeys:B=[],config:P={}}=h,$=E.sequences[0].element.text,{chapter:I,verses:U,bookCode:j}=A,{results:W,replaced:te}=a({source:$,target:y,replacement:F,replacementKeys:B,metadata:{chapter:I,verses:U,bookCode:j},config:{buildResultKey:Y=>`${Y}-${j}-${I}-${U}`,...P}});return m.results.push(...W),A.outputContentStack[0].push(te),!U}catch(y){throw console.error(y),y}}}],mark:[{description:"mark-chapters",test:({context:h})=>h.sequences[0].element.subType==="chapter",action:({context:h,workspace:E})=>{const A=h.sequences[0].element;return E.chapter=A.atts.number,E.verses=0,!0}},{description:"mark-verses",test:({context:h})=>h.sequences[0].element.subType==="verses",action:({context:h,workspace:E})=>{const A=h.sequences[0].element;return E.verses=A.atts.number,!0}}]};return Object.freeze(Object.defineProperty({__proto__:null,pipelines:{findAndReplace:n},transforms:{findAndReplace:{name:"findAndReplace",type:"Transform",description:"Search and replace text in stripped perf",inputs:[{name:"perf",type:"json",source:""},{name:"params",type:"json",source:""}],outputs:[{name:"results",type:"json"}],code:function({perf:h,params:E}){const A=new r.PerfRenderFromJson({srcJson:h,actions:r.mergeActions([i,r.render.perfToPerf.renderActions.identityActions])}),m={};return A.renderDocument({docId:"",config:{...E},output:m}),{perf:m.perf,results:m.results}}}}},Symbol.toStringTag,{value:"Module"}))})})(kw);var tDe=kw.exports,rDe=nDe;function pa(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function nDe(e){if(e=e||{},e.circles)return uDe(e);return e.proto?n:r;function t(u,s){for(var o=Object.keys(u),a=new Array(o.length),i=0;i<o.length;i++){var c=o[i],l=u[c];typeof l!="object"||l===null?a[c]=l:l instanceof Date?a[c]=new Date(l):ArrayBuffer.isView(l)?a[c]=pa(l):a[c]=s(l)}return a}function r(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return t(u,r);if(u instanceof Map)return new Map(t(Array.from(u),r));if(u instanceof Set)return new Set(t(Array.from(u),r));var s={};for(var o in u)if(Object.hasOwnProperty.call(u,o)!==!1){var a=u[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(t(Array.from(a),r)):a instanceof Set?s[o]=new Set(t(Array.from(a),r)):ArrayBuffer.isView(a)?s[o]=pa(a):s[o]=r(a)}return s}function n(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return t(u,n);if(u instanceof Map)return new Map(t(Array.from(u),n));if(u instanceof Set)return new Set(t(Array.from(u),n));var s={};for(var o in u){var a=u[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(t(Array.from(a),n)):a instanceof Set?s[o]=new Set(t(Array.from(a),n)):ArrayBuffer.isView(a)?s[o]=pa(a):s[o]=n(a)}return s}}function uDe(e){var t=[],r=[];return e.proto?s:u;function n(o,a){for(var i=Object.keys(o),c=new Array(i.length),l=0;l<i.length;l++){var p=i[l],f=o[p];if(typeof f!="object"||f===null)c[p]=f;else if(f instanceof Date)c[p]=new Date(f);else if(ArrayBuffer.isView(f))c[p]=pa(f);else{var d=t.indexOf(f);d!==-1?c[p]=r[d]:c[p]=a(f)}}return c}function u(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,u);if(o instanceof Map)return new Map(n(Array.from(o),u));if(o instanceof Set)return new Set(n(Array.from(o),u));var a={};t.push(o),r.push(a);for(var i in o)if(Object.hasOwnProperty.call(o,i)!==!1){var c=o[i];if(typeof c!="object"||c===null)a[i]=c;else if(c instanceof Date)a[i]=new Date(c);else if(c instanceof Map)a[i]=new Map(n(Array.from(c),u));else if(c instanceof Set)a[i]=new Set(n(Array.from(c),u));else if(ArrayBuffer.isView(c))a[i]=pa(c);else{var l=t.indexOf(c);l!==-1?a[i]=r[l]:a[i]=u(c)}}return t.pop(),r.pop(),a}function s(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,s);if(o instanceof Map)return new Map(n(Array.from(o),s));if(o instanceof Set)return new Set(n(Array.from(o),s));var a={};t.push(o),r.push(a);for(var i in o){var c=o[i];if(typeof c!="object"||c===null)a[i]=c;else if(c instanceof Date)a[i]=new Date(c);else if(c instanceof Map)a[i]=new Map(n(Array.from(c),s));else if(c instanceof Set)a[i]=new Set(n(Array.from(c),s));else if(ArrayBuffer.isView(c))a[i]=pa(c);else{var l=t.indexOf(c);l!==-1?a[i]=r[l]:a[i]=s(c)}}return t.pop(),r.pop(),a}}var sDe=rDe(),jr={},Iw={exports:{}};/*!
**  Pure-UUID -- Pure JavaScript Based Universally Unique Identifier (UUID)
**  Copyright (c) 2004-2023 Dr. Ralf S. Engelschall <rse@engelschall.com>
**
**  Permission is hereby granted, free of charge, to any person obtaining
**  a copy of this software and associated documentation files (the
**  "Software"), to deal in the Software without restriction, including
**  without limitation the rights to use, copy, modify, merge, publish,
**  distribute, sublicense, and/or sell copies of the Software, and to
**  permit persons to whom the Software is furnished to do so, subject to
**  the following conditions:
**
**  The above copyright notice and this permission notice shall be included
**  in all copies or substantial portions of the Software.
**
**  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/(function(e){(function(t,r,n){e.exports=n(t),e.exports.default=e.exports})(we,"UUID",function(){var t=function(v,C,D,g,O,b){for(var w=function(k,G){var H=k.toString(16);return H.length<2&&(H="0"+H),G&&(H=H.toUpperCase()),H},x=C;x<=D;x++)O[b++]=w(v[x],g);return O},r=function(v,C,D,g,O){for(var b=C;b<=D;b+=2)g[O++]=parseInt(v.substr(b,2),16)},n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.-:+=^!/*?&<>()[]{}@%$#".split(""),u=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0],s=function(v,C){if(C%4!==0)throw new Error("z85_encode: invalid input length (multiple of 4 expected)");for(var D="",g=0,O=0;g<C;)if(O=O*256+v[g++],g%4===0){for(var b=52200625;b>=1;){var w=Math.floor(O/b)%85;D+=n[w],b/=85}O=0}return D},o=function(v,C){var D=v.length;if(D%5!==0)throw new Error("z85_decode: invalid input length (multiple of 5 expected)");typeof C>"u"&&(C=new Array(D*4/5));for(var g=0,O=0,b=0;g<D;){var w=v.charCodeAt(g++)-32;if(w<0||w>=u.length)break;if(b=b*85+u[w],g%5===0){for(var x=16777216;x>=1;)C[O++]=Math.trunc(b/x%256),x/=256;b=0}}return C},a=function(v,C){var D={ibits:8,obits:8,obigendian:!0};for(var g in C)typeof D[g]<"u"&&(D[g]=C[g]);for(var O=[],b=0,w,x,k=0,G,H=0,re=v.length;k===0&&(x=v.charCodeAt(b++)),w=x>>D.ibits-(k+8)&255,k=(k+8)%D.ibits,D.obigendian?H===0?G=w<<D.obits-8:G|=w<<D.obits-8-H:H===0?G=w:G|=w<<H,H=(H+8)%D.obits,!(H===0&&(O.push(G),b>=re)););return O},i=function(v,C){var D={ibits:32,ibigendian:!0};for(var g in C)typeof D[g]<"u"&&(D[g]=C[g]);var O="",b=4294967295;D.ibits<32&&(b=(1<<D.ibits)-1);for(var w=v.length,x=0;x<w;x++)for(var k=v[x]&b,G=0;G<D.ibits;G+=8)D.ibigendian?O+=String.fromCharCode(k>>D.ibits-8-G&255):O+=String.fromCharCode(k>>G&255);return O},c=8,l=8,p=256,f=function(v,C,D,g,O,b,w,x){return[x,w,b,O,g,D,C,v]},d=function(){return f(0,0,0,0,0,0,0,0)},h=function(v){return v.slice(0)},E=function(v){for(var C=d(),D=0;D<c;D++)C[D]=Math.floor(v%p),v/=p;return C},A=function(v){for(var C=0,D=c-1;D>=0;D--)C*=p,C+=v[D];return Math.floor(C)},m=function(v,C){for(var D=0,g=0;g<c;g++)D+=v[g]+C[g],v[g]=Math.floor(D%p),D=Math.floor(D/p);return D},y=function(v,C){for(var D=0,g=0;g<c;g++)D+=v[g]*C,v[g]=Math.floor(D%p),D=Math.floor(D/p);return D},F=function(v,C){var D,g,O=new Array(c+c);for(D=0;D<c+c;D++)O[D]=0;var b;for(D=0;D<c;D++){for(b=0,g=0;g<c;g++)b+=v[D]*C[g]+O[D+g],O[D+g]=b%p,b/=p;for(;g<c+c-D;g++)b+=O[D+g],O[D+g]=b%p,b/=p}for(D=0;D<c;D++)v[D]=O[D];return O.slice(c,c)},B=function(v,C){for(var D=0;D<c;D++)v[D]&=C[D];return v},P=function(v,C){for(var D=0;D<c;D++)v[D]|=C[D];return v},$=function(v,C){var D=d();if(C%l!==0)throw new Error("ui64_rorn: only bit rotations supported with a multiple of digit bits");for(var g=Math.floor(C/l),O=0;O<g;O++){for(var b=c-1-1;b>=0;b--)D[b+1]=D[b];for(D[0]=v[0],b=0;b<c-1;b++)v[b]=v[b+1];v[b]=0}return A(D)},I=function(v,C){if(C>c*l)throw new Error("ui64_ror: invalid number of bits to shift");var D=new Array(c+c),g;for(g=0;g<c;g++)D[g+c]=v[g],D[g]=0;var O=Math.floor(C/l),b=C%l;for(g=O;g<c+c-1;g++)D[g-O]=(D[g]>>>b|D[g+1]<<l-b)&(1<<l)-1;for(D[c+c-1-O]=D[c+c-1]>>>b&(1<<l)-1,g=c+c-1-O+1;g<c+c;g++)D[g]=0;for(g=0;g<c;g++)v[g]=D[g+c];return D.slice(0,c)},U=function(v,C){if(C>c*l)throw new Error("ui64_rol: invalid number of bits to shift");var D=new Array(c+c),g;for(g=0;g<c;g++)D[g+c]=0,D[g]=v[g];var O=Math.floor(C/l),b=C%l;for(g=c-1-O;g>0;g--)D[g+O]=(D[g]<<b|D[g-1]>>>l-b)&(1<<l)-1;for(D[0+O]=D[0]<<b&(1<<l)-1,g=0+O-1;g>=0;g--)D[g]=0;for(g=0;g<c;g++)v[g]=D[g];return D.slice(c,c)},j=function(v,C){for(var D=0;D<c;D++)v[D]^=C[D]},W=function(v,C){var D=(v&65535)+(C&65535),g=(v>>16)+(C>>16)+(D>>16);return g<<16|D&65535},te=function(v,C){return v<<C&4294967295|v>>>32-C&4294967295},Y=function(v,C){function D(ke,Ie,ce,Te){return ke<20?Ie&ce|~Ie&Te:ke<40?Ie^ce^Te:ke<60?Ie&ce|Ie&Te|ce&Te:Ie^ce^Te}function g(ke){return ke<20?1518500249:ke<40?1859775393:ke<60?-1894007588:-899497514}v[C>>5]|=128<<24-C%32,v[(C+64>>9<<4)+15]=C;for(var O=Array(80),b=1732584193,w=-271733879,x=-1732584194,k=271733878,G=-1009589776,H=0;H<v.length;H+=16){for(var re=b,_e=w,Le=x,Ue=k,Ge=G,be=0;be<80;be++){be<16?O[be]=v[H+be]:O[be]=te(O[be-3]^O[be-8]^O[be-14]^O[be-16],1);var je=W(W(te(b,5),D(be,w,x,k)),W(W(G,O[be]),g(be)));G=k,k=x,x=te(w,30),w=b,b=je}b=W(b,re),w=W(w,_e),x=W(x,Le),k=W(k,Ue),G=W(G,Ge)}return[b,w,x,k,G]},oe=function(v){return i(Y(a(v,{ibits:8,obits:32,obigendian:!0}),v.length*8),{ibits:32,ibigendian:!0})},ie=function(v,C){function D(be,je,ke,Ie,ce,Te){return W(te(W(W(je,be),W(Ie,Te)),ce),ke)}function g(be,je,ke,Ie,ce,Te,Z){return D(je&ke|~je&Ie,be,je,ce,Te,Z)}function O(be,je,ke,Ie,ce,Te,Z){return D(je&Ie|ke&~Ie,be,je,ce,Te,Z)}function b(be,je,ke,Ie,ce,Te,Z){return D(je^ke^Ie,be,je,ce,Te,Z)}function w(be,je,ke,Ie,ce,Te,Z){return D(ke^(je|~Ie),be,je,ce,Te,Z)}v[C>>5]|=128<<C%32,v[(C+64>>>9<<4)+14]=C;for(var x=1732584193,k=-271733879,G=-1732584194,H=271733878,re=0;re<v.length;re+=16){var _e=x,Le=k,Ue=G,Ge=H;x=g(x,k,G,H,v[re+0],7,-680876936),H=g(H,x,k,G,v[re+1],12,-389564586),G=g(G,H,x,k,v[re+2],17,606105819),k=g(k,G,H,x,v[re+3],22,-1044525330),x=g(x,k,G,H,v[re+4],7,-176418897),H=g(H,x,k,G,v[re+5],12,1200080426),G=g(G,H,x,k,v[re+6],17,-1473231341),k=g(k,G,H,x,v[re+7],22,-45705983),x=g(x,k,G,H,v[re+8],7,1770035416),H=g(H,x,k,G,v[re+9],12,-1958414417),G=g(G,H,x,k,v[re+10],17,-42063),k=g(k,G,H,x,v[re+11],22,-1990404162),x=g(x,k,G,H,v[re+12],7,1804603682),H=g(H,x,k,G,v[re+13],12,-40341101),G=g(G,H,x,k,v[re+14],17,-1502002290),k=g(k,G,H,x,v[re+15],22,1236535329),x=O(x,k,G,H,v[re+1],5,-165796510),H=O(H,x,k,G,v[re+6],9,-1069501632),G=O(G,H,x,k,v[re+11],14,643717713),k=O(k,G,H,x,v[re+0],20,-373897302),x=O(x,k,G,H,v[re+5],5,-701558691),H=O(H,x,k,G,v[re+10],9,38016083),G=O(G,H,x,k,v[re+15],14,-660478335),k=O(k,G,H,x,v[re+4],20,-405537848),x=O(x,k,G,H,v[re+9],5,568446438),H=O(H,x,k,G,v[re+14],9,-1019803690),G=O(G,H,x,k,v[re+3],14,-187363961),k=O(k,G,H,x,v[re+8],20,1163531501),x=O(x,k,G,H,v[re+13],5,-1444681467),H=O(H,x,k,G,v[re+2],9,-51403784),G=O(G,H,x,k,v[re+7],14,1735328473),k=O(k,G,H,x,v[re+12],20,-1926607734),x=b(x,k,G,H,v[re+5],4,-378558),H=b(H,x,k,G,v[re+8],11,-2022574463),G=b(G,H,x,k,v[re+11],16,1839030562),k=b(k,G,H,x,v[re+14],23,-35309556),x=b(x,k,G,H,v[re+1],4,-1530992060),H=b(H,x,k,G,v[re+4],11,1272893353),G=b(G,H,x,k,v[re+7],16,-155497632),k=b(k,G,H,x,v[re+10],23,-1094730640),x=b(x,k,G,H,v[re+13],4,681279174),H=b(H,x,k,G,v[re+0],11,-358537222),G=b(G,H,x,k,v[re+3],16,-722521979),k=b(k,G,H,x,v[re+6],23,76029189),x=b(x,k,G,H,v[re+9],4,-640364487),H=b(H,x,k,G,v[re+12],11,-421815835),G=b(G,H,x,k,v[re+15],16,530742520),k=b(k,G,H,x,v[re+2],23,-995338651),x=w(x,k,G,H,v[re+0],6,-198630844),H=w(H,x,k,G,v[re+7],10,1126891415),G=w(G,H,x,k,v[re+14],15,-1416354905),k=w(k,G,H,x,v[re+5],21,-57434055),x=w(x,k,G,H,v[re+12],6,1700485571),H=w(H,x,k,G,v[re+3],10,-1894986606),G=w(G,H,x,k,v[re+10],15,-1051523),k=w(k,G,H,x,v[re+1],21,-2054922799),x=w(x,k,G,H,v[re+8],6,1873313359),H=w(H,x,k,G,v[re+15],10,-30611744),G=w(G,H,x,k,v[re+6],15,-1560198380),k=w(k,G,H,x,v[re+13],21,1309151649),x=w(x,k,G,H,v[re+4],6,-145523070),H=w(H,x,k,G,v[re+11],10,-1120210379),G=w(G,H,x,k,v[re+2],15,718787259),k=w(k,G,H,x,v[re+9],21,-343485551),x=W(x,_e),k=W(k,Le),G=W(G,Ue),H=W(H,Ge)}return[x,k,G,H]},fe=function(v){return i(ie(a(v,{ibits:8,obits:32,obigendian:!1}),v.length*8),{ibits:32,ibigendian:!1})},De=function(v){this.mul=f(88,81,244,45,76,149,127,45),this.inc=f(20,5,123,126,247,103,129,79),this.mask=f(0,0,0,0,255,255,255,255),this.state=h(this.inc),this.next(),B(this.state,this.mask);var C;v!==void 0?v=E(v>>>0):typeof window=="object"&&typeof window.crypto=="object"&&typeof window.crypto.getRandomValues=="function"?(C=new Uint32Array(2),window.crypto.getRandomValues(C),v=P(E(C[0]>>>0),I(E(C[1]>>>0),32))):typeof globalThis=="object"&&typeof globalThis.crypto=="object"&&typeof globalThis.crypto.getRandomValues=="function"?(C=new Uint32Array(2),globalThis.crypto.getRandomValues(C),v=P(E(C[0]>>>0),I(E(C[1]>>>0),32))):(v=E(Math.random()*4294967295>>>0),P(v,I(E(new Date().getTime()),32))),P(this.state,v),this.next()};De.prototype.next=function(){var v=h(this.state);F(this.state,this.mul),m(this.state,this.inc);var C=h(v);I(C,18),j(C,v),I(C,27);var D=h(v);I(D,59),B(C,this.mask);var g=A(D),O=h(C);return U(O,32-g),I(C,g),j(C,O),A(C)},De.prototype.reseed=function(v){if(typeof v!="string")throw new Error("UUID: PCG: seed: invalid argument (string expected)");for(var C=Y(a(v,{ibits:8,obits:32,obigendian:!0}),v.length*8),D=0;D<C.length;D++)j(de.state,E(C[D]>>>0))};var de=new De;De.reseed=function(v){de.reseed(v)};var Ce=function(v,C){for(var D=[],g=0;g<v;g++)D[g]=de.next()%C;return D},pe=0,Q=0,q=function(){if(arguments.length===1&&typeof arguments[0]=="string")this.parse.apply(this,arguments);else if(arguments.length>=1&&typeof arguments[0]=="number")this.make.apply(this,arguments);else{if(arguments.length>=1)throw new Error("UUID: constructor: invalid arguments");for(var v=0;v<16;v++)this[v]=0}};return typeof Uint8Array<"u"?q.prototype=new Uint8Array(16):Buffer?q.prototype=Buffer.alloc(16):q.prototype=new Array(16),q.prototype.constructor=q,q.prototype.make=function(v){var C,D=this;if(v===1){var g=new Date,O=g.getTime();O!==pe?Q=0:Q++,pe=O;var b=E(O);y(b,1e3*10),m(b,f(1,178,29,210,19,129,64,0)),Q>0&&m(b,E(Q));var w;w=$(b,8),D[3]=w&255,w=$(b,8),D[2]=w&255,w=$(b,8),D[1]=w&255,w=$(b,8),D[0]=w&255,w=$(b,8),D[5]=w&255,w=$(b,8),D[4]=w&255,w=$(b,8),D[7]=w&255,w=$(b,8),D[6]=w&15;var x=Ce(2,255);D[8]=x[0],D[9]=x[1];var k=Ce(6,255);for(k[0]|=1,k[0]|=2,C=0;C<6;C++)D[10+C]=k[C]}else if(v===4){var G=Ce(16,255);for(C=0;C<16;C++)this[C]=G[C]}else if(v===3||v===5){var H="",re=typeof arguments[1]=="object"&&arguments[1]instanceof q?arguments[1]:new q().parse(arguments[1]);for(C=0;C<16;C++)H+=String.fromCharCode(re[C]);H+=arguments[2];var _e=v===3?fe(H):oe(H);for(C=0;C<16;C++)D[C]=_e.charCodeAt(C)}else throw new Error("UUID: make: invalid version");return D[6]&=15,D[6]|=v<<4,D[8]&=63,D[8]|=128,D},q.prototype.format=function(v){var C,D;return v==="z85"?C=s(this,16):v==="b16"?(D=Array(32),t(this,0,15,!0,D,0),C=D.join("")):(v===void 0||v==="std")&&(D=new Array(36),t(this,0,3,!1,D,0),D[8]="-",t(this,4,5,!1,D,9),D[13]="-",t(this,6,7,!1,D,14),D[18]="-",t(this,8,9,!1,D,19),D[23]="-",t(this,10,15,!1,D,24),C=D.join("")),C},q.prototype.toString=function(v){return this.format(v)},q.prototype.toJSON=function(){return this.format("std")},q.prototype.parse=function(v,C){if(typeof v!="string")throw new Error("UUID: parse: invalid argument (type string expected)");if(C==="z85")o(v,this);else if(C==="b16")r(v,0,35,this,0);else if(C===void 0||C==="std"){var D={nil:"00000000-0000-0000-0000-000000000000","ns:DNS":"6ba7b810-9dad-11d1-80b4-00c04fd430c8","ns:URL":"6ba7b811-9dad-11d1-80b4-00c04fd430c8","ns:OID":"6ba7b812-9dad-11d1-80b4-00c04fd430c8","ns:X500":"6ba7b814-9dad-11d1-80b4-00c04fd430c8"};if(D[v]!==void 0)v=D[v];else if(!v.match(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/))throw new Error('UUID: parse: invalid string representation (expected "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")');r(v,0,7,this,0),r(v,9,12,this,4),r(v,14,17,this,6),r(v,19,22,this,8),r(v,24,35,this,10)}return this},q.prototype.export=function(){for(var v=Array(16),C=0;C<16;C++)v[C]=this[C];return v},q.prototype.import=function(v){if(!(typeof v=="object"&&v instanceof Array))throw new Error("UUID: import: invalid argument (type Array expected)");if(v.length!==16)throw new Error("UUID: import: invalid argument (Array of length 16 expected)");for(var C=0;C<16;C++){if(typeof v[C]!="number")throw new Error("UUID: import: invalid array element #"+C+" (type Number expected)");if(!(isFinite(v[C])&&Math.floor(v[C])===v[C]))throw new Error("UUID: import: invalid array element #"+C+" (Number with integer value expected)");if(!(v[C]>=0&&v[C]<=255))throw new Error("UUID: import: invalid array element #"+C+" (Number with integer value in range 0...255 expected)");this[C]=v[C]}return this},q.prototype.compare=function(v){if(typeof v!="object")throw new Error("UUID: compare: invalid argument (type UUID expected)");if(!(v instanceof q))throw new Error("UUID: compare: invalid argument (type UUID expected)");for(var C=0;C<16;C++){if(this[C]<v[C])return-1;if(this[C]>v[C])return 1}return 0},q.prototype.equal=function(v){return this.compare(v)===0},q.prototype.fold=function(v){if(typeof v>"u")throw new Error("UUID: fold: invalid argument (number of fold operations expected)");if(v<1||v>4)throw new Error("UUID: fold: invalid argument (1-4 fold operations expected)");for(var C=16/Math.pow(2,v),D=new Array(C),g=0;g<C;g++){for(var O=0,b=0;g+b<16;b+=C)O^=this[g+b];D[g]=O}return D},q.PCG=De,q})})(Iw);var S3=Iw.exports,Fp={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */Fp.exports;(function(e,t){(function(r){var n=t,u=e&&e.exports==n&&e,s=typeof we=="object"&&we;(s.global===s||s.window===s)&&(r=s);var o=function(h){this.message=h};o.prototype=new Error,o.prototype.name="InvalidCharacterError";var a=function(h){throw new o(h)},i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,l=function(h){h=String(h).replace(c,"");var E=h.length;E%4==0&&(h=h.replace(/==?$/,""),E=h.length),(E%4==1||/[^+a-zA-Z0-9/]/.test(h))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var A=0,m,y,F="",B=-1;++B<E;)y=i.indexOf(h.charAt(B)),m=A%4?m*64+y:y,A++%4&&(F+=String.fromCharCode(255&m>>(-2*A&6)));return F},p=function(h){h=String(h),/[^\0-\xFF]/.test(h)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var E=h.length%3,A="",m=-1,y,F,B,P,$=h.length-E;++m<$;)y=h.charCodeAt(m)<<16,F=h.charCodeAt(++m)<<8,B=h.charCodeAt(++m),P=y+F+B,A+=i.charAt(P>>18&63)+i.charAt(P>>12&63)+i.charAt(P>>6&63)+i.charAt(P&63);return E==2?(y=h.charCodeAt(m)<<8,F=h.charCodeAt(++m),P=y+F,A+=i.charAt(P>>10)+i.charAt(P>>4&63)+i.charAt(P<<2&63)+"="):E==1&&(P=h.charCodeAt(m),A+=i.charAt(P>>2)+i.charAt(P<<4&63)+"=="),A},f={encode:p,decode:l,version:"1.0.0"};if(n&&!n.nodeType)if(u)u.exports=f;else for(var d in f)f.hasOwnProperty(d)&&(n[d]=f[d]);else r.base64=f})(we)})(Fp,Fp.exports);var w3=Fp.exports;Object.defineProperty(jr,"__esModule",{value:!0});jr.validateParams=jr.removeAttribute=jr.getPathValue=jr.generateId=jr.findObject=jr.findNewGraft=void 0;var oDe=Nw(S3),aDe=Nw(w3);function Nw(e){return e&&e.__esModule?e:{default:e}}var iDe=(e,t,r)=>{var n=new Set(e),u=Object.keys(t).filter(s=>!n.has(s));if(u.length>0)throw new Error("".concat(r,". Expected one of: [").concat([...n].join(", "),"], But got: [").concat(u.join(", "),"]"))};jr.validateParams=iDe;var cDe=(e,t)=>{var r,n,u;if(typeof e!="object"||e===null)return e;r=Array.isArray(e)?[]:{};for(u in e)u==t&&Object.keys(e[u]).length===0||(n=e[u],r[u]=removeAtts(n));return r};jr.removeAttribute=cDe;var lDe=e=>{var{object:t,path:r}=e;return r.split("/").reduce((n,u)=>(n=n[u],n),t)};jr.getPathValue=lDe;var pDe=()=>aDe.default.encode(new oDe.default(4)).substring(0,12);jr.generateId=pDe;var fDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,u=[],s=function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};!a||typeof a!="object"||(a[r]===n&&u.push(a),Object.keys(a).forEach(function(i){o(a[i])}))};return s(t),u};jr.findObject=fDe;var dDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=[],u=function s(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};!o||typeof o!="object"||(o.type==="graft"&&o.new&&(n.push(o),r(o)),o.blocks&&o.blocks.forEach(function(a){s(a)}),o.content&&o.content.forEach(function(a){s(a)}))};return u(t),n};jr.findNewGraft=dDe;Object.defineProperty(Qp,"__esModule",{value:!0});Qp.default=void 0;var a2=C3,ml=Ff(vf),El=Ff(gf),MS=Ff(tDe),i2=Ff(sDe),hu=jr,DDe=["proskomma","docSetId","options"],hDe=["hs"],mDe=["perf"],EDe=["writePipeline","cloning","insertSequences"],vDe=["sequences"];function Ff(e){return e&&e.__esModule?e:{default:e}}function LS(e,t,r,n,u,s,o){try{var a=e[s](o),i=a.value}catch(c){r(c);return}a.done?t(i):Promise.resolve(i).then(n,u)}function wn(e){return function(){var t=this,r=arguments;return new Promise(function(n,u){var s=e.apply(t,r);function o(i){LS(s,n,u,o,a,"next",i)}function a(i){LS(s,n,u,o,a,"throw",i)}o(void 0)})}}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){yDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yDe(e,t,r){return t=gDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gDe(e){var t=ADe(e,"string");return typeof t=="symbol"?t:String(t)}function ADe(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Za(e,t){if(e==null)return{};var r=FDe(e,t),n,u;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(u=0;u<s.length;u++)n=s[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FDe(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,s;for(s=0;s<n.length;s++)u=n[s],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}var vl={WRITE_PERF:"writePerf",READ_PERF:"readPerf",LOAD_PERF:"loadPerf",UNDO_PERF:"undoPerf",REDO_PERF:"redoPerf"};class CDe{constructor(t){var{proskomma:r=null,docSetId:n,options:u={}}=t,s=Za(t,DDe);if((0,hu.validateParams)(["proskomma","docSetId","options"],s,"Unexpected arg in constructor"),(0,hu.validateParams)(["historySize","pipelines","transforms"],u,"Unexpected option in constructor"),!n)throw new Error("docSetId is required");this._observers=[];var o='{ docSet(id: "'.concat(n,'") { id } }'),{data:a}=(r==null?void 0:r.gqlQuerySync(o))||{};if(r&&!(a!=null&&a.docSet))throw new Error("Provided docSetId is not present in the Proskomma instance.");var{hs:i}=u,c=Za(u,hDe),l=i?i+1:11;this.options=Ut({historySize:l},c),this.proskomma=r,this.pipelineHandler=new a2.PipelineHandler({pipelines:ml.default||u.pipelines?Ut(Ut(Ut({},ml.default),u.pipelines),MS.default.pipelines):null,transforms:El.default||u.transforms?Ut(Ut(Ut({},El.default),u.transforms),MS.default.transforms):null,proskomma:r}),this.docSetId=n,this.saved={},this.history={},this.validator=new a2.Validator,this.backend=r?"proskomma":"standalone"}unobserve(t){this._observers=this._observers.filter(r=>r!==t)}observe(t){return this._observers.push(t),()=>this.unobserve(t)}notifyObservers(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._observers.forEach(u=>{u(...r)})}instanciatePipelineHandler(t){var{pipelines:r,transforms:n}=t;new a2.PipelineHandler({pipelines:ml.default||r?Ut(Ut({},ml.default),r):null,transforms:El.default||n?Ut(Ut({},El.default),n):null})}getBookData(t){var r=this.history[t];return r==null?void 0:r.stack[r.cursor]}getDocument(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this.getBookData(t),u=n==null?void 0:n.perfDocument;if(u)return r?(0,i2.default)(u):Ut({},u)}getDocuments(){return Object.keys(this.history).reduce((t,r)=>(t[r]=this.getDocument(r),t),{})}savePerf(t){this.saved[t]=this.getBookData(t)}canSavePerf(t){return this.saved[t]!==this.getBookData(t)}setBookHistory(t){var r,n;return(n=(r=this.history)[t])!==null&&n!==void 0||(r[t]={stack:[],cursor:0}),this.history[t]}getBookHistory(t){var r,n=(r=this.history[t])!==null&&r!==void 0?r:this.setBookHistory(t);return n}clearPerf(){this.history={}}addDocument(t){var r,{bookCode:n,perfDocument:u,clone:s=!0}=t,{stack:o,cursor:a}=this.getBookHistory(n);return(r=o[a])!==null&&r!==void 0||(o[a]={}),o[a].perfDocument=s?(0,i2.default)(u):u,u}setPipelineData(t,r){var n,{stack:u,cursor:s}=this.getBookHistory(t);(n=u[s])!==null&&n!==void 0||(u[s]={});var o=u[s].pipelineData;r&&(u[s].pipelineData=Ut(Ut({},o),r))}getPipelineData(t){var r=this.getBookData(t);return r==null?void 0:r.pipelineData}getPipelineHandler(){return this.pipelineHandler}runPipeline(t){var r=this;return wn(function*(){var{bookCode:n,pipelineName:u,perfDocument:s}=t;if(!u)return{perf:s};var o=r.getPipelineData(n),[a]=r.pipelineHandler.pipelines[u],{inputs:i}=a,c=o?Object.keys(o).reduce((h,E)=>(E in i&&(h[E]=o[E]),h),{}):void 0,l=Ut({perf:s},c),p=yield r.pipelineHandler.runPipeline(u,l),{perf:f}=p,d=Za(p,mDe);return{perf:f,pipelineData:d}})()}loadPerf(t,r,n){var u=this;return wn(function*(){var s,o=(s=n.cloning)!==null&&s!==void 0?s:!0,{writePipeline:a,readPipeline:i}=n,{perf:c,pipelineData:l}=yield u.runPipeline({bookCode:t,pipelineName:a,perfDocument:r}),p=u.validator.validate("constraint","perfDocument","0.3.0",c);if(!p.isValid)throw new Error("writePerf is schema invalid: ".concat(JSON.stringify(p.errors)));u.setPipelineData(t,l);var f=u.addDocument({bookCode:t,perfDocument:c,clone:o});if(p=u.validator.validate("constraint","perfDocument","0.3.0",f),!p.isValid)throw new Error("savedPerf is schema invalid: ".concat(JSON.stringify(p.errors)));var{perf:d,pipelineData:h}=yield u.runPipeline({bookCode:t,pipelineName:i,perfDocument:f});if(p=u.validator.validate("constraint","perfDocument","0.3.0",d),!p.isValid){var E=p.errors.map(A=>{var m=(0,hu.getPathValue)({object:d,path:A.instancePath});return Ut(Ut({},A),{},{value:JSON.stringify(m,null,2)})});throw new Error("readPerf is schema invalid: ".concat(JSON.stringify(E)))}return u.setPipelineData(t,h),u.savePerf(t),u.notifyObservers({action:vl.LOAD_PERF,data:d}),d})()}sideloadPerf(t,r){var n=arguments,u=this;return wn(function*(){var s=n.length>2&&n[2]!==void 0?n[2]:{};if((0,hu.validateParams)(["writePipeline","readPipeline","cloning"],s,"Unexpected option in sideloadPerf"),u.backend==="proskomma")throw"Can't call sideloadPerf in proskomma mode";if(!t||!r)throw"sideloadPerf requires 2 arguments (bookCode, perfDocument)";var o=u.validator.validate("constraint","perfDocument","0.3.0",r);if(!o.isValid)throw`perfJSON is not valid. 
`.concat(JSON.stringify(o,null,2));return yield u.loadPerf(t,r,s)})()}fetchPerf(t){var r=arguments,n=this;return wn(function*(){var u=r.length>1&&r[1]!==void 0?r[1]:{};if((0,hu.validateParams)(["writePipeline","readPipeline","cloning"],u,"Unexpected option in fetchPerf"),n.backend==="standalone")throw"Can't call fetchPerf in standalone mode";if(!t)throw new Error("fetchPerf requires argument (bookCode)");if(t.length>3||!/^[A-Z0-9]{3}$/.test(t))throw new Error('Invalid bookCode: "'.concat(t,'". Only three characters (uppercase letters [A-Z] or numbers [0-9]) allowed.'));var s='{docSet(id: "'.concat(n.docSetId,'") { document(bookCode: "').concat(t,'") { perf } } }'),{data:o}=n.proskomma.gqlQuerySync(s),a=o.docSet.document.perf;if(!a)throw new Error('No document with bookCode="'.concat(t,'" found.'));var i=JSON.parse(a);return yield n.loadPerf(t,i,u)})()}readPerf(t){var r=arguments,n=this;return wn(function*(){var u,s=r.length>1&&r[1]!==void 0?r[1]:{};(0,hu.validateParams)(["readPipeline","cloning"],s,"Unexpected option in readPerf");var o=(u=s.cloning)!==null&&u!==void 0?u:!0;if(!n.history[t]&&n.backend==="proskomma")return n.fetchPerf(t,s);if(!n.history[t]&&n.backend==="standalone")throw'No document with bookCode="'.concat(t,'" found in memory. Use sideloadPerf() to load the document.');var a=n.getDocument(t,o),{readPipeline:i}=s,{perf:c,pipelineData:l}=yield n.runPipeline({bookCode:t,pipelineName:i,perfDocument:a});return n.setPipelineData(t,l),c})()}writePerf(t,r,n){var u=arguments,s=this;return wn(function*(){var o=u.length>3&&u[3]!==void 0?u[3]:{};(0,hu.validateParams)(["writePipeline","readPipeline","cloning","insertSequences"],o,"Unexpected option in writePerf");var{writePipeline:a,cloning:i,insertSequences:c}=o,l=Za(o,EDe),p=i??!0,f=s.getDocument(t,!1);if(!f)throw"document not found: ".concat(t);if(!f.sequences[r])throw"PERF sequence id not found: ".concat(t,", ").concat(r);var d=s.validator.validate("constraint","perfSequence","0.3.0",n);if(!d.isValid)throw"PERF sequence  ".concat(r," for ").concat(t," is not valid: ").concat(JSON.stringify(d));var h={};c&&(0,hu.findNewGraft)(n,$=>{var I=(0,hu.generateId)();h[I]={type:$.subtype,blocks:[]},$.target=I,delete $.new});var{sequences:E}=f,A=Za(f,vDe),m=Ut(Ut({},E),{},{[r]:p?(0,i2.default)(n):n});A.sequences=m;var{perf:y,pipelineData:F}=yield s.runPipeline({bookCode:t,pipelineName:a,perfDocument:A});y.sequences=Ut(Ut(Ut({},E),h),{},{[r]:y.sequences[r]});var B=s.history[t];B.stack=B.stack.slice(B.cursor),B.stack.unshift({perfDocument:y}),B.cursor=0,s.setPipelineData(t,F),B.stack.length>s.options.historySize&&B.stack.pop();var P=yield s.readPerf(t,l);return s.notifyObservers({action:vl.WRITE_PERF,data:P}),P})()}undoPerf(t,r){var n=this;return wn(function*(){if(n.canUndo(t)){var u=n.history[t];++u.cursor;var s=yield n.readPerf(t,r);return n.notifyObservers({action:vl.UNDO_PERF,data:s}),s}return null})()}redoPerf(t,r){var n=this;return wn(function*(){if(n.canRedo(t)){var u=n.history[t];--u.cursor;var s=yield n.readPerf(t,r);return n.notifyObservers({action:vl.REDO_PERF,data:s}),s}return null})()}canUndo(t){var r=this.history[t];return!(!r||r.cursor+1===r.stack.length)}canRedo(t){var r=this.history[t];return!(!r||r.cursor===0)}checkPerfSequence(t){var r=0,n=0,u=t==null?void 0:t.blocks.reduce((s,o)=>{var{content:a}=o;if(Array.isArray(a))for(var i of a)i.type==="mark"&&i.subtype==="verses"&&(n++,n.toString()!==i.atts.number&&(s.push("Verse ".concat(i.atts.number," is out of order, expected ").concat(n)),n=Number(i.atts.number))),i.type==="mark"&&i.subtype==="chapter"&&(r++,r.toString()!==i.atts.number&&(s.push("Chapter ".concat(i.atts.number," is out of order, expected ").concat(r)),r=Number(i.atts.number)),n=0);return s},[]);return u}localBookCodes(){return Object.keys(this.history)}bookHeaders(){var t,r,n={},u='{ docSet(id: "'.concat(this.docSetId,'") { documents { headers { key value } } } }'),{data:s}=((t=this.proskomma)===null||t===void 0?void 0:t.gqlQuerySync(u))||{},o=(s==null||(r=s.docSet)===null||r===void 0?void 0:r.documents)||this.getDocuments();for(var a of o){var i=null,c={};for(var l of a.headers)l.key==="bookCode"?i=l.value:c[l.key]=l.value;i&&(n[i]=c)}return n}readUsfm(t,r){var n=this;return wn(function*(){var u=yield n.readPerf(t,r);n.pipelineHandler===null&&n.instanciatePipelineHandler();var s=yield n.pipelineHandler.runPipeline("perfToUsfmPipeline",{perf:u});return s.usfm})()}makeDocumentReport(t,r,n){var u=this;return wn(function*(){if(!u.localBookCodes().includes(t))throw new Error("bookCode '".concat(t,"' is not available locally"));return u.pipelineHandler===null&&u.instanciatePipelineHandler(),n.perf=u.getDocument(t),yield u.pipelineHandler.runPipeline(r,n)})()}makeDocumentsReport(t,r){var n=this;return wn(function*(){var u=n.localBookCodes(),s={};for(var o of u){var a=yield n.makeDocumentReport(o,t,r);s[a.matches.bookCode]=a}return s})()}}var bDe=CDe;Qp.default=bDe;var Cf={},bf={};Object.defineProperty(bf,"__esModule",{value:!0});bf.default=void 0;var SDe={"*":{"*":{tagName:"span"},sequence:{tagName:"section"}},paragraph:{"*":{tagName:"p"}},mark:{"*":{tagName:"span"},chapter:e=>{var{atts:t}=e;return{classList:["mark","chapter","chapter-".concat(t.number)],id:"chapter-".concat(t.number)}}},graft:{heading:{tagName:"div"},title:{tagName:"div"},introduction:{tagName:"div"}}};bf.default=SDe;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.mapHtml=Mr.handleSubtypeNS=Mr.handleNewGrafts=Mr.handleAtts=Mr.generateId=Mr.createElement=void 0;var wDe=qw(S3),_De=qw(w3);function qw(e){return e&&e.__esModule?e:{default:e}}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function VS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){BDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BDe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TDe=e=>Object.keys(e).reduce((t,r)=>e[r]!==void 0&&e[r]!==null?t+=" ".concat(r,'="').concat(e[r],'"'):t,""),$De=e=>Object.keys(e).reduce((t,r)=>e[r]?t+=" data-".concat(r,'="').concat(e[r],'"'):t,""),PDe=e=>e&&Array.isArray(e)?' class="'.concat(e.join(" "),'"'):' class="'.concat(e,'"'),ODe=e=>{var{classList:t,id:r,attributes:n,dataset:u}=e;return"".concat(PDe(t)).concat(r&&' id="'.concat(r,'"')).concat($De(u)).concat(TDe(n))},kDe=e=>{var{tagName:t="div",id:r="",classList:n="",dataset:u={},children:s="",attributes:o={}}=e;return"<".concat(t||"div").concat(ODe({classList:n,id:r,attributes:o,dataset:u}),">").concat(s,"</").concat(t||"div",">")};Mr.createElement=kDe;var IDe=e=>{var t,r,n,u,{props:s,htmlMap:o}=e,{type:a,subtype:i}=s,c=(d,h)=>[...d?[d]:[],...h?[h.replace(":"," ")]:[]];if(!o)return{classList:c(a,i)};var l=[(t=o[a])===null||t===void 0?void 0:t[i],(r=o["*"])===null||r===void 0?void 0:r[i],(n=o[a])===null||n===void 0?void 0:n["*"],(u=o["*"])===null||u===void 0?void 0:u["*"]],p=d=>d&&(Array.isArray(d)?d:[d]),f=l.reduce((d,h)=>{var E=h||{},{classList:A,tagName:m,id:y,attributes:F}=typeof E=="function"?E(s):E;return d.classList=d.classList.concat(p(A)||[]),d.attributes=VS(VS({},d.attributes),F),!d.tagName&&m&&(d.tagName=m),!d.id&&y&&(d.id=y),d},{classList:[],tagName:"",attributes:{}});return{classList:f.classList.length?[...new Set(f.classList)]:c(a,i),tagName:f.tagName,id:f.id,attributes:f.attributes}};Mr.mapHtml=IDe;var NDe=e=>e?Object.keys(e).reduce((t,r)=>(t["atts-".concat(r)]=typeof e[r]=="object"?e[r].join(","):e[r],t),{}):{};Mr.handleAtts=NDe;var qDe=e=>{var t=e.split(":");return t.length>1?{"subtype-ns":t[0],subtype:t[1]}:{subtype:e}};Mr.handleSubtypeNS=qDe;var xw=()=>_De.default.encode(new wDe.default(4)).substring(0,12);Mr.generateId=xw;var xDe=e=>{var t={};return e.forEach(r=>{var n=xw();t[n]={type:r.subtype,blocks:r.content||[]},r.target=n,delete r.content,delete r.new}),t};Mr.handleNewGrafts=xDe;Object.defineProperty(Cf,"__esModule",{value:!0});Cf.default=void 0;var RDe=UDe(bf),_n=Mr,jDe=["type","subtype","content","meta_content","atts"],MDe=["type","subtype","atts","content"],LDe=["blocks"];function UDe(e){return e&&e.__esModule?e:{default:e}}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){GDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GDe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2(e,t){if(e==null)return{};var r=VDe(e,t),n,u;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(u=0;u<s.length;u++)n=s[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VDe(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,s;for(s=0;s<n.length;s++)u=n[s],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}function HDe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:RDe.default,n=c=>{var l;return(l=c==null?void 0:c.reduce((p,f)=>p+=typeof f=="string"?f:s(f),""))!==null&&l!==void 0?l:""},u=(c,l)=>c?(0,_n.createElement)({tagName:"span",classList:[l],children:c==null?void 0:c.reduce((p,f)=>typeof f=="string"?p+=f:p+=s(f),"")}):"",s=c=>{var{type:l,subtype:p,content:f,meta_content:d,atts:h}=c,E=c2(c,jDe),A=(0,_n.handleAtts)(h),m=(0,_n.handleSubtypeNS)(p),{classList:y,tagName:F,id:B,attributes:P}=(0,_n.mapHtml)({props:Xn({type:l,subtype:p,atts:h},E),htmlMap:r}),$=I=>{var U={markHtml:()=>["chapter","verses"].includes(p)?h.number:"",wrapperHtml:()=>n(I)+u(d,"meta-content")},j=U["".concat(l,"Html")];return typeof j=="function"?j():""};return(0,_n.createElement)({tagName:F,id:B,classList:y,attributes:P,dataset:Xn(Xn(Xn({type:l},m),A),E),children:$(f)})},o=c=>{var{type:l,subtype:p,atts:f,content:d}=c,h=c2(c,MDe),E=(0,_n.handleAtts)(f),A=(0,_n.handleSubtypeNS)(p),{classList:m,tagName:y,id:F,attributes:B}=(0,_n.mapHtml)({props:Xn({type:l,subtype:p,atts:f},h),htmlMap:r});return(0,_n.createElement)({tagName:y,id:F,classList:m,attributes:B,dataset:Xn(Xn(Xn({type:l},A),E),h),children:n(d)})},a=(c,l)=>{var{blocks:p}=c,f=c2(c,LDe),{classList:d,tagName:h,attributes:E}=(0,_n.mapHtml)({props:Xn(Xn({},f),{},{subtype:"sequence"}),htmlMap:r});return(0,_n.createElement)({tagName:h,id:"".concat(l),classList:d,dataset:f,attributes:E,children:p==null?void 0:p.reduce((A,m)=>A+=o(m),"")})},i=e.sequences[t];return a(i,t)}var WDe=HDe;Cf.default=WDe;var Sf={},Er={},wf={},Ra={},Cp={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */Cp.exports;(function(e,t){(function(r){var n=t,u=e&&e.exports==n&&e,s=typeof we=="object"&&we;(s.global===s||s.window===s)&&(r=s);var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[\x01-\x7F]/g,i=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,c=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,l={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","	":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr",ª:"ordf",á:"aacute",Á:"Aacute",à:"agrave",À:"Agrave",ă:"abreve",Ă:"Abreve",â:"acirc",Â:"Acirc",å:"aring",Å:"angst",ä:"auml",Ä:"Auml",ã:"atilde",Ã:"Atilde",ą:"aogon",Ą:"Aogon",ā:"amacr",Ā:"Amacr",æ:"aelig",Æ:"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf",ℬ:"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf",ℭ:"Cfr","𝒞":"Cscr",ℂ:"Copf",ć:"cacute",Ć:"Cacute",ĉ:"ccirc",Ĉ:"Ccirc",č:"ccaron",Č:"Ccaron",ċ:"cdot",Ċ:"Cdot",ç:"ccedil",Ç:"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf",ď:"dcaron",Ď:"Dcaron",đ:"dstrok",Đ:"Dstrok",ð:"eth",Ð:"ETH","ⅇ":"ee",ℯ:"escr","𝔢":"efr","𝕖":"eopf",ℰ:"Escr","𝔈":"Efr","𝔼":"Eopf",é:"eacute",É:"Eacute",è:"egrave",È:"Egrave",ê:"ecirc",Ê:"Ecirc",ě:"ecaron",Ě:"Ecaron",ë:"euml",Ë:"Euml",ė:"edot",Ė:"Edot",ę:"eogon",Ę:"Eogon",ē:"emacr",Ē:"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf",ℱ:"Fscr",ﬀ:"fflig",ﬃ:"ffilig",ﬄ:"ffllig",ﬁ:"filig",fj:"fjlig",ﬂ:"fllig",ƒ:"fnof",ℊ:"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr",ǵ:"gacute",ğ:"gbreve",Ğ:"Gbreve",ĝ:"gcirc",Ĝ:"Gcirc",ġ:"gdot",Ġ:"Gdot",Ģ:"Gcedil","𝔥":"hfr",ℎ:"planckh","𝒽":"hscr","𝕙":"hopf",ℋ:"Hscr",ℌ:"Hfr",ℍ:"Hopf",ĥ:"hcirc",Ĥ:"Hcirc",ℏ:"hbar",ħ:"hstrok",Ħ:"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf",ℐ:"Iscr",ℑ:"Im",í:"iacute",Í:"Iacute",ì:"igrave",Ì:"Igrave",î:"icirc",Î:"Icirc",ï:"iuml",Ï:"Iuml",ĩ:"itilde",Ĩ:"Itilde",İ:"Idot",į:"iogon",Į:"Iogon",ī:"imacr",Ī:"Imacr",ĳ:"ijlig",Ĳ:"IJlig",ı:"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf",ĵ:"jcirc",Ĵ:"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr",ķ:"kcedil",Ķ:"Kcedil","𝔩":"lfr","𝓁":"lscr",ℓ:"ell","𝕝":"lopf",ℒ:"Lscr","𝔏":"Lfr","𝕃":"Lopf",ĺ:"lacute",Ĺ:"Lacute",ľ:"lcaron",Ľ:"Lcaron",ļ:"lcedil",Ļ:"Lcedil",ł:"lstrok",Ł:"Lstrok",ŀ:"lmidot",Ŀ:"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf",ℳ:"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr",ℕ:"Nopf","𝒩":"Nscr","𝔑":"Nfr",ń:"nacute",Ń:"Nacute",ň:"ncaron",Ň:"Ncaron",ñ:"ntilde",Ñ:"Ntilde",ņ:"ncedil",Ņ:"Ncedil","№":"numero",ŋ:"eng",Ŋ:"ENG","𝕠":"oopf","𝔬":"ofr",ℴ:"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf",º:"ordm",ó:"oacute",Ó:"Oacute",ò:"ograve",Ò:"Ograve",ô:"ocirc",Ô:"Ocirc",ö:"ouml",Ö:"Ouml",ő:"odblac",Ő:"Odblac",õ:"otilde",Õ:"Otilde",ø:"oslash",Ø:"Oslash",ō:"omacr",Ō:"Omacr",œ:"oelig",Œ:"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf",ℙ:"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr",ℚ:"Qopf",ĸ:"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr",ℛ:"Rscr",ℜ:"Re",ℝ:"Ropf",ŕ:"racute",Ŕ:"Racute",ř:"rcaron",Ř:"Rcaron",ŗ:"rcedil",Ŗ:"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS",ś:"sacute",Ś:"Sacute",ŝ:"scirc",Ŝ:"Scirc",š:"scaron",Š:"Scaron",ş:"scedil",Ş:"Scedil",ß:"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf",ť:"tcaron",Ť:"Tcaron",ţ:"tcedil",Ţ:"Tcedil","™":"trade",ŧ:"tstrok",Ŧ:"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr",ú:"uacute",Ú:"Uacute",ù:"ugrave",Ù:"Ugrave",ŭ:"ubreve",Ŭ:"Ubreve",û:"ucirc",Û:"Ucirc",ů:"uring",Ů:"Uring",ü:"uuml",Ü:"Uuml",ű:"udblac",Ű:"Udblac",ũ:"utilde",Ũ:"Utilde",ų:"uogon",Ų:"Uogon",ū:"umacr",Ū:"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr",ŵ:"wcirc",Ŵ:"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf",ý:"yacute",Ý:"Yacute",ŷ:"ycirc",Ŷ:"Ycirc",ÿ:"yuml",Ÿ:"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf",ℨ:"Zfr",ℤ:"Zopf","𝒵":"Zscr",ź:"zacute",Ź:"Zacute",ž:"zcaron",Ž:"Zcaron",ż:"zdot",Ż:"Zdot",Ƶ:"imped",þ:"thorn",Þ:"THORN",ŉ:"napos",α:"alpha",Α:"Alpha",β:"beta",Β:"Beta",γ:"gamma",Γ:"Gamma",δ:"delta",Δ:"Delta",ε:"epsi","ϵ":"epsiv",Ε:"Epsilon",ϝ:"gammad",Ϝ:"Gammad",ζ:"zeta",Ζ:"Zeta",η:"eta",Η:"Eta",θ:"theta",ϑ:"thetav",Θ:"Theta",ι:"iota",Ι:"Iota",κ:"kappa",ϰ:"kappav",Κ:"Kappa",λ:"lambda",Λ:"Lambda",μ:"mu",µ:"micro",Μ:"Mu",ν:"nu",Ν:"Nu",ξ:"xi",Ξ:"Xi",ο:"omicron",Ο:"Omicron",π:"pi",ϖ:"piv",Π:"Pi",ρ:"rho",ϱ:"rhov",Ρ:"Rho",σ:"sigma",Σ:"Sigma",ς:"sigmaf",τ:"tau",Τ:"Tau",υ:"upsi",Υ:"Upsilon",ϒ:"Upsi",φ:"phi",ϕ:"phiv",Φ:"Phi",χ:"chi",Χ:"Chi",ψ:"psi",Ψ:"Psi",ω:"omega",Ω:"ohm",а:"acy",А:"Acy",б:"bcy",Б:"Bcy",в:"vcy",В:"Vcy",г:"gcy",Г:"Gcy",ѓ:"gjcy",Ѓ:"GJcy",д:"dcy",Д:"Dcy",ђ:"djcy",Ђ:"DJcy",е:"iecy",Е:"IEcy",ё:"iocy",Ё:"IOcy",є:"jukcy",Є:"Jukcy",ж:"zhcy",Ж:"ZHcy",з:"zcy",З:"Zcy",ѕ:"dscy",Ѕ:"DScy",и:"icy",И:"Icy",і:"iukcy",І:"Iukcy",ї:"yicy",Ї:"YIcy",й:"jcy",Й:"Jcy",ј:"jsercy",Ј:"Jsercy",к:"kcy",К:"Kcy",ќ:"kjcy",Ќ:"KJcy",л:"lcy",Л:"Lcy",љ:"ljcy",Љ:"LJcy",м:"mcy",М:"Mcy",н:"ncy",Н:"Ncy",њ:"njcy",Њ:"NJcy",о:"ocy",О:"Ocy",п:"pcy",П:"Pcy",р:"rcy",Р:"Rcy",с:"scy",С:"Scy",т:"tcy",Т:"Tcy",ћ:"tshcy",Ћ:"TSHcy",у:"ucy",У:"Ucy",ў:"ubrcy",Ў:"Ubrcy",ф:"fcy",Ф:"Fcy",х:"khcy",Х:"KHcy",ц:"tscy",Ц:"TScy",ч:"chcy",Ч:"CHcy",џ:"dzcy",Џ:"DZcy",ш:"shcy",Ш:"SHcy",щ:"shchcy",Щ:"SHCHcy",ъ:"hardcy",Ъ:"HARDcy",ы:"ycy",Ы:"Ycy",ь:"softcy",Ь:"SOFTcy",э:"ecy",Э:"Ecy",ю:"yucy",Ю:"YUcy",я:"yacy",Я:"YAcy",ℵ:"aleph",ℶ:"beth",ℷ:"gimel",ℸ:"daleth"},p=/["&'<>`]/g,f={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},d=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,h=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,E=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,A={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},m={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},y={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},F=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],B=String.fromCharCode,P={},$=P.hasOwnProperty,I=function(pe,Q){return $.call(pe,Q)},U=function(pe,Q){for(var q=-1,v=pe.length;++q<v;)if(pe[q]==Q)return!0;return!1},j=function(pe,Q){if(!pe)return Q;var q={},v;for(v in Q)q[v]=I(pe,v)?pe[v]:Q[v];return q},W=function(pe,Q){var q="";return pe>=55296&&pe<=57343||pe>1114111?(Q&&oe("character reference outside the permissible Unicode range"),"�"):I(y,pe)?(Q&&oe("disallowed character reference"),y[pe]):(Q&&U(F,pe)&&oe("disallowed character reference"),pe>65535&&(pe-=65536,q+=B(pe>>>10&1023|55296),pe=56320|pe&1023),q+=B(pe),q)},te=function(pe){return"&#x"+pe.toString(16).toUpperCase()+";"},Y=function(pe){return"&#"+pe+";"},oe=function(pe){throw Error("Parse error: "+pe)},ie=function(pe,Q){Q=j(Q,ie.options);var q=Q.strict;q&&h.test(pe)&&oe("forbidden code point");var v=Q.encodeEverything,C=Q.useNamedReferences,D=Q.allowUnsafeSymbols,g=Q.decimal?Y:te,O=function(b){return g(b.charCodeAt(0))};return v?(pe=pe.replace(a,function(b){return C&&I(l,b)?"&"+l[b]+";":O(b)}),C&&(pe=pe.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),C&&(pe=pe.replace(c,function(b){return"&"+l[b]+";"}))):C?(D||(pe=pe.replace(p,function(b){return"&"+l[b]+";"})),pe=pe.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),pe=pe.replace(c,function(b){return"&"+l[b]+";"})):D||(pe=pe.replace(p,O)),pe.replace(o,function(b){var w=b.charCodeAt(0),x=b.charCodeAt(1),k=(w-55296)*1024+x-56320+65536;return g(k)}).replace(i,O)};ie.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var fe=function(pe,Q){Q=j(Q,fe.options);var q=Q.strict;return q&&d.test(pe)&&oe("malformed character reference"),pe.replace(E,function(v,C,D,g,O,b,w,x,k){var G,H,re,_e,Le,Ue;return C?(Le=C,A[Le]):D?(Le=D,Ue=g,Ue&&Q.isAttributeValue?(q&&Ue=="="&&oe("`&` did not start a character reference"),v):(q&&oe("named character reference was not terminated by a semicolon"),m[Le]+(Ue||""))):O?(re=O,H=b,q&&!H&&oe("character reference was not terminated by a semicolon"),G=parseInt(re,10),W(G,q)):w?(_e=w,H=x,q&&!H&&oe("character reference was not terminated by a semicolon"),G=parseInt(_e,16),W(G,q)):(q&&oe("named character reference was not terminated by a semicolon"),v)})};fe.options={isAttributeValue:!1,strict:!1};var De=function(pe){return pe.replace(p,function(Q){return f[Q]})},de={version:"1.2.0",encode:ie,decode:fe,escape:De,unescape:fe};if(n&&!n.nodeType)if(u)u.exports=de;else for(var Ce in de)I(de,Ce)&&(n[Ce]=de[Ce]);else r.he=de})(we)})(Cp,Cp.exports);var _3=Cp.exports;Object.defineProperty(Ra,"__esModule",{value:!0});var WS=_3,JDe=function(){function e(t,r){t===void 0&&(t=null),this.parentNode=t,this.childNodes=[],Object.defineProperty(this,"range",{enumerable:!1,writable:!0,configurable:!0,value:r??[-1,-1]})}return e.prototype.remove=function(){var t=this;if(this.parentNode){var r=this.parentNode.childNodes;this.parentNode.childNodes=r.filter(function(n){return t!==n}),this.parentNode=null}return this},Object.defineProperty(e.prototype,"innerText",{get:function(){return this.rawText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textContent",{get:function(){return(0,WS.decode)(this.rawText)},set:function(t){this.rawText=(0,WS.encode)(t)},enumerable:!1,configurable:!0}),e}();Ra.default=JDe;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});var wh;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(wh||(wh={}));fo.default=wh;var zDe=we&&we.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,u){n.__proto__=u}||function(n,u){for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(n[s]=u[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rw=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wf,"__esModule",{value:!0});var KDe=Rw(Ra),XDe=Rw(fo),YDe=function(e){zDe(t,e);function t(r,n,u){var s=e.call(this,n,u)||this;return s.rawText=r,s.nodeType=XDe.default.COMMENT_NODE,s}return t.prototype.clone=function(){return new t(this.rawText,null)},Object.defineProperty(t.prototype,"text",{get:function(){return this.rawText},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"<!--".concat(this.rawText,"-->")},t}(KDe.default);wf.default=YDe;var Pu={},jw={},Mw={},Zr={},Do={},Sc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(Sc);var Dt={},ho=we&&we.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,u){n.__proto__=u}||function(n,u){for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(n[s]=u[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wi=we&&we.__assign||function(){return wi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},wi.apply(this,arguments)};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.cloneNode=Dt.hasChildren=Dt.isDocument=Dt.isDirective=Dt.isComment=Dt.isText=Dt.isCDATA=Dt.isTag=Dt.Element=Dt.Document=Dt.NodeWithChildren=Dt.ProcessingInstruction=Dt.Comment=Dt.Text=Dt.DataNode=Dt.Node=void 0;var Gt=Sc,ZDe=new Map([[Gt.ElementType.Tag,1],[Gt.ElementType.Script,1],[Gt.ElementType.Style,1],[Gt.ElementType.Directive,1],[Gt.ElementType.Text,3],[Gt.ElementType.CDATA,4],[Gt.ElementType.Comment,8],[Gt.ElementType.Root,9]]),B3=function(){function e(t){this.type=t,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var t;return(t=ZDe.get(this.type))!==null&&t!==void 0?t:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),T3(this,t)},e}();Dt.Node=B3;var _f=function(e){ho(t,e);function t(r,n){var u=e.call(this,r)||this;return u.data=n,u}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),t}(B3);Dt.DataNode=_f;var Lw=function(e){ho(t,e);function t(r){return e.call(this,Gt.ElementType.Text,r)||this}return t}(_f);Dt.Text=Lw;var Uw=function(e){ho(t,e);function t(r){return e.call(this,Gt.ElementType.Comment,r)||this}return t}(_f);Dt.Comment=Uw;var Gw=function(e){ho(t,e);function t(r,n){var u=e.call(this,Gt.ElementType.Directive,n)||this;return u.name=r,u}return t}(_f);Dt.ProcessingInstruction=Gw;var Bf=function(e){ho(t,e);function t(r,n){var u=e.call(this,r)||this;return u.children=n,u}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),t}(B3);Dt.NodeWithChildren=Bf;var Vw=function(e){ho(t,e);function t(r){return e.call(this,Gt.ElementType.Root,r)||this}return t}(Bf);Dt.Document=Vw;var Hw=function(e){ho(t,e);function t(r,n,u,s){u===void 0&&(u=[]),s===void 0&&(s=r==="script"?Gt.ElementType.Script:r==="style"?Gt.ElementType.Style:Gt.ElementType.Tag);var o=e.call(this,s,u)||this;return o.name=r,o.attribs=n,o}return Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var u,s;return{name:n,value:r.attribs[n],namespace:(u=r["x-attribsNamespace"])===null||u===void 0?void 0:u[n],prefix:(s=r["x-attribsPrefix"])===null||s===void 0?void 0:s[n]}})},enumerable:!1,configurable:!0}),t}(Bf);Dt.Element=Hw;function Ww(e){return(0,Gt.isTag)(e)}Dt.isTag=Ww;function Jw(e){return e.type===Gt.ElementType.CDATA}Dt.isCDATA=Jw;function zw(e){return e.type===Gt.ElementType.Text}Dt.isText=zw;function Kw(e){return e.type===Gt.ElementType.Comment}Dt.isComment=Kw;function Xw(e){return e.type===Gt.ElementType.Directive}Dt.isDirective=Xw;function Yw(e){return e.type===Gt.ElementType.Root}Dt.isDocument=Yw;function QDe(e){return Object.prototype.hasOwnProperty.call(e,"children")}Dt.hasChildren=QDe;function T3(e,t){t===void 0&&(t=!1);var r;if(zw(e))r=new Lw(e.data);else if(Kw(e))r=new Uw(e.data);else if(Ww(e)){var n=t?l2(e.children):[],u=new Hw(e.name,wi({},e.attribs),n);n.forEach(function(i){return i.parent=u}),e.namespace!=null&&(u.namespace=e.namespace),e["x-attribsNamespace"]&&(u["x-attribsNamespace"]=wi({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(u["x-attribsPrefix"]=wi({},e["x-attribsPrefix"])),r=u}else if(Jw(e)){var n=t?l2(e.children):[],s=new Bf(Gt.ElementType.CDATA,n);n.forEach(function(c){return c.parent=s}),r=s}else if(Yw(e)){var n=t?l2(e.children):[],o=new Vw(n);n.forEach(function(c){return c.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),r=o}else if(Xw(e)){var a=new Gw(e.name,e.data);e["x-name"]!=null&&(a["x-name"]=e["x-name"],a["x-publicId"]=e["x-publicId"],a["x-systemId"]=e["x-systemId"]),r=a}else throw new Error("Not implemented yet: ".concat(e.type));return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}Dt.cloneNode=T3;function l2(e){for(var t=e.map(function(n){return T3(n,!0)}),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}(function(e){var t=we&&we.__createBinding||(Object.create?function(i,c,l,p){p===void 0&&(p=l);var f=Object.getOwnPropertyDescriptor(c,l);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(i,p,f)}:function(i,c,l,p){p===void 0&&(p=l),i[p]=c[l]}),r=we&&we.__exportStar||function(i,c){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(c,l)&&t(c,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=Sc,u=Dt;r(Dt,e);var s=/\s+/g,o={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},a=function(){function i(c,l,p){this.dom=[],this.root=new u.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof l=="function"&&(p=l,l=o),typeof c=="object"&&(l=c,c=void 0),this.callback=c??null,this.options=l??o,this.elementCB=p??null}return i.prototype.onparserinit=function(c){this.parser=c},i.prototype.onreset=function(){this.dom=[],this.root=new u.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},i.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},i.prototype.onerror=function(c){this.handleCallback(c)},i.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},i.prototype.onopentag=function(c,l){var p=this.options.xmlMode?n.ElementType.Tag:void 0,f=new u.Element(c,l,void 0,p);this.addNode(f),this.tagStack.push(f)},i.prototype.ontext=function(c){var l=this.options.normalizeWhitespace,p=this.lastNode;if(p&&p.type===n.ElementType.Text)l?p.data=(p.data+c).replace(s," "):p.data+=c,this.options.withEndIndices&&(p.endIndex=this.parser.endIndex);else{l&&(c=c.replace(s," "));var f=new u.Text(c);this.addNode(f),this.lastNode=f}},i.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=c;return}var l=new u.Comment(c);this.addNode(l),this.lastNode=l},i.prototype.oncommentend=function(){this.lastNode=null},i.prototype.oncdatastart=function(){var c=new u.Text(""),l=new u.NodeWithChildren(n.ElementType.CDATA,[c]);this.addNode(l),c.parent=l,this.lastNode=c},i.prototype.oncdataend=function(){this.lastNode=null},i.prototype.onprocessinginstruction=function(c,l){var p=new u.ProcessingInstruction(c,l);this.addNode(p)},i.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},i.prototype.addNode=function(c){var l=this.tagStack[this.tagStack.length-1],p=l.children[l.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),l.children.push(c),p&&(c.prev=p,p.next=c),c.parent=l,this.lastNode=null},i}();e.DomHandler=a,e.default=a})(Do);var $3={},Zw={},Bu={};const e2e="Á",t2e="á",r2e="Ă",n2e="ă",u2e="∾",s2e="∿",o2e="∾̳",a2e="Â",i2e="â",c2e="´",l2e="А",p2e="а",f2e="Æ",d2e="æ",D2e="⁡",h2e="𝔄",m2e="𝔞",E2e="À",v2e="à",y2e="ℵ",g2e="ℵ",A2e="Α",F2e="α",C2e="Ā",b2e="ā",S2e="⨿",w2e="&",_2e="&",B2e="⩕",T2e="⩓",$2e="∧",P2e="⩜",O2e="⩘",k2e="⩚",I2e="∠",N2e="⦤",q2e="∠",x2e="⦨",R2e="⦩",j2e="⦪",M2e="⦫",L2e="⦬",U2e="⦭",G2e="⦮",V2e="⦯",H2e="∡",W2e="∟",J2e="⊾",z2e="⦝",K2e="∢",X2e="Å",Y2e="⍼",Z2e="Ą",Q2e="ą",ehe="𝔸",the="𝕒",rhe="⩯",nhe="≈",uhe="⩰",she="≊",ohe="≋",ahe="'",ihe="⁡",che="≈",lhe="≊",phe="Å",fhe="å",dhe="𝒜",Dhe="𝒶",hhe="≔",mhe="*",Ehe="≈",vhe="≍",yhe="Ã",ghe="ã",Ahe="Ä",Fhe="ä",Che="∳",bhe="⨑",She="≌",whe="϶",_he="‵",Bhe="∽",The="⋍",$he="∖",Phe="⫧",Ohe="⊽",khe="⌅",Ihe="⌆",Nhe="⌅",qhe="⎵",xhe="⎶",Rhe="≌",jhe="Б",Mhe="б",Lhe="„",Uhe="∵",Ghe="∵",Vhe="∵",Hhe="⦰",Whe="϶",Jhe="ℬ",zhe="ℬ",Khe="Β",Xhe="β",Yhe="ℶ",Zhe="≬",Qhe="𝔅",eme="𝔟",tme="⋂",rme="◯",nme="⋃",ume="⨀",sme="⨁",ome="⨂",ame="⨆",ime="★",cme="▽",lme="△",pme="⨄",fme="⋁",dme="⋀",Dme="⤍",hme="⧫",mme="▪",Eme="▴",vme="▾",yme="◂",gme="▸",Ame="␣",Fme="▒",Cme="░",bme="▓",Sme="█",wme="=⃥",_me="≡⃥",Bme="⫭",Tme="⌐",$me="𝔹",Pme="𝕓",Ome="⊥",kme="⊥",Ime="⋈",Nme="⧉",qme="┐",xme="╕",Rme="╖",jme="╗",Mme="┌",Lme="╒",Ume="╓",Gme="╔",Vme="─",Hme="═",Wme="┬",Jme="╤",zme="╥",Kme="╦",Xme="┴",Yme="╧",Zme="╨",Qme="╩",eEe="⊟",tEe="⊞",rEe="⊠",nEe="┘",uEe="╛",sEe="╜",oEe="╝",aEe="└",iEe="╘",cEe="╙",lEe="╚",pEe="│",fEe="║",dEe="┼",DEe="╪",hEe="╫",mEe="╬",EEe="┤",vEe="╡",yEe="╢",gEe="╣",AEe="├",FEe="╞",CEe="╟",bEe="╠",SEe="‵",wEe="˘",_Ee="˘",BEe="¦",TEe="𝒷",$Ee="ℬ",PEe="⁏",OEe="∽",kEe="⋍",IEe="⧅",NEe="\\",qEe="⟈",xEe="•",REe="•",jEe="≎",MEe="⪮",LEe="≏",UEe="≎",GEe="≏",VEe="Ć",HEe="ć",WEe="⩄",JEe="⩉",zEe="⩋",KEe="∩",XEe="⋒",YEe="⩇",ZEe="⩀",QEe="ⅅ",e3e="∩︀",t3e="⁁",r3e="ˇ",n3e="ℭ",u3e="⩍",s3e="Č",o3e="č",a3e="Ç",i3e="ç",c3e="Ĉ",l3e="ĉ",p3e="∰",f3e="⩌",d3e="⩐",D3e="Ċ",h3e="ċ",m3e="¸",E3e="¸",v3e="⦲",y3e="¢",g3e="·",A3e="·",F3e="𝔠",C3e="ℭ",b3e="Ч",S3e="ч",w3e="✓",_3e="✓",B3e="Χ",T3e="χ",$3e="ˆ",P3e="≗",O3e="↺",k3e="↻",I3e="⊛",N3e="⊚",q3e="⊝",x3e="⊙",R3e="®",j3e="Ⓢ",M3e="⊖",L3e="⊕",U3e="⊗",G3e="○",V3e="⧃",H3e="≗",W3e="⨐",J3e="⫯",z3e="⧂",K3e="∲",X3e="”",Y3e="’",Z3e="♣",Q3e="♣",eve=":",tve="∷",rve="⩴",nve="≔",uve="≔",sve=",",ove="@",ave="∁",ive="∘",cve="∁",lve="ℂ",pve="≅",fve="⩭",dve="≡",Dve="∮",hve="∯",mve="∮",Eve="𝕔",vve="ℂ",yve="∐",gve="∐",Ave="©",Fve="©",Cve="℗",bve="∳",Sve="↵",wve="✗",_ve="⨯",Bve="𝒞",Tve="𝒸",$ve="⫏",Pve="⫑",Ove="⫐",kve="⫒",Ive="⋯",Nve="⤸",qve="⤵",xve="⋞",Rve="⋟",jve="↶",Mve="⤽",Lve="⩈",Uve="⩆",Gve="≍",Vve="∪",Hve="⋓",Wve="⩊",Jve="⊍",zve="⩅",Kve="∪︀",Xve="↷",Yve="⤼",Zve="⋞",Qve="⋟",eye="⋎",tye="⋏",rye="¤",nye="↶",uye="↷",sye="⋎",oye="⋏",aye="∲",iye="∱",cye="⌭",lye="†",pye="‡",fye="ℸ",dye="↓",Dye="↡",hye="⇓",mye="‐",Eye="⫤",vye="⊣",yye="⤏",gye="˝",Aye="Ď",Fye="ď",Cye="Д",bye="д",Sye="‡",wye="⇊",_ye="ⅅ",Bye="ⅆ",Tye="⤑",$ye="⩷",Pye="°",Oye="∇",kye="Δ",Iye="δ",Nye="⦱",qye="⥿",xye="𝔇",Rye="𝔡",jye="⥥",Mye="⇃",Lye="⇂",Uye="´",Gye="˙",Vye="˝",Hye="`",Wye="˜",Jye="⋄",zye="⋄",Kye="⋄",Xye="♦",Yye="♦",Zye="¨",Qye="ⅆ",ege="ϝ",tge="⋲",rge="÷",nge="÷",uge="⋇",sge="⋇",oge="Ђ",age="ђ",ige="⌞",cge="⌍",lge="$",pge="𝔻",fge="𝕕",dge="¨",Dge="˙",hge="⃜",mge="≐",Ege="≑",vge="≐",yge="∸",gge="∔",Age="⊡",Fge="⌆",Cge="∯",bge="¨",Sge="⇓",wge="⇐",_ge="⇔",Bge="⫤",Tge="⟸",$ge="⟺",Pge="⟹",Oge="⇒",kge="⊨",Ige="⇑",Nge="⇕",qge="∥",xge="⤓",Rge="↓",jge="↓",Mge="⇓",Lge="⇵",Uge="̑",Gge="⇊",Vge="⇃",Hge="⇂",Wge="⥐",Jge="⥞",zge="⥖",Kge="↽",Xge="⥟",Yge="⥗",Zge="⇁",Qge="↧",eAe="⊤",tAe="⤐",rAe="⌟",nAe="⌌",uAe="𝒟",sAe="𝒹",oAe="Ѕ",aAe="ѕ",iAe="⧶",cAe="Đ",lAe="đ",pAe="⋱",fAe="▿",dAe="▾",DAe="⇵",hAe="⥯",mAe="⦦",EAe="Џ",vAe="џ",yAe="⟿",gAe="É",AAe="é",FAe="⩮",CAe="Ě",bAe="ě",SAe="Ê",wAe="ê",_Ae="≖",BAe="≕",TAe="Э",$Ae="э",PAe="⩷",OAe="Ė",kAe="ė",IAe="≑",NAe="ⅇ",qAe="≒",xAe="𝔈",RAe="𝔢",jAe="⪚",MAe="È",LAe="è",UAe="⪖",GAe="⪘",VAe="⪙",HAe="∈",WAe="⏧",JAe="ℓ",zAe="⪕",KAe="⪗",XAe="Ē",YAe="ē",ZAe="∅",QAe="∅",eFe="◻",tFe="∅",rFe="▫",nFe=" ",uFe=" ",sFe=" ",oFe="Ŋ",aFe="ŋ",iFe=" ",cFe="Ę",lFe="ę",pFe="𝔼",fFe="𝕖",dFe="⋕",DFe="⧣",hFe="⩱",mFe="ε",EFe="Ε",vFe="ε",yFe="ϵ",gFe="≖",AFe="≕",FFe="≂",CFe="⪖",bFe="⪕",SFe="⩵",wFe="=",_Fe="≂",BFe="≟",TFe="⇌",$Fe="≡",PFe="⩸",OFe="⧥",kFe="⥱",IFe="≓",NFe="ℯ",qFe="ℰ",xFe="≐",RFe="⩳",jFe="≂",MFe="Η",LFe="η",UFe="Ð",GFe="ð",VFe="Ë",HFe="ë",WFe="€",JFe="!",zFe="∃",KFe="∃",XFe="ℰ",YFe="ⅇ",ZFe="ⅇ",QFe="≒",eCe="Ф",tCe="ф",rCe="♀",nCe="ﬃ",uCe="ﬀ",sCe="ﬄ",oCe="𝔉",aCe="𝔣",iCe="ﬁ",cCe="◼",lCe="▪",pCe="fj",fCe="♭",dCe="ﬂ",DCe="▱",hCe="ƒ",mCe="𝔽",ECe="𝕗",vCe="∀",yCe="∀",gCe="⋔",ACe="⫙",FCe="ℱ",CCe="⨍",bCe="½",SCe="⅓",wCe="¼",_Ce="⅕",BCe="⅙",TCe="⅛",$Ce="⅔",PCe="⅖",OCe="¾",kCe="⅗",ICe="⅜",NCe="⅘",qCe="⅚",xCe="⅝",RCe="⅞",jCe="⁄",MCe="⌢",LCe="𝒻",UCe="ℱ",GCe="ǵ",VCe="Γ",HCe="γ",WCe="Ϝ",JCe="ϝ",zCe="⪆",KCe="Ğ",XCe="ğ",YCe="Ģ",ZCe="Ĝ",QCe="ĝ",ebe="Г",tbe="г",rbe="Ġ",nbe="ġ",ube="≥",sbe="≧",obe="⪌",abe="⋛",ibe="≥",cbe="≧",lbe="⩾",pbe="⪩",fbe="⩾",dbe="⪀",Dbe="⪂",hbe="⪄",mbe="⋛︀",Ebe="⪔",vbe="𝔊",ybe="𝔤",gbe="≫",Abe="⋙",Fbe="⋙",Cbe="ℷ",bbe="Ѓ",Sbe="ѓ",wbe="⪥",_be="≷",Bbe="⪒",Tbe="⪤",$be="⪊",Pbe="⪊",Obe="⪈",kbe="≩",Ibe="⪈",Nbe="≩",qbe="⋧",xbe="𝔾",Rbe="𝕘",jbe="`",Mbe="≥",Lbe="⋛",Ube="≧",Gbe="⪢",Vbe="≷",Hbe="⩾",Wbe="≳",Jbe="𝒢",zbe="ℊ",Kbe="≳",Xbe="⪎",Ybe="⪐",Zbe="⪧",Qbe="⩺",e4e=">",t4e=">",r4e="≫",n4e="⋗",u4e="⦕",s4e="⩼",o4e="⪆",a4e="⥸",i4e="⋗",c4e="⋛",l4e="⪌",p4e="≷",f4e="≳",d4e="≩︀",D4e="≩︀",h4e="ˇ",m4e=" ",E4e="½",v4e="ℋ",y4e="Ъ",g4e="ъ",A4e="⥈",F4e="↔",C4e="⇔",b4e="↭",S4e="^",w4e="ℏ",_4e="Ĥ",B4e="ĥ",T4e="♥",$4e="♥",P4e="…",O4e="⊹",k4e="𝔥",I4e="ℌ",N4e="ℋ",q4e="⤥",x4e="⤦",R4e="⇿",j4e="∻",M4e="↩",L4e="↪",U4e="𝕙",G4e="ℍ",V4e="―",H4e="─",W4e="𝒽",J4e="ℋ",z4e="ℏ",K4e="Ħ",X4e="ħ",Y4e="≎",Z4e="≏",Q4e="⁃",eSe="‐",tSe="Í",rSe="í",nSe="⁣",uSe="Î",sSe="î",oSe="И",aSe="и",iSe="İ",cSe="Е",lSe="е",pSe="¡",fSe="⇔",dSe="𝔦",DSe="ℑ",hSe="Ì",mSe="ì",ESe="ⅈ",vSe="⨌",ySe="∭",gSe="⧜",ASe="℩",FSe="Ĳ",CSe="ĳ",bSe="Ī",SSe="ī",wSe="ℑ",_Se="ⅈ",BSe="ℐ",TSe="ℑ",$Se="ı",PSe="ℑ",OSe="⊷",kSe="Ƶ",ISe="⇒",NSe="℅",qSe="∞",xSe="⧝",RSe="ı",jSe="⊺",MSe="∫",LSe="∬",USe="ℤ",GSe="∫",VSe="⊺",HSe="⋂",WSe="⨗",JSe="⨼",zSe="⁣",KSe="⁢",XSe="Ё",YSe="ё",ZSe="Į",QSe="į",e8e="𝕀",t8e="𝕚",r8e="Ι",n8e="ι",u8e="⨼",s8e="¿",o8e="𝒾",a8e="ℐ",i8e="∈",c8e="⋵",l8e="⋹",p8e="⋴",f8e="⋳",d8e="∈",D8e="⁢",h8e="Ĩ",m8e="ĩ",E8e="І",v8e="і",y8e="Ï",g8e="ï",A8e="Ĵ",F8e="ĵ",C8e="Й",b8e="й",S8e="𝔍",w8e="𝔧",_8e="ȷ",B8e="𝕁",T8e="𝕛",$8e="𝒥",P8e="𝒿",O8e="Ј",k8e="ј",I8e="Є",N8e="є",q8e="Κ",x8e="κ",R8e="ϰ",j8e="Ķ",M8e="ķ",L8e="К",U8e="к",G8e="𝔎",V8e="𝔨",H8e="ĸ",W8e="Х",J8e="х",z8e="Ќ",K8e="ќ",X8e="𝕂",Y8e="𝕜",Z8e="𝒦",Q8e="𝓀",e5e="⇚",t5e="Ĺ",r5e="ĺ",n5e="⦴",u5e="ℒ",s5e="Λ",o5e="λ",a5e="⟨",i5e="⟪",c5e="⦑",l5e="⟨",p5e="⪅",f5e="ℒ",d5e="«",D5e="⇤",h5e="⤟",m5e="←",E5e="↞",v5e="⇐",y5e="⤝",g5e="↩",A5e="↫",F5e="⤹",C5e="⥳",b5e="↢",S5e="⤙",w5e="⤛",_5e="⪫",B5e="⪭",T5e="⪭︀",$5e="⤌",P5e="⤎",O5e="❲",k5e="{",I5e="[",N5e="⦋",q5e="⦏",x5e="⦍",R5e="Ľ",j5e="ľ",M5e="Ļ",L5e="ļ",U5e="⌈",G5e="{",V5e="Л",H5e="л",W5e="⤶",J5e="“",z5e="„",K5e="⥧",X5e="⥋",Y5e="↲",Z5e="≤",Q5e="≦",e6e="⟨",t6e="⇤",r6e="←",n6e="←",u6e="⇐",s6e="⇆",o6e="↢",a6e="⌈",i6e="⟦",c6e="⥡",l6e="⥙",p6e="⇃",f6e="⌊",d6e="↽",D6e="↼",h6e="⇇",m6e="↔",E6e="↔",v6e="⇔",y6e="⇆",g6e="⇋",A6e="↭",F6e="⥎",C6e="↤",b6e="⊣",S6e="⥚",w6e="⋋",_6e="⧏",B6e="⊲",T6e="⊴",$6e="⥑",P6e="⥠",O6e="⥘",k6e="↿",I6e="⥒",N6e="↼",q6e="⪋",x6e="⋚",R6e="≤",j6e="≦",M6e="⩽",L6e="⪨",U6e="⩽",G6e="⩿",V6e="⪁",H6e="⪃",W6e="⋚︀",J6e="⪓",z6e="⪅",K6e="⋖",X6e="⋚",Y6e="⪋",Z6e="⋚",Q6e="≦",e7e="≶",t7e="≶",r7e="⪡",n7e="≲",u7e="⩽",s7e="≲",o7e="⥼",a7e="⌊",i7e="𝔏",c7e="𝔩",l7e="≶",p7e="⪑",f7e="⥢",d7e="↽",D7e="↼",h7e="⥪",m7e="▄",E7e="Љ",v7e="љ",y7e="⇇",g7e="≪",A7e="⋘",F7e="⌞",C7e="⇚",b7e="⥫",S7e="◺",w7e="Ŀ",_7e="ŀ",B7e="⎰",T7e="⎰",$7e="⪉",P7e="⪉",O7e="⪇",k7e="≨",I7e="⪇",N7e="≨",q7e="⋦",x7e="⟬",R7e="⇽",j7e="⟦",M7e="⟵",L7e="⟵",U7e="⟸",G7e="⟷",V7e="⟷",H7e="⟺",W7e="⟼",J7e="⟶",z7e="⟶",K7e="⟹",X7e="↫",Y7e="↬",Z7e="⦅",Q7e="𝕃",e9e="𝕝",t9e="⨭",r9e="⨴",n9e="∗",u9e="_",s9e="↙",o9e="↘",a9e="◊",i9e="◊",c9e="⧫",l9e="(",p9e="⦓",f9e="⇆",d9e="⌟",D9e="⇋",h9e="⥭",m9e="‎",E9e="⊿",v9e="‹",y9e="𝓁",g9e="ℒ",A9e="↰",F9e="↰",C9e="≲",b9e="⪍",S9e="⪏",w9e="[",_9e="‘",B9e="‚",T9e="Ł",$9e="ł",P9e="⪦",O9e="⩹",k9e="<",I9e="<",N9e="≪",q9e="⋖",x9e="⋋",R9e="⋉",j9e="⥶",M9e="⩻",L9e="◃",U9e="⊴",G9e="◂",V9e="⦖",H9e="⥊",W9e="⥦",J9e="≨︀",z9e="≨︀",K9e="¯",X9e="♂",Y9e="✠",Z9e="✠",Q9e="↦",ewe="↦",twe="↧",rwe="↤",nwe="↥",uwe="▮",swe="⨩",owe="М",awe="м",iwe="—",cwe="∺",lwe="∡",pwe=" ",fwe="ℳ",dwe="𝔐",Dwe="𝔪",hwe="℧",mwe="µ",Ewe="*",vwe="⫰",ywe="∣",gwe="·",Awe="⊟",Fwe="−",Cwe="∸",bwe="⨪",Swe="∓",wwe="⫛",_we="…",Bwe="∓",Twe="⊧",$we="𝕄",Pwe="𝕞",Owe="∓",kwe="𝓂",Iwe="ℳ",Nwe="∾",qwe="Μ",xwe="μ",Rwe="⊸",jwe="⊸",Mwe="∇",Lwe="Ń",Uwe="ń",Gwe="∠⃒",Vwe="≉",Hwe="⩰̸",Wwe="≋̸",Jwe="ŉ",zwe="≉",Kwe="♮",Xwe="ℕ",Ywe="♮",Zwe=" ",Qwe="≎̸",e_e="≏̸",t_e="⩃",r_e="Ň",n_e="ň",u_e="Ņ",s_e="ņ",o_e="≇",a_e="⩭̸",i_e="⩂",c_e="Н",l_e="н",p_e="–",f_e="⤤",d_e="↗",D_e="⇗",h_e="↗",m_e="≠",E_e="≐̸",v_e="​",y_e="​",g_e="​",A_e="​",F_e="≢",C_e="⤨",b_e="≂̸",S_e="≫",w_e="≪",__e=`
`,B_e="∄",T_e="∄",$_e="𝔑",P_e="𝔫",O_e="≧̸",k_e="≱",I_e="≱",N_e="≧̸",q_e="⩾̸",x_e="⩾̸",R_e="⋙̸",j_e="≵",M_e="≫⃒",L_e="≯",U_e="≯",G_e="≫̸",V_e="↮",H_e="⇎",W_e="⫲",J_e="∋",z_e="⋼",K_e="⋺",X_e="∋",Y_e="Њ",Z_e="њ",Q_e="↚",eBe="⇍",tBe="‥",rBe="≦̸",nBe="≰",uBe="↚",sBe="⇍",oBe="↮",aBe="⇎",iBe="≰",cBe="≦̸",lBe="⩽̸",pBe="⩽̸",fBe="≮",dBe="⋘̸",DBe="≴",hBe="≪⃒",mBe="≮",EBe="⋪",vBe="⋬",yBe="≪̸",gBe="∤",ABe="⁠",FBe=" ",CBe="𝕟",bBe="ℕ",SBe="⫬",wBe="¬",_Be="≢",BBe="≭",TBe="∦",$Be="∉",PBe="≠",OBe="≂̸",kBe="∄",IBe="≯",NBe="≱",qBe="≧̸",xBe="≫̸",RBe="≹",jBe="⩾̸",MBe="≵",LBe="≎̸",UBe="≏̸",GBe="∉",VBe="⋵̸",HBe="⋹̸",WBe="∉",JBe="⋷",zBe="⋶",KBe="⧏̸",XBe="⋪",YBe="⋬",ZBe="≮",QBe="≰",eTe="≸",tTe="≪̸",rTe="⩽̸",nTe="≴",uTe="⪢̸",sTe="⪡̸",oTe="∌",aTe="∌",iTe="⋾",cTe="⋽",lTe="⊀",pTe="⪯̸",fTe="⋠",dTe="∌",DTe="⧐̸",hTe="⋫",mTe="⋭",ETe="⊏̸",vTe="⋢",yTe="⊐̸",gTe="⋣",ATe="⊂⃒",FTe="⊈",CTe="⊁",bTe="⪰̸",STe="⋡",wTe="≿̸",_Te="⊃⃒",BTe="⊉",TTe="≁",$Te="≄",PTe="≇",OTe="≉",kTe="∤",ITe="∦",NTe="∦",qTe="⫽⃥",xTe="∂̸",RTe="⨔",jTe="⊀",MTe="⋠",LTe="⊀",UTe="⪯̸",GTe="⪯̸",VTe="⤳̸",HTe="↛",WTe="⇏",JTe="↝̸",zTe="↛",KTe="⇏",XTe="⋫",YTe="⋭",ZTe="⊁",QTe="⋡",e$e="⪰̸",t$e="𝒩",r$e="𝓃",n$e="∤",u$e="∦",s$e="≁",o$e="≄",a$e="≄",i$e="∤",c$e="∦",l$e="⋢",p$e="⋣",f$e="⊄",d$e="⫅̸",D$e="⊈",h$e="⊂⃒",m$e="⊈",E$e="⫅̸",v$e="⊁",y$e="⪰̸",g$e="⊅",A$e="⫆̸",F$e="⊉",C$e="⊃⃒",b$e="⊉",S$e="⫆̸",w$e="≹",_$e="Ñ",B$e="ñ",T$e="≸",$$e="⋪",P$e="⋬",O$e="⋫",k$e="⋭",I$e="Ν",N$e="ν",q$e="#",x$e="№",R$e=" ",j$e="≍⃒",M$e="⊬",L$e="⊭",U$e="⊮",G$e="⊯",V$e="≥⃒",H$e=">⃒",W$e="⤄",J$e="⧞",z$e="⤂",K$e="≤⃒",X$e="<⃒",Y$e="⊴⃒",Z$e="⤃",Q$e="⊵⃒",ePe="∼⃒",tPe="⤣",rPe="↖",nPe="⇖",uPe="↖",sPe="⤧",oPe="Ó",aPe="ó",iPe="⊛",cPe="Ô",lPe="ô",pPe="⊚",fPe="О",dPe="о",DPe="⊝",hPe="Ő",mPe="ő",EPe="⨸",vPe="⊙",yPe="⦼",gPe="Œ",APe="œ",FPe="⦿",CPe="𝔒",bPe="𝔬",SPe="˛",wPe="Ò",_Pe="ò",BPe="⧁",TPe="⦵",$Pe="Ω",PPe="∮",OPe="↺",kPe="⦾",IPe="⦻",NPe="‾",qPe="⧀",xPe="Ō",RPe="ō",jPe="Ω",MPe="ω",LPe="Ο",UPe="ο",GPe="⦶",VPe="⊖",HPe="𝕆",WPe="𝕠",JPe="⦷",zPe="“",KPe="‘",XPe="⦹",YPe="⊕",ZPe="↻",QPe="⩔",eOe="∨",tOe="⩝",rOe="ℴ",nOe="ℴ",uOe="ª",sOe="º",oOe="⊶",aOe="⩖",iOe="⩗",cOe="⩛",lOe="Ⓢ",pOe="𝒪",fOe="ℴ",dOe="Ø",DOe="ø",hOe="⊘",mOe="Õ",EOe="õ",vOe="⨶",yOe="⨷",gOe="⊗",AOe="Ö",FOe="ö",COe="⌽",bOe="‾",SOe="⏞",wOe="⎴",_Oe="⏜",BOe="¶",TOe="∥",$Oe="∥",POe="⫳",OOe="⫽",kOe="∂",IOe="∂",NOe="П",qOe="п",xOe="%",ROe=".",jOe="‰",MOe="⊥",LOe="‱",UOe="𝔓",GOe="𝔭",VOe="Φ",HOe="φ",WOe="ϕ",JOe="ℳ",zOe="☎",KOe="Π",XOe="π",YOe="⋔",ZOe="ϖ",QOe="ℏ",eke="ℎ",tke="ℏ",rke="⨣",nke="⊞",uke="⨢",ske="+",oke="∔",ake="⨥",ike="⩲",cke="±",lke="±",pke="⨦",fke="⨧",dke="±",Dke="ℌ",hke="⨕",mke="𝕡",Eke="ℙ",vke="£",yke="⪷",gke="⪻",Ake="≺",Fke="≼",Cke="⪷",bke="≺",Ske="≼",wke="≺",_ke="⪯",Bke="≼",Tke="≾",$ke="⪯",Pke="⪹",Oke="⪵",kke="⋨",Ike="⪯",Nke="⪳",qke="≾",xke="′",Rke="″",jke="ℙ",Mke="⪹",Lke="⪵",Uke="⋨",Gke="∏",Vke="∏",Hke="⌮",Wke="⌒",Jke="⌓",zke="∝",Kke="∝",Xke="∷",Yke="∝",Zke="≾",Qke="⊰",eIe="𝒫",tIe="𝓅",rIe="Ψ",nIe="ψ",uIe=" ",sIe="𝔔",oIe="𝔮",aIe="⨌",iIe="𝕢",cIe="ℚ",lIe="⁗",pIe="𝒬",fIe="𝓆",dIe="ℍ",DIe="⨖",hIe="?",mIe="≟",EIe='"',vIe='"',yIe="⇛",gIe="∽̱",AIe="Ŕ",FIe="ŕ",CIe="√",bIe="⦳",SIe="⟩",wIe="⟫",_Ie="⦒",BIe="⦥",TIe="⟩",$Ie="»",PIe="⥵",OIe="⇥",kIe="⤠",IIe="⤳",NIe="→",qIe="↠",xIe="⇒",RIe="⤞",jIe="↪",MIe="↬",LIe="⥅",UIe="⥴",GIe="⤖",VIe="↣",HIe="↝",WIe="⤚",JIe="⤜",zIe="∶",KIe="ℚ",XIe="⤍",YIe="⤏",ZIe="⤐",QIe="❳",eNe="}",tNe="]",rNe="⦌",nNe="⦎",uNe="⦐",sNe="Ř",oNe="ř",aNe="Ŗ",iNe="ŗ",cNe="⌉",lNe="}",pNe="Р",fNe="р",dNe="⤷",DNe="⥩",hNe="”",mNe="”",ENe="↳",vNe="ℜ",yNe="ℛ",gNe="ℜ",ANe="ℝ",FNe="ℜ",CNe="▭",bNe="®",SNe="®",wNe="∋",_Ne="⇋",BNe="⥯",TNe="⥽",$Ne="⌋",PNe="𝔯",ONe="ℜ",kNe="⥤",INe="⇁",NNe="⇀",qNe="⥬",xNe="Ρ",RNe="ρ",jNe="ϱ",MNe="⟩",LNe="⇥",UNe="→",GNe="→",VNe="⇒",HNe="⇄",WNe="↣",JNe="⌉",zNe="⟧",KNe="⥝",XNe="⥕",YNe="⇂",ZNe="⌋",QNe="⇁",eqe="⇀",tqe="⇄",rqe="⇌",nqe="⇉",uqe="↝",sqe="↦",oqe="⊢",aqe="⥛",iqe="⋌",cqe="⧐",lqe="⊳",pqe="⊵",fqe="⥏",dqe="⥜",Dqe="⥔",hqe="↾",mqe="⥓",Eqe="⇀",vqe="˚",yqe="≓",gqe="⇄",Aqe="⇌",Fqe="‏",Cqe="⎱",bqe="⎱",Sqe="⫮",wqe="⟭",_qe="⇾",Bqe="⟧",Tqe="⦆",$qe="𝕣",Pqe="ℝ",Oqe="⨮",kqe="⨵",Iqe="⥰",Nqe=")",qqe="⦔",xqe="⨒",Rqe="⇉",jqe="⇛",Mqe="›",Lqe="𝓇",Uqe="ℛ",Gqe="↱",Vqe="↱",Hqe="]",Wqe="’",Jqe="’",zqe="⋌",Kqe="⋊",Xqe="▹",Yqe="⊵",Zqe="▸",Qqe="⧎",exe="⧴",txe="⥨",rxe="℞",nxe="Ś",uxe="ś",sxe="‚",oxe="⪸",axe="Š",ixe="š",cxe="⪼",lxe="≻",pxe="≽",fxe="⪰",dxe="⪴",Dxe="Ş",hxe="ş",mxe="Ŝ",Exe="ŝ",vxe="⪺",yxe="⪶",gxe="⋩",Axe="⨓",Fxe="≿",Cxe="С",bxe="с",Sxe="⊡",wxe="⋅",_xe="⩦",Bxe="⤥",Txe="↘",$xe="⇘",Pxe="↘",Oxe="§",kxe=";",Ixe="⤩",Nxe="∖",qxe="∖",xxe="✶",Rxe="𝔖",jxe="𝔰",Mxe="⌢",Lxe="♯",Uxe="Щ",Gxe="щ",Vxe="Ш",Hxe="ш",Wxe="↓",Jxe="←",zxe="∣",Kxe="∥",Xxe="→",Yxe="↑",Zxe="­",Qxe="Σ",eRe="σ",tRe="ς",rRe="ς",nRe="∼",uRe="⩪",sRe="≃",oRe="≃",aRe="⪞",iRe="⪠",cRe="⪝",lRe="⪟",pRe="≆",fRe="⨤",dRe="⥲",DRe="←",hRe="∘",mRe="∖",ERe="⨳",vRe="⧤",yRe="∣",gRe="⌣",ARe="⪪",FRe="⪬",CRe="⪬︀",bRe="Ь",SRe="ь",wRe="⌿",_Re="⧄",BRe="/",TRe="𝕊",$Re="𝕤",PRe="♠",ORe="♠",kRe="∥",IRe="⊓",NRe="⊓︀",qRe="⊔",xRe="⊔︀",RRe="√",jRe="⊏",MRe="⊑",LRe="⊏",URe="⊑",GRe="⊐",VRe="⊒",HRe="⊐",WRe="⊒",JRe="□",zRe="□",KRe="⊓",XRe="⊏",YRe="⊑",ZRe="⊐",QRe="⊒",eje="⊔",tje="▪",rje="□",nje="▪",uje="→",sje="𝒮",oje="𝓈",aje="∖",ije="⌣",cje="⋆",lje="⋆",pje="☆",fje="★",dje="ϵ",Dje="ϕ",hje="¯",mje="⊂",Eje="⋐",vje="⪽",yje="⫅",gje="⊆",Aje="⫃",Fje="⫁",Cje="⫋",bje="⊊",Sje="⪿",wje="⥹",_je="⊂",Bje="⋐",Tje="⊆",$je="⫅",Pje="⊆",Oje="⊊",kje="⫋",Ije="⫇",Nje="⫕",qje="⫓",xje="⪸",Rje="≻",jje="≽",Mje="≻",Lje="⪰",Uje="≽",Gje="≿",Vje="⪰",Hje="⪺",Wje="⪶",Jje="⋩",zje="≿",Kje="∋",Xje="∑",Yje="∑",Zje="♪",Qje="¹",eMe="²",tMe="³",rMe="⊃",nMe="⋑",uMe="⪾",sMe="⫘",oMe="⫆",aMe="⊇",iMe="⫄",cMe="⊃",lMe="⊇",pMe="⟉",fMe="⫗",dMe="⥻",DMe="⫂",hMe="⫌",mMe="⊋",EMe="⫀",vMe="⊃",yMe="⋑",gMe="⊇",AMe="⫆",FMe="⊋",CMe="⫌",bMe="⫈",SMe="⫔",wMe="⫖",_Me="⤦",BMe="↙",TMe="⇙",$Me="↙",PMe="⤪",OMe="ß",kMe="	",IMe="⌖",NMe="Τ",qMe="τ",xMe="⎴",RMe="Ť",jMe="ť",MMe="Ţ",LMe="ţ",UMe="Т",GMe="т",VMe="⃛",HMe="⌕",WMe="𝔗",JMe="𝔱",zMe="∴",KMe="∴",XMe="∴",YMe="Θ",ZMe="θ",QMe="ϑ",eLe="ϑ",tLe="≈",rLe="∼",nLe="  ",uLe=" ",sLe=" ",oLe="≈",aLe="∼",iLe="Þ",cLe="þ",lLe="˜",pLe="∼",fLe="≃",dLe="≅",DLe="≈",hLe="⨱",mLe="⊠",ELe="×",vLe="⨰",yLe="∭",gLe="⤨",ALe="⌶",FLe="⫱",CLe="⊤",bLe="𝕋",SLe="𝕥",wLe="⫚",_Le="⤩",BLe="‴",TLe="™",$Le="™",PLe="▵",OLe="▿",kLe="◃",ILe="⊴",NLe="≜",qLe="▹",xLe="⊵",RLe="◬",jLe="≜",MLe="⨺",LLe="⃛",ULe="⨹",GLe="⧍",VLe="⨻",HLe="⏢",WLe="𝒯",JLe="𝓉",zLe="Ц",KLe="ц",XLe="Ћ",YLe="ћ",ZLe="Ŧ",QLe="ŧ",eUe="≬",tUe="↞",rUe="↠",nUe="Ú",uUe="ú",sUe="↑",oUe="↟",aUe="⇑",iUe="⥉",cUe="Ў",lUe="ў",pUe="Ŭ",fUe="ŭ",dUe="Û",DUe="û",hUe="У",mUe="у",EUe="⇅",vUe="Ű",yUe="ű",gUe="⥮",AUe="⥾",FUe="𝔘",CUe="𝔲",bUe="Ù",SUe="ù",wUe="⥣",_Ue="↿",BUe="↾",TUe="▀",$Ue="⌜",PUe="⌜",OUe="⌏",kUe="◸",IUe="Ū",NUe="ū",qUe="¨",xUe="_",RUe="⏟",jUe="⎵",MUe="⏝",LUe="⋃",UUe="⊎",GUe="Ų",VUe="ų",HUe="𝕌",WUe="𝕦",JUe="⤒",zUe="↑",KUe="↑",XUe="⇑",YUe="⇅",ZUe="↕",QUe="↕",eGe="⇕",tGe="⥮",rGe="↿",nGe="↾",uGe="⊎",sGe="↖",oGe="↗",aGe="υ",iGe="ϒ",cGe="ϒ",lGe="Υ",pGe="υ",fGe="↥",dGe="⊥",DGe="⇈",hGe="⌝",mGe="⌝",EGe="⌎",vGe="Ů",yGe="ů",gGe="◹",AGe="𝒰",FGe="𝓊",CGe="⋰",bGe="Ũ",SGe="ũ",wGe="▵",_Ge="▴",BGe="⇈",TGe="Ü",$Ge="ü",PGe="⦧",OGe="⦜",kGe="ϵ",IGe="ϰ",NGe="∅",qGe="ϕ",xGe="ϖ",RGe="∝",jGe="↕",MGe="⇕",LGe="ϱ",UGe="ς",GGe="⊊︀",VGe="⫋︀",HGe="⊋︀",WGe="⫌︀",JGe="ϑ",zGe="⊲",KGe="⊳",XGe="⫨",YGe="⫫",ZGe="⫩",QGe="В",eVe="в",tVe="⊢",rVe="⊨",nVe="⊩",uVe="⊫",sVe="⫦",oVe="⊻",aVe="∨",iVe="⋁",cVe="≚",lVe="⋮",pVe="|",fVe="‖",dVe="|",DVe="‖",hVe="∣",mVe="|",EVe="❘",vVe="≀",yVe=" ",gVe="𝔙",AVe="𝔳",FVe="⊲",CVe="⊂⃒",bVe="⊃⃒",SVe="𝕍",wVe="𝕧",_Ve="∝",BVe="⊳",TVe="𝒱",$Ve="𝓋",PVe="⫋︀",OVe="⊊︀",kVe="⫌︀",IVe="⊋︀",NVe="⊪",qVe="⦚",xVe="Ŵ",RVe="ŵ",jVe="⩟",MVe="∧",LVe="⋀",UVe="≙",GVe="℘",VVe="𝔚",HVe="𝔴",WVe="𝕎",JVe="𝕨",zVe="℘",KVe="≀",XVe="≀",YVe="𝒲",ZVe="𝓌",QVe="⋂",eHe="◯",tHe="⋃",rHe="▽",nHe="𝔛",uHe="𝔵",sHe="⟷",oHe="⟺",aHe="Ξ",iHe="ξ",cHe="⟵",lHe="⟸",pHe="⟼",fHe="⋻",dHe="⨀",DHe="𝕏",hHe="𝕩",mHe="⨁",EHe="⨂",vHe="⟶",yHe="⟹",gHe="𝒳",AHe="𝓍",FHe="⨆",CHe="⨄",bHe="△",SHe="⋁",wHe="⋀",_He="Ý",BHe="ý",THe="Я",$He="я",PHe="Ŷ",OHe="ŷ",kHe="Ы",IHe="ы",NHe="¥",qHe="𝔜",xHe="𝔶",RHe="Ї",jHe="ї",MHe="𝕐",LHe="𝕪",UHe="𝒴",GHe="𝓎",VHe="Ю",HHe="ю",WHe="ÿ",JHe="Ÿ",zHe="Ź",KHe="ź",XHe="Ž",YHe="ž",ZHe="З",QHe="з",eWe="Ż",tWe="ż",rWe="ℨ",nWe="​",uWe="Ζ",sWe="ζ",oWe="𝔷",aWe="ℨ",iWe="Ж",cWe="ж",lWe="⇝",pWe="𝕫",fWe="ℤ",dWe="𝒵",DWe="𝓏",hWe="‍",mWe="‌",Qw={Aacute:e2e,aacute:t2e,Abreve:r2e,abreve:n2e,ac:u2e,acd:s2e,acE:o2e,Acirc:a2e,acirc:i2e,acute:c2e,Acy:l2e,acy:p2e,AElig:f2e,aelig:d2e,af:D2e,Afr:h2e,afr:m2e,Agrave:E2e,agrave:v2e,alefsym:y2e,aleph:g2e,Alpha:A2e,alpha:F2e,Amacr:C2e,amacr:b2e,amalg:S2e,amp:w2e,AMP:_2e,andand:B2e,And:T2e,and:$2e,andd:P2e,andslope:O2e,andv:k2e,ang:I2e,ange:N2e,angle:q2e,angmsdaa:x2e,angmsdab:R2e,angmsdac:j2e,angmsdad:M2e,angmsdae:L2e,angmsdaf:U2e,angmsdag:G2e,angmsdah:V2e,angmsd:H2e,angrt:W2e,angrtvb:J2e,angrtvbd:z2e,angsph:K2e,angst:X2e,angzarr:Y2e,Aogon:Z2e,aogon:Q2e,Aopf:ehe,aopf:the,apacir:rhe,ap:nhe,apE:uhe,ape:she,apid:ohe,apos:ahe,ApplyFunction:ihe,approx:che,approxeq:lhe,Aring:phe,aring:fhe,Ascr:dhe,ascr:Dhe,Assign:hhe,ast:mhe,asymp:Ehe,asympeq:vhe,Atilde:yhe,atilde:ghe,Auml:Ahe,auml:Fhe,awconint:Che,awint:bhe,backcong:She,backepsilon:whe,backprime:_he,backsim:Bhe,backsimeq:The,Backslash:$he,Barv:Phe,barvee:Ohe,barwed:khe,Barwed:Ihe,barwedge:Nhe,bbrk:qhe,bbrktbrk:xhe,bcong:Rhe,Bcy:jhe,bcy:Mhe,bdquo:Lhe,becaus:Uhe,because:Ghe,Because:Vhe,bemptyv:Hhe,bepsi:Whe,bernou:Jhe,Bernoullis:zhe,Beta:Khe,beta:Xhe,beth:Yhe,between:Zhe,Bfr:Qhe,bfr:eme,bigcap:tme,bigcirc:rme,bigcup:nme,bigodot:ume,bigoplus:sme,bigotimes:ome,bigsqcup:ame,bigstar:ime,bigtriangledown:cme,bigtriangleup:lme,biguplus:pme,bigvee:fme,bigwedge:dme,bkarow:Dme,blacklozenge:hme,blacksquare:mme,blacktriangle:Eme,blacktriangledown:vme,blacktriangleleft:yme,blacktriangleright:gme,blank:Ame,blk12:Fme,blk14:Cme,blk34:bme,block:Sme,bne:wme,bnequiv:_me,bNot:Bme,bnot:Tme,Bopf:$me,bopf:Pme,bot:Ome,bottom:kme,bowtie:Ime,boxbox:Nme,boxdl:qme,boxdL:xme,boxDl:Rme,boxDL:jme,boxdr:Mme,boxdR:Lme,boxDr:Ume,boxDR:Gme,boxh:Vme,boxH:Hme,boxhd:Wme,boxHd:Jme,boxhD:zme,boxHD:Kme,boxhu:Xme,boxHu:Yme,boxhU:Zme,boxHU:Qme,boxminus:eEe,boxplus:tEe,boxtimes:rEe,boxul:nEe,boxuL:uEe,boxUl:sEe,boxUL:oEe,boxur:aEe,boxuR:iEe,boxUr:cEe,boxUR:lEe,boxv:pEe,boxV:fEe,boxvh:dEe,boxvH:DEe,boxVh:hEe,boxVH:mEe,boxvl:EEe,boxvL:vEe,boxVl:yEe,boxVL:gEe,boxvr:AEe,boxvR:FEe,boxVr:CEe,boxVR:bEe,bprime:SEe,breve:wEe,Breve:_Ee,brvbar:BEe,bscr:TEe,Bscr:$Ee,bsemi:PEe,bsim:OEe,bsime:kEe,bsolb:IEe,bsol:NEe,bsolhsub:qEe,bull:xEe,bullet:REe,bump:jEe,bumpE:MEe,bumpe:LEe,Bumpeq:UEe,bumpeq:GEe,Cacute:VEe,cacute:HEe,capand:WEe,capbrcup:JEe,capcap:zEe,cap:KEe,Cap:XEe,capcup:YEe,capdot:ZEe,CapitalDifferentialD:QEe,caps:e3e,caret:t3e,caron:r3e,Cayleys:n3e,ccaps:u3e,Ccaron:s3e,ccaron:o3e,Ccedil:a3e,ccedil:i3e,Ccirc:c3e,ccirc:l3e,Cconint:p3e,ccups:f3e,ccupssm:d3e,Cdot:D3e,cdot:h3e,cedil:m3e,Cedilla:E3e,cemptyv:v3e,cent:y3e,centerdot:g3e,CenterDot:A3e,cfr:F3e,Cfr:C3e,CHcy:b3e,chcy:S3e,check:w3e,checkmark:_3e,Chi:B3e,chi:T3e,circ:$3e,circeq:P3e,circlearrowleft:O3e,circlearrowright:k3e,circledast:I3e,circledcirc:N3e,circleddash:q3e,CircleDot:x3e,circledR:R3e,circledS:j3e,CircleMinus:M3e,CirclePlus:L3e,CircleTimes:U3e,cir:G3e,cirE:V3e,cire:H3e,cirfnint:W3e,cirmid:J3e,cirscir:z3e,ClockwiseContourIntegral:K3e,CloseCurlyDoubleQuote:X3e,CloseCurlyQuote:Y3e,clubs:Z3e,clubsuit:Q3e,colon:eve,Colon:tve,Colone:rve,colone:nve,coloneq:uve,comma:sve,commat:ove,comp:ave,compfn:ive,complement:cve,complexes:lve,cong:pve,congdot:fve,Congruent:dve,conint:Dve,Conint:hve,ContourIntegral:mve,copf:Eve,Copf:vve,coprod:yve,Coproduct:gve,copy:Ave,COPY:Fve,copysr:Cve,CounterClockwiseContourIntegral:bve,crarr:Sve,cross:wve,Cross:_ve,Cscr:Bve,cscr:Tve,csub:$ve,csube:Pve,csup:Ove,csupe:kve,ctdot:Ive,cudarrl:Nve,cudarrr:qve,cuepr:xve,cuesc:Rve,cularr:jve,cularrp:Mve,cupbrcap:Lve,cupcap:Uve,CupCap:Gve,cup:Vve,Cup:Hve,cupcup:Wve,cupdot:Jve,cupor:zve,cups:Kve,curarr:Xve,curarrm:Yve,curlyeqprec:Zve,curlyeqsucc:Qve,curlyvee:eye,curlywedge:tye,curren:rye,curvearrowleft:nye,curvearrowright:uye,cuvee:sye,cuwed:oye,cwconint:aye,cwint:iye,cylcty:cye,dagger:lye,Dagger:pye,daleth:fye,darr:dye,Darr:Dye,dArr:hye,dash:mye,Dashv:Eye,dashv:vye,dbkarow:yye,dblac:gye,Dcaron:Aye,dcaron:Fye,Dcy:Cye,dcy:bye,ddagger:Sye,ddarr:wye,DD:_ye,dd:Bye,DDotrahd:Tye,ddotseq:$ye,deg:Pye,Del:Oye,Delta:kye,delta:Iye,demptyv:Nye,dfisht:qye,Dfr:xye,dfr:Rye,dHar:jye,dharl:Mye,dharr:Lye,DiacriticalAcute:Uye,DiacriticalDot:Gye,DiacriticalDoubleAcute:Vye,DiacriticalGrave:Hye,DiacriticalTilde:Wye,diam:Jye,diamond:zye,Diamond:Kye,diamondsuit:Xye,diams:Yye,die:Zye,DifferentialD:Qye,digamma:ege,disin:tge,div:rge,divide:nge,divideontimes:uge,divonx:sge,DJcy:oge,djcy:age,dlcorn:ige,dlcrop:cge,dollar:lge,Dopf:pge,dopf:fge,Dot:dge,dot:Dge,DotDot:hge,doteq:mge,doteqdot:Ege,DotEqual:vge,dotminus:yge,dotplus:gge,dotsquare:Age,doublebarwedge:Fge,DoubleContourIntegral:Cge,DoubleDot:bge,DoubleDownArrow:Sge,DoubleLeftArrow:wge,DoubleLeftRightArrow:_ge,DoubleLeftTee:Bge,DoubleLongLeftArrow:Tge,DoubleLongLeftRightArrow:$ge,DoubleLongRightArrow:Pge,DoubleRightArrow:Oge,DoubleRightTee:kge,DoubleUpArrow:Ige,DoubleUpDownArrow:Nge,DoubleVerticalBar:qge,DownArrowBar:xge,downarrow:Rge,DownArrow:jge,Downarrow:Mge,DownArrowUpArrow:Lge,DownBreve:Uge,downdownarrows:Gge,downharpoonleft:Vge,downharpoonright:Hge,DownLeftRightVector:Wge,DownLeftTeeVector:Jge,DownLeftVectorBar:zge,DownLeftVector:Kge,DownRightTeeVector:Xge,DownRightVectorBar:Yge,DownRightVector:Zge,DownTeeArrow:Qge,DownTee:eAe,drbkarow:tAe,drcorn:rAe,drcrop:nAe,Dscr:uAe,dscr:sAe,DScy:oAe,dscy:aAe,dsol:iAe,Dstrok:cAe,dstrok:lAe,dtdot:pAe,dtri:fAe,dtrif:dAe,duarr:DAe,duhar:hAe,dwangle:mAe,DZcy:EAe,dzcy:vAe,dzigrarr:yAe,Eacute:gAe,eacute:AAe,easter:FAe,Ecaron:CAe,ecaron:bAe,Ecirc:SAe,ecirc:wAe,ecir:_Ae,ecolon:BAe,Ecy:TAe,ecy:$Ae,eDDot:PAe,Edot:OAe,edot:kAe,eDot:IAe,ee:NAe,efDot:qAe,Efr:xAe,efr:RAe,eg:jAe,Egrave:MAe,egrave:LAe,egs:UAe,egsdot:GAe,el:VAe,Element:HAe,elinters:WAe,ell:JAe,els:zAe,elsdot:KAe,Emacr:XAe,emacr:YAe,empty:ZAe,emptyset:QAe,EmptySmallSquare:eFe,emptyv:tFe,EmptyVerySmallSquare:rFe,emsp13:nFe,emsp14:uFe,emsp:sFe,ENG:oFe,eng:aFe,ensp:iFe,Eogon:cFe,eogon:lFe,Eopf:pFe,eopf:fFe,epar:dFe,eparsl:DFe,eplus:hFe,epsi:mFe,Epsilon:EFe,epsilon:vFe,epsiv:yFe,eqcirc:gFe,eqcolon:AFe,eqsim:FFe,eqslantgtr:CFe,eqslantless:bFe,Equal:SFe,equals:wFe,EqualTilde:_Fe,equest:BFe,Equilibrium:TFe,equiv:$Fe,equivDD:PFe,eqvparsl:OFe,erarr:kFe,erDot:IFe,escr:NFe,Escr:qFe,esdot:xFe,Esim:RFe,esim:jFe,Eta:MFe,eta:LFe,ETH:UFe,eth:GFe,Euml:VFe,euml:HFe,euro:WFe,excl:JFe,exist:zFe,Exists:KFe,expectation:XFe,exponentiale:YFe,ExponentialE:ZFe,fallingdotseq:QFe,Fcy:eCe,fcy:tCe,female:rCe,ffilig:nCe,fflig:uCe,ffllig:sCe,Ffr:oCe,ffr:aCe,filig:iCe,FilledSmallSquare:cCe,FilledVerySmallSquare:lCe,fjlig:pCe,flat:fCe,fllig:dCe,fltns:DCe,fnof:hCe,Fopf:mCe,fopf:ECe,forall:vCe,ForAll:yCe,fork:gCe,forkv:ACe,Fouriertrf:FCe,fpartint:CCe,frac12:bCe,frac13:SCe,frac14:wCe,frac15:_Ce,frac16:BCe,frac18:TCe,frac23:$Ce,frac25:PCe,frac34:OCe,frac35:kCe,frac38:ICe,frac45:NCe,frac56:qCe,frac58:xCe,frac78:RCe,frasl:jCe,frown:MCe,fscr:LCe,Fscr:UCe,gacute:GCe,Gamma:VCe,gamma:HCe,Gammad:WCe,gammad:JCe,gap:zCe,Gbreve:KCe,gbreve:XCe,Gcedil:YCe,Gcirc:ZCe,gcirc:QCe,Gcy:ebe,gcy:tbe,Gdot:rbe,gdot:nbe,ge:ube,gE:sbe,gEl:obe,gel:abe,geq:ibe,geqq:cbe,geqslant:lbe,gescc:pbe,ges:fbe,gesdot:dbe,gesdoto:Dbe,gesdotol:hbe,gesl:mbe,gesles:Ebe,Gfr:vbe,gfr:ybe,gg:gbe,Gg:Abe,ggg:Fbe,gimel:Cbe,GJcy:bbe,gjcy:Sbe,gla:wbe,gl:_be,glE:Bbe,glj:Tbe,gnap:$be,gnapprox:Pbe,gne:Obe,gnE:kbe,gneq:Ibe,gneqq:Nbe,gnsim:qbe,Gopf:xbe,gopf:Rbe,grave:jbe,GreaterEqual:Mbe,GreaterEqualLess:Lbe,GreaterFullEqual:Ube,GreaterGreater:Gbe,GreaterLess:Vbe,GreaterSlantEqual:Hbe,GreaterTilde:Wbe,Gscr:Jbe,gscr:zbe,gsim:Kbe,gsime:Xbe,gsiml:Ybe,gtcc:Zbe,gtcir:Qbe,gt:e4e,GT:t4e,Gt:r4e,gtdot:n4e,gtlPar:u4e,gtquest:s4e,gtrapprox:o4e,gtrarr:a4e,gtrdot:i4e,gtreqless:c4e,gtreqqless:l4e,gtrless:p4e,gtrsim:f4e,gvertneqq:d4e,gvnE:D4e,Hacek:h4e,hairsp:m4e,half:E4e,hamilt:v4e,HARDcy:y4e,hardcy:g4e,harrcir:A4e,harr:F4e,hArr:C4e,harrw:b4e,Hat:S4e,hbar:w4e,Hcirc:_4e,hcirc:B4e,hearts:T4e,heartsuit:$4e,hellip:P4e,hercon:O4e,hfr:k4e,Hfr:I4e,HilbertSpace:N4e,hksearow:q4e,hkswarow:x4e,hoarr:R4e,homtht:j4e,hookleftarrow:M4e,hookrightarrow:L4e,hopf:U4e,Hopf:G4e,horbar:V4e,HorizontalLine:H4e,hscr:W4e,Hscr:J4e,hslash:z4e,Hstrok:K4e,hstrok:X4e,HumpDownHump:Y4e,HumpEqual:Z4e,hybull:Q4e,hyphen:eSe,Iacute:tSe,iacute:rSe,ic:nSe,Icirc:uSe,icirc:sSe,Icy:oSe,icy:aSe,Idot:iSe,IEcy:cSe,iecy:lSe,iexcl:pSe,iff:fSe,ifr:dSe,Ifr:DSe,Igrave:hSe,igrave:mSe,ii:ESe,iiiint:vSe,iiint:ySe,iinfin:gSe,iiota:ASe,IJlig:FSe,ijlig:CSe,Imacr:bSe,imacr:SSe,image:wSe,ImaginaryI:_Se,imagline:BSe,imagpart:TSe,imath:$Se,Im:PSe,imof:OSe,imped:kSe,Implies:ISe,incare:NSe,in:"∈",infin:qSe,infintie:xSe,inodot:RSe,intcal:jSe,int:MSe,Int:LSe,integers:USe,Integral:GSe,intercal:VSe,Intersection:HSe,intlarhk:WSe,intprod:JSe,InvisibleComma:zSe,InvisibleTimes:KSe,IOcy:XSe,iocy:YSe,Iogon:ZSe,iogon:QSe,Iopf:e8e,iopf:t8e,Iota:r8e,iota:n8e,iprod:u8e,iquest:s8e,iscr:o8e,Iscr:a8e,isin:i8e,isindot:c8e,isinE:l8e,isins:p8e,isinsv:f8e,isinv:d8e,it:D8e,Itilde:h8e,itilde:m8e,Iukcy:E8e,iukcy:v8e,Iuml:y8e,iuml:g8e,Jcirc:A8e,jcirc:F8e,Jcy:C8e,jcy:b8e,Jfr:S8e,jfr:w8e,jmath:_8e,Jopf:B8e,jopf:T8e,Jscr:$8e,jscr:P8e,Jsercy:O8e,jsercy:k8e,Jukcy:I8e,jukcy:N8e,Kappa:q8e,kappa:x8e,kappav:R8e,Kcedil:j8e,kcedil:M8e,Kcy:L8e,kcy:U8e,Kfr:G8e,kfr:V8e,kgreen:H8e,KHcy:W8e,khcy:J8e,KJcy:z8e,kjcy:K8e,Kopf:X8e,kopf:Y8e,Kscr:Z8e,kscr:Q8e,lAarr:e5e,Lacute:t5e,lacute:r5e,laemptyv:n5e,lagran:u5e,Lambda:s5e,lambda:o5e,lang:a5e,Lang:i5e,langd:c5e,langle:l5e,lap:p5e,Laplacetrf:f5e,laquo:d5e,larrb:D5e,larrbfs:h5e,larr:m5e,Larr:E5e,lArr:v5e,larrfs:y5e,larrhk:g5e,larrlp:A5e,larrpl:F5e,larrsim:C5e,larrtl:b5e,latail:S5e,lAtail:w5e,lat:_5e,late:B5e,lates:T5e,lbarr:$5e,lBarr:P5e,lbbrk:O5e,lbrace:k5e,lbrack:I5e,lbrke:N5e,lbrksld:q5e,lbrkslu:x5e,Lcaron:R5e,lcaron:j5e,Lcedil:M5e,lcedil:L5e,lceil:U5e,lcub:G5e,Lcy:V5e,lcy:H5e,ldca:W5e,ldquo:J5e,ldquor:z5e,ldrdhar:K5e,ldrushar:X5e,ldsh:Y5e,le:Z5e,lE:Q5e,LeftAngleBracket:e6e,LeftArrowBar:t6e,leftarrow:r6e,LeftArrow:n6e,Leftarrow:u6e,LeftArrowRightArrow:s6e,leftarrowtail:o6e,LeftCeiling:a6e,LeftDoubleBracket:i6e,LeftDownTeeVector:c6e,LeftDownVectorBar:l6e,LeftDownVector:p6e,LeftFloor:f6e,leftharpoondown:d6e,leftharpoonup:D6e,leftleftarrows:h6e,leftrightarrow:m6e,LeftRightArrow:E6e,Leftrightarrow:v6e,leftrightarrows:y6e,leftrightharpoons:g6e,leftrightsquigarrow:A6e,LeftRightVector:F6e,LeftTeeArrow:C6e,LeftTee:b6e,LeftTeeVector:S6e,leftthreetimes:w6e,LeftTriangleBar:_6e,LeftTriangle:B6e,LeftTriangleEqual:T6e,LeftUpDownVector:$6e,LeftUpTeeVector:P6e,LeftUpVectorBar:O6e,LeftUpVector:k6e,LeftVectorBar:I6e,LeftVector:N6e,lEg:q6e,leg:x6e,leq:R6e,leqq:j6e,leqslant:M6e,lescc:L6e,les:U6e,lesdot:G6e,lesdoto:V6e,lesdotor:H6e,lesg:W6e,lesges:J6e,lessapprox:z6e,lessdot:K6e,lesseqgtr:X6e,lesseqqgtr:Y6e,LessEqualGreater:Z6e,LessFullEqual:Q6e,LessGreater:e7e,lessgtr:t7e,LessLess:r7e,lesssim:n7e,LessSlantEqual:u7e,LessTilde:s7e,lfisht:o7e,lfloor:a7e,Lfr:i7e,lfr:c7e,lg:l7e,lgE:p7e,lHar:f7e,lhard:d7e,lharu:D7e,lharul:h7e,lhblk:m7e,LJcy:E7e,ljcy:v7e,llarr:y7e,ll:g7e,Ll:A7e,llcorner:F7e,Lleftarrow:C7e,llhard:b7e,lltri:S7e,Lmidot:w7e,lmidot:_7e,lmoustache:B7e,lmoust:T7e,lnap:$7e,lnapprox:P7e,lne:O7e,lnE:k7e,lneq:I7e,lneqq:N7e,lnsim:q7e,loang:x7e,loarr:R7e,lobrk:j7e,longleftarrow:M7e,LongLeftArrow:L7e,Longleftarrow:U7e,longleftrightarrow:G7e,LongLeftRightArrow:V7e,Longleftrightarrow:H7e,longmapsto:W7e,longrightarrow:J7e,LongRightArrow:z7e,Longrightarrow:K7e,looparrowleft:X7e,looparrowright:Y7e,lopar:Z7e,Lopf:Q7e,lopf:e9e,loplus:t9e,lotimes:r9e,lowast:n9e,lowbar:u9e,LowerLeftArrow:s9e,LowerRightArrow:o9e,loz:a9e,lozenge:i9e,lozf:c9e,lpar:l9e,lparlt:p9e,lrarr:f9e,lrcorner:d9e,lrhar:D9e,lrhard:h9e,lrm:m9e,lrtri:E9e,lsaquo:v9e,lscr:y9e,Lscr:g9e,lsh:A9e,Lsh:F9e,lsim:C9e,lsime:b9e,lsimg:S9e,lsqb:w9e,lsquo:_9e,lsquor:B9e,Lstrok:T9e,lstrok:$9e,ltcc:P9e,ltcir:O9e,lt:k9e,LT:I9e,Lt:N9e,ltdot:q9e,lthree:x9e,ltimes:R9e,ltlarr:j9e,ltquest:M9e,ltri:L9e,ltrie:U9e,ltrif:G9e,ltrPar:V9e,lurdshar:H9e,luruhar:W9e,lvertneqq:J9e,lvnE:z9e,macr:K9e,male:X9e,malt:Y9e,maltese:Z9e,Map:"⤅",map:Q9e,mapsto:ewe,mapstodown:twe,mapstoleft:rwe,mapstoup:nwe,marker:uwe,mcomma:swe,Mcy:owe,mcy:awe,mdash:iwe,mDDot:cwe,measuredangle:lwe,MediumSpace:pwe,Mellintrf:fwe,Mfr:dwe,mfr:Dwe,mho:hwe,micro:mwe,midast:Ewe,midcir:vwe,mid:ywe,middot:gwe,minusb:Awe,minus:Fwe,minusd:Cwe,minusdu:bwe,MinusPlus:Swe,mlcp:wwe,mldr:_we,mnplus:Bwe,models:Twe,Mopf:$we,mopf:Pwe,mp:Owe,mscr:kwe,Mscr:Iwe,mstpos:Nwe,Mu:qwe,mu:xwe,multimap:Rwe,mumap:jwe,nabla:Mwe,Nacute:Lwe,nacute:Uwe,nang:Gwe,nap:Vwe,napE:Hwe,napid:Wwe,napos:Jwe,napprox:zwe,natural:Kwe,naturals:Xwe,natur:Ywe,nbsp:Zwe,nbump:Qwe,nbumpe:e_e,ncap:t_e,Ncaron:r_e,ncaron:n_e,Ncedil:u_e,ncedil:s_e,ncong:o_e,ncongdot:a_e,ncup:i_e,Ncy:c_e,ncy:l_e,ndash:p_e,nearhk:f_e,nearr:d_e,neArr:D_e,nearrow:h_e,ne:m_e,nedot:E_e,NegativeMediumSpace:v_e,NegativeThickSpace:y_e,NegativeThinSpace:g_e,NegativeVeryThinSpace:A_e,nequiv:F_e,nesear:C_e,nesim:b_e,NestedGreaterGreater:S_e,NestedLessLess:w_e,NewLine:__e,nexist:B_e,nexists:T_e,Nfr:$_e,nfr:P_e,ngE:O_e,nge:k_e,ngeq:I_e,ngeqq:N_e,ngeqslant:q_e,nges:x_e,nGg:R_e,ngsim:j_e,nGt:M_e,ngt:L_e,ngtr:U_e,nGtv:G_e,nharr:V_e,nhArr:H_e,nhpar:W_e,ni:J_e,nis:z_e,nisd:K_e,niv:X_e,NJcy:Y_e,njcy:Z_e,nlarr:Q_e,nlArr:eBe,nldr:tBe,nlE:rBe,nle:nBe,nleftarrow:uBe,nLeftarrow:sBe,nleftrightarrow:oBe,nLeftrightarrow:aBe,nleq:iBe,nleqq:cBe,nleqslant:lBe,nles:pBe,nless:fBe,nLl:dBe,nlsim:DBe,nLt:hBe,nlt:mBe,nltri:EBe,nltrie:vBe,nLtv:yBe,nmid:gBe,NoBreak:ABe,NonBreakingSpace:FBe,nopf:CBe,Nopf:bBe,Not:SBe,not:wBe,NotCongruent:_Be,NotCupCap:BBe,NotDoubleVerticalBar:TBe,NotElement:$Be,NotEqual:PBe,NotEqualTilde:OBe,NotExists:kBe,NotGreater:IBe,NotGreaterEqual:NBe,NotGreaterFullEqual:qBe,NotGreaterGreater:xBe,NotGreaterLess:RBe,NotGreaterSlantEqual:jBe,NotGreaterTilde:MBe,NotHumpDownHump:LBe,NotHumpEqual:UBe,notin:GBe,notindot:VBe,notinE:HBe,notinva:WBe,notinvb:JBe,notinvc:zBe,NotLeftTriangleBar:KBe,NotLeftTriangle:XBe,NotLeftTriangleEqual:YBe,NotLess:ZBe,NotLessEqual:QBe,NotLessGreater:eTe,NotLessLess:tTe,NotLessSlantEqual:rTe,NotLessTilde:nTe,NotNestedGreaterGreater:uTe,NotNestedLessLess:sTe,notni:oTe,notniva:aTe,notnivb:iTe,notnivc:cTe,NotPrecedes:lTe,NotPrecedesEqual:pTe,NotPrecedesSlantEqual:fTe,NotReverseElement:dTe,NotRightTriangleBar:DTe,NotRightTriangle:hTe,NotRightTriangleEqual:mTe,NotSquareSubset:ETe,NotSquareSubsetEqual:vTe,NotSquareSuperset:yTe,NotSquareSupersetEqual:gTe,NotSubset:ATe,NotSubsetEqual:FTe,NotSucceeds:CTe,NotSucceedsEqual:bTe,NotSucceedsSlantEqual:STe,NotSucceedsTilde:wTe,NotSuperset:_Te,NotSupersetEqual:BTe,NotTilde:TTe,NotTildeEqual:$Te,NotTildeFullEqual:PTe,NotTildeTilde:OTe,NotVerticalBar:kTe,nparallel:ITe,npar:NTe,nparsl:qTe,npart:xTe,npolint:RTe,npr:jTe,nprcue:MTe,nprec:LTe,npreceq:UTe,npre:GTe,nrarrc:VTe,nrarr:HTe,nrArr:WTe,nrarrw:JTe,nrightarrow:zTe,nRightarrow:KTe,nrtri:XTe,nrtrie:YTe,nsc:ZTe,nsccue:QTe,nsce:e$e,Nscr:t$e,nscr:r$e,nshortmid:n$e,nshortparallel:u$e,nsim:s$e,nsime:o$e,nsimeq:a$e,nsmid:i$e,nspar:c$e,nsqsube:l$e,nsqsupe:p$e,nsub:f$e,nsubE:d$e,nsube:D$e,nsubset:h$e,nsubseteq:m$e,nsubseteqq:E$e,nsucc:v$e,nsucceq:y$e,nsup:g$e,nsupE:A$e,nsupe:F$e,nsupset:C$e,nsupseteq:b$e,nsupseteqq:S$e,ntgl:w$e,Ntilde:_$e,ntilde:B$e,ntlg:T$e,ntriangleleft:$$e,ntrianglelefteq:P$e,ntriangleright:O$e,ntrianglerighteq:k$e,Nu:I$e,nu:N$e,num:q$e,numero:x$e,numsp:R$e,nvap:j$e,nvdash:M$e,nvDash:L$e,nVdash:U$e,nVDash:G$e,nvge:V$e,nvgt:H$e,nvHarr:W$e,nvinfin:J$e,nvlArr:z$e,nvle:K$e,nvlt:X$e,nvltrie:Y$e,nvrArr:Z$e,nvrtrie:Q$e,nvsim:ePe,nwarhk:tPe,nwarr:rPe,nwArr:nPe,nwarrow:uPe,nwnear:sPe,Oacute:oPe,oacute:aPe,oast:iPe,Ocirc:cPe,ocirc:lPe,ocir:pPe,Ocy:fPe,ocy:dPe,odash:DPe,Odblac:hPe,odblac:mPe,odiv:EPe,odot:vPe,odsold:yPe,OElig:gPe,oelig:APe,ofcir:FPe,Ofr:CPe,ofr:bPe,ogon:SPe,Ograve:wPe,ograve:_Pe,ogt:BPe,ohbar:TPe,ohm:$Pe,oint:PPe,olarr:OPe,olcir:kPe,olcross:IPe,oline:NPe,olt:qPe,Omacr:xPe,omacr:RPe,Omega:jPe,omega:MPe,Omicron:LPe,omicron:UPe,omid:GPe,ominus:VPe,Oopf:HPe,oopf:WPe,opar:JPe,OpenCurlyDoubleQuote:zPe,OpenCurlyQuote:KPe,operp:XPe,oplus:YPe,orarr:ZPe,Or:QPe,or:eOe,ord:tOe,order:rOe,orderof:nOe,ordf:uOe,ordm:sOe,origof:oOe,oror:aOe,orslope:iOe,orv:cOe,oS:lOe,Oscr:pOe,oscr:fOe,Oslash:dOe,oslash:DOe,osol:hOe,Otilde:mOe,otilde:EOe,otimesas:vOe,Otimes:yOe,otimes:gOe,Ouml:AOe,ouml:FOe,ovbar:COe,OverBar:bOe,OverBrace:SOe,OverBracket:wOe,OverParenthesis:_Oe,para:BOe,parallel:TOe,par:$Oe,parsim:POe,parsl:OOe,part:kOe,PartialD:IOe,Pcy:NOe,pcy:qOe,percnt:xOe,period:ROe,permil:jOe,perp:MOe,pertenk:LOe,Pfr:UOe,pfr:GOe,Phi:VOe,phi:HOe,phiv:WOe,phmmat:JOe,phone:zOe,Pi:KOe,pi:XOe,pitchfork:YOe,piv:ZOe,planck:QOe,planckh:eke,plankv:tke,plusacir:rke,plusb:nke,pluscir:uke,plus:ske,plusdo:oke,plusdu:ake,pluse:ike,PlusMinus:cke,plusmn:lke,plussim:pke,plustwo:fke,pm:dke,Poincareplane:Dke,pointint:hke,popf:mke,Popf:Eke,pound:vke,prap:yke,Pr:gke,pr:Ake,prcue:Fke,precapprox:Cke,prec:bke,preccurlyeq:Ske,Precedes:wke,PrecedesEqual:_ke,PrecedesSlantEqual:Bke,PrecedesTilde:Tke,preceq:$ke,precnapprox:Pke,precneqq:Oke,precnsim:kke,pre:Ike,prE:Nke,precsim:qke,prime:xke,Prime:Rke,primes:jke,prnap:Mke,prnE:Lke,prnsim:Uke,prod:Gke,Product:Vke,profalar:Hke,profline:Wke,profsurf:Jke,prop:zke,Proportional:Kke,Proportion:Xke,propto:Yke,prsim:Zke,prurel:Qke,Pscr:eIe,pscr:tIe,Psi:rIe,psi:nIe,puncsp:uIe,Qfr:sIe,qfr:oIe,qint:aIe,qopf:iIe,Qopf:cIe,qprime:lIe,Qscr:pIe,qscr:fIe,quaternions:dIe,quatint:DIe,quest:hIe,questeq:mIe,quot:EIe,QUOT:vIe,rAarr:yIe,race:gIe,Racute:AIe,racute:FIe,radic:CIe,raemptyv:bIe,rang:SIe,Rang:wIe,rangd:_Ie,range:BIe,rangle:TIe,raquo:$Ie,rarrap:PIe,rarrb:OIe,rarrbfs:kIe,rarrc:IIe,rarr:NIe,Rarr:qIe,rArr:xIe,rarrfs:RIe,rarrhk:jIe,rarrlp:MIe,rarrpl:LIe,rarrsim:UIe,Rarrtl:GIe,rarrtl:VIe,rarrw:HIe,ratail:WIe,rAtail:JIe,ratio:zIe,rationals:KIe,rbarr:XIe,rBarr:YIe,RBarr:ZIe,rbbrk:QIe,rbrace:eNe,rbrack:tNe,rbrke:rNe,rbrksld:nNe,rbrkslu:uNe,Rcaron:sNe,rcaron:oNe,Rcedil:aNe,rcedil:iNe,rceil:cNe,rcub:lNe,Rcy:pNe,rcy:fNe,rdca:dNe,rdldhar:DNe,rdquo:hNe,rdquor:mNe,rdsh:ENe,real:vNe,realine:yNe,realpart:gNe,reals:ANe,Re:FNe,rect:CNe,reg:bNe,REG:SNe,ReverseElement:wNe,ReverseEquilibrium:_Ne,ReverseUpEquilibrium:BNe,rfisht:TNe,rfloor:$Ne,rfr:PNe,Rfr:ONe,rHar:kNe,rhard:INe,rharu:NNe,rharul:qNe,Rho:xNe,rho:RNe,rhov:jNe,RightAngleBracket:MNe,RightArrowBar:LNe,rightarrow:UNe,RightArrow:GNe,Rightarrow:VNe,RightArrowLeftArrow:HNe,rightarrowtail:WNe,RightCeiling:JNe,RightDoubleBracket:zNe,RightDownTeeVector:KNe,RightDownVectorBar:XNe,RightDownVector:YNe,RightFloor:ZNe,rightharpoondown:QNe,rightharpoonup:eqe,rightleftarrows:tqe,rightleftharpoons:rqe,rightrightarrows:nqe,rightsquigarrow:uqe,RightTeeArrow:sqe,RightTee:oqe,RightTeeVector:aqe,rightthreetimes:iqe,RightTriangleBar:cqe,RightTriangle:lqe,RightTriangleEqual:pqe,RightUpDownVector:fqe,RightUpTeeVector:dqe,RightUpVectorBar:Dqe,RightUpVector:hqe,RightVectorBar:mqe,RightVector:Eqe,ring:vqe,risingdotseq:yqe,rlarr:gqe,rlhar:Aqe,rlm:Fqe,rmoustache:Cqe,rmoust:bqe,rnmid:Sqe,roang:wqe,roarr:_qe,robrk:Bqe,ropar:Tqe,ropf:$qe,Ropf:Pqe,roplus:Oqe,rotimes:kqe,RoundImplies:Iqe,rpar:Nqe,rpargt:qqe,rppolint:xqe,rrarr:Rqe,Rrightarrow:jqe,rsaquo:Mqe,rscr:Lqe,Rscr:Uqe,rsh:Gqe,Rsh:Vqe,rsqb:Hqe,rsquo:Wqe,rsquor:Jqe,rthree:zqe,rtimes:Kqe,rtri:Xqe,rtrie:Yqe,rtrif:Zqe,rtriltri:Qqe,RuleDelayed:exe,ruluhar:txe,rx:rxe,Sacute:nxe,sacute:uxe,sbquo:sxe,scap:oxe,Scaron:axe,scaron:ixe,Sc:cxe,sc:lxe,sccue:pxe,sce:fxe,scE:dxe,Scedil:Dxe,scedil:hxe,Scirc:mxe,scirc:Exe,scnap:vxe,scnE:yxe,scnsim:gxe,scpolint:Axe,scsim:Fxe,Scy:Cxe,scy:bxe,sdotb:Sxe,sdot:wxe,sdote:_xe,searhk:Bxe,searr:Txe,seArr:$xe,searrow:Pxe,sect:Oxe,semi:kxe,seswar:Ixe,setminus:Nxe,setmn:qxe,sext:xxe,Sfr:Rxe,sfr:jxe,sfrown:Mxe,sharp:Lxe,SHCHcy:Uxe,shchcy:Gxe,SHcy:Vxe,shcy:Hxe,ShortDownArrow:Wxe,ShortLeftArrow:Jxe,shortmid:zxe,shortparallel:Kxe,ShortRightArrow:Xxe,ShortUpArrow:Yxe,shy:Zxe,Sigma:Qxe,sigma:eRe,sigmaf:tRe,sigmav:rRe,sim:nRe,simdot:uRe,sime:sRe,simeq:oRe,simg:aRe,simgE:iRe,siml:cRe,simlE:lRe,simne:pRe,simplus:fRe,simrarr:dRe,slarr:DRe,SmallCircle:hRe,smallsetminus:mRe,smashp:ERe,smeparsl:vRe,smid:yRe,smile:gRe,smt:ARe,smte:FRe,smtes:CRe,SOFTcy:bRe,softcy:SRe,solbar:wRe,solb:_Re,sol:BRe,Sopf:TRe,sopf:$Re,spades:PRe,spadesuit:ORe,spar:kRe,sqcap:IRe,sqcaps:NRe,sqcup:qRe,sqcups:xRe,Sqrt:RRe,sqsub:jRe,sqsube:MRe,sqsubset:LRe,sqsubseteq:URe,sqsup:GRe,sqsupe:VRe,sqsupset:HRe,sqsupseteq:WRe,square:JRe,Square:zRe,SquareIntersection:KRe,SquareSubset:XRe,SquareSubsetEqual:YRe,SquareSuperset:ZRe,SquareSupersetEqual:QRe,SquareUnion:eje,squarf:tje,squ:rje,squf:nje,srarr:uje,Sscr:sje,sscr:oje,ssetmn:aje,ssmile:ije,sstarf:cje,Star:lje,star:pje,starf:fje,straightepsilon:dje,straightphi:Dje,strns:hje,sub:mje,Sub:Eje,subdot:vje,subE:yje,sube:gje,subedot:Aje,submult:Fje,subnE:Cje,subne:bje,subplus:Sje,subrarr:wje,subset:_je,Subset:Bje,subseteq:Tje,subseteqq:$je,SubsetEqual:Pje,subsetneq:Oje,subsetneqq:kje,subsim:Ije,subsub:Nje,subsup:qje,succapprox:xje,succ:Rje,succcurlyeq:jje,Succeeds:Mje,SucceedsEqual:Lje,SucceedsSlantEqual:Uje,SucceedsTilde:Gje,succeq:Vje,succnapprox:Hje,succneqq:Wje,succnsim:Jje,succsim:zje,SuchThat:Kje,sum:Xje,Sum:Yje,sung:Zje,sup1:Qje,sup2:eMe,sup3:tMe,sup:rMe,Sup:nMe,supdot:uMe,supdsub:sMe,supE:oMe,supe:aMe,supedot:iMe,Superset:cMe,SupersetEqual:lMe,suphsol:pMe,suphsub:fMe,suplarr:dMe,supmult:DMe,supnE:hMe,supne:mMe,supplus:EMe,supset:vMe,Supset:yMe,supseteq:gMe,supseteqq:AMe,supsetneq:FMe,supsetneqq:CMe,supsim:bMe,supsub:SMe,supsup:wMe,swarhk:_Me,swarr:BMe,swArr:TMe,swarrow:$Me,swnwar:PMe,szlig:OMe,Tab:kMe,target:IMe,Tau:NMe,tau:qMe,tbrk:xMe,Tcaron:RMe,tcaron:jMe,Tcedil:MMe,tcedil:LMe,Tcy:UMe,tcy:GMe,tdot:VMe,telrec:HMe,Tfr:WMe,tfr:JMe,there4:zMe,therefore:KMe,Therefore:XMe,Theta:YMe,theta:ZMe,thetasym:QMe,thetav:eLe,thickapprox:tLe,thicksim:rLe,ThickSpace:nLe,ThinSpace:uLe,thinsp:sLe,thkap:oLe,thksim:aLe,THORN:iLe,thorn:cLe,tilde:lLe,Tilde:pLe,TildeEqual:fLe,TildeFullEqual:dLe,TildeTilde:DLe,timesbar:hLe,timesb:mLe,times:ELe,timesd:vLe,tint:yLe,toea:gLe,topbot:ALe,topcir:FLe,top:CLe,Topf:bLe,topf:SLe,topfork:wLe,tosa:_Le,tprime:BLe,trade:TLe,TRADE:$Le,triangle:PLe,triangledown:OLe,triangleleft:kLe,trianglelefteq:ILe,triangleq:NLe,triangleright:qLe,trianglerighteq:xLe,tridot:RLe,trie:jLe,triminus:MLe,TripleDot:LLe,triplus:ULe,trisb:GLe,tritime:VLe,trpezium:HLe,Tscr:WLe,tscr:JLe,TScy:zLe,tscy:KLe,TSHcy:XLe,tshcy:YLe,Tstrok:ZLe,tstrok:QLe,twixt:eUe,twoheadleftarrow:tUe,twoheadrightarrow:rUe,Uacute:nUe,uacute:uUe,uarr:sUe,Uarr:oUe,uArr:aUe,Uarrocir:iUe,Ubrcy:cUe,ubrcy:lUe,Ubreve:pUe,ubreve:fUe,Ucirc:dUe,ucirc:DUe,Ucy:hUe,ucy:mUe,udarr:EUe,Udblac:vUe,udblac:yUe,udhar:gUe,ufisht:AUe,Ufr:FUe,ufr:CUe,Ugrave:bUe,ugrave:SUe,uHar:wUe,uharl:_Ue,uharr:BUe,uhblk:TUe,ulcorn:$Ue,ulcorner:PUe,ulcrop:OUe,ultri:kUe,Umacr:IUe,umacr:NUe,uml:qUe,UnderBar:xUe,UnderBrace:RUe,UnderBracket:jUe,UnderParenthesis:MUe,Union:LUe,UnionPlus:UUe,Uogon:GUe,uogon:VUe,Uopf:HUe,uopf:WUe,UpArrowBar:JUe,uparrow:zUe,UpArrow:KUe,Uparrow:XUe,UpArrowDownArrow:YUe,updownarrow:ZUe,UpDownArrow:QUe,Updownarrow:eGe,UpEquilibrium:tGe,upharpoonleft:rGe,upharpoonright:nGe,uplus:uGe,UpperLeftArrow:sGe,UpperRightArrow:oGe,upsi:aGe,Upsi:iGe,upsih:cGe,Upsilon:lGe,upsilon:pGe,UpTeeArrow:fGe,UpTee:dGe,upuparrows:DGe,urcorn:hGe,urcorner:mGe,urcrop:EGe,Uring:vGe,uring:yGe,urtri:gGe,Uscr:AGe,uscr:FGe,utdot:CGe,Utilde:bGe,utilde:SGe,utri:wGe,utrif:_Ge,uuarr:BGe,Uuml:TGe,uuml:$Ge,uwangle:PGe,vangrt:OGe,varepsilon:kGe,varkappa:IGe,varnothing:NGe,varphi:qGe,varpi:xGe,varpropto:RGe,varr:jGe,vArr:MGe,varrho:LGe,varsigma:UGe,varsubsetneq:GGe,varsubsetneqq:VGe,varsupsetneq:HGe,varsupsetneqq:WGe,vartheta:JGe,vartriangleleft:zGe,vartriangleright:KGe,vBar:XGe,Vbar:YGe,vBarv:ZGe,Vcy:QGe,vcy:eVe,vdash:tVe,vDash:rVe,Vdash:nVe,VDash:uVe,Vdashl:sVe,veebar:oVe,vee:aVe,Vee:iVe,veeeq:cVe,vellip:lVe,verbar:pVe,Verbar:fVe,vert:dVe,Vert:DVe,VerticalBar:hVe,VerticalLine:mVe,VerticalSeparator:EVe,VerticalTilde:vVe,VeryThinSpace:yVe,Vfr:gVe,vfr:AVe,vltri:FVe,vnsub:CVe,vnsup:bVe,Vopf:SVe,vopf:wVe,vprop:_Ve,vrtri:BVe,Vscr:TVe,vscr:$Ve,vsubnE:PVe,vsubne:OVe,vsupnE:kVe,vsupne:IVe,Vvdash:NVe,vzigzag:qVe,Wcirc:xVe,wcirc:RVe,wedbar:jVe,wedge:MVe,Wedge:LVe,wedgeq:UVe,weierp:GVe,Wfr:VVe,wfr:HVe,Wopf:WVe,wopf:JVe,wp:zVe,wr:KVe,wreath:XVe,Wscr:YVe,wscr:ZVe,xcap:QVe,xcirc:eHe,xcup:tHe,xdtri:rHe,Xfr:nHe,xfr:uHe,xharr:sHe,xhArr:oHe,Xi:aHe,xi:iHe,xlarr:cHe,xlArr:lHe,xmap:pHe,xnis:fHe,xodot:dHe,Xopf:DHe,xopf:hHe,xoplus:mHe,xotime:EHe,xrarr:vHe,xrArr:yHe,Xscr:gHe,xscr:AHe,xsqcup:FHe,xuplus:CHe,xutri:bHe,xvee:SHe,xwedge:wHe,Yacute:_He,yacute:BHe,YAcy:THe,yacy:$He,Ycirc:PHe,ycirc:OHe,Ycy:kHe,ycy:IHe,yen:NHe,Yfr:qHe,yfr:xHe,YIcy:RHe,yicy:jHe,Yopf:MHe,yopf:LHe,Yscr:UHe,yscr:GHe,YUcy:VHe,yucy:HHe,yuml:WHe,Yuml:JHe,Zacute:zHe,zacute:KHe,Zcaron:XHe,zcaron:YHe,Zcy:ZHe,zcy:QHe,Zdot:eWe,zdot:tWe,zeetrf:rWe,ZeroWidthSpace:nWe,Zeta:uWe,zeta:sWe,zfr:oWe,Zfr:aWe,ZHcy:iWe,zhcy:cWe,zigrarr:lWe,zopf:pWe,Zopf:fWe,Zscr:dWe,zscr:DWe,zwj:hWe,zwnj:mWe},EWe="Á",vWe="á",yWe="Â",gWe="â",AWe="´",FWe="Æ",CWe="æ",bWe="À",SWe="à",wWe="&",_We="&",BWe="Å",TWe="å",$We="Ã",PWe="ã",OWe="Ä",kWe="ä",IWe="¦",NWe="Ç",qWe="ç",xWe="¸",RWe="¢",jWe="©",MWe="©",LWe="¤",UWe="°",GWe="÷",VWe="É",HWe="é",WWe="Ê",JWe="ê",zWe="È",KWe="è",XWe="Ð",YWe="ð",ZWe="Ë",QWe="ë",eJe="½",tJe="¼",rJe="¾",nJe=">",uJe=">",sJe="Í",oJe="í",aJe="Î",iJe="î",cJe="¡",lJe="Ì",pJe="ì",fJe="¿",dJe="Ï",DJe="ï",hJe="«",mJe="<",EJe="<",vJe="¯",yJe="µ",gJe="·",AJe=" ",FJe="¬",CJe="Ñ",bJe="ñ",SJe="Ó",wJe="ó",_Je="Ô",BJe="ô",TJe="Ò",$Je="ò",PJe="ª",OJe="º",kJe="Ø",IJe="ø",NJe="Õ",qJe="õ",xJe="Ö",RJe="ö",jJe="¶",MJe="±",LJe="£",UJe='"',GJe='"',VJe="»",HJe="®",WJe="®",JJe="§",zJe="­",KJe="¹",XJe="²",YJe="³",ZJe="ß",QJe="Þ",eze="þ",tze="×",rze="Ú",nze="ú",uze="Û",sze="û",oze="Ù",aze="ù",ize="¨",cze="Ü",lze="ü",pze="Ý",fze="ý",dze="¥",Dze="ÿ",hze={Aacute:EWe,aacute:vWe,Acirc:yWe,acirc:gWe,acute:AWe,AElig:FWe,aelig:CWe,Agrave:bWe,agrave:SWe,amp:wWe,AMP:_We,Aring:BWe,aring:TWe,Atilde:$We,atilde:PWe,Auml:OWe,auml:kWe,brvbar:IWe,Ccedil:NWe,ccedil:qWe,cedil:xWe,cent:RWe,copy:jWe,COPY:MWe,curren:LWe,deg:UWe,divide:GWe,Eacute:VWe,eacute:HWe,Ecirc:WWe,ecirc:JWe,Egrave:zWe,egrave:KWe,ETH:XWe,eth:YWe,Euml:ZWe,euml:QWe,frac12:eJe,frac14:tJe,frac34:rJe,gt:nJe,GT:uJe,Iacute:sJe,iacute:oJe,Icirc:aJe,icirc:iJe,iexcl:cJe,Igrave:lJe,igrave:pJe,iquest:fJe,Iuml:dJe,iuml:DJe,laquo:hJe,lt:mJe,LT:EJe,macr:vJe,micro:yJe,middot:gJe,nbsp:AJe,not:FJe,Ntilde:CJe,ntilde:bJe,Oacute:SJe,oacute:wJe,Ocirc:_Je,ocirc:BJe,Ograve:TJe,ograve:$Je,ordf:PJe,ordm:OJe,Oslash:kJe,oslash:IJe,Otilde:NJe,otilde:qJe,Ouml:xJe,ouml:RJe,para:jJe,plusmn:MJe,pound:LJe,quot:UJe,QUOT:GJe,raquo:VJe,reg:HJe,REG:WJe,sect:JJe,shy:zJe,sup1:KJe,sup2:XJe,sup3:YJe,szlig:ZJe,THORN:QJe,thorn:eze,times:tze,Uacute:rze,uacute:nze,Ucirc:uze,ucirc:sze,Ugrave:oze,ugrave:aze,uml:ize,Uuml:cze,uuml:lze,Yacute:pze,yacute:fze,yen:dze,yuml:Dze},mze="&",Eze="'",vze=">",yze="<",gze='"',e_={amp:mze,apos:Eze,gt:vze,lt:yze,quot:gze};var P3={};const Aze={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376};var Fze=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(P3,"__esModule",{value:!0});var JS=Fze(Aze),Cze=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function bze(e){return e>=55296&&e<=57343||e>1114111?"�":(e in JS.default&&(e=JS.default[e]),Cze(e))}P3.default=bze;var Tf=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.decodeHTML=Bu.decodeHTMLStrict=Bu.decodeXML=void 0;var _h=Tf(Qw),Sze=Tf(hze),wze=Tf(e_),zS=Tf(P3),_ze=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Bu.decodeXML=t_(wze.default);Bu.decodeHTMLStrict=t_(_h.default);function t_(e){var t=r_(e);return function(r){return String(r).replace(_ze,t)}}var KS=function(e,t){return e<t?1:-1};Bu.decodeHTML=function(){for(var e=Object.keys(Sze.default).sort(KS),t=Object.keys(_h.default).sort(KS),r=0,n=0;r<t.length;r++)e[n]===t[r]?(t[r]+=";?",n++):t[r]+=";";var u=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=r_(_h.default);function o(a){return a.substr(-1)!==";"&&(a+=";"),s(a)}return function(a){return String(a).replace(u,o)}}();function r_(e){return function(r){if(r.charAt(1)==="#"){var n=r.charAt(2);return n==="X"||n==="x"?zS.default(parseInt(r.substr(3),16)):zS.default(parseInt(r.substr(2),10))}return e[r.slice(1,-1)]||r}}var Qr={},n_=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.escapeUTF8=Qr.escape=Qr.encodeNonAsciiHTML=Qr.encodeHTML=Qr.encodeXML=void 0;var Bze=n_(e_),u_=o_(Bze.default),s_=a_(u_);Qr.encodeXML=l_(u_);var Tze=n_(Qw),O3=o_(Tze.default),$ze=a_(O3);Qr.encodeHTML=Oze(O3,$ze);Qr.encodeNonAsciiHTML=l_(O3);function o_(e){return Object.keys(e).sort().reduce(function(t,r){return t[e[r]]="&"+r+";",t},{})}function a_(e){for(var t=[],r=[],n=0,u=Object.keys(e);n<u.length;n++){var s=u[n];s.length===1?t.push("\\"+s):r.push(s)}t.sort();for(var o=0;o<t.length-1;o++){for(var a=o;a<t.length-1&&t[a].charCodeAt(1)+1===t[a+1].charCodeAt(1);)a+=1;var i=1+a-o;i<3||t.splice(o,i,t[o]+"-"+t[a])}return r.unshift("["+t.join("")+"]"),new RegExp(r.join("|"),"g")}var i_=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,Pze=String.prototype.codePointAt!=null?function(e){return e.codePointAt(0)}:function(e){return(e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)-56320+65536};function $f(e){return"&#x"+(e.length>1?Pze(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}function Oze(e,t){return function(r){return r.replace(t,function(n){return e[n]}).replace(i_,$f)}}var c_=new RegExp(s_.source+"|"+i_.source,"g");function kze(e){return e.replace(c_,$f)}Qr.escape=kze;function Ize(e){return e.replace(s_,$f)}Qr.escapeUTF8=Ize;function l_(e){return function(t){return t.replace(c_,function(r){return e[r]||$f(r)})}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var t=Bu,r=Qr;function n(i,c){return(!c||c<=0?t.decodeXML:t.decodeHTML)(i)}e.decode=n;function u(i,c){return(!c||c<=0?t.decodeXML:t.decodeHTMLStrict)(i)}e.decodeStrict=u;function s(i,c){return(!c||c<=0?r.encodeXML:r.encodeHTML)(i)}e.encode=s;var o=Qr;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var a=Bu;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return a.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return a.decodeXML}})})(Zw);var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.attributeNames=Fa.elementNames=void 0;Fa.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]);Fa.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]]);var ea=we&&we.__assign||function(){return ea=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},ea.apply(this,arguments)},Nze=we&&we.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qze=we&&we.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xze=we&&we.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Nze(t,e,r);return qze(t,e),t};Object.defineProperty($3,"__esModule",{value:!0});var mu=xze(Sc),p_=Zw,f_=Fa,Rze=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function jze(e,t){if(e)return Object.keys(e).map(function(r){var n,u,s=(n=e[r])!==null&&n!==void 0?n:"";return t.xmlMode==="foreign"&&(r=(u=f_.attributeNames.get(r))!==null&&u!==void 0?u:r),!t.emptyAttrs&&!t.xmlMode&&s===""?r:r+'="'+(t.decodeEntities!==!1?p_.encodeXML(s):s.replace(/"/g,"&quot;"))+'"'}).join(" ")}var XS=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function k3(e,t){t===void 0&&(t={});for(var r=("length"in e)?e:[e],n="",u=0;u<r.length;u++)n+=Mze(r[u],t);return n}$3.default=k3;function Mze(e,t){switch(e.type){case mu.Root:return k3(e.children,t);case mu.Directive:case mu.Doctype:return Vze(e);case mu.Comment:return Jze(e);case mu.CDATA:return Wze(e);case mu.Script:case mu.Style:case mu.Tag:return Gze(e,t);case mu.Text:return Hze(e,t)}}var Lze=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Uze=new Set(["svg","math"]);function Gze(e,t){var r;t.xmlMode==="foreign"&&(e.name=(r=f_.elementNames.get(e.name))!==null&&r!==void 0?r:e.name,e.parent&&Lze.has(e.parent.name)&&(t=ea(ea({},t),{xmlMode:!1}))),!t.xmlMode&&Uze.has(e.name)&&(t=ea(ea({},t),{xmlMode:"foreign"}));var n="<"+e.name,u=jze(e.attribs,t);return u&&(n+=" "+u),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&XS.has(e.name))?(t.xmlMode||(n+=" "),n+="/>"):(n+=">",e.children.length>0&&(n+=k3(e.children,t)),(t.xmlMode||!XS.has(e.name))&&(n+="</"+e.name+">")),n}function Vze(e){return"<"+e.data+">"}function Hze(e,t){var r=e.data||"";return t.decodeEntities!==!1&&!(!t.xmlMode&&e.parent&&Rze.has(e.parent.name))&&(r=p_.encodeXML(r)),r}function Wze(e){return"<![CDATA["+e.children[0].data+"]]>"}function Jze(e){return"<!--"+e.data+"-->"}var zze=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.innerText=Zr.textContent=Zr.getText=Zr.getInnerHTML=Zr.getOuterHTML=void 0;var su=Do,Kze=zze($3),Xze=Sc;function d_(e,t){return(0,Kze.default)(e,t)}Zr.getOuterHTML=d_;function Yze(e,t){return(0,su.hasChildren)(e)?e.children.map(function(r){return d_(r,t)}).join(""):""}Zr.getInnerHTML=Yze;function Il(e){return Array.isArray(e)?e.map(Il).join(""):(0,su.isTag)(e)?e.name==="br"?`
`:Il(e.children):(0,su.isCDATA)(e)?Il(e.children):(0,su.isText)(e)?e.data:""}Zr.getText=Il;function Bh(e){return Array.isArray(e)?e.map(Bh).join(""):(0,su.hasChildren)(e)&&!(0,su.isComment)(e)?Bh(e.children):(0,su.isText)(e)?e.data:""}Zr.textContent=Bh;function Th(e){return Array.isArray(e)?e.map(Th).join(""):(0,su.hasChildren)(e)&&(e.type===Xze.ElementType.Tag||(0,su.isCDATA)(e))?Th(e.children):(0,su.isText)(e)?e.data:""}Zr.innerText=Th;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.prevElementSibling=sr.nextElementSibling=sr.getName=sr.hasAttrib=sr.getAttributeValue=sr.getSiblings=sr.getParent=sr.getChildren=void 0;var D_=Do,Zze=[];function h_(e){var t;return(t=e.children)!==null&&t!==void 0?t:Zze}sr.getChildren=h_;function m_(e){return e.parent||null}sr.getParent=m_;function Qze(e){var t,r,n=m_(e);if(n!=null)return h_(n);for(var u=[e],s=e.prev,o=e.next;s!=null;)u.unshift(s),t=s,s=t.prev;for(;o!=null;)u.push(o),r=o,o=r.next;return u}sr.getSiblings=Qze;function eKe(e,t){var r;return(r=e.attribs)===null||r===void 0?void 0:r[t]}sr.getAttributeValue=eKe;function tKe(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}sr.hasAttrib=tKe;function rKe(e){return e.name}sr.getName=rKe;function nKe(e){for(var t,r=e.next;r!==null&&!(0,D_.isTag)(r);)t=r,r=t.next;return r}sr.nextElementSibling=nKe;function uKe(e){for(var t,r=e.prev;r!==null&&!(0,D_.isTag)(r);)t=r,r=t.prev;return r}sr.prevElementSibling=uKe;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.prepend=Lr.prependChild=Lr.append=Lr.appendChild=Lr.replaceElement=Lr.removeElement=void 0;function wc(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Lr.removeElement=wc;function sKe(e,t){var r=t.prev=e.prev;r&&(r.next=t);var n=t.next=e.next;n&&(n.prev=t);var u=t.parent=e.parent;if(u){var s=u.children;s[s.lastIndexOf(e)]=t}}Lr.replaceElement=sKe;function oKe(e,t){if(wc(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null}Lr.appendChild=oKe;function aKe(e,t){wc(t);var r=e.parent,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=r,n){if(n.prev=t,r){var u=r.children;u.splice(u.lastIndexOf(n),0,t)}}else r&&r.children.push(t)}Lr.append=aKe;function iKe(e,t){if(wc(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){var r=e.children[1];r.prev=t,t.next=r}else t.next=null}Lr.prependChild=iKe;function cKe(e,t){wc(t);var r=e.parent;if(r){var n=r.children;n.splice(n.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}Lr.prepend=cKe;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.findAll=Tr.existsOne=Tr.findOne=Tr.findOneChild=Tr.find=Tr.filter=void 0;var Ui=Do;function lKe(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),Array.isArray(t)||(t=[t]),I3(e,t,r,n)}Tr.filter=lKe;function I3(e,t,r,n){for(var u=[],s=0,o=t;s<o.length;s++){var a=o[s];if(e(a)&&(u.push(a),--n<=0))break;if(r&&(0,Ui.hasChildren)(a)&&a.children.length>0){var i=I3(e,a.children,r,n);if(u.push.apply(u,i),n-=i.length,n<=0)break}}return u}Tr.find=I3;function pKe(e,t){return t.find(e)}Tr.findOneChild=pKe;function E_(e,t,r){r===void 0&&(r=!0);for(var n=null,u=0;u<t.length&&!n;u++){var s=t[u];if((0,Ui.isTag)(s))e(s)?n=s:r&&s.children.length>0&&(n=E_(e,s.children));else continue}return n}Tr.findOne=E_;function v_(e,t){return t.some(function(r){return(0,Ui.isTag)(r)&&(e(r)||r.children.length>0&&v_(e,r.children))})}Tr.existsOne=v_;function fKe(e,t){for(var r,n=[],u=t.filter(Ui.isTag),s;s=u.shift();){var o=(r=s.children)===null||r===void 0?void 0:r.filter(Ui.isTag);o&&o.length>0&&u.unshift.apply(u,o),e(s)&&n.push(s)}return n}Tr.findAll=fKe;var en={};Object.defineProperty(en,"__esModule",{value:!0});en.getElementsByTagType=en.getElementsByTagName=en.getElementById=en.getElements=en.testElement=void 0;var Ws=Do,Pf=Tr,bp={tag_name:function(e){return typeof e=="function"?function(t){return(0,Ws.isTag)(t)&&e(t.name)}:e==="*"?Ws.isTag:function(t){return(0,Ws.isTag)(t)&&t.name===e}},tag_type:function(e){return typeof e=="function"?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return typeof e=="function"?function(t){return(0,Ws.isText)(t)&&e(t.data)}:function(t){return(0,Ws.isText)(t)&&t.data===e}}};function y_(e,t){return typeof t=="function"?function(r){return(0,Ws.isTag)(r)&&t(r.attribs[e])}:function(r){return(0,Ws.isTag)(r)&&r.attribs[e]===t}}function dKe(e,t){return function(r){return e(r)||t(r)}}function g_(e){var t=Object.keys(e).map(function(r){var n=e[r];return Object.prototype.hasOwnProperty.call(bp,r)?bp[r](n):y_(r,n)});return t.length===0?null:t.reduce(dKe)}function DKe(e,t){var r=g_(e);return r?r(t):!0}en.testElement=DKe;function hKe(e,t,r,n){n===void 0&&(n=1/0);var u=g_(e);return u?(0,Pf.filter)(u,t,r,n):[]}en.getElements=hKe;function mKe(e,t,r){return r===void 0&&(r=!0),Array.isArray(t)||(t=[t]),(0,Pf.findOne)(y_("id",e),t,r)}en.getElementById=mKe;function EKe(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,Pf.filter)(bp.tag_name(e),t,r,n)}en.getElementsByTagName=EKe;function vKe(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,Pf.filter)(bp.tag_type(e),t,r,n)}en.getElementsByTagType=vKe;var os={};Object.defineProperty(os,"__esModule",{value:!0});os.uniqueSort=os.compareDocumentPosition=os.removeSubsets=void 0;var YS=Do;function yKe(e){for(var t=e.length;--t>=0;){var r=e[t];if(t>0&&e.lastIndexOf(r,t-1)>=0){e.splice(t,1);continue}for(var n=r.parent;n;n=n.parent)if(e.includes(n)){e.splice(t,1);break}}return e}os.removeSubsets=yKe;function A_(e,t){var r=[],n=[];if(e===t)return 0;for(var u=(0,YS.hasChildren)(e)?e:e.parent;u;)r.unshift(u),u=u.parent;for(u=(0,YS.hasChildren)(t)?t:t.parent;u;)n.unshift(u),u=u.parent;for(var s=Math.min(r.length,n.length),o=0;o<s&&r[o]===n[o];)o++;if(o===0)return 1;var a=r[o-1],i=a.children,c=r[o],l=n[o];return i.indexOf(c)>i.indexOf(l)?a===t?20:4:a===e?10:2}os.compareDocumentPosition=A_;function gKe(e){return e=e.filter(function(t,r,n){return!n.includes(t,r+1)}),e.sort(function(t,r){var n=A_(t,r);return n&2?-1:n&4?1:0}),e}os.uniqueSort=gKe;var Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.getFeed=void 0;var AKe=Zr,_c=en;function FKe(e){var t=Sp(_Ke,e);return t?t.name==="feed"?CKe(t):bKe(t):null}Of.getFeed=FKe;function CKe(e){var t,r=e.children,n={type:"atom",items:(0,_c.getElementsByTagName)("entry",r).map(function(o){var a,i=o.children,c={media:F_(i)};Rr(c,"id","id",i),Rr(c,"title","title",i);var l=(a=Sp("link",i))===null||a===void 0?void 0:a.attribs.href;l&&(c.link=l);var p=Xs("summary",i)||Xs("content",i);p&&(c.description=p);var f=Xs("updated",i);return f&&(c.pubDate=new Date(f)),c})};Rr(n,"id","id",r),Rr(n,"title","title",r);var u=(t=Sp("link",r))===null||t===void 0?void 0:t.attribs.href;u&&(n.link=u),Rr(n,"description","subtitle",r);var s=Xs("updated",r);return s&&(n.updated=new Date(s)),Rr(n,"author","email",r,!0),n}function bKe(e){var t,r,n=(r=(t=Sp("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&r!==void 0?r:[],u={type:e.name.substr(0,3),id:"",items:(0,_c.getElementsByTagName)("item",e.children).map(function(o){var a=o.children,i={media:F_(a)};Rr(i,"id","guid",a),Rr(i,"title","title",a),Rr(i,"link","link",a),Rr(i,"description","description",a);var c=Xs("pubDate",a);return c&&(i.pubDate=new Date(c)),i})};Rr(u,"title","title",n),Rr(u,"link","link",n),Rr(u,"description","description",n);var s=Xs("lastBuildDate",n);return s&&(u.updated=new Date(s)),Rr(u,"author","managingEditor",n,!0),u}var SKe=["url","type","lang"],wKe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function F_(e){return(0,_c.getElementsByTagName)("media:content",e).map(function(t){for(var r=t.attribs,n={medium:r.medium,isDefault:!!r.isDefault},u=0,s=SKe;u<s.length;u++){var o=s[u];r[o]&&(n[o]=r[o])}for(var a=0,i=wKe;a<i.length;a++){var o=i[a];r[o]&&(n[o]=parseInt(r[o],10))}return r.expression&&(n.expression=r.expression),n})}function Sp(e,t){return(0,_c.getElementsByTagName)(e,t,!0,1)[0]}function Xs(e,t,r){return r===void 0&&(r=!1),(0,AKe.textContent)((0,_c.getElementsByTagName)(e,t,r,1)).trim()}function Rr(e,t,r,n,u){u===void 0&&(u=!1);var s=Xs(r,n,u);s&&(e[t]=s)}function _Ke(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}(function(e){var t=we&&we.__createBinding||(Object.create?function(u,s,o,a){a===void 0&&(a=o),Object.defineProperty(u,a,{enumerable:!0,get:function(){return s[o]}})}:function(u,s,o,a){a===void 0&&(a=o),u[a]=s[o]}),r=we&&we.__exportStar||function(u,s){for(var o in u)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,u,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(Zr,e),r(sr,e),r(Lr,e),r(Tr,e),r(en,e),r(os,e),r(Of,e);var n=Do;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})})(Mw);var mo={trueFunc:function(){return!0},falseFunc:function(){return!1}},as={},ht;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(ht||(ht={}));const BKe={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var Ot;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(Ot||(Ot={}));const ZS=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,TKe=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,$Ke=new Map([[126,Ot.Element],[94,Ot.Start],[36,Ot.End],[42,Ot.Any],[33,Ot.Not],[124,Ot.Hyphen]]),PKe=new Set(["has","not","matches","is","where","host","host-context"]);function C_(e){switch(e.type){case ht.Adjacent:case ht.Child:case ht.Descendant:case ht.Parent:case ht.Sibling:case ht.ColumnCombinator:return!0;default:return!1}}const OKe=new Set(["contains","icontains"]);function kKe(e,t,r){const n=parseInt(t,16)-65536;return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)}function Qa(e){return e.replace(TKe,kKe)}function p2(e){return e===39||e===34}function QS(e){return e===32||e===9||e===10||e===12||e===13}function IKe(e){const t=[],r=b_(t,`${e}`,0);if(r<e.length)throw new Error(`Unmatched selector: ${e.slice(r)}`);return t}function b_(e,t,r){let n=[];function u(f){const d=t.slice(r+f).match(ZS);if(!d)throw new Error(`Expected name, found ${t.slice(r)}`);const[h]=d;return r+=f+h.length,Qa(h)}function s(f){for(r+=f;r<t.length&&QS(t.charCodeAt(r));)r++}function o(){r+=1;const f=r;let d=1;for(;d>0&&r<t.length;r++)t.charCodeAt(r)===40&&!a(r)?d++:t.charCodeAt(r)===41&&!a(r)&&d--;if(d)throw new Error("Parenthesis not matched");return Qa(t.slice(f,r-1))}function a(f){let d=0;for(;t.charCodeAt(--f)===92;)d++;return(d&1)===1}function i(){if(n.length>0&&C_(n[n.length-1]))throw new Error("Did not expect successive traversals.")}function c(f){if(n.length>0&&n[n.length-1].type===ht.Descendant){n[n.length-1].type=f;return}i(),n.push({type:f})}function l(f,d){n.push({type:ht.Attribute,name:f,action:d,value:u(1),namespace:null,ignoreCase:"quirks"})}function p(){if(n.length&&n[n.length-1].type===ht.Descendant&&n.pop(),n.length===0)throw new Error("Empty sub-selector");e.push(n)}if(s(0),t.length===r)return r;e:for(;r<t.length;){const f=t.charCodeAt(r);switch(f){case 32:case 9:case 10:case 12:case 13:{(n.length===0||n[0].type!==ht.Descendant)&&(i(),n.push({type:ht.Descendant})),s(1);break}case 62:{c(ht.Child),s(1);break}case 60:{c(ht.Parent),s(1);break}case 126:{c(ht.Sibling),s(1);break}case 43:{c(ht.Adjacent),s(1);break}case 46:{l("class",Ot.Element);break}case 35:{l("id",Ot.Equals);break}case 91:{s(1);let d,h=null;t.charCodeAt(r)===124?d=u(1):t.startsWith("*|",r)?(h="*",d=u(2)):(d=u(0),t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==61&&(h=d,d=u(1))),s(0);let E=Ot.Exists;const A=$Ke.get(t.charCodeAt(r));if(A){if(E=A,t.charCodeAt(r+1)!==61)throw new Error("Expected `=`");s(2)}else t.charCodeAt(r)===61&&(E=Ot.Equals,s(1));let m="",y=null;if(E!=="exists"){if(p2(t.charCodeAt(r))){const P=t.charCodeAt(r);let $=r+1;for(;$<t.length&&(t.charCodeAt($)!==P||a($));)$+=1;if(t.charCodeAt($)!==P)throw new Error("Attribute value didn't end");m=Qa(t.slice(r+1,$)),r=$+1}else{const P=r;for(;r<t.length&&(!QS(t.charCodeAt(r))&&t.charCodeAt(r)!==93||a(r));)r+=1;m=Qa(t.slice(P,r))}s(0);const B=t.charCodeAt(r)|32;B===115?(y=!1,s(1)):B===105&&(y=!0,s(1))}if(t.charCodeAt(r)!==93)throw new Error("Attribute selector didn't terminate");r+=1;const F={type:ht.Attribute,name:d,action:E,value:m,namespace:h,ignoreCase:y};n.push(F);break}case 58:{if(t.charCodeAt(r+1)===58){n.push({type:ht.PseudoElement,name:u(2).toLowerCase(),data:t.charCodeAt(r)===40?o():null});continue}const d=u(1).toLowerCase();let h=null;if(t.charCodeAt(r)===40)if(PKe.has(d)){if(p2(t.charCodeAt(r+1)))throw new Error(`Pseudo-selector ${d} cannot be quoted`);if(h=[],r=b_(h,t,r+1),t.charCodeAt(r)!==41)throw new Error(`Missing closing parenthesis in :${d} (${t})`);r+=1}else{if(h=o(),OKe.has(d)){const E=h.charCodeAt(0);E===h.charCodeAt(h.length-1)&&p2(E)&&(h=h.slice(1,-1))}h=Qa(h)}n.push({type:ht.Pseudo,name:d,data:h});break}case 44:{p(),n=[],s(1);break}default:{if(t.startsWith("/*",r)){const E=t.indexOf("*/",r+2);if(E<0)throw new Error("Comment was not terminated");r=E+2,n.length===0&&s(0);break}let d=null,h;if(f===42)r+=1,h="*";else if(f===124){if(h="",t.charCodeAt(r+1)===124){c(ht.ColumnCombinator),s(2);break}}else if(ZS.test(t.slice(r)))h=u(0);else break e;t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==124&&(d=h,t.charCodeAt(r+1)===42?(h="*",r+=2):h=u(1)),n.push(h==="*"?{type:ht.Universal,namespace:d}:{type:ht.Tag,name:h,namespace:d})}}}return p(),r}const S_=["\\",'"'],w_=[...S_,"(",")"],NKe=new Set(S_.map(e=>e.charCodeAt(0))),e8=new Set(w_.map(e=>e.charCodeAt(0))),ta=new Set([...w_,"~","^","$","*","+","!","|",":","[","]"," ","."].map(e=>e.charCodeAt(0)));function __(e){return e.map(t=>t.map(qKe).join("")).join(", ")}function qKe(e,t,r){switch(e.type){case ht.Child:return t===0?"> ":" > ";case ht.Parent:return t===0?"< ":" < ";case ht.Sibling:return t===0?"~ ":" ~ ";case ht.Adjacent:return t===0?"+ ":" + ";case ht.Descendant:return" ";case ht.ColumnCombinator:return t===0?"|| ":" || ";case ht.Universal:return e.namespace==="*"&&t+1<r.length&&"name"in r[t+1]?"":`${B_(e.namespace)}*`;case ht.Tag:return t8(e);case ht.PseudoElement:return`::${gu(e.name,ta)}${e.data===null?"":`(${gu(e.data,e8)})`}`;case ht.Pseudo:return`:${gu(e.name,ta)}${e.data===null?"":`(${typeof e.data=="string"?gu(e.data,e8):__(e.data)})`}`;case ht.Attribute:{if(e.name==="id"&&e.action===Ot.Equals&&e.ignoreCase==="quirks"&&!e.namespace)return`#${gu(e.value,ta)}`;if(e.name==="class"&&e.action===Ot.Element&&e.ignoreCase==="quirks"&&!e.namespace)return`.${gu(e.value,ta)}`;const n=t8(e);return e.action===Ot.Exists?`[${n}]`:`[${n}${xKe(e.action)}="${gu(e.value,NKe)}"${e.ignoreCase===null?"":e.ignoreCase?" i":" s"}]`}}}function xKe(e){switch(e){case Ot.Equals:return"";case Ot.Element:return"~";case Ot.Start:return"^";case Ot.End:return"$";case Ot.Any:return"*";case Ot.Not:return"!";case Ot.Hyphen:return"|";case Ot.Exists:throw new Error("Shouldn't be here")}}function t8(e){return`${B_(e.namespace)}${gu(e.name,ta)}`}function B_(e){return e!==null?`${e==="*"?"*":gu(e,ta)}|`:""}function gu(e,t){let r=0,n="";for(let u=0;u<e.length;u++)t.has(e.charCodeAt(u))&&(n+=`${e.slice(r,u)}\\${e.charAt(u)}`,r=u+1);return n.length>0?n+e.slice(r):e}const RKe=Object.freeze(Object.defineProperty({__proto__:null,get AttributeAction(){return Ot},IgnoreCaseMode:BKe,get SelectorType(){return ht},isTraversal:C_,parse:IKe,stringify:__},Symbol.toStringTag,{value:"Module"})),kf=D8(RKe);var N3={},If={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isTraversal=e.procedure=void 0,e.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1};function t(r){return e.procedure[r.type]<0}e.isTraversal=t})(If);Object.defineProperty(N3,"__esModule",{value:!0});var r8=kf,jKe=If,n8={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function MKe(e){for(var t=e.map(T_),r=1;r<e.length;r++){var n=t[r];if(!(n<0))for(var u=r-1;u>=0&&n<t[u];u--){var s=e[u+1];e[u+1]=e[u],e[u]=s,t[u+1]=t[u],t[u]=n}}}N3.default=MKe;function T_(e){var t=jKe.procedure[e.type];if(e.type===r8.SelectorType.Attribute)t=n8[e.action],t===n8.equals&&e.name==="id"&&(t=9),e.ignoreCase&&(t>>=1);else if(e.type===r8.SelectorType.Pseudo)if(!e.data)t=3;else if(e.name==="has"||e.name==="contains")t=0;else if(Array.isArray(e.data)){t=0;for(var r=0;r<e.data.length;r++)if(e.data[r].length===1){var n=T_(e.data[r][0]);if(n===0){t=0;break}n>t&&(t=n)}e.data.length>1&&t>0&&(t-=1)}else t=1;return t}var Nf={},qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.attributeRules=void 0;var yl=mo,LKe=/[-[\]{}()*+?.,\\^$|#\s]/g;function u8(e){return e.replace(LKe,"\\$&")}var UKe=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Rs(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&UKe.has(e.name)}qf.attributeRules={equals:function(e,t,r){var n=r.adapter,u=t.name,s=t.value;return Rs(t,r)?(s=s.toLowerCase(),function(o){var a=n.getAttributeValue(o,u);return a!=null&&a.length===s.length&&a.toLowerCase()===s&&e(o)}):function(o){return n.getAttributeValue(o,u)===s&&e(o)}},hyphen:function(e,t,r){var n=r.adapter,u=t.name,s=t.value,o=s.length;return Rs(t,r)?(s=s.toLowerCase(),function(i){var c=n.getAttributeValue(i,u);return c!=null&&(c.length===o||c.charAt(o)==="-")&&c.substr(0,o).toLowerCase()===s&&e(i)}):function(i){var c=n.getAttributeValue(i,u);return c!=null&&(c.length===o||c.charAt(o)==="-")&&c.substr(0,o)===s&&e(i)}},element:function(e,t,r){var n=r.adapter,u=t.name,s=t.value;if(/\s/.test(s))return yl.falseFunc;var o=new RegExp("(?:^|\\s)".concat(u8(s),"(?:$|\\s)"),Rs(t,r)?"i":"");return function(i){var c=n.getAttributeValue(i,u);return c!=null&&c.length>=s.length&&o.test(c)&&e(i)}},exists:function(e,t,r){var n=t.name,u=r.adapter;return function(s){return u.hasAttrib(s,n)&&e(s)}},start:function(e,t,r){var n=r.adapter,u=t.name,s=t.value,o=s.length;return o===0?yl.falseFunc:Rs(t,r)?(s=s.toLowerCase(),function(a){var i=n.getAttributeValue(a,u);return i!=null&&i.length>=o&&i.substr(0,o).toLowerCase()===s&&e(a)}):function(a){var i;return!!(!((i=n.getAttributeValue(a,u))===null||i===void 0)&&i.startsWith(s))&&e(a)}},end:function(e,t,r){var n=r.adapter,u=t.name,s=t.value,o=-s.length;return o===0?yl.falseFunc:Rs(t,r)?(s=s.toLowerCase(),function(a){var i;return((i=n.getAttributeValue(a,u))===null||i===void 0?void 0:i.substr(o).toLowerCase())===s&&e(a)}):function(a){var i;return!!(!((i=n.getAttributeValue(a,u))===null||i===void 0)&&i.endsWith(s))&&e(a)}},any:function(e,t,r){var n=r.adapter,u=t.name,s=t.value;if(s==="")return yl.falseFunc;if(Rs(t,r)){var o=new RegExp(u8(s),"i");return function(i){var c=n.getAttributeValue(i,u);return c!=null&&c.length>=s.length&&o.test(c)&&e(i)}}return function(a){var i;return!!(!((i=n.getAttributeValue(a,u))===null||i===void 0)&&i.includes(s))&&e(a)}},not:function(e,t,r){var n=r.adapter,u=t.name,s=t.value;return s===""?function(o){return!!n.getAttributeValue(o,u)&&e(o)}:Rs(t,r)?(s=s.toLowerCase(),function(o){var a=n.getAttributeValue(o,u);return(a==null||a.length!==s.length||a.toLowerCase()!==s)&&e(o)}):function(o){return n.getAttributeValue(o,u)!==s&&e(o)}}};var q3={},$_={},P_={},xf={};Object.defineProperty(xf,"__esModule",{value:!0});xf.parse=void 0;var GKe=new Set([9,10,12,13,32]),s8=48,VKe=57;function HKe(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];var t=0,r=0,n=s(),u=o();if(t<e.length&&e.charAt(t)==="n"&&(t++,r=n*(u??1),a(),t<e.length?(n=s(),a(),u=o()):n=u=0),u===null||t<e.length)throw new Error("n-th rule couldn't be parsed ('".concat(e,"')"));return[r,n*u];function s(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function o(){for(var i=t,c=0;t<e.length&&e.charCodeAt(t)>=s8&&e.charCodeAt(t)<=VKe;)c=c*10+(e.charCodeAt(t)-s8),t++;return t===i?null:c}function a(){for(;t<e.length&&GKe.has(e.charCodeAt(t));)t++}}xf.parse=HKe;var Ca={},WKe=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.generate=Ca.compile=void 0;var o8=WKe(mo);function JKe(e){var t=e[0],r=e[1]-1;if(r<0&&t<=0)return o8.default.falseFunc;if(t===-1)return function(s){return s<=r};if(t===0)return function(s){return s===r};if(t===1)return r<0?o8.default.trueFunc:function(s){return s>=r};var n=Math.abs(t),u=(r%n+n)%n;return t>1?function(s){return s>=r&&s%n===u}:function(s){return s<=r&&s%n===u}}Ca.compile=JKe;function zKe(e){var t=e[0],r=e[1]-1,n=0;if(t<0){var u=-t,s=(r%u+u)%u;return function(){var o=s+u*n++;return o>r?null:o}}return t===0?r<0?function(){return null}:function(){return n++===0?r:null}:(r<0&&(r+=t*Math.ceil(-r/t)),function(){return t*n+++r})}Ca.generate=zKe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sequence=e.generate=e.compile=e.parse=void 0;var t=xf;Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}});var r=Ca;Object.defineProperty(e,"compile",{enumerable:!0,get:function(){return r.compile}}),Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return r.generate}});function n(s){return(0,r.compile)((0,t.parse)(s))}e.default=n;function u(s){return(0,r.generate)((0,t.parse)(s))}e.sequence=u})(P_);(function(e){var t=we&&we.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.filters=void 0;var r=t(P_),n=mo;function u(o,a){return function(i){var c=a.getParent(i);return c!=null&&a.isTag(c)&&o(i)}}e.filters={contains:function(o,a,i){var c=i.adapter;return function(p){return o(p)&&c.getText(p).includes(a)}},icontains:function(o,a,i){var c=i.adapter,l=a.toLowerCase();return function(f){return o(f)&&c.getText(f).toLowerCase().includes(l)}},"nth-child":function(o,a,i){var c=i.adapter,l=i.equals,p=(0,r.default)(a);return p===n.falseFunc?n.falseFunc:p===n.trueFunc?u(o,c):function(d){for(var h=c.getSiblings(d),E=0,A=0;A<h.length&&!l(d,h[A]);A++)c.isTag(h[A])&&E++;return p(E)&&o(d)}},"nth-last-child":function(o,a,i){var c=i.adapter,l=i.equals,p=(0,r.default)(a);return p===n.falseFunc?n.falseFunc:p===n.trueFunc?u(o,c):function(d){for(var h=c.getSiblings(d),E=0,A=h.length-1;A>=0&&!l(d,h[A]);A--)c.isTag(h[A])&&E++;return p(E)&&o(d)}},"nth-of-type":function(o,a,i){var c=i.adapter,l=i.equals,p=(0,r.default)(a);return p===n.falseFunc?n.falseFunc:p===n.trueFunc?u(o,c):function(d){for(var h=c.getSiblings(d),E=0,A=0;A<h.length;A++){var m=h[A];if(l(d,m))break;c.isTag(m)&&c.getName(m)===c.getName(d)&&E++}return p(E)&&o(d)}},"nth-last-of-type":function(o,a,i){var c=i.adapter,l=i.equals,p=(0,r.default)(a);return p===n.falseFunc?n.falseFunc:p===n.trueFunc?u(o,c):function(d){for(var h=c.getSiblings(d),E=0,A=h.length-1;A>=0;A--){var m=h[A];if(l(d,m))break;c.isTag(m)&&c.getName(m)===c.getName(d)&&E++}return p(E)&&o(d)}},root:function(o,a,i){var c=i.adapter;return function(l){var p=c.getParent(l);return(p==null||!c.isTag(p))&&o(l)}},scope:function(o,a,i,c){var l=i.equals;return!c||c.length===0?e.filters.root(o,a,i):c.length===1?function(p){return l(c[0],p)&&o(p)}:function(p){return c.includes(p)&&o(p)}},hover:s("isHovered"),visited:s("isVisited"),active:s("isActive")};function s(o){return function(i,c,l){var p=l.adapter,f=p[o];return typeof f!="function"?n.falseFunc:function(h){return f(h)&&i(h)}}}})($_);var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.verifyPseudoArgs=ba.pseudos=void 0;ba.pseudos={empty:function(e,t){var r=t.adapter;return!r.getChildren(e).some(function(n){return r.isTag(n)||r.getText(n)!==""})},"first-child":function(e,t){var r=t.adapter,n=t.equals,u=r.getSiblings(e).find(function(s){return r.isTag(s)});return u!=null&&n(e,u)},"last-child":function(e,t){for(var r=t.adapter,n=t.equals,u=r.getSiblings(e),s=u.length-1;s>=0;s--){if(n(e,u[s]))return!0;if(r.isTag(u[s]))break}return!1},"first-of-type":function(e,t){for(var r=t.adapter,n=t.equals,u=r.getSiblings(e),s=r.getName(e),o=0;o<u.length;o++){var a=u[o];if(n(e,a))return!0;if(r.isTag(a)&&r.getName(a)===s)break}return!1},"last-of-type":function(e,t){for(var r=t.adapter,n=t.equals,u=r.getSiblings(e),s=r.getName(e),o=u.length-1;o>=0;o--){var a=u[o];if(n(e,a))return!0;if(r.isTag(a)&&r.getName(a)===s)break}return!1},"only-of-type":function(e,t){var r=t.adapter,n=t.equals,u=r.getName(e);return r.getSiblings(e).every(function(s){return n(e,s)||!r.isTag(s)||r.getName(s)!==u})},"only-child":function(e,t){var r=t.adapter,n=t.equals;return r.getSiblings(e).every(function(u){return n(e,u)||!r.isTag(u)})}};function KKe(e,t,r){if(r===null){if(e.length>2)throw new Error("pseudo-selector :".concat(t," requires an argument"))}else if(e.length===2)throw new Error("pseudo-selector :".concat(t," doesn't have any arguments"))}ba.verifyPseudoArgs=KKe;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.aliases=void 0;Rf.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"};var jf={};(function(e){var t=we&&we.__spreadArray||function(a,i,c){if(c||arguments.length===2)for(var l=0,p=i.length,f;l<p;l++)(f||!(l in i))&&(f||(f=Array.prototype.slice.call(i,0,l)),f[l]=i[l]);return a.concat(f||Array.prototype.slice.call(i))};Object.defineProperty(e,"__esModule",{value:!0}),e.subselects=e.getNextSiblings=e.ensureIsTag=e.PLACEHOLDER_ELEMENT=void 0;var r=mo,n=If;e.PLACEHOLDER_ELEMENT={};function u(a,i){return a===r.falseFunc?r.falseFunc:function(c){return i.isTag(c)&&a(c)}}e.ensureIsTag=u;function s(a,i){var c=i.getSiblings(a);if(c.length<=1)return[];var l=c.indexOf(a);return l<0||l===c.length-1?[]:c.slice(l+1).filter(i.isTag)}e.getNextSiblings=s;var o=function(a,i,c,l,p){var f={xmlMode:!!c.xmlMode,adapter:c.adapter,equals:c.equals},d=p(i,f,l);return function(h){return d(h)&&a(h)}};e.subselects={is:o,matches:o,where:o,not:function(a,i,c,l,p){var f={xmlMode:!!c.xmlMode,adapter:c.adapter,equals:c.equals},d=p(i,f,l);return d===r.falseFunc?a:d===r.trueFunc?r.falseFunc:function(E){return!d(E)&&a(E)}},has:function(a,i,c,l,p){var f=c.adapter,d={xmlMode:!!c.xmlMode,adapter:f,equals:c.equals},h=i.some(function(F){return F.some(n.isTraversal)})?[e.PLACEHOLDER_ELEMENT]:void 0,E=p(i,d,h);if(E===r.falseFunc)return r.falseFunc;if(E===r.trueFunc)return function(F){return f.getChildren(F).some(f.isTag)&&a(F)};var A=u(E,f),m=E.shouldTestNextSiblings,y=m===void 0?!1:m;return h?function(F){h[0]=F;var B=f.getChildren(F),P=y?t(t([],B,!0),s(F,f),!0):B;return a(F)&&f.existsOne(A,P)}:function(F){return a(F)&&f.existsOne(A,f.getChildren(F))}}}})(jf);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compilePseudoSelector=e.aliases=e.pseudos=e.filters=void 0;var t=mo,r=kf,n=$_;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return n.filters}});var u=ba;Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return u.pseudos}});var s=Rf;Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return s.aliases}});var o=jf;function a(i,c,l,p,f){var d=c.name,h=c.data;if(Array.isArray(h))return o.subselects[d](i,h,l,p,f);if(d in s.aliases){if(h!=null)throw new Error("Pseudo ".concat(d," doesn't have any arguments"));var E=(0,r.parse)(s.aliases[d]);return o.subselects.is(i,E,l,p,f)}if(d in n.filters)return n.filters[d](i,h,l,p);if(d in u.pseudos){var A=u.pseudos[d];return(0,u.verifyPseudoArgs)(A,d,h),A===t.falseFunc?t.falseFunc:i===t.trueFunc?function(m){return A(m,l,h)}:function(m){return A(m,l,h)&&i(m)}}throw new Error("unmatched pseudo-class :".concat(d))}e.compilePseudoSelector=a})(q3);Object.defineProperty(Nf,"__esModule",{value:!0});Nf.compileGeneralSelector=void 0;var XKe=qf,YKe=q3,Bn=kf;function ZKe(e,t,r,n,u){var s=r.adapter,o=r.equals;switch(t.type){case Bn.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Bn.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Bn.SelectorType.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!r.xmlMode||r.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),XKe.attributeRules[t.action](e,t,r)}case Bn.SelectorType.Pseudo:return(0,YKe.compilePseudoSelector)(e,t,r,n,u);case Bn.SelectorType.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var a=t.name;return(!r.xmlMode||r.lowerCaseTags)&&(a=a.toLowerCase()),function(l){return s.getName(l)===a&&e(l)}}case Bn.SelectorType.Descendant:{if(r.cacheResults===!1||typeof WeakSet>"u")return function(l){for(var p=l;p=s.getParent(p);)if(s.isTag(p)&&e(p))return!0;return!1};var i=new WeakSet;return function(l){for(var p=l;p=s.getParent(p);)if(!i.has(p)){if(s.isTag(p)&&e(p))return!0;i.add(p)}return!1}}case"_flexibleDescendant":return function(l){var p=l;do if(s.isTag(p)&&e(p))return!0;while(p=s.getParent(p));return!1};case Bn.SelectorType.Parent:return function(l){return s.getChildren(l).some(function(p){return s.isTag(p)&&e(p)})};case Bn.SelectorType.Child:return function(l){var p=s.getParent(l);return p!=null&&s.isTag(p)&&e(p)};case Bn.SelectorType.Sibling:return function(l){for(var p=s.getSiblings(l),f=0;f<p.length;f++){var d=p[f];if(o(l,d))break;if(s.isTag(d)&&e(d))return!0}return!1};case Bn.SelectorType.Adjacent:return s.prevElementSibling?function(l){var p=s.prevElementSibling(l);return p!=null&&e(p)}:function(l){for(var p=s.getSiblings(l),f,d=0;d<p.length;d++){var h=p[d];if(o(l,h))break;s.isTag(h)&&(f=h)}return!!f&&e(f)};case Bn.SelectorType.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}Nf.compileGeneralSelector=ZKe;var QKe=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(as,"__esModule",{value:!0});as.compileToken=as.compileUnsafe=as.compile=void 0;var x3=kf,ts=mo,eXe=QKe(N3),tXe=If,rXe=Nf,O_=jf;function nXe(e,t,r){var n=k_(e,t,r);return(0,O_.ensureIsTag)(n,t.adapter)}as.compile=nXe;function k_(e,t,r){var n=typeof e=="string"?(0,x3.parse)(e):e;return R3(n,t,r)}as.compileUnsafe=k_;function I_(e){return e.type==="pseudo"&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(function(t){return t.some(I_)}))}var uXe={type:x3.SelectorType.Descendant},sXe={type:"_flexibleDescendant"},oXe={type:x3.SelectorType.Pseudo,name:"scope",data:null};function aXe(e,t,r){for(var n=t.adapter,u=!!(r!=null&&r.every(function(i){var c=n.isTag(i)&&n.getParent(i);return i===O_.PLACEHOLDER_ELEMENT||c&&n.isTag(c)})),s=0,o=e;s<o.length;s++){var a=o[s];if(!(a.length>0&&(0,tXe.isTraversal)(a[0])&&a[0].type!=="descendant"))if(u&&!a.some(I_))a.unshift(uXe);else continue;a.unshift(oXe)}}function R3(e,t,r){var n;e=e.filter(function(i){return i.length>0}),e.forEach(eXe.default),r=(n=t.context)!==null&&n!==void 0?n:r;var u=Array.isArray(r),s=r&&(Array.isArray(r)?r:[r]);aXe(e,t,s);var o=!1,a=e.map(function(i){if(i.length>=2){var c=i[0],l=i[1];c.type!=="pseudo"||c.name!=="scope"||(u&&l.type==="descendant"?i[1]=sXe:(l.type==="adjacent"||l.type==="sibling")&&(o=!0))}return iXe(i,t,s)}).reduce(cXe,ts.falseFunc);return a.shouldTestNextSiblings=o,a}as.compileToken=R3;function iXe(e,t,r){var n;return e.reduce(function(u,s){return u===ts.falseFunc?ts.falseFunc:(0,rXe.compileGeneralSelector)(u,s,t,r,R3)},(n=t.rootFunc)!==null&&n!==void 0?n:ts.trueFunc)}function cXe(e,t){return t===ts.falseFunc||e===ts.trueFunc?e:e===ts.falseFunc||t===ts.trueFunc?t:function(n){return e(n)||t(n)}}(function(e){var t=we&&we.__createBinding||(Object.create?function(m,y,F,B){B===void 0&&(B=F);var P=Object.getOwnPropertyDescriptor(y,F);(!P||("get"in P?!y.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return y[F]}}),Object.defineProperty(m,B,P)}:function(m,y,F,B){B===void 0&&(B=F),m[B]=y[F]}),r=we&&we.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),n=we&&we.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var F in m)F!=="default"&&Object.prototype.hasOwnProperty.call(m,F)&&t(y,m,F);return r(y,m),y};Object.defineProperty(e,"__esModule",{value:!0}),e.aliases=e.pseudos=e.filters=e.is=e.selectOne=e.selectAll=e.prepareContext=e._compileToken=e._compileUnsafe=e.compile=void 0;var u=n(Mw),s=mo,o=as,a=jf,i=function(m,y){return m===y},c={adapter:u,equals:i};function l(m){var y,F,B,P,$=m??c;return(y=$.adapter)!==null&&y!==void 0||($.adapter=u),(F=$.equals)!==null&&F!==void 0||($.equals=(P=(B=$.adapter)===null||B===void 0?void 0:B.equals)!==null&&P!==void 0?P:i),$}function p(m){return function(F,B,P){var $=l(B);return m(F,$,P)}}e.compile=p(o.compile),e._compileUnsafe=p(o.compileUnsafe),e._compileToken=p(o.compileToken);function f(m){return function(F,B,P){var $=l(P);typeof F!="function"&&(F=(0,o.compileUnsafe)(F,$,B));var I=d(B,$.adapter,F.shouldTestNextSiblings);return m(F,I,$)}}function d(m,y,F){return F===void 0&&(F=!1),F&&(m=h(m,y)),Array.isArray(m)?y.removeSubsets(m):y.getChildren(m)}e.prepareContext=d;function h(m,y){for(var F=Array.isArray(m)?m.slice(0):[m],B=F.length,P=0;P<B;P++){var $=(0,a.getNextSiblings)(F[P],y);F.push.apply(F,$)}return F}e.selectAll=f(function(m,y,F){return m===s.falseFunc||!y||y.length===0?[]:F.adapter.findAll(m,y)}),e.selectOne=f(function(m,y,F){return m===s.falseFunc||!y||y.length===0?null:F.adapter.findOne(m,y)});function E(m,y,F){var B=l(F);return(typeof y=="function"?y:(0,o.compile)(y,B))(m)}e.is=E,e.default=e.selectAll;var A=q3;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return A.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return A.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return A.aliases}})})(jw);var j3={};Object.defineProperty(j3,"__esModule",{value:!0});function lXe(e){return e[e.length-1]}j3.default=lXe;var M3={},pXe=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(M3,"__esModule",{value:!0});var fXe=pXe(fo);function Mf(e){return e&&e.nodeType===fXe.default.ELEMENT_NODE}function N_(e,t){return Mf(e)?e.getAttribute(t):void 0}function dXe(e){return(e&&e.rawTagName||"").toLowerCase()}function Bc(e){return e&&e.childNodes}function L3(e){return e?e.parentNode:null}function DXe(e){return e.text}function hXe(e){for(var t=e.length,r,n,u;--t>-1;){for(r=n=e[t],e[t]=null,u=!0;n;){if(e.indexOf(n)>-1){u=!1,e.splice(t,1);break}n=L3(n)}u&&(e[t]=r)}return e}function q_(e,t){return t.some(function(r){return Mf(r)?e(r)||q_(e,Bc(r)):!1})}function mXe(e){var t=L3(e);return t&&Bc(t)}function EXe(e,t){return N_(e,t)!==void 0}function x_(e,t){for(var r=null,n=0,u=t.length;n<u&&!r;n++){var s=t[n];if(e(s))r=s;else{var o=Bc(s);o&&o.length>0&&(r=x_(e,o))}}return r}function R_(e,t){for(var r=[],n=0,u=t.length;n<u;n++)if(Mf(t[n])){e(t[n])&&r.push(t[n]);var s=Bc(t[n]);s&&(r=r.concat(R_(e,s)))}return r}M3.default={isTag:Mf,getAttributeValue:N_,getName:dXe,getChildren:Bc,getParent:L3,getText:DXe,removeSubsets:hXe,existsOne:q_,getSiblings:mXe,hasAttrib:EXe,findOne:x_,findAll:R_};var U3={};Object.defineProperty(U3,"__esModule",{value:!0});var vXe=function(){function e(t,r){t===void 0&&(t=!1),this.addClosingSlash=t,Array.isArray(r)?this.voidTags=r.reduce(function(n,u){return n.add(u.toLowerCase())},new Set):this.voidTags=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].reduce(function(n,u){return n.add(u)},new Set)}return e.prototype.formatNode=function(t,r,n){var u=this.addClosingSlash,s=u&&r&&!r.endsWith(" ")?" ":"",o=u?"".concat(s,"/"):"";return this.isVoidElement(t.toLowerCase())?"<".concat(t).concat(r).concat(o,">"):"<".concat(t).concat(r,">").concat(n,"</").concat(t,">")},e.prototype.isVoidElement=function(t){return this.voidTags.has(t)},e}();U3.default=vXe;var Lf={},yXe=we&&we.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,u){n.__proto__=u}||function(n,u){for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(n[s]=u[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j_=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lf,"__esModule",{value:!0});var gXe=_3,AXe=j_(Ra),FXe=j_(fo),CXe=function(e){yXe(t,e);function t(r,n,u){var s=e.call(this,n,u)||this;return s.nodeType=FXe.default.TEXT_NODE,s._rawText=r,s}return t.prototype.clone=function(){return new t(this._rawText,null)},Object.defineProperty(t.prototype,"rawText",{get:function(){return this._rawText},set:function(r){this._rawText=r,this._trimmedRawText=void 0,this._trimmedText=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trimmedRawText",{get:function(){return this._trimmedRawText!==void 0?this._trimmedRawText:(this._trimmedRawText=a8(this.rawText),this._trimmedRawText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trimmedText",{get:function(){return this._trimmedText!==void 0?this._trimmedText:(this._trimmedText=a8(this.text),this._trimmedText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return(0,gXe.decode)(this.rawText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWhitespace",{get:function(){return/^(\s|&nbsp;)*$/.test(this.rawText)},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.rawText},t}(AXe.default);Lf.default=CXe;function a8(e){for(var t=0,r,n;t>=0&&t<e.length;)/\S/.test(e[t])&&(r===void 0?(r=t,t=e.length):(n=t,t=void 0)),r===void 0?t++:t--;r===void 0&&(r=0),n===void 0&&(n=e.length-1);var u=r>0&&/[^\S\r\n]/.test(e[r-1]),s=n<e.length-1&&/[^\S\r\n]/.test(e[n+1]);return(u?" ":"")+e.slice(r,n+1)+(s?" ":"")}var bXe=we&&we.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,u){n.__proto__=u}||function(n,u){for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(n[s]=u[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wp=we&&we.__assign||function(){return wp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},wp.apply(this,arguments)},ei=we&&we.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,u=t.length,s;n<u;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},Fs=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.parse=Pu.base_parse=void 0;var f2=jw,SXe=Fs(_3),ra=Fs(j3),d2=Fs(M3),M_=Fs(U3),wXe=Fs(wf),D2=Fs(Ra),na=Fs(Lf),Yn=Fs(fo);function ti(e){return JSON.parse(JSON.stringify(SXe.default.decode(e)))}var _Xe=["h1","h2","h3","h4","h5","h6","header","hgroup"],BXe=["details","dialog","dd","div","dt"],TXe=["fieldset","figcaption","figure","footer","form"],$Xe=["table","td","tr"],PXe=["address","article","aside","blockquote","br","hr","li","main","nav","ol","p","pre","section","ul"],$h=new Set;function OXe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=function(o){for(var a=0;a<o.length;a++){var i=o[a];$h.add(i),$h.add(i.toUpperCase())}},n=0,u=e;n<u.length;n++){var s=u[n];r(s)}}OXe(_Xe,BXe,TXe,$Xe,PXe);var kXe=function(){function e(t,r){t===void 0&&(t=[]),r===void 0&&(r=function(){return null}),this._set=new Set(t),this._afterUpdate=r}return e.prototype._validate=function(t){if(/\s/.test(t))throw new Error("DOMException in DOMTokenList.add: The token '".concat(t,"' contains HTML space characters, which are not valid in tokens."))},e.prototype.add=function(t){this._validate(t),this._set.add(t),this._afterUpdate(this)},e.prototype.replace=function(t,r){this._validate(r),this._set.delete(t),this._set.add(r),this._afterUpdate(this)},e.prototype.remove=function(t){this._set.delete(t)&&this._afterUpdate(this)},e.prototype.toggle=function(t){this._validate(t),this._set.has(t)?this._set.delete(t):this._set.add(t),this._afterUpdate(this)},e.prototype.contains=function(t){return this._set.has(t)},Object.defineProperty(e.prototype,"length",{get:function(){return this._set.size},enumerable:!1,configurable:!0}),e.prototype.values=function(){return this._set.values()},Object.defineProperty(e.prototype,"value",{get:function(){return Array.from(this._set.values())},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return Array.from(this._set.values()).join(" ")},e}(),Ph=function(e){bXe(t,e);function t(r,n,u,s,o,a){u===void 0&&(u=""),a===void 0&&(a=new M_.default);var i=e.call(this,s,o)||this;if(i.rawAttrs=u,i.voidTag=a,i.nodeType=Yn.default.ELEMENT_NODE,i.rawTagName=r,i.rawAttrs=u||"",i.id=n.id||"",i.childNodes=[],i.classList=new kXe(n.class?n.class.split(/\s+/):[],function(l){return i.setAttribute("class",l.toString())}),n.id&&(u||(i.rawAttrs='id="'.concat(n.id,'"'))),n.class&&!u){var c='class="'.concat(i.classList.toString(),'"');i.rawAttrs?i.rawAttrs+=" ".concat(c):i.rawAttrs=c}return i}return t.prototype.quoteAttribute=function(r){return r==null?"null":JSON.stringify(r.replace(/"/g,"&quot;"))},t.prototype.removeChild=function(r){return this.childNodes=this.childNodes.filter(function(n){return n!==r}),this},t.prototype.exchangeChild=function(r,n){var u=this.childNodes;return this.childNodes=u.map(function(s){return s===r?n:s}),this},Object.defineProperty(t.prototype,"tagName",{get:function(){return this.rawTagName?this.rawTagName.toUpperCase():this.rawTagName},set:function(r){this.rawTagName=r.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.rawTagName.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVoidElement",{get:function(){return this.voidTag.isVoidElement(this.localName)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawText",{get:function(){return this.childNodes.reduce(function(r,n){return r+=n.rawText},"")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textContent",{get:function(){return ti(this.rawText)},set:function(r){var n=[new na.default(r,this)];this.childNodes=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return ti(this.rawText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"structuredText",{get:function(){var r=[],n=[r];function u(s){if(s.nodeType===Yn.default.ELEMENT_NODE)$h.has(s.rawTagName)?(r.length>0&&n.push(r=[]),s.childNodes.forEach(u),r.length>0&&n.push(r=[])):s.childNodes.forEach(u);else if(s.nodeType===Yn.default.TEXT_NODE)if(s.isWhitespace)r.prependWhitespace=!0;else{var o=s.trimmedText;r.prependWhitespace&&(o=" ".concat(o),r.prependWhitespace=!1),r.push(o)}}return u(this),n.map(function(s){return s.join("").replace(/\s{2,}/g," ")}).join(`
`).replace(/\s+$/,"")},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var r=this.rawTagName;if(r){var n=this.rawAttrs?" ".concat(this.rawAttrs):"";return this.voidTag.formatNode(r,n,this.innerHTML)}return this.innerHTML},Object.defineProperty(t.prototype,"innerHTML",{get:function(){return this.childNodes.map(function(r){return r.toString()}).join("")},set:function(r){var n=Xo(r),u=n.childNodes.length?n.childNodes:[new na.default(r,this)];vu(u,this),vu(this.childNodes,null),this.childNodes=u},enumerable:!1,configurable:!0}),t.prototype.set_content=function(r,n){if(n===void 0&&(n={}),r instanceof D2.default)r=[r];else if(typeof r=="string"){var u=Xo(r,n);r=u.childNodes.length?u.childNodes:[new na.default(r,this)]}return vu(this.childNodes,null),vu(r,this),this.childNodes=r,this},t.prototype.replaceWith=function(){for(var r=this,n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];var s=this.parentNode,o=n.map(function(i){if(i instanceof D2.default)return[i];if(typeof i=="string"){var c=Xo(i);return c.childNodes.length?c.childNodes:[new na.default(i,r)]}return[]}).flat(),a=s.childNodes.findIndex(function(i){return i===r});vu([this],null),s.childNodes=ei(ei(ei([],s.childNodes.slice(0,a),!0),vu(o,s),!0),s.childNodes.slice(a+1),!0)},Object.defineProperty(t.prototype,"outerHTML",{get:function(){return this.toString()},enumerable:!1,configurable:!0}),t.prototype.trimRight=function(r){for(var n=0;n<this.childNodes.length;n++){var u=this.childNodes[n];if(u.nodeType===Yn.default.ELEMENT_NODE)u.trimRight(r);else{var s=u.rawText.search(r);s>-1&&(u.rawText=u.rawText.substr(0,s),this.childNodes.length=n+1)}}return this},Object.defineProperty(t.prototype,"structure",{get:function(){var r=[],n=0;function u(o){r.push("  ".repeat(n)+o)}function s(o){var a=o.id?"#".concat(o.id):"",i=o.classList.length?".".concat(o.classList.value.join(".")):"";u("".concat(o.rawTagName).concat(a).concat(i)),n++,o.childNodes.forEach(function(c){c.nodeType===Yn.default.ELEMENT_NODE?s(c):c.nodeType===Yn.default.TEXT_NODE&&(c.isWhitespace||u("#text"))}),n--}return s(this),r.join(`
`)},enumerable:!1,configurable:!0}),t.prototype.removeWhitespace=function(){var r=this,n=0;return this.childNodes.forEach(function(u){if(u.nodeType===Yn.default.TEXT_NODE){if(u.isWhitespace)return;u.rawText=u.trimmedRawText}else u.nodeType===Yn.default.ELEMENT_NODE&&u.removeWhitespace();r.childNodes[n++]=u}),this.childNodes.length=n,this},t.prototype.querySelectorAll=function(r){return(0,f2.selectAll)(r,this,{xmlMode:!0,adapter:d2.default})},t.prototype.querySelector=function(r){return(0,f2.selectOne)(r,this,{xmlMode:!0,adapter:d2.default})},t.prototype.getElementsByTagName=function(r){for(var n=r.toUpperCase(),u=[],s=[],o=this,a=0;a!==void 0;){var i=void 0;do i=o.childNodes[a++];while(a<o.childNodes.length&&i===void 0);if(i===void 0){o=o.parentNode,a=s.pop();continue}i.nodeType===Yn.default.ELEMENT_NODE&&((r==="*"||i.tagName===n)&&u.push(i),i.childNodes.length>0&&(s.push(a),o=i,a=0))}return u},t.prototype.getElementById=function(r){for(var n=[],u=this,s=0;s!==void 0;){var o=void 0;do o=u.childNodes[s++];while(s<u.childNodes.length&&o===void 0);if(o===void 0){u=u.parentNode,s=n.pop();continue}if(o.nodeType===Yn.default.ELEMENT_NODE){if(o.id===r)return o;o.childNodes.length>0&&(n.push(s),u=o,s=0)}}return null},t.prototype.closest=function(r){var n=new Map,u=this,s=null;function o(i,c){for(var l=null,p=0,f=c.length;p<f&&!l;p++){var d=c[p];if(i(d))l=d;else{var h=n.get(d);h&&(l=o(i,[h]))}}return l}for(;u;)n.set(u,s),s=u,u=u.parentNode;for(u=this;u;){var a=(0,f2.selectOne)(r,u,{xmlMode:!0,adapter:wp(wp({},d2.default),{getChildren:function(i){var c=n.get(i);return c&&[c]},getSiblings:function(i){return[i]},findOne:o,findAll:function(){return[]}})});if(a)return a;u=u.parentNode}return null},t.prototype.appendChild=function(r){return r.remove(),this.childNodes.push(r),r.parentNode=this,r},Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.childNodes[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return(0,ra.default)(this.childNodes)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attrs",{get:function(){if(this._attrs)return this._attrs;this._attrs={};var r=this.rawAttributes;for(var n in r){var u=r[n]||"";this._attrs[n.toLowerCase()]=ti(u)}return this._attrs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var r={},n=this.rawAttributes;for(var u in n){var s=n[u]||"";r[u]=ti(s)}return r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawAttributes",{get:function(){if(this._rawAttrs)return this._rawAttrs;var r={};if(this.rawAttrs)for(var n=/([a-zA-Z()[\]#@][a-zA-Z0-9-_:()[\]#]*)(?:\s*=\s*((?:'[^']*')|(?:"[^"]*")|\S+))?/g,u=void 0;u=n.exec(this.rawAttrs);){var s=u[1],o=u[2]||null;o&&(o[0]==="'"||o[0]==='"')&&(o=o.slice(1,o.length-1)),r[s]=o}return this._rawAttrs=r,r},enumerable:!1,configurable:!0}),t.prototype.removeAttribute=function(r){var n=this.rawAttributes;return delete n[r],this._attrs&&delete this._attrs[r],this.rawAttrs=Object.keys(n).map(function(u){var s=JSON.stringify(n[u]);return s===void 0||s==="null"?u:"".concat(u,"=").concat(s)}).join(" "),r==="id"&&(this.id=""),this},t.prototype.hasAttribute=function(r){return r.toLowerCase()in this.attrs},t.prototype.getAttribute=function(r){return this.attrs[r.toLowerCase()]},t.prototype.setAttribute=function(r,n){var u=this;if(arguments.length<2)throw new Error("Failed to execute 'setAttribute' on 'Element'");var s=r.toLowerCase(),o=this.rawAttributes;for(var a in o)if(a.toLowerCase()===s){r=a;break}o[r]=String(n),this._attrs&&(this._attrs[s]=ti(o[r])),this.rawAttrs=Object.keys(o).map(function(i){var c=u.quoteAttribute(o[i]);return c==="null"||c==='""'?i:"".concat(i,"=").concat(c)}).join(" "),r==="id"&&(this.id=n)},t.prototype.setAttributes=function(r){var n=this;return this._attrs&&delete this._attrs,this._rawAttrs&&delete this._rawAttrs,this.rawAttrs=Object.keys(r).map(function(u){var s=r[u];return s==="null"||s==='""'?u:"".concat(u,"=").concat(n.quoteAttribute(String(s)))}).join(" "),this},t.prototype.insertAdjacentHTML=function(r,n){var u,s,o,a=this;if(arguments.length<2)throw new Error("2 arguments required");var i=Xo(n);if(r==="afterend"){var c=this.parentNode.childNodes.findIndex(function(l){return l===a});vu(i.childNodes,this.parentNode),(u=this.parentNode.childNodes).splice.apply(u,ei([c+1,0],i.childNodes,!1))}else if(r==="afterbegin")vu(i.childNodes,this),(s=this.childNodes).unshift.apply(s,i.childNodes);else if(r==="beforeend")i.childNodes.forEach(function(l){a.appendChild(l)});else if(r==="beforebegin"){var c=this.parentNode.childNodes.findIndex(function(p){return p===a});vu(i.childNodes,this.parentNode),(o=this.parentNode.childNodes).splice.apply(o,ei([c,0],i.childNodes,!1))}else throw new Error("The value provided ('".concat(r,"') is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'"));return this},Object.defineProperty(t.prototype,"nextSibling",{get:function(){if(this.parentNode){for(var r=this.parentNode.childNodes,n=0;n<r.length;){var u=r[n++];if(this===u)return r[n]||null}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextElementSibling",{get:function(){if(this.parentNode){for(var r=this.parentNode.childNodes,n=0,u=!1;n<r.length;){var s=r[n++];if(u){if(s instanceof t)return s||null}else this===s&&(u=!0)}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){if(this.parentNode){for(var r=this.parentNode.childNodes,n=r.length;n>0;){var u=r[--n];if(this===u)return r[n-1]||null}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousElementSibling",{get:function(){if(this.parentNode){for(var r=this.parentNode.childNodes,n=r.length,u=!1;n>0;){var s=r[--n];if(u){if(s instanceof t)return s||null}else this===s&&(u=!0)}return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classNames",{get:function(){return this.classList.toString()},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return Xo(this.toString()).firstChild},t}(D2.default);Pu.default=Ph;var Eu=/<!--[\s\S]*?-->|<(\/?)([a-zA-Z][-.:0-9_a-zA-Z]*)((?:\s+[^>]*?(?:(?:'[^']*')|(?:"[^"]*"))?)*)\s*(\/?)>/g,IXe=/(?:^|\s)(id|class)\s*=\s*((?:'[^']*')|(?:"[^"]*")|\S+)/gi,NXe={area:!0,AREA:!0,base:!0,BASE:!0,br:!0,BR:!0,col:!0,COL:!0,hr:!0,HR:!0,img:!0,IMG:!0,input:!0,INPUT:!0,link:!0,LINK:!0,meta:!0,META:!0,source:!0,SOURCE:!0,embed:!0,EMBED:!0,param:!0,PARAM:!0,track:!0,TRACK:!0,wbr:!0,WBR:!0},i8={li:{li:!0,LI:!0},LI:{li:!0,LI:!0},p:{p:!0,div:!0,P:!0,DIV:!0},P:{p:!0,div:!0,P:!0,DIV:!0},b:{div:!0,DIV:!0},B:{div:!0,DIV:!0},td:{td:!0,th:!0,TD:!0,TH:!0},TD:{td:!0,th:!0,TD:!0,TH:!0},th:{td:!0,th:!0,TD:!0,TH:!0},TH:{td:!0,th:!0,TD:!0,TH:!0},h1:{h1:!0,H1:!0},H1:{h1:!0,H1:!0},h2:{h2:!0,H2:!0},H2:{h2:!0,H2:!0},h3:{h3:!0,H3:!0},H3:{h3:!0,H3:!0},h4:{h4:!0,H4:!0},H4:{h4:!0,H4:!0},h5:{h5:!0,H5:!0},H5:{h5:!0,H5:!0},h6:{h6:!0,H6:!0},H6:{h6:!0,H6:!0}},c8={li:{ul:!0,ol:!0,UL:!0,OL:!0},LI:{ul:!0,ol:!0,UL:!0,OL:!0},a:{div:!0,DIV:!0},A:{div:!0,DIV:!0},b:{div:!0,DIV:!0},B:{div:!0,DIV:!0},i:{div:!0,DIV:!0},I:{div:!0,DIV:!0},p:{div:!0,DIV:!0},P:{div:!0,DIV:!0},td:{tr:!0,table:!0,TR:!0,TABLE:!0},TD:{tr:!0,table:!0,TR:!0,TABLE:!0},th:{tr:!0,table:!0,TR:!0,TABLE:!0},TH:{tr:!0,table:!0,TR:!0,TABLE:!0}},ri="documentfragmentcontainer";function L_(e,t){var r,n;t===void 0&&(t={lowerCaseTagName:!1,comment:!1});var u=new M_.default((r=t==null?void 0:t.voidTag)===null||r===void 0?void 0:r.closingSlash,(n=t==null?void 0:t.voidTag)===null||n===void 0?void 0:n.tags),s=t.blockTextElements||{script:!0,noscript:!0,style:!0,pre:!0},o=Object.keys(s),a=o.map(function(g){return new RegExp("^".concat(g,"$"),"i")}),i=o.filter(function(g){return s[g]}).map(function(g){return new RegExp("^".concat(g,"$"),"i")});function c(g){return i.some(function(O){return O.test(g)})}function l(g){return a.some(function(O){return O.test(g)})}var p=function(g,O){return[g-B,O-B]},f=new Ph(null,{},"",null,[0,e.length],u),d=f,h=[f],E=-1,A=void 0,m;e="<".concat(ri,">").concat(e,"</").concat(ri,">");for(var y=t.lowerCaseTagName,F=e.length-(ri.length+2),B=ri.length+2;m=Eu.exec(e);){var P=m[0],$=m[1],I=m[2],U=m[3],j=m[4],W=P.length,te=Eu.lastIndex-W,Y=Eu.lastIndex;if(E>-1&&E+W<Y){var oe=e.substring(E,te);d.appendChild(new na.default(oe,d,p(E,te)))}if(E=Eu.lastIndex,I!==ri){if(P[1]==="!"){if(t.comment){var oe=e.substring(te+4,Y-3);d.appendChild(new wXe.default(oe,d,p(te,Y)))}continue}if(y&&(I=I.toLowerCase()),!$){for(var ie={},fe=void 0;fe=IXe.exec(U);){var De=fe[1],de=fe[2],Ce=de[0]==="'"||de[0]==='"';ie[De.toLowerCase()]=Ce?de.slice(1,de.length-1):de}var pe=d.rawTagName;!j&&i8[pe]&&i8[pe][I]&&(h.pop(),d=(0,ra.default)(h)),(I==="a"||I==="A")&&(A!==void 0&&(h.splice(A),d=(0,ra.default)(h)),A=h.length);var Q=Eu.lastIndex,q=Q-W;if(d=d.appendChild(new Ph(I,ie,U.slice(1),null,p(q,Q),u)),h.push(d),l(I)){var v="</".concat(I,">"),C=y?e.toLocaleLowerCase().indexOf(v,Eu.lastIndex):e.indexOf(v,Eu.lastIndex),D=C===-1?F:C;if(c(I)){var oe=e.substring(Q,D);oe.length>0&&/\S/.test(oe)&&d.appendChild(new na.default(oe,d,p(Q,D)))}C===-1?E=Eu.lastIndex=e.length+1:(E=Eu.lastIndex=C+v.length,$="/")}}if($||j||NXe[I])for(;;)if((I==="a"||I==="A")&&(A=void 0),d.rawTagName===I){d.range[1]=p(-1,Math.max(E,Y))[1],h.pop(),d=(0,ra.default)(h);break}else{var pe=d.tagName;if(c8[pe]&&c8[pe][I]){h.pop(),d=(0,ra.default)(h);continue}break}}}return h}Pu.base_parse=L_;function Xo(e,t){t===void 0&&(t={lowerCaseTagName:!1,comment:!1});for(var r=L_(e,t),n=r[0],u=function(){var s=r.pop(),o=(0,ra.default)(r);s.parentNode&&s.parentNode.parentNode&&(s.parentNode===o&&s.tagName===o.tagName?t.parseNoneClosedTags!==!0&&(o.removeChild(s),s.childNodes.forEach(function(a){o.parentNode.appendChild(a)}),r.pop()):t.parseNoneClosedTags!==!0&&(o.removeChild(s),s.childNodes.forEach(function(a){o.appendChild(a)})))};r.length>1;)u();return n}Pu.parse=Xo;function vu(e,t){return e.map(function(r){return r.parentNode=t,r})}var U_={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Pu;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.parse}})})(U_);var G3={};Object.defineProperty(G3,"__esModule",{value:!0});var qXe=Pu;function xXe(e,t){t===void 0&&(t={lowerCaseTagName:!1,comment:!1});var r=(0,qXe.base_parse)(e,t);return r.length===1}G3.default=xXe;var Eo=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Er,"__esModule",{value:!0});Er.NodeType=Er.TextNode=Er.Node=Er.valid=Er.CommentNode=Er.HTMLElement=Er.parse=void 0;var G_=Eo(wf);Er.CommentNode=G_.default;var V_=Eo(Pu);Er.HTMLElement=V_.default;var H_=Eo(Ra);Er.Node=H_.default;var W_=Eo(Lf);Er.TextNode=W_.default;var J_=Eo(fo);Er.NodeType=J_.default;var z_=Eo(U_),K_=Eo(G3);Er.valid=K_.default;function qu(e,t){return t===void 0&&(t={lowerCaseTagName:!1,comment:!1}),(0,z_.default)(e,t)}Er.default=qu;Er.parse=qu;qu.parse=z_.default;qu.HTMLElement=V_.default;qu.CommentNode=G_.default;qu.valid=K_.default;qu.Node=H_.default;qu.TextNode=W_.default;qu.NodeType=J_.default;Object.defineProperty(Sf,"__esModule",{value:!0});Sf.default=void 0;var RXe=Er,jXe=X_(S3),MXe=X_(w3),LXe=["subtype-ns","subtype"];function X_(e){return e&&e.__esModule?e:{default:e}}function l8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(r),!0).forEach(function(n){UXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UXe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GXe(e,t){if(e==null)return{};var r=VXe(e,t),n,u;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(u=0;u<s.length;u++)n=s[u],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VXe(e,t){if(e==null)return{};var r={},n=Object.keys(e),u,s;for(s=0;s<n.length;s++)u=n[s],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}var HXe=1,WXe=3,Y_=[],JXe=()=>MXe.default.encode(new jXe.default(4)).substring(0,12),zXe=e=>{var t={};return e.forEach(r=>{var n=JXe();t[n]={type:r.subtype,blocks:r.content||[]},r.target=n,delete r.content,delete r.new}),t},KXe=e=>{var t=e.attributes;return t.length?[...t].reduce((r,n)=>(r[n.name]=n.value,r),{}):typeof t=="object"&&t},XXe=e=>e.replace(/[A-Z]/g,t=>"-".concat(t.toLowerCase())),YXe=e=>Object.keys(e).reduce((t,r)=>{var n=XXe(r);return t[n]=e[r],t},{}),ZXe=e=>e==="true"?!0:e==="false"?!1:e,QXe=function(t){var r=Object.keys(t).reduce((n,u)=>(n[u]=ZXe(t[u]),n),{});return r},Z_=e=>{var t=r=>{var n=r.dataset;if(n)return YXe(n);var u=KXe(r);return u&&Object.keys(u).reduce((s,o)=>{var a=o.match(new RegExp("(?<=data-).+"));return a&&(s[a]=u[o]),s},{})};return QXe(t(e))},eYe=e=>{var t=Z_(e),{"subtype-ns":r,subtype:n}=t,u=GXe(t,LXe),s={subtype:r?"".concat(r,":").concat(n):n},o=u&&Object.keys(u).reduce((a,i)=>{var c=i.match(new RegExp("(?<=atts-).+"));return c?(a.atts||(a.atts={}),a.atts[c]=u[i]):a[i]=u[i],a},{});return io(io({},o),s)},p8=e=>{var t=[];for(var r of e.childNodes){if(r.nodeType===WXe){t.push(r.textContent);continue}r.getAttribute("class")!=="meta-content"&&t.push(V3(r))}return t},tYe=e=>{if(e.hasAttribute("data-atts-number"))return{};var t=e.querySelector(":scope > .meta-content");return io({content:p8(e)||[]},t&&{meta_content:p8(t)||[]})},V3=e=>{var t=eYe(e),r=["paragraph"].includes(t.type)&&{content:[]},n=io(io({},t),e.childNodes.length?tYe(e):r);return t.type==="graft"&&t.new&&Y_.push(n),n},rYe=e=>Array.from(e,t=>V3(t)),nYe=e=>e.reduce((t,r)=>(r.nodeType!==HXe||t.push(V3(r)),t),[]),uYe=e=>typeof e.children=="object"?rYe(e.children):nYe(e.childNodes),sYe=e=>typeof DOMParser=="function"?new DOMParser().parseFromString(e,"text/html"):(0,RXe.parse)(e);function oYe(e,t){var r=sYe(e.sequencesHtml[t]),n=r.getElementById(t),u=Z_(n),s=io(io({},u),{},{blocks:uYe(n)}),o=zXe(Y_);return{perfSequence:s,newSequences:o}}var aYe=oYe;Sf.default=aYe;Object.defineProperty(yE,"__esModule",{value:!0});var Q_=yE.default=void 0,iYe=H3(Qp),cYe=H3(Cf),lYe=H3(Sf);function H3(e){return e&&e.__esModule?e:{default:e}}function f8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(r),!0).forEach(function(n){pYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pYe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e,t,r,n,u,s,o){try{var a=e[s](o),i=a.value}catch(c){r(c);return}a.done?t(i):Promise.resolve(i).then(n,u)}function gl(e){return function(){var t=this,r=arguments;return new Promise(function(n,u){var s=e.apply(t,r);function o(i){d8(s,n,u,o,a,"next",i)}function a(i){d8(s,n,u,o,a,"throw",i)}o(void 0)})}}class fYe extends iYe.default{constructor(t){var{proskomma:r=null,docSetId:n,htmlMap:u,options:s={}}=t;super({proskomma:r,docSetId:n,options:s}),this.htmlMap=u}_outputHtml(t){var r=Object.keys(t.sequences).reduce((n,u)=>(n[u]=(0,cYe.default)(t,u,this.htmlMap),n),{});return{docSetId:this.docSetId,mainSequenceId:t.main_sequence_id,schema:t.schema,metadata:t.metadata,sequencesHtml:r}}readHtml(t){var r=arguments,n=this;return gl(function*(){var u=r.length>1&&r[1]!==void 0?r[1]:{};return n._outputHtml(yield n.readPerf(t,yu(yu({},u),{},{cloning:!1})))})()}undoHtml(t){var r=arguments,n=this;return gl(function*(){var u=r.length>1&&r[1]!==void 0?r[1]:{};return n._outputHtml(yield n.undoPerf(t,yu(yu({},u),{},{cloning:!1})))})()}redoHtml(t){var r=arguments,n=this;return gl(function*(){var u=r.length>1&&r[1]!==void 0?r[1]:{};return n._outputHtml(yield n.redoPerf(t,yu(yu({},u),{},{cloning:!1})))})()}writeHtml(t,r,n){var u=arguments,s=this;return gl(function*(){var o=u.length>3&&u[3]!==void 0?u[3]:{},{writePipeline:a,readPipeline:i,insertSequences:c}=o,{perfSequence:l,newSequences:p}=(0,lYe.default)(n,r),f=s.history[t],d=Object.entries(p),h=!!d.length;if(h){d.forEach(A=>{var[m,y]=A,F=s.validator.validate("constraint","perfSequence","0.3.0",y);if(!F.isValid)throw"PERF sequence  ".concat(m," for ").concat(t," is not valid: ").concat(JSON.stringify(F))});var E=yu({},s.getDocument(t,!1));E.sequences=yu(yu({},E.sequences),p),f.stack.unshift({perfDocument:E})}try{yield s.writePerf(t,r,l,{writePipeline:a,cloning:!1})}catch(A){throw h&&f.stack.shift(),new Error(A.message)}return h&&f.stack.splice(1,1),yield s.readHtml(t,{readPipeline:i})})()}}var dYe=fYe;Q_=yE.default=dYe;function DYe({perf:e,bookId:t}){const[r,n]=Et.useState(),[u,s]=Et.useState(!1),[o,a]=Et.useState(),i=g7(()=>new Q_({proskomma:void 0,docSetId:"xxxXXX",htmlMap:el,options:{historySize:100}}),[]);fp(()=>{async function A(){await i.sideloadPerf(t,e),s(!0)}i&&t&&e&&A()},[i,e,t]),fp(()=>{i&&t&&u&&el&&i.readHtml(t,{cloning:!1},el).then(A=>{n(A)})},[i,t,u]);const c=async A=>{const m=await(i==null?void 0:i.readUsfm(A));a(m),i==null||i.readHtml(A,{cloning:!1},el).then(y=>{n(y)})},l=async()=>{const A=await(i==null?void 0:i.undoHtml(t));n(A)},p=async()=>{const A=await(i==null?void 0:i.redoHtml(t));n(A)},f=(i==null?void 0:i.canUndo)&&(i==null?void 0:i.canUndo(t))||!1,d=(i==null?void 0:i.canRedo)&&(i==null?void 0:i.canRedo(t))||!1;return{htmlPerf:r,setHtmlPerf:n,ready:u,actions:{exportUsfm:c,undo:l,redo:p},state:{bookId:t,htmlPerf:r,canUndo:f,canRedo:d,usfmText:o}}}const hYe=(e,t)=>{const r=document.getElementById(`ch${e}v${t}`);r==null||r.scrollIntoView({behavior:"smooth"})};function mYe(){const[e,t]=Et.useState(""),{perf:r,id:n,docSetId:u,chapter:s}=KK({scrollToChapter:hYe,bookCode:e,setBookCode:t}),{state:o,actions:a}=Et.useContext(m8),{htmlPerf:i,ready:c,state:l,actions:p}=DYe({perf:r,bookId:n,docSetId:u});Et.useEffect(()=>{Oh.setMessageListeners(d=>{switch(d.data.type){case h8.SCROLL_TO_CHAPTER:{console.log("scroll to chapter received",d.data.payload);const h=document.getElementById(`ch-${d.data.payload.chapter}`);h==null||h.scrollIntoView({behavior:"smooth"}),console.log("chapterElement",h)}break}})},[s]),fp(()=>{i&&i.mainSequenceId!==o.sequenceIds[0]&&a.setSequenceIds([i==null?void 0:i.mainSequenceId])},[i,o.sequenceIds,n]);const f={...o,...l,...a,...p,htmlPerf:i,ready:c};return xt.jsx("div",{className:"layout",children:xt.jsx("div",{className:"flex m-3 gap-2",children:xt.jsx(hZ,{...f})})})}function EYe(){return xt.jsx("div",{className:"App",children:xt.jsx(AB,{children:xt.jsx(yB,{children:xt.jsx(mYe,{})})})})}gB.render(xt.jsx(Gi.StrictMode,{children:xt.jsx(EYe,{})}),document.getElementById("root"));
