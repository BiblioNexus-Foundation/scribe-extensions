import{r as y,j as a,a as t,k as m,v as p,M as o,l as S,V as N}from"../index.js";import{m as C}from"../markdownToHTML.js";import"../marked.esm.js";const D=()=>{const{taDirectories:c,taSubDirectories:n,taContent:d}=_(),[i,u]=t.useState(c[0]??""),[l,s]=t.useState(n[0]??"");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6 justify-center",children:[a.jsx(m,{value:i,onChange:e=>{var r,T;p.postMessage({type:o.GET_TA_FOLDER_CONTENT,payload:(r=e.target)==null?void 0:r.value}),u((T=e.target)==null?void 0:T.value)},className:"w-fit",children:c.map(e=>a.jsx(S,{className:"w-full",children:e},e))}),a.jsx(m,{onChange:e=>{var r;s((r=e.target)==null?void 0:r.value)},value:l,className:"w-fit",children:n.map(e=>a.jsx(S,{className:"w-full",children:e},e))}),a.jsx(N,{appearance:"primary",onClick:()=>p.postMessage({type:o.GET_TA_CONTENT,payload:{directory:i,subDirectory:l}}),children:"View"})]}),a.jsx("div",{className:"prose-base",dangerouslySetInnerHTML:{__html:C(d??"")}})]})};y(a.jsx(D,{}));const _=()=>{const[c,n]=t.useState([]),[d,i]=t.useState([]),[u,l]=t.useState(null);return t.useEffect(()=>{p.setMessageListeners(s=>{switch(s.data.type){case o.SYNC_TA_FOLDERS:n(s.data.payload??[]);break;case o.SYNC_TA_FOLDER_CONTENT:i(s.data.payload??[]);break;case o.SYNC_TA_CONTENT:l(s.data.payload);break}})},[]),{taDirectories:c,taSubDirectories:d,taContent:u}};
